const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-C_uVmRAX.js","assets/index-CH36oZhX.js","assets/index-CG8vT9cr.js","assets/index-ZD5zo2mB.js","assets/index-DMeEMnP6.js","assets/index-C1fYQ4gV.js","assets/index-DwXOSSl9.js","assets/index-oT0iW9Pp.js","assets/index-EgiJiVsn.js","assets/index-CQGWMele.js","assets/index-D3sqHzUC.js","assets/index-CcxiukFw.js","assets/index-D4zj7sM2.js","assets/index-CpbJ3QfP.js","assets/index-ChYaissE.js","assets/index-D-AFqzxj.js","assets/index-DlUrENco.js","assets/index-cP1tlfen.js","assets/index-Cji35-vZ.js","assets/dockerfile-BuNIbK2j.js","assets/simple-mode-C4Nsj8zu.js","assets/factor-D8pE9siL.js","assets/nsis-CEAdamBV.js","assets/pug-BmUsPMDj.js","assets/javascript-iSgyE4tI.js","assets/index-CO5WWHMz.js","assets/index-DwKlgCrF.js"])))=>i.map(i=>d[i]);
function H7(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var ot=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ly(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function FG(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var U7={exports:{}},cy={},W7={exports:{}},lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rm=Symbol.for("react.element"),BG=Symbol.for("react.portal"),VG=Symbol.for("react.fragment"),jG=Symbol.for("react.strict_mode"),zG=Symbol.for("react.profiler"),$G=Symbol.for("react.provider"),HG=Symbol.for("react.context"),UG=Symbol.for("react.forward_ref"),WG=Symbol.for("react.suspense"),qG=Symbol.for("react.memo"),KG=Symbol.for("react.lazy"),M3=Symbol.iterator;function GG(t){return t===null||typeof t!="object"?null:(t=M3&&t[M3]||t["@@iterator"],typeof t=="function"?t:null)}var q7={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K7=Object.assign,G7={};function zd(t,e,n){this.props=t,this.context=e,this.refs=G7,this.updater=n||q7}zd.prototype.isReactComponent={};zd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};zd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function J7(){}J7.prototype=zd.prototype;function mk(t,e,n){this.props=t,this.context=e,this.refs=G7,this.updater=n||q7}var gk=mk.prototype=new J7;gk.constructor=mk;K7(gk,zd.prototype);gk.isPureReactComponent=!0;var N3=Array.isArray,Q7=Object.prototype.hasOwnProperty,xk={current:null},X7={key:!0,ref:!0,__self:!0,__source:!0};function Y7(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)Q7.call(e,r)&&!X7.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:rm,type:t,key:o,ref:s,props:i,_owner:xk.current}}function JG(t,e){return{$$typeof:rm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function vk(t){return typeof t=="object"&&t!==null&&t.$$typeof===rm}function QG(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var O3=/\/+/g;function hw(t,e){return typeof t=="object"&&t!==null&&t.key!=null?QG(""+t.key):e.toString(36)}function I1(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case rm:case BG:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+hw(s,0):r,N3(i)?(n="",t!=null&&(n=t.replace(O3,"$&/")+"/"),I1(i,e,n,"",function(c){return c})):i!=null&&(vk(i)&&(i=JG(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(O3,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",N3(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+hw(o,a);s+=I1(o,e,n,l,i)}else if(l=GG(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+hw(o,a++),s+=I1(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function vg(t,e,n){if(t==null)return t;var r=[],i=0;return I1(t,r,"","",function(o){return e.call(n,o,i++)}),r}function XG(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ri={current:null},R1={transition:null},YG={ReactCurrentDispatcher:ri,ReactCurrentBatchConfig:R1,ReactCurrentOwner:xk};function Z7(){throw Error("act(...) is not supported in production builds of React.")}lt.Children={map:vg,forEach:function(t,e,n){vg(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return vg(t,function(){e++}),e},toArray:function(t){return vg(t,function(e){return e})||[]},only:function(t){if(!vk(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};lt.Component=zd;lt.Fragment=VG;lt.Profiler=zG;lt.PureComponent=mk;lt.StrictMode=jG;lt.Suspense=WG;lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YG;lt.act=Z7;lt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=K7({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=xk.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Q7.call(e,l)&&!X7.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:rm,type:t.type,key:i,ref:o,props:r,_owner:s}};lt.createContext=function(t){return t={$$typeof:HG,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:$G,_context:t},t.Consumer=t};lt.createElement=Y7;lt.createFactory=function(t){var e=Y7.bind(null,t);return e.type=t,e};lt.createRef=function(){return{current:null}};lt.forwardRef=function(t){return{$$typeof:UG,render:t}};lt.isValidElement=vk;lt.lazy=function(t){return{$$typeof:KG,_payload:{_status:-1,_result:t},_init:XG}};lt.memo=function(t,e){return{$$typeof:qG,type:t,compare:e===void 0?null:e}};lt.startTransition=function(t){var e=R1.transition;R1.transition={};try{t()}finally{R1.transition=e}};lt.unstable_act=Z7;lt.useCallback=function(t,e){return ri.current.useCallback(t,e)};lt.useContext=function(t){return ri.current.useContext(t)};lt.useDebugValue=function(){};lt.useDeferredValue=function(t){return ri.current.useDeferredValue(t)};lt.useEffect=function(t,e){return ri.current.useEffect(t,e)};lt.useId=function(){return ri.current.useId()};lt.useImperativeHandle=function(t,e,n){return ri.current.useImperativeHandle(t,e,n)};lt.useInsertionEffect=function(t,e){return ri.current.useInsertionEffect(t,e)};lt.useLayoutEffect=function(t,e){return ri.current.useLayoutEffect(t,e)};lt.useMemo=function(t,e){return ri.current.useMemo(t,e)};lt.useReducer=function(t,e,n){return ri.current.useReducer(t,e,n)};lt.useRef=function(t){return ri.current.useRef(t)};lt.useState=function(t){return ri.current.useState(t)};lt.useSyncExternalStore=function(t,e,n){return ri.current.useSyncExternalStore(t,e,n)};lt.useTransition=function(){return ri.current.useTransition()};lt.version="18.3.1";W7.exports=lt;var T=W7.exports;const F=ly(T),eM=H7({__proto__:null,default:F},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZG=T,eJ=Symbol.for("react.element"),tJ=Symbol.for("react.fragment"),nJ=Object.prototype.hasOwnProperty,rJ=ZG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,iJ={key:!0,ref:!0,__self:!0,__source:!0};function tM(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)nJ.call(e,r)&&!iJ.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:eJ,type:t,key:o,ref:s,props:i,_owner:rJ.current}}cy.Fragment=tJ;cy.jsx=tM;cy.jsxs=tM;U7.exports=cy;var P=U7.exports,nM={exports:{}},Hi={},rM={exports:{}},iM={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,H){var L=q.length;q.push(H);e:for(;0<L;){var U=L-1>>>1,K=q[U];if(0<i(K,H))q[U]=H,q[L]=K,L=U;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var H=q[0],L=q.pop();if(L!==H){q[0]=L;e:for(var U=0,K=q.length,O=K>>>1;U<O;){var J=2*(U+1)-1,Ee=q[J],fe=J+1,ue=q[fe];if(0>i(Ee,L))fe<K&&0>i(ue,Ee)?(q[U]=ue,q[fe]=L,U=fe):(q[U]=Ee,q[J]=L,U=J);else if(fe<K&&0>i(ue,L))q[U]=ue,q[fe]=L,U=fe;else break e}}return H}function i(q,H){var L=q.sortIndex-H.sortIndex;return L!==0?L:q.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,h=null,d=3,f=!1,p=!1,m=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(q){for(var H=n(c);H!==null;){if(H.callback===null)r(c);else if(H.startTime<=q)r(c),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(c)}}function C(q){if(m=!1,_(q),!p)if(n(l)!==null)p=!0,Q(S);else{var H=n(c);H!==null&&X(C,H.startTime-q)}}function S(q,H){p=!1,m&&(m=!1,v(w),w=-1),f=!0;var L=d;try{for(_(H),h=n(l);h!==null&&(!(h.expirationTime>H)||q&&!R());){var U=h.callback;if(typeof U=="function"){h.callback=null,d=h.priorityLevel;var K=U(h.expirationTime<=H);H=t.unstable_now(),typeof K=="function"?h.callback=K:h===n(l)&&r(l),_(H)}else r(l);h=n(l)}if(h!==null)var O=!0;else{var J=n(c);J!==null&&X(C,J.startTime-H),O=!1}return O}finally{h=null,d=L,f=!1}}var k=!1,b=null,w=-1,A=5,E=-1;function R(){return!(t.unstable_now()-E<A)}function D(){if(b!==null){var q=t.unstable_now();E=q;var H=!0;try{H=b(!0,q)}finally{H?N():(k=!1,b=null)}}else k=!1}var N;if(typeof y=="function")N=function(){y(D)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,$=j.port2;j.port1.onmessage=D,N=function(){$.postMessage(null)}}else N=function(){x(D,0)};function Q(q){b=q,k||(k=!0,N())}function X(q,H){w=x(function(){q(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,Q(S))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(q){switch(d){case 1:case 2:case 3:var H=3;break;default:H=d}var L=d;d=H;try{return q()}finally{d=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,H){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var L=d;d=q;try{return H()}finally{d=L}},t.unstable_scheduleCallback=function(q,H,L){var U=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?U+L:U):L=U,q){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=L+K,q={id:u++,callback:H,priorityLevel:q,startTime:L,expirationTime:K,sortIndex:-1},L>U?(q.sortIndex=L,e(c,q),n(l)===null&&q===n(c)&&(m?(v(w),w=-1):m=!0,X(C,L-U))):(q.sortIndex=K,e(l,q),p||f||(p=!0,Q(S))),q},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(q){var H=d;return function(){var L=d;d=H;try{return q.apply(this,arguments)}finally{d=L}}}})(iM);rM.exports=iM;var oJ=rM.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sJ=T,zi=oJ;function pe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var oM=new Set,Kp={};function Du(t,e){dd(t,e),dd(t+"Capture",e)}function dd(t,e){for(Kp[t]=e,t=0;t<e.length;t++)oM.add(e[t])}var ha=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zC=Object.prototype.hasOwnProperty,aJ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,L3={},F3={};function lJ(t){return zC.call(F3,t)?!0:zC.call(L3,t)?!1:aJ.test(t)?F3[t]=!0:(L3[t]=!0,!1)}function cJ(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function uJ(t,e,n,r){if(e===null||typeof e>"u"||cJ(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ii(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var _r={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){_r[t]=new ii(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];_r[e]=new ii(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){_r[t]=new ii(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){_r[t]=new ii(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){_r[t]=new ii(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){_r[t]=new ii(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){_r[t]=new ii(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){_r[t]=new ii(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){_r[t]=new ii(t,5,!1,t.toLowerCase(),null,!1,!1)});var yk=/[\-:]([a-z])/g;function _k(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(yk,_k);_r[e]=new ii(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(yk,_k);_r[e]=new ii(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(yk,_k);_r[e]=new ii(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){_r[t]=new ii(t,1,!1,t.toLowerCase(),null,!1,!1)});_r.xlinkHref=new ii("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){_r[t]=new ii(t,1,!1,t.toLowerCase(),null,!0,!0)});function wk(t,e,n,r){var i=_r.hasOwnProperty(e)?_r[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(uJ(e,n,i,r)&&(n=null),r||i===null?lJ(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ta=sJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yg=Symbol.for("react.element"),bh=Symbol.for("react.portal"),Eh=Symbol.for("react.fragment"),Ck=Symbol.for("react.strict_mode"),$C=Symbol.for("react.profiler"),sM=Symbol.for("react.provider"),aM=Symbol.for("react.context"),bk=Symbol.for("react.forward_ref"),HC=Symbol.for("react.suspense"),UC=Symbol.for("react.suspense_list"),Ek=Symbol.for("react.memo"),tl=Symbol.for("react.lazy"),lM=Symbol.for("react.offscreen"),B3=Symbol.iterator;function wf(t){return t===null||typeof t!="object"?null:(t=B3&&t[B3]||t["@@iterator"],typeof t=="function"?t:null)}var un=Object.assign,dw;function Kf(t){if(dw===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);dw=e&&e[1]||""}return`
`+dw+t}var fw=!1;function pw(t,e){if(!t||fw)return"";fw=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{fw=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Kf(t):""}function hJ(t){switch(t.tag){case 5:return Kf(t.type);case 16:return Kf("Lazy");case 13:return Kf("Suspense");case 19:return Kf("SuspenseList");case 0:case 2:case 15:return t=pw(t.type,!1),t;case 11:return t=pw(t.type.render,!1),t;case 1:return t=pw(t.type,!0),t;default:return""}}function WC(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Eh:return"Fragment";case bh:return"Portal";case $C:return"Profiler";case Ck:return"StrictMode";case HC:return"Suspense";case UC:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case aM:return(t.displayName||"Context")+".Consumer";case sM:return(t._context.displayName||"Context")+".Provider";case bk:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Ek:return e=t.displayName||null,e!==null?e:WC(t.type)||"Memo";case tl:e=t._payload,t=t._init;try{return WC(t(e))}catch{}}return null}function dJ(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return WC(e);case 8:return e===Ck?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Hl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cM(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function fJ(t){var e=cM(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function _g(t){t._valueTracker||(t._valueTracker=fJ(t))}function uM(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=cM(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function mx(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function qC(t,e){var n=e.checked;return un({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function V3(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Hl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function hM(t,e){e=e.checked,e!=null&&wk(t,"checked",e,!1)}function KC(t,e){hM(t,e);var n=Hl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?GC(t,e.type,n):e.hasOwnProperty("defaultValue")&&GC(t,e.type,Hl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function j3(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function GC(t,e,n){(e!=="number"||mx(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Gf=Array.isArray;function zh(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Hl(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function JC(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(pe(91));return un({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function z3(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(pe(92));if(Gf(n)){if(1<n.length)throw Error(pe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Hl(n)}}function dM(t,e){var n=Hl(e.value),r=Hl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function $3(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function fM(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function QC(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?fM(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wg,pM=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wg=wg||document.createElement("div"),wg.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wg.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Gp(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var mp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pJ=["Webkit","ms","Moz","O"];Object.keys(mp).forEach(function(t){pJ.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),mp[e]=mp[t]})});function mM(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||mp.hasOwnProperty(t)&&mp[t]?(""+e).trim():e+"px"}function gM(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=mM(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var mJ=un({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function XC(t,e){if(e){if(mJ[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(pe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(pe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(pe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(pe(62))}}function YC(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ZC=null;function Sk(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var eb=null,$h=null,Hh=null;function H3(t){if(t=sm(t)){if(typeof eb!="function")throw Error(pe(280));var e=t.stateNode;e&&(e=py(e),eb(t.stateNode,t.type,e))}}function xM(t){$h?Hh?Hh.push(t):Hh=[t]:$h=t}function vM(){if($h){var t=$h,e=Hh;if(Hh=$h=null,H3(t),e)for(t=0;t<e.length;t++)H3(e[t])}}function yM(t,e){return t(e)}function _M(){}var mw=!1;function wM(t,e,n){if(mw)return t(e,n);mw=!0;try{return yM(t,e,n)}finally{mw=!1,($h!==null||Hh!==null)&&(_M(),vM())}}function Jp(t,e){var n=t.stateNode;if(n===null)return null;var r=py(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(pe(231,e,typeof n));return n}var tb=!1;if(ha)try{var Cf={};Object.defineProperty(Cf,"passive",{get:function(){tb=!0}}),window.addEventListener("test",Cf,Cf),window.removeEventListener("test",Cf,Cf)}catch{tb=!1}function gJ(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var gp=!1,gx=null,xx=!1,nb=null,xJ={onError:function(t){gp=!0,gx=t}};function vJ(t,e,n,r,i,o,s,a,l){gp=!1,gx=null,gJ.apply(xJ,arguments)}function yJ(t,e,n,r,i,o,s,a,l){if(vJ.apply(this,arguments),gp){if(gp){var c=gx;gp=!1,gx=null}else throw Error(pe(198));xx||(xx=!0,nb=c)}}function Mu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function CM(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function U3(t){if(Mu(t)!==t)throw Error(pe(188))}function _J(t){var e=t.alternate;if(!e){if(e=Mu(t),e===null)throw Error(pe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return U3(i),t;if(o===r)return U3(i),e;o=o.sibling}throw Error(pe(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(pe(189))}}if(n.alternate!==r)throw Error(pe(190))}if(n.tag!==3)throw Error(pe(188));return n.stateNode.current===n?t:e}function bM(t){return t=_J(t),t!==null?EM(t):null}function EM(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=EM(t);if(e!==null)return e;t=t.sibling}return null}var SM=zi.unstable_scheduleCallback,W3=zi.unstable_cancelCallback,wJ=zi.unstable_shouldYield,CJ=zi.unstable_requestPaint,Sn=zi.unstable_now,bJ=zi.unstable_getCurrentPriorityLevel,kk=zi.unstable_ImmediatePriority,kM=zi.unstable_UserBlockingPriority,vx=zi.unstable_NormalPriority,EJ=zi.unstable_LowPriority,TM=zi.unstable_IdlePriority,uy=null,vs=null;function SJ(t){if(vs&&typeof vs.onCommitFiberRoot=="function")try{vs.onCommitFiberRoot(uy,t,void 0,(t.current.flags&128)===128)}catch{}}var No=Math.clz32?Math.clz32:AJ,kJ=Math.log,TJ=Math.LN2;function AJ(t){return t>>>=0,t===0?32:31-(kJ(t)/TJ|0)|0}var Cg=64,bg=4194304;function Jf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function yx(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Jf(a):(o&=s,o!==0&&(r=Jf(o)))}else s=n&~i,s!==0?r=Jf(s):o!==0&&(r=Jf(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-No(e),i=1<<n,r|=t[n],e&=~i;return r}function IJ(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function RJ(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-No(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=IJ(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function rb(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function AM(){var t=Cg;return Cg<<=1,!(Cg&4194240)&&(Cg=64),t}function gw(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function im(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-No(e),t[e]=n}function PJ(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-No(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Tk(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-No(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Dt=0;function IM(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var RM,Ak,PM,DM,MM,ib=!1,Eg=[],kl=null,Tl=null,Al=null,Qp=new Map,Xp=new Map,al=[],DJ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function q3(t,e){switch(t){case"focusin":case"focusout":kl=null;break;case"dragenter":case"dragleave":Tl=null;break;case"mouseover":case"mouseout":Al=null;break;case"pointerover":case"pointerout":Qp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xp.delete(e.pointerId)}}function bf(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=sm(e),e!==null&&Ak(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function MJ(t,e,n,r,i){switch(e){case"focusin":return kl=bf(kl,t,e,n,r,i),!0;case"dragenter":return Tl=bf(Tl,t,e,n,r,i),!0;case"mouseover":return Al=bf(Al,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Qp.set(o,bf(Qp.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Xp.set(o,bf(Xp.get(o)||null,t,e,n,r,i)),!0}return!1}function NM(t){var e=zc(t.target);if(e!==null){var n=Mu(e);if(n!==null){if(e=n.tag,e===13){if(e=CM(n),e!==null){t.blockedOn=e,MM(t.priority,function(){PM(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function P1(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ob(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ZC=r,n.target.dispatchEvent(r),ZC=null}else return e=sm(n),e!==null&&Ak(e),t.blockedOn=n,!1;e.shift()}return!0}function K3(t,e,n){P1(t)&&n.delete(e)}function NJ(){ib=!1,kl!==null&&P1(kl)&&(kl=null),Tl!==null&&P1(Tl)&&(Tl=null),Al!==null&&P1(Al)&&(Al=null),Qp.forEach(K3),Xp.forEach(K3)}function Ef(t,e){t.blockedOn===e&&(t.blockedOn=null,ib||(ib=!0,zi.unstable_scheduleCallback(zi.unstable_NormalPriority,NJ)))}function Yp(t){function e(i){return Ef(i,t)}if(0<Eg.length){Ef(Eg[0],t);for(var n=1;n<Eg.length;n++){var r=Eg[n];r.blockedOn===t&&(r.blockedOn=null)}}for(kl!==null&&Ef(kl,t),Tl!==null&&Ef(Tl,t),Al!==null&&Ef(Al,t),Qp.forEach(e),Xp.forEach(e),n=0;n<al.length;n++)r=al[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<al.length&&(n=al[0],n.blockedOn===null);)NM(n),n.blockedOn===null&&al.shift()}var Uh=Ta.ReactCurrentBatchConfig,_x=!0;function OJ(t,e,n,r){var i=Dt,o=Uh.transition;Uh.transition=null;try{Dt=1,Ik(t,e,n,r)}finally{Dt=i,Uh.transition=o}}function LJ(t,e,n,r){var i=Dt,o=Uh.transition;Uh.transition=null;try{Dt=4,Ik(t,e,n,r)}finally{Dt=i,Uh.transition=o}}function Ik(t,e,n,r){if(_x){var i=ob(t,e,n,r);if(i===null)kw(t,e,r,wx,n),q3(t,r);else if(MJ(i,t,e,n,r))r.stopPropagation();else if(q3(t,r),e&4&&-1<DJ.indexOf(t)){for(;i!==null;){var o=sm(i);if(o!==null&&RM(o),o=ob(t,e,n,r),o===null&&kw(t,e,r,wx,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else kw(t,e,r,null,n)}}var wx=null;function ob(t,e,n,r){if(wx=null,t=Sk(r),t=zc(t),t!==null)if(e=Mu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=CM(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return wx=t,null}function OM(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bJ()){case kk:return 1;case kM:return 4;case vx:case EJ:return 16;case TM:return 536870912;default:return 16}default:return 16}}var gl=null,Rk=null,D1=null;function LM(){if(D1)return D1;var t,e=Rk,n=e.length,r,i="value"in gl?gl.value:gl.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return D1=i.slice(t,1<r?1-r:void 0)}function M1(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Sg(){return!0}function G3(){return!1}function Ui(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Sg:G3,this.isPropagationStopped=G3,this}return un(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Sg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Sg)},persist:function(){},isPersistent:Sg}),e}var $d={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pk=Ui($d),om=un({},$d,{view:0,detail:0}),FJ=Ui(om),xw,vw,Sf,hy=un({},om,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dk,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Sf&&(Sf&&t.type==="mousemove"?(xw=t.screenX-Sf.screenX,vw=t.screenY-Sf.screenY):vw=xw=0,Sf=t),xw)},movementY:function(t){return"movementY"in t?t.movementY:vw}}),J3=Ui(hy),BJ=un({},hy,{dataTransfer:0}),VJ=Ui(BJ),jJ=un({},om,{relatedTarget:0}),yw=Ui(jJ),zJ=un({},$d,{animationName:0,elapsedTime:0,pseudoElement:0}),$J=Ui(zJ),HJ=un({},$d,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),UJ=Ui(HJ),WJ=un({},$d,{data:0}),Q3=Ui(WJ),qJ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KJ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GJ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function JJ(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=GJ[t])?!!e[t]:!1}function Dk(){return JJ}var QJ=un({},om,{key:function(t){if(t.key){var e=qJ[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=M1(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?KJ[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dk,charCode:function(t){return t.type==="keypress"?M1(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?M1(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),XJ=Ui(QJ),YJ=un({},hy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),X3=Ui(YJ),ZJ=un({},om,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dk}),eQ=Ui(ZJ),tQ=un({},$d,{propertyName:0,elapsedTime:0,pseudoElement:0}),nQ=Ui(tQ),rQ=un({},hy,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),iQ=Ui(rQ),oQ=[9,13,27,32],Mk=ha&&"CompositionEvent"in window,xp=null;ha&&"documentMode"in document&&(xp=document.documentMode);var sQ=ha&&"TextEvent"in window&&!xp,FM=ha&&(!Mk||xp&&8<xp&&11>=xp),Y3=" ",Z3=!1;function BM(t,e){switch(t){case"keyup":return oQ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function VM(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sh=!1;function aQ(t,e){switch(t){case"compositionend":return VM(e);case"keypress":return e.which!==32?null:(Z3=!0,Y3);case"textInput":return t=e.data,t===Y3&&Z3?null:t;default:return null}}function lQ(t,e){if(Sh)return t==="compositionend"||!Mk&&BM(t,e)?(t=LM(),D1=Rk=gl=null,Sh=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return FM&&e.locale!=="ko"?null:e.data;default:return null}}var cQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function e8(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!cQ[t.type]:e==="textarea"}function jM(t,e,n,r){xM(r),e=Cx(e,"onChange"),0<e.length&&(n=new Pk("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var vp=null,Zp=null;function uQ(t){XM(t,0)}function dy(t){var e=Ah(t);if(uM(e))return t}function hQ(t,e){if(t==="change")return e}var zM=!1;if(ha){var _w;if(ha){var ww="oninput"in document;if(!ww){var t8=document.createElement("div");t8.setAttribute("oninput","return;"),ww=typeof t8.oninput=="function"}_w=ww}else _w=!1;zM=_w&&(!document.documentMode||9<document.documentMode)}function n8(){vp&&(vp.detachEvent("onpropertychange",$M),Zp=vp=null)}function $M(t){if(t.propertyName==="value"&&dy(Zp)){var e=[];jM(e,Zp,t,Sk(t)),wM(uQ,e)}}function dQ(t,e,n){t==="focusin"?(n8(),vp=e,Zp=n,vp.attachEvent("onpropertychange",$M)):t==="focusout"&&n8()}function fQ(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return dy(Zp)}function pQ(t,e){if(t==="click")return dy(e)}function mQ(t,e){if(t==="input"||t==="change")return dy(e)}function gQ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Vo=typeof Object.is=="function"?Object.is:gQ;function e0(t,e){if(Vo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!zC.call(e,i)||!Vo(t[i],e[i]))return!1}return!0}function r8(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function i8(t,e){var n=r8(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=r8(n)}}function HM(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?HM(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function UM(){for(var t=window,e=mx();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=mx(t.document)}return e}function Nk(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function xQ(t){var e=UM(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&HM(n.ownerDocument.documentElement,n)){if(r!==null&&Nk(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=i8(n,o);var s=i8(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var vQ=ha&&"documentMode"in document&&11>=document.documentMode,kh=null,sb=null,yp=null,ab=!1;function o8(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ab||kh==null||kh!==mx(r)||(r=kh,"selectionStart"in r&&Nk(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),yp&&e0(yp,r)||(yp=r,r=Cx(sb,"onSelect"),0<r.length&&(e=new Pk("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=kh)))}function kg(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Th={animationend:kg("Animation","AnimationEnd"),animationiteration:kg("Animation","AnimationIteration"),animationstart:kg("Animation","AnimationStart"),transitionend:kg("Transition","TransitionEnd")},Cw={},WM={};ha&&(WM=document.createElement("div").style,"AnimationEvent"in window||(delete Th.animationend.animation,delete Th.animationiteration.animation,delete Th.animationstart.animation),"TransitionEvent"in window||delete Th.transitionend.transition);function fy(t){if(Cw[t])return Cw[t];if(!Th[t])return t;var e=Th[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in WM)return Cw[t]=e[n];return t}var qM=fy("animationend"),KM=fy("animationiteration"),GM=fy("animationstart"),JM=fy("transitionend"),QM=new Map,s8="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cc(t,e){QM.set(t,e),Du(e,[t])}for(var bw=0;bw<s8.length;bw++){var Ew=s8[bw],yQ=Ew.toLowerCase(),_Q=Ew[0].toUpperCase()+Ew.slice(1);cc(yQ,"on"+_Q)}cc(qM,"onAnimationEnd");cc(KM,"onAnimationIteration");cc(GM,"onAnimationStart");cc("dblclick","onDoubleClick");cc("focusin","onFocus");cc("focusout","onBlur");cc(JM,"onTransitionEnd");dd("onMouseEnter",["mouseout","mouseover"]);dd("onMouseLeave",["mouseout","mouseover"]);dd("onPointerEnter",["pointerout","pointerover"]);dd("onPointerLeave",["pointerout","pointerover"]);Du("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Du("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Du("onBeforeInput",["compositionend","keypress","textInput","paste"]);Du("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Du("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Du("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wQ=new Set("cancel close invalid load scroll toggle".split(" ").concat(Qf));function a8(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,yJ(r,e,void 0,t),t.currentTarget=null}function XM(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;a8(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;a8(i,a,c),o=l}}}if(xx)throw t=nb,xx=!1,nb=null,t}function Jt(t,e){var n=e[db];n===void 0&&(n=e[db]=new Set);var r=t+"__bubble";n.has(r)||(YM(e,t,2,!1),n.add(r))}function Sw(t,e,n){var r=0;e&&(r|=4),YM(n,t,r,e)}var Tg="_reactListening"+Math.random().toString(36).slice(2);function t0(t){if(!t[Tg]){t[Tg]=!0,oM.forEach(function(n){n!=="selectionchange"&&(wQ.has(n)||Sw(n,!1,t),Sw(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Tg]||(e[Tg]=!0,Sw("selectionchange",!1,e))}}function YM(t,e,n,r){switch(OM(e)){case 1:var i=OJ;break;case 4:i=LJ;break;default:i=Ik}n=i.bind(null,e,n,t),i=void 0,!tb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function kw(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=zc(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}wM(function(){var c=o,u=Sk(n),h=[];e:{var d=QM.get(t);if(d!==void 0){var f=Pk,p=t;switch(t){case"keypress":if(M1(n)===0)break e;case"keydown":case"keyup":f=XJ;break;case"focusin":p="focus",f=yw;break;case"focusout":p="blur",f=yw;break;case"beforeblur":case"afterblur":f=yw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=J3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=VJ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=eQ;break;case qM:case KM:case GM:f=$J;break;case JM:f=nQ;break;case"scroll":f=FJ;break;case"wheel":f=iQ;break;case"copy":case"cut":case"paste":f=UJ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=X3}var m=(e&4)!==0,x=!m&&t==="scroll",v=m?d!==null?d+"Capture":null:d;m=[];for(var y=c,_;y!==null;){_=y;var C=_.stateNode;if(_.tag===5&&C!==null&&(_=C,v!==null&&(C=Jp(y,v),C!=null&&m.push(n0(y,C,_)))),x)break;y=y.return}0<m.length&&(d=new f(d,p,null,n,u),h.push({event:d,listeners:m}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&n!==ZC&&(p=n.relatedTarget||n.fromElement)&&(zc(p)||p[da]))break e;if((f||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=c,p=p?zc(p):null,p!==null&&(x=Mu(p),p!==x||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=c),f!==p)){if(m=J3,C="onMouseLeave",v="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(m=X3,C="onPointerLeave",v="onPointerEnter",y="pointer"),x=f==null?d:Ah(f),_=p==null?d:Ah(p),d=new m(C,y+"leave",f,n,u),d.target=x,d.relatedTarget=_,C=null,zc(u)===c&&(m=new m(v,y+"enter",p,n,u),m.target=_,m.relatedTarget=x,C=m),x=C,f&&p)t:{for(m=f,v=p,y=0,_=m;_;_=rh(_))y++;for(_=0,C=v;C;C=rh(C))_++;for(;0<y-_;)m=rh(m),y--;for(;0<_-y;)v=rh(v),_--;for(;y--;){if(m===v||v!==null&&m===v.alternate)break t;m=rh(m),v=rh(v)}m=null}else m=null;f!==null&&l8(h,d,f,m,!1),p!==null&&x!==null&&l8(h,x,p,m,!0)}}e:{if(d=c?Ah(c):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var S=hQ;else if(e8(d))if(zM)S=mQ;else{S=fQ;var k=dQ}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=pQ);if(S&&(S=S(t,c))){jM(h,S,n,u);break e}k&&k(t,d,c),t==="focusout"&&(k=d._wrapperState)&&k.controlled&&d.type==="number"&&GC(d,"number",d.value)}switch(k=c?Ah(c):window,t){case"focusin":(e8(k)||k.contentEditable==="true")&&(kh=k,sb=c,yp=null);break;case"focusout":yp=sb=kh=null;break;case"mousedown":ab=!0;break;case"contextmenu":case"mouseup":case"dragend":ab=!1,o8(h,n,u);break;case"selectionchange":if(vQ)break;case"keydown":case"keyup":o8(h,n,u)}var b;if(Mk)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Sh?BM(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(FM&&n.locale!=="ko"&&(Sh||w!=="onCompositionStart"?w==="onCompositionEnd"&&Sh&&(b=LM()):(gl=u,Rk="value"in gl?gl.value:gl.textContent,Sh=!0)),k=Cx(c,w),0<k.length&&(w=new Q3(w,t,null,n,u),h.push({event:w,listeners:k}),b?w.data=b:(b=VM(n),b!==null&&(w.data=b)))),(b=sQ?aQ(t,n):lQ(t,n))&&(c=Cx(c,"onBeforeInput"),0<c.length&&(u=new Q3("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=b))}XM(h,e)})}function n0(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Cx(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Jp(t,n),o!=null&&r.unshift(n0(t,o,i)),o=Jp(t,e),o!=null&&r.push(n0(t,o,i))),t=t.return}return r}function rh(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function l8(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Jp(n,o),l!=null&&s.unshift(n0(n,l,a))):i||(l=Jp(n,o),l!=null&&s.push(n0(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var CQ=/\r\n?/g,bQ=/\u0000|\uFFFD/g;function c8(t){return(typeof t=="string"?t:""+t).replace(CQ,`
`).replace(bQ,"")}function Ag(t,e,n){if(e=c8(e),c8(t)!==e&&n)throw Error(pe(425))}function bx(){}var lb=null,cb=null;function ub(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var hb=typeof setTimeout=="function"?setTimeout:void 0,EQ=typeof clearTimeout=="function"?clearTimeout:void 0,u8=typeof Promise=="function"?Promise:void 0,SQ=typeof queueMicrotask=="function"?queueMicrotask:typeof u8<"u"?function(t){return u8.resolve(null).then(t).catch(kQ)}:hb;function kQ(t){setTimeout(function(){throw t})}function Tw(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Yp(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Yp(e)}function Il(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function h8(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Hd=Math.random().toString(36).slice(2),ss="__reactFiber$"+Hd,r0="__reactProps$"+Hd,da="__reactContainer$"+Hd,db="__reactEvents$"+Hd,TQ="__reactListeners$"+Hd,AQ="__reactHandles$"+Hd;function zc(t){var e=t[ss];if(e)return e;for(var n=t.parentNode;n;){if(e=n[da]||n[ss]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=h8(t);t!==null;){if(n=t[ss])return n;t=h8(t)}return e}t=n,n=t.parentNode}return null}function sm(t){return t=t[ss]||t[da],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ah(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(pe(33))}function py(t){return t[r0]||null}var fb=[],Ih=-1;function uc(t){return{current:t}}function Xt(t){0>Ih||(t.current=fb[Ih],fb[Ih]=null,Ih--)}function Ht(t,e){Ih++,fb[Ih]=t.current,t.current=e}var Ul={},Lr=uc(Ul),xi=uc(!1),iu=Ul;function fd(t,e){var n=t.type.contextTypes;if(!n)return Ul;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function vi(t){return t=t.childContextTypes,t!=null}function Ex(){Xt(xi),Xt(Lr)}function d8(t,e,n){if(Lr.current!==Ul)throw Error(pe(168));Ht(Lr,e),Ht(xi,n)}function ZM(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(pe(108,dJ(t)||"Unknown",i));return un({},n,r)}function Sx(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ul,iu=Lr.current,Ht(Lr,t),Ht(xi,xi.current),!0}function f8(t,e,n){var r=t.stateNode;if(!r)throw Error(pe(169));n?(t=ZM(t,e,iu),r.__reactInternalMemoizedMergedChildContext=t,Xt(xi),Xt(Lr),Ht(Lr,t)):Xt(xi),Ht(xi,n)}var Qs=null,my=!1,Aw=!1;function eN(t){Qs===null?Qs=[t]:Qs.push(t)}function IQ(t){my=!0,eN(t)}function hc(){if(!Aw&&Qs!==null){Aw=!0;var t=0,e=Dt;try{var n=Qs;for(Dt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Qs=null,my=!1}catch(i){throw Qs!==null&&(Qs=Qs.slice(t+1)),SM(kk,hc),i}finally{Dt=e,Aw=!1}}return null}var Rh=[],Ph=0,kx=null,Tx=0,Xi=[],Yi=0,ou=null,Ys=1,Zs="";function Oc(t,e){Rh[Ph++]=Tx,Rh[Ph++]=kx,kx=t,Tx=e}function tN(t,e,n){Xi[Yi++]=Ys,Xi[Yi++]=Zs,Xi[Yi++]=ou,ou=t;var r=Ys;t=Zs;var i=32-No(r)-1;r&=~(1<<i),n+=1;var o=32-No(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ys=1<<32-No(e)+i|n<<i|r,Zs=o+t}else Ys=1<<o|n<<i|r,Zs=t}function Ok(t){t.return!==null&&(Oc(t,1),tN(t,1,0))}function Lk(t){for(;t===kx;)kx=Rh[--Ph],Rh[Ph]=null,Tx=Rh[--Ph],Rh[Ph]=null;for(;t===ou;)ou=Xi[--Yi],Xi[Yi]=null,Zs=Xi[--Yi],Xi[Yi]=null,Ys=Xi[--Yi],Xi[Yi]=null}var Fi=null,Ni=null,tn=!1,Po=null;function nN(t,e){var n=ro(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function p8(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Fi=t,Ni=Il(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Fi=t,Ni=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ou!==null?{id:Ys,overflow:Zs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ro(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Fi=t,Ni=null,!0):!1;default:return!1}}function pb(t){return(t.mode&1)!==0&&(t.flags&128)===0}function mb(t){if(tn){var e=Ni;if(e){var n=e;if(!p8(t,e)){if(pb(t))throw Error(pe(418));e=Il(n.nextSibling);var r=Fi;e&&p8(t,e)?nN(r,n):(t.flags=t.flags&-4097|2,tn=!1,Fi=t)}}else{if(pb(t))throw Error(pe(418));t.flags=t.flags&-4097|2,tn=!1,Fi=t}}}function m8(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Fi=t}function Ig(t){if(t!==Fi)return!1;if(!tn)return m8(t),tn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ub(t.type,t.memoizedProps)),e&&(e=Ni)){if(pb(t))throw rN(),Error(pe(418));for(;e;)nN(t,e),e=Il(e.nextSibling)}if(m8(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(pe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ni=Il(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ni=null}}else Ni=Fi?Il(t.stateNode.nextSibling):null;return!0}function rN(){for(var t=Ni;t;)t=Il(t.nextSibling)}function pd(){Ni=Fi=null,tn=!1}function Fk(t){Po===null?Po=[t]:Po.push(t)}var RQ=Ta.ReactCurrentBatchConfig;function kf(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(pe(309));var r=n.stateNode}if(!r)throw Error(pe(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(pe(284));if(!n._owner)throw Error(pe(290,t))}return t}function Rg(t,e){throw t=Object.prototype.toString.call(e),Error(pe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function g8(t){var e=t._init;return e(t._payload)}function iN(t){function e(v,y){if(t){var _=v.deletions;_===null?(v.deletions=[y],v.flags|=16):_.push(y)}}function n(v,y){if(!t)return null;for(;y!==null;)e(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(v,y){return v=Ml(v,y),v.index=0,v.sibling=null,v}function o(v,y,_){return v.index=_,t?(_=v.alternate,_!==null?(_=_.index,_<y?(v.flags|=2,y):_):(v.flags|=2,y)):(v.flags|=1048576,y)}function s(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,y,_,C){return y===null||y.tag!==6?(y=Ow(_,v.mode,C),y.return=v,y):(y=i(y,_),y.return=v,y)}function l(v,y,_,C){var S=_.type;return S===Eh?u(v,y,_.props.children,C,_.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===tl&&g8(S)===y.type)?(C=i(y,_.props),C.ref=kf(v,y,_),C.return=v,C):(C=j1(_.type,_.key,_.props,null,v.mode,C),C.ref=kf(v,y,_),C.return=v,C)}function c(v,y,_,C){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=Lw(_,v.mode,C),y.return=v,y):(y=i(y,_.children||[]),y.return=v,y)}function u(v,y,_,C,S){return y===null||y.tag!==7?(y=Xc(_,v.mode,C,S),y.return=v,y):(y=i(y,_),y.return=v,y)}function h(v,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Ow(""+y,v.mode,_),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case yg:return _=j1(y.type,y.key,y.props,null,v.mode,_),_.ref=kf(v,null,y),_.return=v,_;case bh:return y=Lw(y,v.mode,_),y.return=v,y;case tl:var C=y._init;return h(v,C(y._payload),_)}if(Gf(y)||wf(y))return y=Xc(y,v.mode,_,null),y.return=v,y;Rg(v,y)}return null}function d(v,y,_,C){var S=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:a(v,y,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case yg:return _.key===S?l(v,y,_,C):null;case bh:return _.key===S?c(v,y,_,C):null;case tl:return S=_._init,d(v,y,S(_._payload),C)}if(Gf(_)||wf(_))return S!==null?null:u(v,y,_,C,null);Rg(v,_)}return null}function f(v,y,_,C,S){if(typeof C=="string"&&C!==""||typeof C=="number")return v=v.get(_)||null,a(y,v,""+C,S);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case yg:return v=v.get(C.key===null?_:C.key)||null,l(y,v,C,S);case bh:return v=v.get(C.key===null?_:C.key)||null,c(y,v,C,S);case tl:var k=C._init;return f(v,y,_,k(C._payload),S)}if(Gf(C)||wf(C))return v=v.get(_)||null,u(y,v,C,S,null);Rg(y,C)}return null}function p(v,y,_,C){for(var S=null,k=null,b=y,w=y=0,A=null;b!==null&&w<_.length;w++){b.index>w?(A=b,b=null):A=b.sibling;var E=d(v,b,_[w],C);if(E===null){b===null&&(b=A);break}t&&b&&E.alternate===null&&e(v,b),y=o(E,y,w),k===null?S=E:k.sibling=E,k=E,b=A}if(w===_.length)return n(v,b),tn&&Oc(v,w),S;if(b===null){for(;w<_.length;w++)b=h(v,_[w],C),b!==null&&(y=o(b,y,w),k===null?S=b:k.sibling=b,k=b);return tn&&Oc(v,w),S}for(b=r(v,b);w<_.length;w++)A=f(b,v,w,_[w],C),A!==null&&(t&&A.alternate!==null&&b.delete(A.key===null?w:A.key),y=o(A,y,w),k===null?S=A:k.sibling=A,k=A);return t&&b.forEach(function(R){return e(v,R)}),tn&&Oc(v,w),S}function m(v,y,_,C){var S=wf(_);if(typeof S!="function")throw Error(pe(150));if(_=S.call(_),_==null)throw Error(pe(151));for(var k=S=null,b=y,w=y=0,A=null,E=_.next();b!==null&&!E.done;w++,E=_.next()){b.index>w?(A=b,b=null):A=b.sibling;var R=d(v,b,E.value,C);if(R===null){b===null&&(b=A);break}t&&b&&R.alternate===null&&e(v,b),y=o(R,y,w),k===null?S=R:k.sibling=R,k=R,b=A}if(E.done)return n(v,b),tn&&Oc(v,w),S;if(b===null){for(;!E.done;w++,E=_.next())E=h(v,E.value,C),E!==null&&(y=o(E,y,w),k===null?S=E:k.sibling=E,k=E);return tn&&Oc(v,w),S}for(b=r(v,b);!E.done;w++,E=_.next())E=f(b,v,w,E.value,C),E!==null&&(t&&E.alternate!==null&&b.delete(E.key===null?w:E.key),y=o(E,y,w),k===null?S=E:k.sibling=E,k=E);return t&&b.forEach(function(D){return e(v,D)}),tn&&Oc(v,w),S}function x(v,y,_,C){if(typeof _=="object"&&_!==null&&_.type===Eh&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case yg:e:{for(var S=_.key,k=y;k!==null;){if(k.key===S){if(S=_.type,S===Eh){if(k.tag===7){n(v,k.sibling),y=i(k,_.props.children),y.return=v,v=y;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===tl&&g8(S)===k.type){n(v,k.sibling),y=i(k,_.props),y.ref=kf(v,k,_),y.return=v,v=y;break e}n(v,k);break}else e(v,k);k=k.sibling}_.type===Eh?(y=Xc(_.props.children,v.mode,C,_.key),y.return=v,v=y):(C=j1(_.type,_.key,_.props,null,v.mode,C),C.ref=kf(v,y,_),C.return=v,v=C)}return s(v);case bh:e:{for(k=_.key;y!==null;){if(y.key===k)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){n(v,y.sibling),y=i(y,_.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else e(v,y);y=y.sibling}y=Lw(_,v.mode,C),y.return=v,v=y}return s(v);case tl:return k=_._init,x(v,y,k(_._payload),C)}if(Gf(_))return p(v,y,_,C);if(wf(_))return m(v,y,_,C);Rg(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,y!==null&&y.tag===6?(n(v,y.sibling),y=i(y,_),y.return=v,v=y):(n(v,y),y=Ow(_,v.mode,C),y.return=v,v=y),s(v)):n(v,y)}return x}var md=iN(!0),oN=iN(!1),Ax=uc(null),Ix=null,Dh=null,Bk=null;function Vk(){Bk=Dh=Ix=null}function jk(t){var e=Ax.current;Xt(Ax),t._currentValue=e}function gb(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Wh(t,e){Ix=t,Bk=Dh=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(pi=!0),t.firstContext=null)}function ho(t){var e=t._currentValue;if(Bk!==t)if(t={context:t,memoizedValue:e,next:null},Dh===null){if(Ix===null)throw Error(pe(308));Dh=t,Ix.dependencies={lanes:0,firstContext:t}}else Dh=Dh.next=t;return e}var $c=null;function zk(t){$c===null?$c=[t]:$c.push(t)}function sN(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,zk(e)):(n.next=i.next,i.next=n),e.interleaved=n,fa(t,r)}function fa(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var nl=!1;function $k(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aN(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function sa(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Rl(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Et&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,fa(t,n)}return i=r.interleaved,i===null?(e.next=e,zk(r)):(e.next=i.next,i.next=e),r.interleaved=e,fa(t,n)}function N1(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Tk(t,n)}}function x8(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Rx(t,e,n,r){var i=t.updateQueue;nl=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;s=0,u=c=l=null,a=o;do{var d=a.lane,f=a.eventTime;if((r&d)===d){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,m=a;switch(d=e,f=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,d=typeof p=="function"?p.call(f,h,d):p,d==null)break e;h=un({},h,d);break e;case 2:nl=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=h):u=u.next=f,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);au|=s,t.lanes=s,t.memoizedState=h}}function v8(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(pe(191,i));i.call(r)}}}var am={},ys=uc(am),i0=uc(am),o0=uc(am);function Hc(t){if(t===am)throw Error(pe(174));return t}function Hk(t,e){switch(Ht(o0,e),Ht(i0,t),Ht(ys,am),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:QC(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=QC(e,t)}Xt(ys),Ht(ys,e)}function gd(){Xt(ys),Xt(i0),Xt(o0)}function lN(t){Hc(o0.current);var e=Hc(ys.current),n=QC(e,t.type);e!==n&&(Ht(i0,t),Ht(ys,n))}function Uk(t){i0.current===t&&(Xt(ys),Xt(i0))}var an=uc(0);function Px(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Iw=[];function Wk(){for(var t=0;t<Iw.length;t++)Iw[t]._workInProgressVersionPrimary=null;Iw.length=0}var O1=Ta.ReactCurrentDispatcher,Rw=Ta.ReactCurrentBatchConfig,su=0,cn=null,zn=null,Yn=null,Dx=!1,_p=!1,s0=0,PQ=0;function Tr(){throw Error(pe(321))}function qk(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Vo(t[n],e[n]))return!1;return!0}function Kk(t,e,n,r,i,o){if(su=o,cn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,O1.current=t===null||t.memoizedState===null?OQ:LQ,t=n(r,i),_p){o=0;do{if(_p=!1,s0=0,25<=o)throw Error(pe(301));o+=1,Yn=zn=null,e.updateQueue=null,O1.current=FQ,t=n(r,i)}while(_p)}if(O1.current=Mx,e=zn!==null&&zn.next!==null,su=0,Yn=zn=cn=null,Dx=!1,e)throw Error(pe(300));return t}function Gk(){var t=s0!==0;return s0=0,t}function is(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yn===null?cn.memoizedState=Yn=t:Yn=Yn.next=t,Yn}function fo(){if(zn===null){var t=cn.alternate;t=t!==null?t.memoizedState:null}else t=zn.next;var e=Yn===null?cn.memoizedState:Yn.next;if(e!==null)Yn=e,zn=t;else{if(t===null)throw Error(pe(310));zn=t,t={memoizedState:zn.memoizedState,baseState:zn.baseState,baseQueue:zn.baseQueue,queue:zn.queue,next:null},Yn===null?cn.memoizedState=Yn=t:Yn=Yn.next=t}return Yn}function a0(t,e){return typeof e=="function"?e(t):e}function Pw(t){var e=fo(),n=e.queue;if(n===null)throw Error(pe(311));n.lastRenderedReducer=t;var r=zn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((su&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,s=r):l=l.next=h,cn.lanes|=u,au|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,Vo(r,e.memoizedState)||(pi=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,cn.lanes|=o,au|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Dw(t){var e=fo(),n=e.queue;if(n===null)throw Error(pe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Vo(o,e.memoizedState)||(pi=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function cN(){}function uN(t,e){var n=cn,r=fo(),i=e(),o=!Vo(r.memoizedState,i);if(o&&(r.memoizedState=i,pi=!0),r=r.queue,Jk(fN.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Yn!==null&&Yn.memoizedState.tag&1){if(n.flags|=2048,l0(9,dN.bind(null,n,r,i,e),void 0,null),tr===null)throw Error(pe(349));su&30||hN(n,e,i)}return i}function hN(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=cn.updateQueue,e===null?(e={lastEffect:null,stores:null},cn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function dN(t,e,n,r){e.value=n,e.getSnapshot=r,pN(e)&&mN(t)}function fN(t,e,n){return n(function(){pN(e)&&mN(t)})}function pN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Vo(t,n)}catch{return!0}}function mN(t){var e=fa(t,1);e!==null&&Oo(e,t,1,-1)}function y8(t){var e=is();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a0,lastRenderedState:t},e.queue=t,t=t.dispatch=NQ.bind(null,cn,t),[e.memoizedState,t]}function l0(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=cn.updateQueue,e===null?(e={lastEffect:null,stores:null},cn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function gN(){return fo().memoizedState}function L1(t,e,n,r){var i=is();cn.flags|=t,i.memoizedState=l0(1|e,n,void 0,r===void 0?null:r)}function gy(t,e,n,r){var i=fo();r=r===void 0?null:r;var o=void 0;if(zn!==null){var s=zn.memoizedState;if(o=s.destroy,r!==null&&qk(r,s.deps)){i.memoizedState=l0(e,n,o,r);return}}cn.flags|=t,i.memoizedState=l0(1|e,n,o,r)}function _8(t,e){return L1(8390656,8,t,e)}function Jk(t,e){return gy(2048,8,t,e)}function xN(t,e){return gy(4,2,t,e)}function vN(t,e){return gy(4,4,t,e)}function yN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _N(t,e,n){return n=n!=null?n.concat([t]):null,gy(4,4,yN.bind(null,e,t),n)}function Qk(){}function wN(t,e){var n=fo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qk(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function CN(t,e){var n=fo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qk(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function bN(t,e,n){return su&21?(Vo(n,e)||(n=AM(),cn.lanes|=n,au|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,pi=!0),t.memoizedState=n)}function DQ(t,e){var n=Dt;Dt=n!==0&&4>n?n:4,t(!0);var r=Rw.transition;Rw.transition={};try{t(!1),e()}finally{Dt=n,Rw.transition=r}}function EN(){return fo().memoizedState}function MQ(t,e,n){var r=Dl(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},SN(t))kN(e,n);else if(n=sN(t,e,n,r),n!==null){var i=Jr();Oo(n,t,r,i),TN(n,e,r)}}function NQ(t,e,n){var r=Dl(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(SN(t))kN(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Vo(a,s)){var l=e.interleaved;l===null?(i.next=i,zk(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=sN(t,e,i,r),n!==null&&(i=Jr(),Oo(n,t,r,i),TN(n,e,r))}}function SN(t){var e=t.alternate;return t===cn||e!==null&&e===cn}function kN(t,e){_p=Dx=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function TN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Tk(t,n)}}var Mx={readContext:ho,useCallback:Tr,useContext:Tr,useEffect:Tr,useImperativeHandle:Tr,useInsertionEffect:Tr,useLayoutEffect:Tr,useMemo:Tr,useReducer:Tr,useRef:Tr,useState:Tr,useDebugValue:Tr,useDeferredValue:Tr,useTransition:Tr,useMutableSource:Tr,useSyncExternalStore:Tr,useId:Tr,unstable_isNewReconciler:!1},OQ={readContext:ho,useCallback:function(t,e){return is().memoizedState=[t,e===void 0?null:e],t},useContext:ho,useEffect:_8,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,L1(4194308,4,yN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return L1(4194308,4,t,e)},useInsertionEffect:function(t,e){return L1(4,2,t,e)},useMemo:function(t,e){var n=is();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=is();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=MQ.bind(null,cn,t),[r.memoizedState,t]},useRef:function(t){var e=is();return t={current:t},e.memoizedState=t},useState:y8,useDebugValue:Qk,useDeferredValue:function(t){return is().memoizedState=t},useTransition:function(){var t=y8(!1),e=t[0];return t=DQ.bind(null,t[1]),is().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=cn,i=is();if(tn){if(n===void 0)throw Error(pe(407));n=n()}else{if(n=e(),tr===null)throw Error(pe(349));su&30||hN(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,_8(fN.bind(null,r,o,t),[t]),r.flags|=2048,l0(9,dN.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=is(),e=tr.identifierPrefix;if(tn){var n=Zs,r=Ys;n=(r&~(1<<32-No(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=s0++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=PQ++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},LQ={readContext:ho,useCallback:wN,useContext:ho,useEffect:Jk,useImperativeHandle:_N,useInsertionEffect:xN,useLayoutEffect:vN,useMemo:CN,useReducer:Pw,useRef:gN,useState:function(){return Pw(a0)},useDebugValue:Qk,useDeferredValue:function(t){var e=fo();return bN(e,zn.memoizedState,t)},useTransition:function(){var t=Pw(a0)[0],e=fo().memoizedState;return[t,e]},useMutableSource:cN,useSyncExternalStore:uN,useId:EN,unstable_isNewReconciler:!1},FQ={readContext:ho,useCallback:wN,useContext:ho,useEffect:Jk,useImperativeHandle:_N,useInsertionEffect:xN,useLayoutEffect:vN,useMemo:CN,useReducer:Dw,useRef:gN,useState:function(){return Dw(a0)},useDebugValue:Qk,useDeferredValue:function(t){var e=fo();return zn===null?e.memoizedState=t:bN(e,zn.memoizedState,t)},useTransition:function(){var t=Dw(a0)[0],e=fo().memoizedState;return[t,e]},useMutableSource:cN,useSyncExternalStore:uN,useId:EN,unstable_isNewReconciler:!1};function To(t,e){if(t&&t.defaultProps){e=un({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function xb(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:un({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var xy={isMounted:function(t){return(t=t._reactInternals)?Mu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Jr(),i=Dl(t),o=sa(r,i);o.payload=e,n!=null&&(o.callback=n),e=Rl(t,o,i),e!==null&&(Oo(e,t,i,r),N1(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Jr(),i=Dl(t),o=sa(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Rl(t,o,i),e!==null&&(Oo(e,t,i,r),N1(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Jr(),r=Dl(t),i=sa(n,r);i.tag=2,e!=null&&(i.callback=e),e=Rl(t,i,r),e!==null&&(Oo(e,t,r,n),N1(e,t,r))}};function w8(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!e0(n,r)||!e0(i,o):!0}function AN(t,e,n){var r=!1,i=Ul,o=e.contextType;return typeof o=="object"&&o!==null?o=ho(o):(i=vi(e)?iu:Lr.current,r=e.contextTypes,o=(r=r!=null)?fd(t,i):Ul),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=xy,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function C8(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&xy.enqueueReplaceState(e,e.state,null)}function vb(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},$k(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=ho(o):(o=vi(e)?iu:Lr.current,i.context=fd(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(xb(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&xy.enqueueReplaceState(i,i.state,null),Rx(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function xd(t,e){try{var n="",r=e;do n+=hJ(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Mw(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function yb(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var BQ=typeof WeakMap=="function"?WeakMap:Map;function IN(t,e,n){n=sa(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ox||(Ox=!0,Ib=r),yb(t,e)},n}function RN(t,e,n){n=sa(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){yb(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){yb(t,e),typeof r!="function"&&(Pl===null?Pl=new Set([this]):Pl.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function b8(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new BQ;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=YQ.bind(null,t,e,n),e.then(t,t))}function E8(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function S8(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=sa(-1,1),e.tag=2,Rl(n,e,1))),n.lanes|=1),t)}var VQ=Ta.ReactCurrentOwner,pi=!1;function Wr(t,e,n,r){e.child=t===null?oN(e,null,n,r):md(e,t.child,n,r)}function k8(t,e,n,r,i){n=n.render;var o=e.ref;return Wh(e,i),r=Kk(t,e,n,r,o,i),n=Gk(),t!==null&&!pi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,pa(t,e,i)):(tn&&n&&Ok(e),e.flags|=1,Wr(t,e,r,i),e.child)}function T8(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!iT(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,PN(t,e,o,r,i)):(t=j1(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:e0,n(s,r)&&t.ref===e.ref)return pa(t,e,i)}return e.flags|=1,t=Ml(o,r),t.ref=e.ref,t.return=e,e.child=t}function PN(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(e0(o,r)&&t.ref===e.ref)if(pi=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(pi=!0);else return e.lanes=t.lanes,pa(t,e,i)}return _b(t,e,n,r,i)}function DN(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ht(Nh,Ai),Ai|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ht(Nh,Ai),Ai|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ht(Nh,Ai),Ai|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ht(Nh,Ai),Ai|=r;return Wr(t,e,i,n),e.child}function MN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function _b(t,e,n,r,i){var o=vi(n)?iu:Lr.current;return o=fd(e,o),Wh(e,i),n=Kk(t,e,n,r,o,i),r=Gk(),t!==null&&!pi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,pa(t,e,i)):(tn&&r&&Ok(e),e.flags|=1,Wr(t,e,n,i),e.child)}function A8(t,e,n,r,i){if(vi(n)){var o=!0;Sx(e)}else o=!1;if(Wh(e,i),e.stateNode===null)F1(t,e),AN(e,n,r),vb(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=ho(c):(c=vi(n)?iu:Lr.current,c=fd(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&C8(e,s,r,c),nl=!1;var d=e.memoizedState;s.state=d,Rx(e,r,s,i),l=e.memoizedState,a!==r||d!==l||xi.current||nl?(typeof u=="function"&&(xb(e,n,u,r),l=e.memoizedState),(a=nl||w8(e,n,a,r,d,l,c))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,aN(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:To(e.type,a),s.props=c,h=e.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=ho(l):(l=vi(n)?iu:Lr.current,l=fd(e,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||d!==l)&&C8(e,s,r,l),nl=!1,d=e.memoizedState,s.state=d,Rx(e,r,s,i);var p=e.memoizedState;a!==h||d!==p||xi.current||nl?(typeof f=="function"&&(xb(e,n,f,r),p=e.memoizedState),(c=nl||w8(e,n,c,r,d,p,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return wb(t,e,n,r,o,i)}function wb(t,e,n,r,i,o){MN(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&f8(e,n,!1),pa(t,e,o);r=e.stateNode,VQ.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=md(e,t.child,null,o),e.child=md(e,null,a,o)):Wr(t,e,a,o),e.memoizedState=r.state,i&&f8(e,n,!0),e.child}function NN(t){var e=t.stateNode;e.pendingContext?d8(t,e.pendingContext,e.pendingContext!==e.context):e.context&&d8(t,e.context,!1),Hk(t,e.containerInfo)}function I8(t,e,n,r,i){return pd(),Fk(i),e.flags|=256,Wr(t,e,n,r),e.child}var Cb={dehydrated:null,treeContext:null,retryLane:0};function bb(t){return{baseLanes:t,cachePool:null,transitions:null}}function ON(t,e,n){var r=e.pendingProps,i=an.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ht(an,i&1),t===null)return mb(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=_y(s,r,0,null),t=Xc(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=bb(n),e.memoizedState=Cb,t):Xk(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return jQ(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ml(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Ml(a,o):(o=Xc(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?bb(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Cb,r}return o=t.child,t=o.sibling,r=Ml(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Xk(t,e){return e=_y({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Pg(t,e,n,r){return r!==null&&Fk(r),md(e,t.child,null,n),t=Xk(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function jQ(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Mw(Error(pe(422))),Pg(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=_y({mode:"visible",children:r.children},i,0,null),o=Xc(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&md(e,t.child,null,s),e.child.memoizedState=bb(s),e.memoizedState=Cb,o);if(!(e.mode&1))return Pg(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(pe(419)),r=Mw(o,r,void 0),Pg(t,e,s,r)}if(a=(s&t.childLanes)!==0,pi||a){if(r=tr,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,fa(t,i),Oo(r,t,i,-1))}return rT(),r=Mw(Error(pe(421))),Pg(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=ZQ.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Ni=Il(i.nextSibling),Fi=e,tn=!0,Po=null,t!==null&&(Xi[Yi++]=Ys,Xi[Yi++]=Zs,Xi[Yi++]=ou,Ys=t.id,Zs=t.overflow,ou=e),e=Xk(e,r.children),e.flags|=4096,e)}function R8(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),gb(t.return,e,n)}function Nw(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function LN(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Wr(t,e,r.children,n),r=an.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&R8(t,n,e);else if(t.tag===19)R8(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ht(an,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Px(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Nw(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Px(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Nw(e,!0,n,null,o);break;case"together":Nw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function F1(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function pa(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),au|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(pe(153));if(e.child!==null){for(t=e.child,n=Ml(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ml(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function zQ(t,e,n){switch(e.tag){case 3:NN(e),pd();break;case 5:lN(e);break;case 1:vi(e.type)&&Sx(e);break;case 4:Hk(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ht(Ax,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ht(an,an.current&1),e.flags|=128,null):n&e.child.childLanes?ON(t,e,n):(Ht(an,an.current&1),t=pa(t,e,n),t!==null?t.sibling:null);Ht(an,an.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return LN(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ht(an,an.current),r)break;return null;case 22:case 23:return e.lanes=0,DN(t,e,n)}return pa(t,e,n)}var FN,Eb,BN,VN;FN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Eb=function(){};BN=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Hc(ys.current);var o=null;switch(n){case"input":i=qC(t,i),r=qC(t,r),o=[];break;case"select":i=un({},i,{value:void 0}),r=un({},r,{value:void 0}),o=[];break;case"textarea":i=JC(t,i),r=JC(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=bx)}XC(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Kp.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Kp.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Jt("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};VN=function(t,e,n,r){n!==r&&(e.flags|=4)};function Tf(t,e){if(!tn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ar(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function $Q(t,e,n){var r=e.pendingProps;switch(Lk(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ar(e),null;case 1:return vi(e.type)&&Ex(),Ar(e),null;case 3:return r=e.stateNode,gd(),Xt(xi),Xt(Lr),Wk(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ig(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Po!==null&&(Db(Po),Po=null))),Eb(t,e),Ar(e),null;case 5:Uk(e);var i=Hc(o0.current);if(n=e.type,t!==null&&e.stateNode!=null)BN(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(pe(166));return Ar(e),null}if(t=Hc(ys.current),Ig(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[ss]=e,r[r0]=o,t=(e.mode&1)!==0,n){case"dialog":Jt("cancel",r),Jt("close",r);break;case"iframe":case"object":case"embed":Jt("load",r);break;case"video":case"audio":for(i=0;i<Qf.length;i++)Jt(Qf[i],r);break;case"source":Jt("error",r);break;case"img":case"image":case"link":Jt("error",r),Jt("load",r);break;case"details":Jt("toggle",r);break;case"input":V3(r,o),Jt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Jt("invalid",r);break;case"textarea":z3(r,o),Jt("invalid",r)}XC(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Ag(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Ag(r.textContent,a,t),i=["children",""+a]):Kp.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Jt("scroll",r)}switch(n){case"input":_g(r),j3(r,o,!0);break;case"textarea":_g(r),$3(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=bx)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=fM(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[ss]=e,t[r0]=r,FN(t,e,!1,!1),e.stateNode=t;e:{switch(s=YC(n,r),n){case"dialog":Jt("cancel",t),Jt("close",t),i=r;break;case"iframe":case"object":case"embed":Jt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Qf.length;i++)Jt(Qf[i],t);i=r;break;case"source":Jt("error",t),i=r;break;case"img":case"image":case"link":Jt("error",t),Jt("load",t),i=r;break;case"details":Jt("toggle",t),i=r;break;case"input":V3(t,r),i=qC(t,r),Jt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=un({},r,{value:void 0}),Jt("invalid",t);break;case"textarea":z3(t,r),i=JC(t,r),Jt("invalid",t);break;default:i=r}XC(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?gM(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&pM(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Gp(t,l):typeof l=="number"&&Gp(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Kp.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Jt("scroll",t):l!=null&&wk(t,o,l,s))}switch(n){case"input":_g(t),j3(t,r,!1);break;case"textarea":_g(t),$3(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Hl(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?zh(t,!!r.multiple,o,!1):r.defaultValue!=null&&zh(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=bx)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ar(e),null;case 6:if(t&&e.stateNode!=null)VN(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(pe(166));if(n=Hc(o0.current),Hc(ys.current),Ig(e)){if(r=e.stateNode,n=e.memoizedProps,r[ss]=e,(o=r.nodeValue!==n)&&(t=Fi,t!==null))switch(t.tag){case 3:Ag(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ag(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ss]=e,e.stateNode=r}return Ar(e),null;case 13:if(Xt(an),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(tn&&Ni!==null&&e.mode&1&&!(e.flags&128))rN(),pd(),e.flags|=98560,o=!1;else if(o=Ig(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(pe(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(pe(317));o[ss]=e}else pd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ar(e),o=!1}else Po!==null&&(Db(Po),Po=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||an.current&1?qn===0&&(qn=3):rT())),e.updateQueue!==null&&(e.flags|=4),Ar(e),null);case 4:return gd(),Eb(t,e),t===null&&t0(e.stateNode.containerInfo),Ar(e),null;case 10:return jk(e.type._context),Ar(e),null;case 17:return vi(e.type)&&Ex(),Ar(e),null;case 19:if(Xt(an),o=e.memoizedState,o===null)return Ar(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Tf(o,!1);else{if(qn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Px(t),s!==null){for(e.flags|=128,Tf(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ht(an,an.current&1|2),e.child}t=t.sibling}o.tail!==null&&Sn()>vd&&(e.flags|=128,r=!0,Tf(o,!1),e.lanes=4194304)}else{if(!r)if(t=Px(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Tf(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!tn)return Ar(e),null}else 2*Sn()-o.renderingStartTime>vd&&n!==1073741824&&(e.flags|=128,r=!0,Tf(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Sn(),e.sibling=null,n=an.current,Ht(an,r?n&1|2:n&1),e):(Ar(e),null);case 22:case 23:return nT(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ai&1073741824&&(Ar(e),e.subtreeFlags&6&&(e.flags|=8192)):Ar(e),null;case 24:return null;case 25:return null}throw Error(pe(156,e.tag))}function HQ(t,e){switch(Lk(e),e.tag){case 1:return vi(e.type)&&Ex(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return gd(),Xt(xi),Xt(Lr),Wk(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Uk(e),null;case 13:if(Xt(an),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(pe(340));pd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Xt(an),null;case 4:return gd(),null;case 10:return jk(e.type._context),null;case 22:case 23:return nT(),null;case 24:return null;default:return null}}var Dg=!1,Dr=!1,UQ=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function Mh(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){vn(t,e,r)}else n.current=null}function Sb(t,e,n){try{n()}catch(r){vn(t,e,r)}}var P8=!1;function WQ(t,e){if(lb=_x,t=UM(),Nk(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,h=t,d=null;t:for(;;){for(var f;h!==n||i!==0&&h.nodeType!==3||(a=s+i),h!==o||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===n&&++c===i&&(a=s),d===o&&++u===r&&(l=s),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(cb={focusedElem:t,selectionRange:n},_x=!1,Ie=e;Ie!==null;)if(e=Ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ie=t;else for(;Ie!==null;){e=Ie;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,x=p.memoizedState,v=e.stateNode,y=v.getSnapshotBeforeUpdate(e.elementType===e.type?m:To(e.type,m),x);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(pe(163))}}catch(C){vn(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,Ie=t;break}Ie=e.return}return p=P8,P8=!1,p}function wp(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&Sb(e,n,o)}i=i.next}while(i!==r)}}function vy(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function kb(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function jN(t){var e=t.alternate;e!==null&&(t.alternate=null,jN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ss],delete e[r0],delete e[db],delete e[TQ],delete e[AQ])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function zN(t){return t.tag===5||t.tag===3||t.tag===4}function D8(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||zN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Tb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=bx));else if(r!==4&&(t=t.child,t!==null))for(Tb(t,e,n),t=t.sibling;t!==null;)Tb(t,e,n),t=t.sibling}function Ab(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Ab(t,e,n),t=t.sibling;t!==null;)Ab(t,e,n),t=t.sibling}var ar=null,Io=!1;function Ua(t,e,n){for(n=n.child;n!==null;)$N(t,e,n),n=n.sibling}function $N(t,e,n){if(vs&&typeof vs.onCommitFiberUnmount=="function")try{vs.onCommitFiberUnmount(uy,n)}catch{}switch(n.tag){case 5:Dr||Mh(n,e);case 6:var r=ar,i=Io;ar=null,Ua(t,e,n),ar=r,Io=i,ar!==null&&(Io?(t=ar,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ar.removeChild(n.stateNode));break;case 18:ar!==null&&(Io?(t=ar,n=n.stateNode,t.nodeType===8?Tw(t.parentNode,n):t.nodeType===1&&Tw(t,n),Yp(t)):Tw(ar,n.stateNode));break;case 4:r=ar,i=Io,ar=n.stateNode.containerInfo,Io=!0,Ua(t,e,n),ar=r,Io=i;break;case 0:case 11:case 14:case 15:if(!Dr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&Sb(n,e,s),i=i.next}while(i!==r)}Ua(t,e,n);break;case 1:if(!Dr&&(Mh(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){vn(n,e,a)}Ua(t,e,n);break;case 21:Ua(t,e,n);break;case 22:n.mode&1?(Dr=(r=Dr)||n.memoizedState!==null,Ua(t,e,n),Dr=r):Ua(t,e,n);break;default:Ua(t,e,n)}}function M8(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new UQ),e.forEach(function(r){var i=eX.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function wo(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:ar=a.stateNode,Io=!1;break e;case 3:ar=a.stateNode.containerInfo,Io=!0;break e;case 4:ar=a.stateNode.containerInfo,Io=!0;break e}a=a.return}if(ar===null)throw Error(pe(160));$N(o,s,i),ar=null,Io=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){vn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)HN(e,t),e=e.sibling}function HN(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(wo(e,t),Zo(t),r&4){try{wp(3,t,t.return),vy(3,t)}catch(m){vn(t,t.return,m)}try{wp(5,t,t.return)}catch(m){vn(t,t.return,m)}}break;case 1:wo(e,t),Zo(t),r&512&&n!==null&&Mh(n,n.return);break;case 5:if(wo(e,t),Zo(t),r&512&&n!==null&&Mh(n,n.return),t.flags&32){var i=t.stateNode;try{Gp(i,"")}catch(m){vn(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&hM(i,o),YC(a,s);var c=YC(a,o);for(s=0;s<l.length;s+=2){var u=l[s],h=l[s+1];u==="style"?gM(i,h):u==="dangerouslySetInnerHTML"?pM(i,h):u==="children"?Gp(i,h):wk(i,u,h,c)}switch(a){case"input":KC(i,o);break;case"textarea":dM(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var f=o.value;f!=null?zh(i,!!o.multiple,f,!1):d!==!!o.multiple&&(o.defaultValue!=null?zh(i,!!o.multiple,o.defaultValue,!0):zh(i,!!o.multiple,o.multiple?[]:"",!1))}i[r0]=o}catch(m){vn(t,t.return,m)}}break;case 6:if(wo(e,t),Zo(t),r&4){if(t.stateNode===null)throw Error(pe(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(m){vn(t,t.return,m)}}break;case 3:if(wo(e,t),Zo(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Yp(e.containerInfo)}catch(m){vn(t,t.return,m)}break;case 4:wo(e,t),Zo(t);break;case 13:wo(e,t),Zo(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(eT=Sn())),r&4&&M8(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Dr=(c=Dr)||u,wo(e,t),Dr=c):wo(e,t),Zo(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Ie=t,u=t.child;u!==null;){for(h=Ie=u;Ie!==null;){switch(d=Ie,f=d.child,d.tag){case 0:case 11:case 14:case 15:wp(4,d,d.return);break;case 1:Mh(d,d.return);var p=d.stateNode;if(typeof p.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){vn(r,n,m)}}break;case 5:Mh(d,d.return);break;case 22:if(d.memoizedState!==null){O8(h);continue}}f!==null?(f.return=d,Ie=f):O8(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=mM("display",s))}catch(m){vn(t,t.return,m)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){vn(t,t.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:wo(e,t),Zo(t),r&4&&M8(t);break;case 21:break;default:wo(e,t),Zo(t)}}function Zo(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(zN(n)){var r=n;break e}n=n.return}throw Error(pe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Gp(i,""),r.flags&=-33);var o=D8(t);Ab(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=D8(t);Tb(t,a,s);break;default:throw Error(pe(161))}}catch(l){vn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function qQ(t,e,n){Ie=t,UN(t)}function UN(t,e,n){for(var r=(t.mode&1)!==0;Ie!==null;){var i=Ie,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Dg;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Dr;a=Dg;var c=Dr;if(Dg=s,(Dr=l)&&!c)for(Ie=i;Ie!==null;)s=Ie,l=s.child,s.tag===22&&s.memoizedState!==null?L8(i):l!==null?(l.return=s,Ie=l):L8(i);for(;o!==null;)Ie=o,UN(o),o=o.sibling;Ie=i,Dg=a,Dr=c}N8(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Ie=o):N8(t)}}function N8(t){for(;Ie!==null;){var e=Ie;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Dr||vy(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Dr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:To(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&v8(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}v8(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Yp(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(pe(163))}Dr||e.flags&512&&kb(e)}catch(d){vn(e,e.return,d)}}if(e===t){Ie=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ie=n;break}Ie=e.return}}function O8(t){for(;Ie!==null;){var e=Ie;if(e===t){Ie=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ie=n;break}Ie=e.return}}function L8(t){for(;Ie!==null;){var e=Ie;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{vy(4,e)}catch(l){vn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){vn(e,i,l)}}var o=e.return;try{kb(e)}catch(l){vn(e,o,l)}break;case 5:var s=e.return;try{kb(e)}catch(l){vn(e,s,l)}}}catch(l){vn(e,e.return,l)}if(e===t){Ie=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ie=a;break}Ie=e.return}}var KQ=Math.ceil,Nx=Ta.ReactCurrentDispatcher,Yk=Ta.ReactCurrentOwner,ao=Ta.ReactCurrentBatchConfig,Et=0,tr=null,Nn=null,vr=0,Ai=0,Nh=uc(0),qn=0,c0=null,au=0,yy=0,Zk=0,Cp=null,ui=null,eT=0,vd=1/0,Gs=null,Ox=!1,Ib=null,Pl=null,Mg=!1,xl=null,Lx=0,bp=0,Rb=null,B1=-1,V1=0;function Jr(){return Et&6?Sn():B1!==-1?B1:B1=Sn()}function Dl(t){return t.mode&1?Et&2&&vr!==0?vr&-vr:RQ.transition!==null?(V1===0&&(V1=AM()),V1):(t=Dt,t!==0||(t=window.event,t=t===void 0?16:OM(t.type)),t):1}function Oo(t,e,n,r){if(50<bp)throw bp=0,Rb=null,Error(pe(185));im(t,n,r),(!(Et&2)||t!==tr)&&(t===tr&&(!(Et&2)&&(yy|=n),qn===4&&ll(t,vr)),yi(t,r),n===1&&Et===0&&!(e.mode&1)&&(vd=Sn()+500,my&&hc()))}function yi(t,e){var n=t.callbackNode;RJ(t,e);var r=yx(t,t===tr?vr:0);if(r===0)n!==null&&W3(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&W3(n),e===1)t.tag===0?IQ(F8.bind(null,t)):eN(F8.bind(null,t)),SQ(function(){!(Et&6)&&hc()}),n=null;else{switch(IM(r)){case 1:n=kk;break;case 4:n=kM;break;case 16:n=vx;break;case 536870912:n=TM;break;default:n=vx}n=YN(n,WN.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function WN(t,e){if(B1=-1,V1=0,Et&6)throw Error(pe(327));var n=t.callbackNode;if(qh()&&t.callbackNode!==n)return null;var r=yx(t,t===tr?vr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Fx(t,r);else{e=r;var i=Et;Et|=2;var o=KN();(tr!==t||vr!==e)&&(Gs=null,vd=Sn()+500,Qc(t,e));do try{QQ();break}catch(a){qN(t,a)}while(!0);Vk(),Nx.current=o,Et=i,Nn!==null?e=0:(tr=null,vr=0,e=qn)}if(e!==0){if(e===2&&(i=rb(t),i!==0&&(r=i,e=Pb(t,i))),e===1)throw n=c0,Qc(t,0),ll(t,r),yi(t,Sn()),n;if(e===6)ll(t,r);else{if(i=t.current.alternate,!(r&30)&&!GQ(i)&&(e=Fx(t,r),e===2&&(o=rb(t),o!==0&&(r=o,e=Pb(t,o))),e===1))throw n=c0,Qc(t,0),ll(t,r),yi(t,Sn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(pe(345));case 2:Lc(t,ui,Gs);break;case 3:if(ll(t,r),(r&130023424)===r&&(e=eT+500-Sn(),10<e)){if(yx(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Jr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=hb(Lc.bind(null,t,ui,Gs),e);break}Lc(t,ui,Gs);break;case 4:if(ll(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-No(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Sn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*KQ(r/1960))-r,10<r){t.timeoutHandle=hb(Lc.bind(null,t,ui,Gs),r);break}Lc(t,ui,Gs);break;case 5:Lc(t,ui,Gs);break;default:throw Error(pe(329))}}}return yi(t,Sn()),t.callbackNode===n?WN.bind(null,t):null}function Pb(t,e){var n=Cp;return t.current.memoizedState.isDehydrated&&(Qc(t,e).flags|=256),t=Fx(t,e),t!==2&&(e=ui,ui=n,e!==null&&Db(e)),t}function Db(t){ui===null?ui=t:ui.push.apply(ui,t)}function GQ(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Vo(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ll(t,e){for(e&=~Zk,e&=~yy,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-No(e),r=1<<n;t[n]=-1,e&=~r}}function F8(t){if(Et&6)throw Error(pe(327));qh();var e=yx(t,0);if(!(e&1))return yi(t,Sn()),null;var n=Fx(t,e);if(t.tag!==0&&n===2){var r=rb(t);r!==0&&(e=r,n=Pb(t,r))}if(n===1)throw n=c0,Qc(t,0),ll(t,e),yi(t,Sn()),n;if(n===6)throw Error(pe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Lc(t,ui,Gs),yi(t,Sn()),null}function tT(t,e){var n=Et;Et|=1;try{return t(e)}finally{Et=n,Et===0&&(vd=Sn()+500,my&&hc())}}function lu(t){xl!==null&&xl.tag===0&&!(Et&6)&&qh();var e=Et;Et|=1;var n=ao.transition,r=Dt;try{if(ao.transition=null,Dt=1,t)return t()}finally{Dt=r,ao.transition=n,Et=e,!(Et&6)&&hc()}}function nT(){Ai=Nh.current,Xt(Nh)}function Qc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,EQ(n)),Nn!==null)for(n=Nn.return;n!==null;){var r=n;switch(Lk(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ex();break;case 3:gd(),Xt(xi),Xt(Lr),Wk();break;case 5:Uk(r);break;case 4:gd();break;case 13:Xt(an);break;case 19:Xt(an);break;case 10:jk(r.type._context);break;case 22:case 23:nT()}n=n.return}if(tr=t,Nn=t=Ml(t.current,null),vr=Ai=e,qn=0,c0=null,Zk=yy=au=0,ui=Cp=null,$c!==null){for(e=0;e<$c.length;e++)if(n=$c[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}$c=null}return t}function qN(t,e){do{var n=Nn;try{if(Vk(),O1.current=Mx,Dx){for(var r=cn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Dx=!1}if(su=0,Yn=zn=cn=null,_p=!1,s0=0,Yk.current=null,n===null||n.return===null){qn=1,c0=e,Nn=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=vr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=E8(s);if(f!==null){f.flags&=-257,S8(f,s,a,o,e),f.mode&1&&b8(o,c,e),e=f,l=c;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if(!(e&1)){b8(o,c,e),rT();break e}l=Error(pe(426))}}else if(tn&&a.mode&1){var x=E8(s);if(x!==null){!(x.flags&65536)&&(x.flags|=256),S8(x,s,a,o,e),Fk(xd(l,a));break e}}o=l=xd(l,a),qn!==4&&(qn=2),Cp===null?Cp=[o]:Cp.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var v=IN(o,l,e);x8(o,v);break e;case 1:a=l;var y=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Pl===null||!Pl.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var C=RN(o,a,e);x8(o,C);break e}}o=o.return}while(o!==null)}JN(n)}catch(S){e=S,Nn===n&&n!==null&&(Nn=n=n.return);continue}break}while(!0)}function KN(){var t=Nx.current;return Nx.current=Mx,t===null?Mx:t}function rT(){(qn===0||qn===3||qn===2)&&(qn=4),tr===null||!(au&268435455)&&!(yy&268435455)||ll(tr,vr)}function Fx(t,e){var n=Et;Et|=2;var r=KN();(tr!==t||vr!==e)&&(Gs=null,Qc(t,e));do try{JQ();break}catch(i){qN(t,i)}while(!0);if(Vk(),Et=n,Nx.current=r,Nn!==null)throw Error(pe(261));return tr=null,vr=0,qn}function JQ(){for(;Nn!==null;)GN(Nn)}function QQ(){for(;Nn!==null&&!wJ();)GN(Nn)}function GN(t){var e=XN(t.alternate,t,Ai);t.memoizedProps=t.pendingProps,e===null?JN(t):Nn=e,Yk.current=null}function JN(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=HQ(n,e),n!==null){n.flags&=32767,Nn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{qn=6,Nn=null;return}}else if(n=$Q(n,e,Ai),n!==null){Nn=n;return}if(e=e.sibling,e!==null){Nn=e;return}Nn=e=t}while(e!==null);qn===0&&(qn=5)}function Lc(t,e,n){var r=Dt,i=ao.transition;try{ao.transition=null,Dt=1,XQ(t,e,n,r)}finally{ao.transition=i,Dt=r}return null}function XQ(t,e,n,r){do qh();while(xl!==null);if(Et&6)throw Error(pe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(pe(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(PJ(t,o),t===tr&&(Nn=tr=null,vr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Mg||(Mg=!0,YN(vx,function(){return qh(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=ao.transition,ao.transition=null;var s=Dt;Dt=1;var a=Et;Et|=4,Yk.current=null,WQ(t,n),HN(n,t),xQ(cb),_x=!!lb,cb=lb=null,t.current=n,qQ(n),CJ(),Et=a,Dt=s,ao.transition=o}else t.current=n;if(Mg&&(Mg=!1,xl=t,Lx=i),o=t.pendingLanes,o===0&&(Pl=null),SJ(n.stateNode),yi(t,Sn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ox)throw Ox=!1,t=Ib,Ib=null,t;return Lx&1&&t.tag!==0&&qh(),o=t.pendingLanes,o&1?t===Rb?bp++:(bp=0,Rb=t):bp=0,hc(),null}function qh(){if(xl!==null){var t=IM(Lx),e=ao.transition,n=Dt;try{if(ao.transition=null,Dt=16>t?16:t,xl===null)var r=!1;else{if(t=xl,xl=null,Lx=0,Et&6)throw Error(pe(331));var i=Et;for(Et|=4,Ie=t.current;Ie!==null;){var o=Ie,s=o.child;if(Ie.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Ie=c;Ie!==null;){var u=Ie;switch(u.tag){case 0:case 11:case 15:wp(8,u,o)}var h=u.child;if(h!==null)h.return=u,Ie=h;else for(;Ie!==null;){u=Ie;var d=u.sibling,f=u.return;if(jN(u),u===c){Ie=null;break}if(d!==null){d.return=f,Ie=d;break}Ie=f}}}var p=o.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var x=m.sibling;m.sibling=null,m=x}while(m!==null)}}Ie=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Ie=s;else e:for(;Ie!==null;){if(o=Ie,o.flags&2048)switch(o.tag){case 0:case 11:case 15:wp(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,Ie=v;break e}Ie=o.return}}var y=t.current;for(Ie=y;Ie!==null;){s=Ie;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,Ie=_;else e:for(s=y;Ie!==null;){if(a=Ie,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:vy(9,a)}}catch(S){vn(a,a.return,S)}if(a===s){Ie=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,Ie=C;break e}Ie=a.return}}if(Et=i,hc(),vs&&typeof vs.onPostCommitFiberRoot=="function")try{vs.onPostCommitFiberRoot(uy,t)}catch{}r=!0}return r}finally{Dt=n,ao.transition=e}}return!1}function B8(t,e,n){e=xd(n,e),e=IN(t,e,1),t=Rl(t,e,1),e=Jr(),t!==null&&(im(t,1,e),yi(t,e))}function vn(t,e,n){if(t.tag===3)B8(t,t,n);else for(;e!==null;){if(e.tag===3){B8(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Pl===null||!Pl.has(r))){t=xd(n,t),t=RN(e,t,1),e=Rl(e,t,1),t=Jr(),e!==null&&(im(e,1,t),yi(e,t));break}}e=e.return}}function YQ(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Jr(),t.pingedLanes|=t.suspendedLanes&n,tr===t&&(vr&n)===n&&(qn===4||qn===3&&(vr&130023424)===vr&&500>Sn()-eT?Qc(t,0):Zk|=n),yi(t,e)}function QN(t,e){e===0&&(t.mode&1?(e=bg,bg<<=1,!(bg&130023424)&&(bg=4194304)):e=1);var n=Jr();t=fa(t,e),t!==null&&(im(t,e,n),yi(t,n))}function ZQ(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),QN(t,n)}function eX(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(pe(314))}r!==null&&r.delete(e),QN(t,n)}var XN;XN=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||xi.current)pi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return pi=!1,zQ(t,e,n);pi=!!(t.flags&131072)}else pi=!1,tn&&e.flags&1048576&&tN(e,Tx,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;F1(t,e),t=e.pendingProps;var i=fd(e,Lr.current);Wh(e,n),i=Kk(null,e,r,t,i,n);var o=Gk();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,vi(r)?(o=!0,Sx(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,$k(e),i.updater=xy,e.stateNode=i,i._reactInternals=e,vb(e,r,t,n),e=wb(null,e,r,!0,o,n)):(e.tag=0,tn&&o&&Ok(e),Wr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(F1(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=nX(r),t=To(r,t),i){case 0:e=_b(null,e,r,t,n);break e;case 1:e=A8(null,e,r,t,n);break e;case 11:e=k8(null,e,r,t,n);break e;case 14:e=T8(null,e,r,To(r.type,t),n);break e}throw Error(pe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:To(r,i),_b(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:To(r,i),A8(t,e,r,i,n);case 3:e:{if(NN(e),t===null)throw Error(pe(387));r=e.pendingProps,o=e.memoizedState,i=o.element,aN(t,e),Rx(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=xd(Error(pe(423)),e),e=I8(t,e,r,n,i);break e}else if(r!==i){i=xd(Error(pe(424)),e),e=I8(t,e,r,n,i);break e}else for(Ni=Il(e.stateNode.containerInfo.firstChild),Fi=e,tn=!0,Po=null,n=oN(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(pd(),r===i){e=pa(t,e,n);break e}Wr(t,e,r,n)}e=e.child}return e;case 5:return lN(e),t===null&&mb(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,ub(r,i)?s=null:o!==null&&ub(r,o)&&(e.flags|=32),MN(t,e),Wr(t,e,s,n),e.child;case 6:return t===null&&mb(e),null;case 13:return ON(t,e,n);case 4:return Hk(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=md(e,null,r,n):Wr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:To(r,i),k8(t,e,r,i,n);case 7:return Wr(t,e,e.pendingProps,n),e.child;case 8:return Wr(t,e,e.pendingProps.children,n),e.child;case 12:return Wr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Ht(Ax,r._currentValue),r._currentValue=s,o!==null)if(Vo(o.value,s)){if(o.children===i.children&&!xi.current){e=pa(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=sa(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),gb(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(pe(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),gb(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Wr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Wh(e,n),i=ho(i),r=r(i),e.flags|=1,Wr(t,e,r,n),e.child;case 14:return r=e.type,i=To(r,e.pendingProps),i=To(r.type,i),T8(t,e,r,i,n);case 15:return PN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:To(r,i),F1(t,e),e.tag=1,vi(r)?(t=!0,Sx(e)):t=!1,Wh(e,n),AN(e,r,i),vb(e,r,i,n),wb(null,e,r,!0,t,n);case 19:return LN(t,e,n);case 22:return DN(t,e,n)}throw Error(pe(156,e.tag))};function YN(t,e){return SM(t,e)}function tX(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ro(t,e,n,r){return new tX(t,e,n,r)}function iT(t){return t=t.prototype,!(!t||!t.isReactComponent)}function nX(t){if(typeof t=="function")return iT(t)?1:0;if(t!=null){if(t=t.$$typeof,t===bk)return 11;if(t===Ek)return 14}return 2}function Ml(t,e){var n=t.alternate;return n===null?(n=ro(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function j1(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")iT(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Eh:return Xc(n.children,i,o,e);case Ck:s=8,i|=8;break;case $C:return t=ro(12,n,e,i|2),t.elementType=$C,t.lanes=o,t;case HC:return t=ro(13,n,e,i),t.elementType=HC,t.lanes=o,t;case UC:return t=ro(19,n,e,i),t.elementType=UC,t.lanes=o,t;case lM:return _y(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case sM:s=10;break e;case aM:s=9;break e;case bk:s=11;break e;case Ek:s=14;break e;case tl:s=16,r=null;break e}throw Error(pe(130,t==null?t:typeof t,""))}return e=ro(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Xc(t,e,n,r){return t=ro(7,t,r,e),t.lanes=n,t}function _y(t,e,n,r){return t=ro(22,t,r,e),t.elementType=lM,t.lanes=n,t.stateNode={isHidden:!1},t}function Ow(t,e,n){return t=ro(6,t,null,e),t.lanes=n,t}function Lw(t,e,n){return e=ro(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function rX(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gw(0),this.expirationTimes=gw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gw(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function oT(t,e,n,r,i,o,s,a,l){return t=new rX(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=ro(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$k(o),t}function iX(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bh,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ZN(t){if(!t)return Ul;t=t._reactInternals;e:{if(Mu(t)!==t||t.tag!==1)throw Error(pe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(vi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(pe(171))}if(t.tag===1){var n=t.type;if(vi(n))return ZM(t,n,e)}return e}function eO(t,e,n,r,i,o,s,a,l){return t=oT(n,r,!0,t,i,o,s,a,l),t.context=ZN(null),n=t.current,r=Jr(),i=Dl(n),o=sa(r,i),o.callback=e??null,Rl(n,o,i),t.current.lanes=i,im(t,i,r),yi(t,r),t}function wy(t,e,n,r){var i=e.current,o=Jr(),s=Dl(i);return n=ZN(n),e.context===null?e.context=n:e.pendingContext=n,e=sa(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Rl(i,e,s),t!==null&&(Oo(t,i,s,o),N1(t,i,s)),s}function Bx(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function V8(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function sT(t,e){V8(t,e),(t=t.alternate)&&V8(t,e)}function oX(){return null}var tO=typeof reportError=="function"?reportError:function(t){console.error(t)};function aT(t){this._internalRoot=t}Cy.prototype.render=aT.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(pe(409));wy(t,e,null,null)};Cy.prototype.unmount=aT.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;lu(function(){wy(null,t,null,null)}),e[da]=null}};function Cy(t){this._internalRoot=t}Cy.prototype.unstable_scheduleHydration=function(t){if(t){var e=DM();t={blockedOn:null,target:t,priority:e};for(var n=0;n<al.length&&e!==0&&e<al[n].priority;n++);al.splice(n,0,t),n===0&&NM(t)}};function lT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function by(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function j8(){}function sX(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Bx(s);o.call(c)}}var s=eO(e,r,t,0,null,!1,!1,"",j8);return t._reactRootContainer=s,t[da]=s.current,t0(t.nodeType===8?t.parentNode:t),lu(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Bx(l);a.call(c)}}var l=oT(t,0,!1,null,null,!1,!1,"",j8);return t._reactRootContainer=l,t[da]=l.current,t0(t.nodeType===8?t.parentNode:t),lu(function(){wy(e,l,n,r)}),l}function Ey(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Bx(s);a.call(l)}}wy(e,s,t,i)}else s=sX(n,e,t,i,r);return Bx(s)}RM=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Jf(e.pendingLanes);n!==0&&(Tk(e,n|1),yi(e,Sn()),!(Et&6)&&(vd=Sn()+500,hc()))}break;case 13:lu(function(){var r=fa(t,1);if(r!==null){var i=Jr();Oo(r,t,1,i)}}),sT(t,1)}};Ak=function(t){if(t.tag===13){var e=fa(t,134217728);if(e!==null){var n=Jr();Oo(e,t,134217728,n)}sT(t,134217728)}};PM=function(t){if(t.tag===13){var e=Dl(t),n=fa(t,e);if(n!==null){var r=Jr();Oo(n,t,e,r)}sT(t,e)}};DM=function(){return Dt};MM=function(t,e){var n=Dt;try{return Dt=t,e()}finally{Dt=n}};eb=function(t,e,n){switch(e){case"input":if(KC(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=py(r);if(!i)throw Error(pe(90));uM(r),KC(r,i)}}}break;case"textarea":dM(t,n);break;case"select":e=n.value,e!=null&&zh(t,!!n.multiple,e,!1)}};yM=tT;_M=lu;var aX={usingClientEntryPoint:!1,Events:[sm,Ah,py,xM,vM,tT]},Af={findFiberByHostInstance:zc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lX={bundleType:Af.bundleType,version:Af.version,rendererPackageName:Af.rendererPackageName,rendererConfig:Af.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ta.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=bM(t),t===null?null:t.stateNode},findFiberByHostInstance:Af.findFiberByHostInstance||oX,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ng=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ng.isDisabled&&Ng.supportsFiber)try{uy=Ng.inject(lX),vs=Ng}catch{}}Hi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aX;Hi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lT(e))throw Error(pe(200));return iX(t,e,null,n)};Hi.createRoot=function(t,e){if(!lT(t))throw Error(pe(299));var n=!1,r="",i=tO;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=oT(t,1,!1,null,null,n,!1,r,i),t[da]=e.current,t0(t.nodeType===8?t.parentNode:t),new aT(e)};Hi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(pe(188)):(t=Object.keys(t).join(","),Error(pe(268,t)));return t=bM(e),t=t===null?null:t.stateNode,t};Hi.flushSync=function(t){return lu(t)};Hi.hydrate=function(t,e,n){if(!by(e))throw Error(pe(200));return Ey(null,t,e,!0,n)};Hi.hydrateRoot=function(t,e,n){if(!lT(t))throw Error(pe(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=tO;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=eO(e,null,t,1,n??null,i,!1,o,s),t[da]=e.current,t0(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Cy(e)};Hi.render=function(t,e,n){if(!by(e))throw Error(pe(200));return Ey(null,t,e,!1,n)};Hi.unmountComponentAtNode=function(t){if(!by(t))throw Error(pe(40));return t._reactRootContainer?(lu(function(){Ey(null,null,t,!1,function(){t._reactRootContainer=null,t[da]=null})}),!0):!1};Hi.unstable_batchedUpdates=tT;Hi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!by(n))throw Error(pe(200));if(t==null||t._reactInternals===void 0)throw Error(pe(38));return Ey(t,e,n,!1,r)};Hi.version="18.3.1-next-f1338f8080-20240426";function nO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nO)}catch(t){console.error(t)}}nO(),nM.exports=Hi;var jo=nM.exports;const rO=ly(jo),cX=H7({__proto__:null,default:rO},[jo]);var iO,z8=jo;iO=z8.createRoot,z8.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sn(){return sn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sn.apply(this,arguments)}var Dn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Dn||(Dn={}));const $8="popstate";function uX(t){t===void 0&&(t={});function e(i,o){let{pathname:s="/",search:a="",hash:l=""}=Aa(i.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),u0("",{pathname:s,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let s=i.document.querySelector("base"),a="";if(s&&s.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof o=="string"?o:uu(o))}function r(i,o){cu(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return dX(e,n,r,t)}function st(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function cu(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hX(){return Math.random().toString(36).substr(2,8)}function H8(t,e){return{usr:t.state,key:t.key,idx:e}}function u0(t,e,n,r){return n===void 0&&(n=null),sn({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Aa(e):e,{state:n,key:e&&e.key||r||hX()})}function uu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Aa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function dX(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Dn.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(sn({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function h(){a=Dn.Pop;let x=u(),v=x==null?null:x-c;c=x,l&&l({action:a,location:m.location,delta:v})}function d(x,v){a=Dn.Push;let y=u0(m.location,x,v);n&&n(y,x),c=u()+1;let _=H8(y,c),C=m.createHref(y);try{s.pushState(_,"",C)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(C)}o&&l&&l({action:a,location:m.location,delta:1})}function f(x,v){a=Dn.Replace;let y=u0(m.location,x,v);n&&n(y,x),c=u();let _=H8(y,c),C=m.createHref(y);s.replaceState(_,"",C),o&&l&&l({action:a,location:m.location,delta:0})}function p(x){let v=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof x=="string"?x:uu(x);return y=y.replace(/ $/,"%20"),st(v,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,v)}let m={get action(){return a},get location(){return t(i,s)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener($8,h),l=x,()=>{i.removeEventListener($8,h),l=null}},createHref(x){return e(i,x)},createURL:p,encodeLocation(x){let v=p(x);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:d,replace:f,go(x){return s.go(x)}};return m}var Nt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Nt||(Nt={}));const fX=new Set(["lazy","caseSensitive","path","id","index","children"]);function pX(t){return t.index===!0}function h0(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let s=[...n,String(o)],a=typeof i.id=="string"?i.id:s.join("-");if(st(i.index!==!0||!i.children,"Cannot specify children on an index route"),st(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),pX(i)){let l=sn({},i,e(i),{id:a});return r[a]=l,l}else{let l=sn({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=h0(i.children,e,s,r)),l}})}function Bc(t,e,n){return n===void 0&&(n="/"),z1(t,e,n,!1)}function z1(t,e,n,r){let i=typeof e=="string"?Aa(e):e,o=Ud(i.pathname||"/",n);if(o==null)return null;let s=oO(t);gX(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=TX(o);a=SX(s[l],c,r)}return a}function mX(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function oO(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(st(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=aa([r,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(st(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),oO(o.children,e,u,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:bX(c,o.index),routesMeta:u})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of sO(o.path))i(o,s,l)}),e}function sO(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=sO(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function gX(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:EX(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const xX=/^:[\w-]+$/,vX=3,yX=2,_X=1,wX=10,CX=-2,U8=t=>t==="*";function bX(t,e){let n=t.split("/"),r=n.length;return n.some(U8)&&(r+=CX),e&&(r+=yX),n.filter(i=>!U8(i)).reduce((i,o)=>i+(xX.test(o)?vX:o===""?_X:wX),r)}function EX(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function SX(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=o==="/"?e:e.slice(o.length)||"/",h=W8({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),d=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=W8({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(i,h.params),s.push({params:i,pathname:aa([o,h.pathname]),pathnameBase:RX(aa([o,h.pathnameBase])),route:d}),h.pathnameBase!=="/"&&(o=aa([o,h.pathnameBase]))}return s}function W8(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=kX(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,h)=>{let{paramName:d,isOptional:f}=u;if(d==="*"){let m=a[h]||"";s=o.slice(0,o.length-m.length).replace(/(.)\/+$/,"$1")}const p=a[h];return f&&!p?c[d]=void 0:c[d]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function kX(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),cu(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function TX(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return cu(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ud(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function AX(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Aa(t):t;return{pathname:n?n.startsWith("/")?n:IX(n,e):e,search:PX(r),hash:DX(i)}}function IX(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Fw(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function aO(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Sy(t,e){let n=aO(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function ky(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Aa(t):(i=sn({},t),st(!i.pathname||!i.pathname.includes("?"),Fw("?","pathname","search",i)),st(!i.pathname||!i.pathname.includes("#"),Fw("#","pathname","hash",i)),st(!i.search||!i.search.includes("#"),Fw("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let h=e.length-1;if(!r&&s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),h-=1;i.pathname=d.join("/")}a=h>=0?e[h]:"/"}let l=AX(i,a),c=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const aa=t=>t.join("/").replace(/\/\/+/g,"/"),RX=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),PX=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,DX=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Vx{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Ty(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const lO=["post","put","patch","delete"],MX=new Set(lO),NX=["get",...lO],OX=new Set(NX),LX=new Set([301,302,303,307,308]),FX=new Set([307,308]),Bw={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},BX={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},If={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},cT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,VX=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),cO="remix-router-transitions";function jX(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;st(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let z=t.detectErrorBoundary;i=W=>({hasErrorBoundary:z(W)})}else i=VX;let o={},s=h0(t.routes,i,void 0,o),a,l=t.basename||"/",c=t.unstable_dataStrategy||qX,u=t.unstable_patchRoutesOnNavigation,h=sn({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),d=null,f=new Set,p=1e3,m=new Set,x=null,v=null,y=null,_=t.hydrationData!=null,C=Bc(s,t.history.location,l),S=null;if(C==null&&!u){let z=Ur(404,{pathname:t.history.location.pathname}),{matches:W,route:ee}=e9(s);C=W,S={[ee.id]:z}}C&&!t.hydrationData&&mn(C,s,t.history.location.pathname).active&&(C=null);let k;if(C)if(C.some(z=>z.route.lazy))k=!1;else if(!C.some(z=>z.route.loader))k=!0;else if(h.v7_partialHydration){let z=t.hydrationData?t.hydrationData.loaderData:null,W=t.hydrationData?t.hydrationData.errors:null,ee=le=>le.route.loader?typeof le.route.loader=="function"&&le.route.loader.hydrate===!0?!1:z&&z[le.route.id]!==void 0||W&&W[le.route.id]!==void 0:!0;if(W){let le=C.findIndex(Ce=>W[Ce.route.id]!==void 0);k=C.slice(0,le+1).every(ee)}else k=C.every(ee)}else k=t.hydrationData!=null;else if(k=!1,C=[],h.v7_partialHydration){let z=mn(null,s,t.history.location.pathname);z.active&&z.matches&&(C=z.matches)}let b,w={historyAction:t.history.action,location:t.history.location,matches:C,initialized:k,navigation:Bw,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||S,fetchers:new Map,blockers:new Map},A=Dn.Pop,E=!1,R,D=!1,N=new Map,j=null,$=!1,Q=!1,X=[],q=new Set,H=new Map,L=0,U=-1,K=new Map,O=new Set,J=new Map,Ee=new Map,fe=new Set,ue=new Map,de=new Map,ze=new Map,Oe;function Be(){if(d=t.history.listen(z=>{let{action:W,location:ee,delta:le}=z;if(Oe){Oe(),Oe=void 0;return}cu(de.size===0||le!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ce=Vs({currentLocation:w.location,nextLocation:ee,historyAction:W});if(Ce&&le!=null){let Le=new Promise(Ue=>{Oe=Ue});t.history.go(le*-1),Ji(Ce,{state:"blocked",location:ee,proceed(){Ji(Ce,{state:"proceeding",proceed:void 0,reset:void 0,location:ee}),Le.then(()=>t.history.go(le))},reset(){let Ue=new Map(w.blockers);Ue.set(Ce,If),We({blockers:Ue})}});return}return dn(W,ee)}),n){aY(e,N);let z=()=>lY(e,N);e.addEventListener("pagehide",z),j=()=>e.removeEventListener("pagehide",z)}return w.initialized||dn(Dn.Pop,w.location,{initialHydration:!0}),b}function Qe(){d&&d(),j&&j(),f.clear(),R&&R.abort(),w.fetchers.forEach((z,W)=>Bn(W)),w.blockers.forEach((z,W)=>Fa(W))}function ct(z){return f.add(z),()=>f.delete(z)}function We(z,W){W===void 0&&(W={}),w=sn({},w,z);let ee=[],le=[];h.v7_fetcherPersist&&w.fetchers.forEach((Ce,Le)=>{Ce.state==="idle"&&(fe.has(Le)?le.push(Le):ee.push(Le))}),[...f].forEach(Ce=>Ce(w,{deletedFetchers:le,unstable_viewTransitionOpts:W.viewTransitionOpts,unstable_flushSync:W.flushSync===!0})),h.v7_fetcherPersist&&(ee.forEach(Ce=>w.fetchers.delete(Ce)),le.forEach(Ce=>Bn(Ce)))}function jt(z,W,ee){var le,Ce;let{flushSync:Le}=ee===void 0?{}:ee,Ue=w.actionData!=null&&w.navigation.formMethod!=null&&Ro(w.navigation.formMethod)&&w.navigation.state==="loading"&&((le=z.state)==null?void 0:le._isRedirect)!==!0,ge;W.actionData?Object.keys(W.actionData).length>0?ge=W.actionData:ge=null:Ue?ge=w.actionData:ge=null;let Ne=W.loaderData?Y8(w.loaderData,W.loaderData,W.matches||[],W.errors):w.loaderData,Re=w.blockers;Re.size>0&&(Re=new Map(Re),Re.forEach((Ct,Mt)=>Re.set(Mt,If)));let Me=E===!0||w.navigation.formMethod!=null&&Ro(w.navigation.formMethod)&&((Ce=z.state)==null?void 0:Ce._isRedirect)!==!0;a&&(s=a,a=void 0),$||A===Dn.Pop||(A===Dn.Push?t.history.push(z,z.state):A===Dn.Replace&&t.history.replace(z,z.state));let ft;if(A===Dn.Pop){let Ct=N.get(w.location.pathname);Ct&&Ct.has(z.pathname)?ft={currentLocation:w.location,nextLocation:z}:N.has(z.pathname)&&(ft={currentLocation:z,nextLocation:w.location})}else if(D){let Ct=N.get(w.location.pathname);Ct?Ct.add(z.pathname):(Ct=new Set([z.pathname]),N.set(w.location.pathname,Ct)),ft={currentLocation:w.location,nextLocation:z}}We(sn({},W,{actionData:ge,loaderData:Ne,historyAction:A,location:z,initialized:!0,navigation:Bw,revalidation:"idle",restoreScrollPosition:Va(z,W.matches||w.matches),preventScrollReset:Me,blockers:Re}),{viewTransitionOpts:ft,flushSync:Le===!0}),A=Dn.Pop,E=!1,D=!1,$=!1,Q=!1,X=[]}async function on(z,W){if(typeof z=="number"){t.history.go(z);return}let ee=Mb(w.location,w.matches,l,h.v7_prependBasename,z,h.v7_relativeSplatPath,W==null?void 0:W.fromRouteId,W==null?void 0:W.relative),{path:le,submission:Ce,error:Le}=q8(h.v7_normalizeFormMethod,!1,ee,W),Ue=w.location,ge=u0(w.location,le,W&&W.state);ge=sn({},ge,t.history.encodeLocation(ge));let Ne=W&&W.replace!=null?W.replace:void 0,Re=Dn.Push;Ne===!0?Re=Dn.Replace:Ne===!1||Ce!=null&&Ro(Ce.formMethod)&&Ce.formAction===w.location.pathname+w.location.search&&(Re=Dn.Replace);let Me=W&&"preventScrollReset"in W?W.preventScrollReset===!0:void 0,ft=(W&&W.unstable_flushSync)===!0,Ct=Vs({currentLocation:Ue,nextLocation:ge,historyAction:Re});if(Ct){Ji(Ct,{state:"blocked",location:ge,proceed(){Ji(Ct,{state:"proceeding",proceed:void 0,reset:void 0,location:ge}),on(z,W)},reset(){let Mt=new Map(w.blockers);Mt.set(Ct,If),We({blockers:Mt})}});return}return await dn(Re,ge,{submission:Ce,pendingError:Le,preventScrollReset:Me,replace:W&&W.replace,enableViewTransition:W&&W.unstable_viewTransition,flushSync:ft})}function Fn(){if($e(),We({revalidation:"loading"}),w.navigation.state!=="submitting"){if(w.navigation.state==="idle"){dn(w.historyAction,w.location,{startUninterruptedRevalidation:!0});return}dn(A||w.historyAction,w.navigation.location,{overrideNavigation:w.navigation,enableViewTransition:D===!0})}}async function dn(z,W,ee){R&&R.abort(),R=null,A=z,$=(ee&&ee.startUninterruptedRevalidation)===!0,$s(w.location,w.matches),E=(ee&&ee.preventScrollReset)===!0,D=(ee&&ee.enableViewTransition)===!0;let le=a||s,Ce=ee&&ee.overrideNavigation,Le=Bc(le,W,l),Ue=(ee&&ee.flushSync)===!0,ge=mn(Le,le,W.pathname);if(ge.active&&ge.matches&&(Le=ge.matches),!Le){let{error:ut,notFoundMatches:Rn,route:Wt}=js(W.pathname);jt(W,{matches:Rn,loaderData:{},errors:{[Wt.id]:ut}},{flushSync:Ue});return}if(w.initialized&&!Q&&YX(w.location,W)&&!(ee&&ee.submission&&Ro(ee.submission.formMethod))){jt(W,{matches:Le},{flushSync:Ue});return}R=new AbortController;let Ne=ih(t.history,W,R.signal,ee&&ee.submission),Re;if(ee&&ee.pendingError)Re=[Oh(Le).route.id,{type:Nt.error,error:ee.pendingError}];else if(ee&&ee.submission&&Ro(ee.submission.formMethod)){let ut=await Jn(Ne,W,ee.submission,Le,ge.active,{replace:ee.replace,flushSync:Ue});if(ut.shortCircuited)return;if(ut.pendingActionResult){let[Rn,Wt]=ut.pendingActionResult;if(Ri(Wt)&&Ty(Wt.error)&&Wt.error.status===404){R=null,jt(W,{matches:ut.matches,loaderData:{},errors:{[Rn]:Wt.error}});return}}Le=ut.matches||Le,Re=ut.pendingActionResult,Ce=Vw(W,ee.submission),Ue=!1,ge.active=!1,Ne=ih(t.history,Ne.url,Ne.signal)}let{shortCircuited:Me,matches:ft,loaderData:Ct,errors:Mt}=await Qn(Ne,W,Le,ge.active,Ce,ee&&ee.submission,ee&&ee.fetcherSubmission,ee&&ee.replace,ee&&ee.initialHydration===!0,Ue,Re);Me||(R=null,jt(W,sn({matches:ft||Le},Z8(Re),{loaderData:Ct,errors:Mt})))}async function Jn(z,W,ee,le,Ce,Le){Le===void 0&&(Le={}),$e();let Ue=oY(W,ee);if(We({navigation:Ue},{flushSync:Le.flushSync===!0}),Ce){let Re=await Yo(le,W.pathname,z.signal);if(Re.type==="aborted")return{shortCircuited:!0};if(Re.type==="error"){let{boundaryId:Me,error:ft}=li(W.pathname,Re);return{matches:Re.partialMatches,pendingActionResult:[Me,{type:Nt.error,error:ft}]}}else if(Re.matches)le=Re.matches;else{let{notFoundMatches:Me,error:ft,route:Ct}=js(W.pathname);return{matches:Me,pendingActionResult:[Ct.id,{type:Nt.error,error:ft}]}}}let ge,Ne=Xf(le,W);if(!Ne.route.action&&!Ne.route.lazy)ge={type:Nt.error,error:Ur(405,{method:z.method,pathname:W.pathname,routeId:Ne.route.id})};else if(ge=(await ie("action",w,z,[Ne],le,null))[Ne.route.id],z.signal.aborted)return{shortCircuited:!0};if(Uc(ge)){let Re;return Le&&Le.replace!=null?Re=Le.replace:Re=J8(ge.response.headers.get("Location"),new URL(z.url),l)===w.location.pathname+w.location.search,await Y(z,ge,!0,{submission:ee,replace:Re}),{shortCircuited:!0}}if(vl(ge))throw Ur(400,{type:"defer-action"});if(Ri(ge)){let Re=Oh(le,Ne.route.id);return(Le&&Le.replace)!==!0&&(A=Dn.Push),{matches:le,pendingActionResult:[Re.route.id,ge]}}return{matches:le,pendingActionResult:[Ne.route.id,ge]}}async function Qn(z,W,ee,le,Ce,Le,Ue,ge,Ne,Re,Me){let ft=Ce||Vw(W,Le),Ct=Le||Ue||n9(ft),Mt=!$&&(!h.v7_partialHydration||!Ne);if(le){if(Mt){let zt=fn(Me);We(sn({navigation:ft},zt!==void 0?{actionData:zt}:{}),{flushSync:Re})}let Ye=await Yo(ee,W.pathname,z.signal);if(Ye.type==="aborted")return{shortCircuited:!0};if(Ye.type==="error"){let{boundaryId:zt,error:Er}=li(W.pathname,Ye);return{matches:Ye.partialMatches,loaderData:{},errors:{[zt]:Er}}}else if(Ye.matches)ee=Ye.matches;else{let{error:zt,notFoundMatches:Er,route:qt}=js(W.pathname);return{matches:Er,loaderData:{},errors:{[qt.id]:zt}}}}let ut=a||s,[Rn,Wt]=K8(t.history,w,ee,Ct,W,h.v7_partialHydration&&Ne===!0,h.v7_skipActionErrorRevalidation,Q,X,q,fe,J,O,ut,l,Me);if(Ba(Ye=>!(ee&&ee.some(zt=>zt.route.id===Ye))||Rn&&Rn.some(zt=>zt.route.id===Ye)),U=++L,Rn.length===0&&Wt.length===0){let Ye=Ei();return jt(W,sn({matches:ee,loaderData:{},errors:Me&&Ri(Me[1])?{[Me[0]]:Me[1].error}:null},Z8(Me),Ye?{fetchers:new Map(w.fetchers)}:{}),{flushSync:Re}),{shortCircuited:!0}}if(Mt){let Ye={};if(!le){Ye.navigation=ft;let zt=fn(Me);zt!==void 0&&(Ye.actionData=zt)}Wt.length>0&&(Ye.fetchers=An(Wt)),We(Ye,{flushSync:Re})}Wt.forEach(Ye=>{H.has(Ye.key)&&Cn(Ye.key),Ye.controller&&H.set(Ye.key,Ye.controller)});let ja=()=>Wt.forEach(Ye=>Cn(Ye.key));R&&R.signal.addEventListener("abort",ja);let{loaderResults:Si,fetcherResults:Qi}=await V(w,ee,Rn,Wt,z);if(z.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",ja),Wt.forEach(Ye=>H.delete(Ye.key));let br=Og(Si);if(br)return await Y(z,br.result,!0,{replace:ge}),{shortCircuited:!0};if(br=Og(Qi),br)return O.add(br.key),await Y(z,br.result,!0,{replace:ge}),{shortCircuited:!0};let{loaderData:za,errors:vo}=X8(w,ee,Rn,Si,Me,Wt,Qi,ue);ue.forEach((Ye,zt)=>{Ye.subscribe(Er=>{(Er||Ye.done)&&ue.delete(zt)})}),h.v7_partialHydration&&Ne&&w.errors&&Object.entries(w.errors).filter(Ye=>{let[zt]=Ye;return!Rn.some(Er=>Er.route.id===zt)}).forEach(Ye=>{let[zt,Er]=Ye;vo=Object.assign(vo||{},{[zt]:Er})});let kc=Ei(),Tc=Vn(U),Ac=kc||Tc||Wt.length>0;return sn({matches:ee,loaderData:za,errors:vo},Ac?{fetchers:new Map(w.fetchers)}:{})}function fn(z){if(z&&!Ri(z[1]))return{[z[0]]:z[1].data};if(w.actionData)return Object.keys(w.actionData).length===0?null:w.actionData}function An(z){return z.forEach(W=>{let ee=w.fetchers.get(W.key),le=Rf(void 0,ee?ee.data:void 0);w.fetchers.set(W.key,le)}),new Map(w.fetchers)}function wn(z,W,ee,le){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");H.has(z)&&Cn(z);let Ce=(le&&le.unstable_flushSync)===!0,Le=a||s,Ue=Mb(w.location,w.matches,l,h.v7_prependBasename,ee,h.v7_relativeSplatPath,W,le==null?void 0:le.relative),ge=Bc(Le,Ue,l),Ne=mn(ge,Le,Ue);if(Ne.active&&Ne.matches&&(ge=Ne.matches),!ge){wt(z,W,Ur(404,{pathname:Ue}),{flushSync:Ce});return}let{path:Re,submission:Me,error:ft}=q8(h.v7_normalizeFormMethod,!0,Ue,le);if(ft){wt(z,W,ft,{flushSync:Ce});return}let Ct=Xf(ge,Re);if(E=(le&&le.preventScrollReset)===!0,Me&&Ro(Me.formMethod)){vt(z,W,Re,Ct,ge,Ne.active,Ce,Me);return}J.set(z,{routeId:W,path:Re}),Gi(z,W,Re,Ct,ge,Ne.active,Ce,Me)}async function vt(z,W,ee,le,Ce,Le,Ue,ge){$e(),J.delete(z);function Ne(qt){if(!qt.route.action&&!qt.route.lazy){let yo=Ur(405,{method:ge.formMethod,pathname:ee,routeId:W});return wt(z,W,yo,{flushSync:Ue}),!0}return!1}if(!Le&&Ne(le))return;let Re=w.fetchers.get(z);Xe(z,sY(ge,Re),{flushSync:Ue});let Me=new AbortController,ft=ih(t.history,ee,Me.signal,ge);if(Le){let qt=await Yo(Ce,ee,ft.signal);if(qt.type==="aborted")return;if(qt.type==="error"){let{error:yo}=li(ee,qt);wt(z,W,yo,{flushSync:Ue});return}else if(qt.matches){if(Ce=qt.matches,le=Xf(Ce,ee),Ne(le))return}else{wt(z,W,Ur(404,{pathname:ee}),{flushSync:Ue});return}}H.set(z,Me);let Ct=L,ut=(await ie("action",w,ft,[le],Ce,z))[le.route.id];if(ft.signal.aborted){H.get(z)===Me&&H.delete(z);return}if(h.v7_fetcherPersist&&fe.has(z)){if(Uc(ut)||Ri(ut)){Xe(z,Ya(void 0));return}}else{if(Uc(ut))if(H.delete(z),U>Ct){Xe(z,Ya(void 0));return}else return O.add(z),Xe(z,Rf(ge)),Y(ft,ut,!1,{fetcherSubmission:ge});if(Ri(ut)){wt(z,W,ut.error);return}}if(vl(ut))throw Ur(400,{type:"defer-action"});let Rn=w.navigation.location||w.location,Wt=ih(t.history,Rn,Me.signal),ja=a||s,Si=w.navigation.state!=="idle"?Bc(ja,w.navigation.location,l):w.matches;st(Si,"Didn't find any matches after fetcher action");let Qi=++L;K.set(z,Qi);let br=Rf(ge,ut.data);w.fetchers.set(z,br);let[za,vo]=K8(t.history,w,Si,ge,Rn,!1,h.v7_skipActionErrorRevalidation,Q,X,q,fe,J,O,ja,l,[le.route.id,ut]);vo.filter(qt=>qt.key!==z).forEach(qt=>{let yo=qt.key,sg=w.fetchers.get(yo),ag=Rf(void 0,sg?sg.data:void 0);w.fetchers.set(yo,ag),H.has(yo)&&Cn(yo),qt.controller&&H.set(yo,qt.controller)}),We({fetchers:new Map(w.fetchers)});let kc=()=>vo.forEach(qt=>Cn(qt.key));Me.signal.addEventListener("abort",kc);let{loaderResults:Tc,fetcherResults:Ac}=await V(w,Si,za,vo,Wt);if(Me.signal.aborted)return;Me.signal.removeEventListener("abort",kc),K.delete(z),H.delete(z),vo.forEach(qt=>H.delete(qt.key));let Ye=Og(Tc);if(Ye)return Y(Wt,Ye.result,!1);if(Ye=Og(Ac),Ye)return O.add(Ye.key),Y(Wt,Ye.result,!1);let{loaderData:zt,errors:Er}=X8(w,Si,za,Tc,void 0,vo,Ac,ue);if(w.fetchers.has(z)){let qt=Ya(ut.data);w.fetchers.set(z,qt)}Vn(Qi),w.navigation.state==="loading"&&Qi>U?(st(A,"Expected pending action"),R&&R.abort(),jt(w.navigation.location,{matches:Si,loaderData:zt,errors:Er,fetchers:new Map(w.fetchers)})):(We({errors:Er,loaderData:Y8(w.loaderData,zt,Si,Er),fetchers:new Map(w.fetchers)}),Q=!1)}async function Gi(z,W,ee,le,Ce,Le,Ue,ge){let Ne=w.fetchers.get(z);Xe(z,Rf(ge,Ne?Ne.data:void 0),{flushSync:Ue});let Re=new AbortController,Me=ih(t.history,ee,Re.signal);if(Le){let ut=await Yo(Ce,ee,Me.signal);if(ut.type==="aborted")return;if(ut.type==="error"){let{error:Rn}=li(ee,ut);wt(z,W,Rn,{flushSync:Ue});return}else if(ut.matches)Ce=ut.matches,le=Xf(Ce,ee);else{wt(z,W,Ur(404,{pathname:ee}),{flushSync:Ue});return}}H.set(z,Re);let ft=L,Mt=(await ie("loader",w,Me,[le],Ce,z))[le.route.id];if(vl(Mt)&&(Mt=await uT(Mt,Me.signal,!0)||Mt),H.get(z)===Re&&H.delete(z),!Me.signal.aborted){if(fe.has(z)){Xe(z,Ya(void 0));return}if(Uc(Mt))if(U>ft){Xe(z,Ya(void 0));return}else{O.add(z),await Y(Me,Mt,!1);return}if(Ri(Mt)){wt(z,W,Mt.error);return}st(!vl(Mt),"Unhandled fetcher deferred data"),Xe(z,Ya(Mt.data))}}async function Y(z,W,ee,le){let{submission:Ce,fetcherSubmission:Le,replace:Ue}=le===void 0?{}:le;W.response.headers.has("X-Remix-Revalidate")&&(Q=!0);let ge=W.response.headers.get("Location");st(ge,"Expected a Location header on the redirect Response"),ge=J8(ge,new URL(z.url),l);let Ne=u0(w.location,ge,{_isRedirect:!0});if(n){let ut=!1;if(W.response.headers.has("X-Remix-Reload-Document"))ut=!0;else if(cT.test(ge)){const Rn=t.history.createURL(ge);ut=Rn.origin!==e.location.origin||Ud(Rn.pathname,l)==null}if(ut){Ue?e.location.replace(ge):e.location.assign(ge);return}}R=null;let Re=Ue===!0||W.response.headers.has("X-Remix-Replace")?Dn.Replace:Dn.Push,{formMethod:Me,formAction:ft,formEncType:Ct}=w.navigation;!Ce&&!Le&&Me&&ft&&Ct&&(Ce=n9(w.navigation));let Mt=Ce||Le;if(FX.has(W.response.status)&&Mt&&Ro(Mt.formMethod))await dn(Re,Ne,{submission:sn({},Mt,{formAction:ge}),preventScrollReset:E,enableViewTransition:ee?D:void 0});else{let ut=Vw(Ne,Ce);await dn(Re,Ne,{overrideNavigation:ut,fetcherSubmission:Le,preventScrollReset:E,enableViewTransition:ee?D:void 0})}}async function ie(z,W,ee,le,Ce,Le){let Ue,ge={};try{Ue=await KX(c,z,W,ee,le,Ce,Le,o,i)}catch(Ne){return le.forEach(Re=>{ge[Re.route.id]={type:Nt.error,error:Ne}}),ge}for(let[Ne,Re]of Object.entries(Ue))if(eY(Re)){let Me=Re.result;ge[Ne]={type:Nt.redirect,response:QX(Me,ee,Ne,Ce,l,h.v7_relativeSplatPath)}}else ge[Ne]=await JX(Re);return ge}async function V(z,W,ee,le,Ce){let Le=z.matches,Ue=ie("loader",z,Ce,ee,W,null),ge=Promise.all(le.map(async Me=>{if(Me.matches&&Me.match&&Me.controller){let Ct=(await ie("loader",z,ih(t.history,Me.path,Me.controller.signal),[Me.match],Me.matches,Me.key))[Me.match.route.id];return{[Me.key]:Ct}}else return Promise.resolve({[Me.key]:{type:Nt.error,error:Ur(404,{pathname:Me.path})}})})),Ne=await Ue,Re=(await ge).reduce((Me,ft)=>Object.assign(Me,ft),{});return await Promise.all([rY(W,Ne,Ce.signal,Le,z.loaderData),iY(W,Re,le)]),{loaderResults:Ne,fetcherResults:Re}}function $e(){Q=!0,X.push(...Ba()),J.forEach((z,W)=>{H.has(W)&&(q.add(W),Cn(W))})}function Xe(z,W,ee){ee===void 0&&(ee={}),w.fetchers.set(z,W),We({fetchers:new Map(w.fetchers)},{flushSync:(ee&&ee.flushSync)===!0})}function wt(z,W,ee,le){le===void 0&&(le={});let Ce=Oh(w.matches,W);Bn(z),We({errors:{[Ce.route.id]:ee},fetchers:new Map(w.fetchers)},{flushSync:(le&&le.flushSync)===!0})}function pn(z){return h.v7_fetcherPersist&&(Ee.set(z,(Ee.get(z)||0)+1),fe.has(z)&&fe.delete(z)),w.fetchers.get(z)||BX}function Bn(z){let W=w.fetchers.get(z);H.has(z)&&!(W&&W.state==="loading"&&K.has(z))&&Cn(z),J.delete(z),K.delete(z),O.delete(z),fe.delete(z),q.delete(z),w.fetchers.delete(z)}function bi(z){if(h.v7_fetcherPersist){let W=(Ee.get(z)||0)-1;W<=0?(Ee.delete(z),fe.add(z)):Ee.set(z,W)}else Bn(z);We({fetchers:new Map(w.fetchers)})}function Cn(z){let W=H.get(z);st(W,"Expected fetch controller: "+z),W.abort(),H.delete(z)}function In(z){for(let W of z){let ee=pn(W),le=Ya(ee.data);w.fetchers.set(W,le)}}function Ei(){let z=[],W=!1;for(let ee of O){let le=w.fetchers.get(ee);st(le,"Expected fetcher: "+ee),le.state==="loading"&&(O.delete(ee),z.push(ee),W=!0)}return In(z),W}function Vn(z){let W=[];for(let[ee,le]of K)if(le<z){let Ce=w.fetchers.get(ee);st(Ce,"Expected fetcher: "+ee),Ce.state==="loading"&&(Cn(ee),K.delete(ee),W.push(ee))}return In(W),W.length>0}function Yu(z,W){let ee=w.blockers.get(z)||If;return de.get(z)!==W&&de.set(z,W),ee}function Fa(z){w.blockers.delete(z),de.delete(z)}function Ji(z,W){let ee=w.blockers.get(z)||If;st(ee.state==="unblocked"&&W.state==="blocked"||ee.state==="blocked"&&W.state==="blocked"||ee.state==="blocked"&&W.state==="proceeding"||ee.state==="blocked"&&W.state==="unblocked"||ee.state==="proceeding"&&W.state==="unblocked","Invalid blocker state transition: "+ee.state+" -> "+W.state);let le=new Map(w.blockers);le.set(z,W),We({blockers:le})}function Vs(z){let{currentLocation:W,nextLocation:ee,historyAction:le}=z;if(de.size===0)return;de.size>1&&cu(!1,"A router only supports one blocker at a time");let Ce=Array.from(de.entries()),[Le,Ue]=Ce[Ce.length-1],ge=w.blockers.get(Le);if(!(ge&&ge.state==="proceeding")&&Ue({currentLocation:W,nextLocation:ee,historyAction:le}))return Le}function js(z){let W=Ur(404,{pathname:z}),ee=a||s,{matches:le,route:Ce}=e9(ee);return Ba(),{notFoundMatches:le,route:Ce,error:W}}function li(z,W){return{boundaryId:Oh(W.partialMatches).route.id,error:Ur(400,{type:"route-discovery",pathname:z,message:W.error!=null&&"message"in W.error?W.error:String(W.error)})}}function Ba(z){let W=[];return ue.forEach((ee,le)=>{(!z||z(le))&&(ee.cancel(),W.push(le),ue.delete(le))}),W}function zs(z,W,ee){if(x=z,y=W,v=ee||null,!_&&w.navigation===Bw){_=!0;let le=Va(w.location,w.matches);le!=null&&We({restoreScrollPosition:le})}return()=>{x=null,y=null,v=null}}function Sc(z,W){return v&&v(z,W.map(le=>mX(le,w.loaderData)))||z.key}function $s(z,W){if(x&&y){let ee=Sc(z,W);x[ee]=y()}}function Va(z,W){if(x){let ee=Sc(z,W),le=x[ee];if(typeof le=="number")return le}return null}function mn(z,W,ee){if(u){if(m.has(ee))return{active:!1,matches:z};if(z){if(Object.keys(z[0].params).length>0)return{active:!0,matches:z1(W,ee,l,!0)}}else return{active:!0,matches:z1(W,ee,l,!0)||[]}}return{active:!1,matches:null}}async function Yo(z,W,ee){let le=z;for(;;){let Ce=a==null,Le=a||s;try{await UX(u,W,le,Le,o,i,ze,ee)}catch(Ne){return{type:"error",error:Ne,partialMatches:le}}finally{Ce&&(s=[...s])}if(ee.aborted)return{type:"aborted"};let Ue=Bc(Le,W,l);if(Ue)return gn(W,m),{type:"success",matches:Ue};let ge=z1(Le,W,l,!0);if(!ge||le.length===ge.length&&le.every((Ne,Re)=>Ne.route.id===ge[Re].route.id))return gn(W,m),{type:"success",matches:null};le=ge}}function gn(z,W){if(W.size>=p){let ee=W.values().next().value;W.delete(ee)}W.add(z)}function Cr(z){o={},a=h0(z,i,void 0,o)}function Zu(z,W){let ee=a==null;hO(z,W,a||s,o,i),ee&&(s=[...s],We({}))}return b={get basename(){return l},get future(){return h},get state(){return w},get routes(){return s},get window(){return e},initialize:Be,subscribe:ct,enableScrollRestoration:zs,navigate:on,fetch:wn,revalidate:Fn,createHref:z=>t.history.createHref(z),encodeLocation:z=>t.history.encodeLocation(z),getFetcher:pn,deleteFetcher:bi,dispose:Qe,getBlocker:Yu,deleteBlocker:Fa,patchRoutes:Zu,_internalFetchControllers:H,_internalActiveDeferreds:ue,_internalSetRoutes:Cr},b}function zX(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Mb(t,e,n,r,i,o,s,a){let l,c;if(s){l=[];for(let h of e)if(l.push(h),h.route.id===s){c=h;break}}else l=e,c=e[e.length-1];let u=ky(i||".",Sy(l,o),Ud(t.pathname,n)||t.pathname,a==="path");return i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&c&&c.route.index&&!hT(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:aa([n,u.pathname])),uu(u)}function q8(t,e,n,r){if(!r||!zX(r))return{path:n};if(r.formMethod&&!nY(r.formMethod))return{path:n,error:Ur(405,{method:r.formMethod})};let i=()=>({path:n,error:Ur(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=t?o.toUpperCase():o.toLowerCase(),a=dO(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Ro(s))return i();let d=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((f,p)=>{let[m,x]=p;return""+f+m+"="+x+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:d}}}else if(r.formEncType==="application/json"){if(!Ro(s))return i();try{let d=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:d,text:void 0}}}catch{return i()}}}st(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=Nb(r.formData),c=r.formData;else if(r.body instanceof FormData)l=Nb(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=Q8(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=Q8(l)}catch{return i()}let u={formMethod:s,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Ro(u.formMethod))return{path:n,submission:u};let h=Aa(n);return e&&h.search&&hT(h.search)&&l.append("index",""),h.search="?"+l,{path:uu(h),submission:u}}function $X(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function K8(t,e,n,r,i,o,s,a,l,c,u,h,d,f,p,m){let x=m?Ri(m[1])?m[1].error:m[1].data:void 0,v=t.createURL(e.location),y=t.createURL(i),_=m&&Ri(m[1])?m[0]:void 0,C=_?$X(n,_):n,S=m?m[1].statusCode:void 0,k=s&&S&&S>=400,b=C.filter((A,E)=>{let{route:R}=A;if(R.lazy)return!0;if(R.loader==null)return!1;if(o)return typeof R.loader!="function"||R.loader.hydrate?!0:e.loaderData[R.id]===void 0&&(!e.errors||e.errors[R.id]===void 0);if(HX(e.loaderData,e.matches[E],A)||l.some(j=>j===A.route.id))return!0;let D=e.matches[E],N=A;return G8(A,sn({currentUrl:v,currentParams:D.params,nextUrl:y,nextParams:N.params},r,{actionResult:x,actionStatus:S,defaultShouldRevalidate:k?!1:a||v.pathname+v.search===y.pathname+y.search||v.search!==y.search||uO(D,N)}))}),w=[];return h.forEach((A,E)=>{if(o||!n.some($=>$.route.id===A.routeId)||u.has(E))return;let R=Bc(f,A.path,p);if(!R){w.push({key:E,routeId:A.routeId,path:A.path,matches:null,match:null,controller:null});return}let D=e.fetchers.get(E),N=Xf(R,A.path),j=!1;d.has(E)?j=!1:c.has(E)?(c.delete(E),j=!0):D&&D.state!=="idle"&&D.data===void 0?j=a:j=G8(N,sn({currentUrl:v,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:x,actionStatus:S,defaultShouldRevalidate:k?!1:a})),j&&w.push({key:E,routeId:A.routeId,path:A.path,matches:R,match:N,controller:new AbortController})}),[b,w]}function HX(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function uO(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function G8(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function UX(t,e,n,r,i,o,s,a){let l=[e,...n.map(c=>c.route.id)].join("-");try{let c=s.get(l);c||(c=t({path:e,matches:n,patch:(u,h)=>{a.aborted||hO(u,h,r,i,o)}}),s.set(l,c)),c&&ZX(c)&&await c}finally{s.delete(l)}}function hO(t,e,n,r,i){if(t){var o;let s=r[t];st(s,"No route found to patch children into: routeId = "+t);let a=h0(e,i,[t,"patch",String(((o=s.children)==null?void 0:o.length)||"0")],r);s.children?s.children.push(...a):s.children=a}else{let s=h0(e,i,["patch",String(n.length||"0")],r);n.push(...s)}}async function WX(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];st(i,"No route found in manifest");let o={};for(let s in r){let l=i[s]!==void 0&&s!=="hasErrorBoundary";cu(!l,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!fX.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,sn({},e(i),{lazy:void 0}))}async function qX(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,o,s)=>Object.assign(i,{[n[s].route.id]:o}),{})}async function KX(t,e,n,r,i,o,s,a,l,c){let u=o.map(f=>f.route.lazy?WX(f.route,l,a):void 0),h=o.map((f,p)=>{let m=u[p],x=i.some(y=>y.route.id===f.route.id);return sn({},f,{shouldLoad:x,resolve:async y=>(y&&r.method==="GET"&&(f.route.lazy||f.route.loader)&&(x=!0),x?GX(e,r,f,m,y,c):Promise.resolve({type:Nt.data,result:void 0}))})}),d=await t({matches:h,request:r,params:o[0].params,fetcherKey:s,context:c});try{await Promise.all(u)}catch{}return d}async function GX(t,e,n,r,i,o){let s,a,l=c=>{let u,h=new Promise((p,m)=>u=m);a=()=>u(),e.signal.addEventListener("abort",a);let d=p=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:o},...p!==void 0?[p]:[]),f=(async()=>{try{return{type:"data",result:await(i?i(m=>d(m)):d())}}catch(p){return{type:"error",result:p}}})();return Promise.race([f,h])};try{let c=n.route[t];if(r)if(c){let u,[h]=await Promise.all([l(c).catch(d=>{u=d}),r]);if(u!==void 0)throw u;s=h}else if(await r,c=n.route[t],c)s=await l(c);else if(t==="action"){let u=new URL(e.url),h=u.pathname+u.search;throw Ur(405,{method:e.method,pathname:h,routeId:n.route.id})}else return{type:Nt.data,result:void 0};else if(c)s=await l(c);else{let u=new URL(e.url),h=u.pathname+u.search;throw Ur(404,{pathname:h})}st(s.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:Nt.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return s}async function JX(t){let{result:e,type:n}=t;if(fO(e)){let c;try{let u=e.headers.get("Content-Type");u&&/\bapplication\/json\b/.test(u)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(u){return{type:Nt.error,error:u}}return n===Nt.error?{type:Nt.error,error:new Vx(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:Nt.data,data:c,statusCode:e.status,headers:e.headers}}if(n===Nt.error){if(t9(e)){var r;if(e.data instanceof Error){var i;return{type:Nt.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new Vx(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:Nt.error,error:e,statusCode:Ty(e)?e.status:void 0}}if(tY(e)){var o,s;return{type:Nt.deferred,deferredData:e,statusCode:(o=e.init)==null?void 0:o.status,headers:((s=e.init)==null?void 0:s.headers)&&new Headers(e.init.headers)}}if(t9(e)){var a,l;return{type:Nt.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:Nt.data,data:e}}function QX(t,e,n,r,i,o){let s=t.headers.get("Location");if(st(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!cT.test(s)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);s=Mb(new URL(e.url),a,i,!0,s,o),t.headers.set("Location",s)}return t}function J8(t,e,n){if(cT.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=Ud(i.pathname,n)!=null;if(i.origin===e.origin&&o)return i.pathname+i.search+i.hash}return t}function ih(t,e,n,r){let i=t.createURL(dO(e)).toString(),o={signal:n};if(r&&Ro(r.formMethod)){let{formMethod:s,formEncType:a}=r;o.method=s.toUpperCase(),a==="application/json"?(o.headers=new Headers({"Content-Type":a}),o.body=JSON.stringify(r.json)):a==="text/plain"?o.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?o.body=Nb(r.formData):o.body=r.formData}return new Request(i,o)}function Nb(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Q8(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function XX(t,e,n,r,i){let o={},s=null,a,l=!1,c={},u=n&&Ri(n[1])?n[1].error:void 0;return t.forEach(h=>{if(!(h.route.id in e))return;let d=h.route.id,f=e[d];if(st(!Uc(f),"Cannot handle redirect results in processLoaderData"),Ri(f)){let p=f.error;u!==void 0&&(p=u,u=void 0),s=s||{};{let m=Oh(t,d);s[m.route.id]==null&&(s[m.route.id]=p)}o[d]=void 0,l||(l=!0,a=Ty(f.error)?f.error.status:500),f.headers&&(c[d]=f.headers)}else vl(f)?(r.set(d,f.deferredData),o[d]=f.deferredData.data,f.statusCode!=null&&f.statusCode!==200&&!l&&(a=f.statusCode),f.headers&&(c[d]=f.headers)):(o[d]=f.data,f.statusCode&&f.statusCode!==200&&!l&&(a=f.statusCode),f.headers&&(c[d]=f.headers))}),u!==void 0&&n&&(s={[n[0]]:u},o[n[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:c}}function X8(t,e,n,r,i,o,s,a){let{loaderData:l,errors:c}=XX(e,r,i,a);return o.forEach(u=>{let{key:h,match:d,controller:f}=u,p=s[h];if(st(p,"Did not find corresponding fetcher result"),!(f&&f.signal.aborted))if(Ri(p)){let m=Oh(t.matches,d==null?void 0:d.route.id);c&&c[m.route.id]||(c=sn({},c,{[m.route.id]:p.error})),t.fetchers.delete(h)}else if(Uc(p))st(!1,"Unhandled fetcher revalidation redirect");else if(vl(p))st(!1,"Unhandled fetcher deferred data");else{let m=Ya(p.data);t.fetchers.set(h,m)}}),{loaderData:l,errors:c}}function Y8(t,e,n,r){let i=sn({},e);for(let o of n){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&o.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function Z8(t){return t?Ri(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Oh(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function e9(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Ur(t,e){let{pathname:n,routeId:r,method:i,type:o,message:s}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",o==="route-discovery"?l='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+s):i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?l="defer() is not supported in actions":o==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new Vx(t||500,a,new Error(l),!0)}function Og(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(Uc(i))return{key:r,result:i}}}function dO(t){let e=typeof t=="string"?Aa(t):t;return uu(sn({},e,{hash:""}))}function YX(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function ZX(t){return typeof t=="object"&&t!=null&&"then"in t}function eY(t){return fO(t.result)&&LX.has(t.result.status)}function vl(t){return t.type===Nt.deferred}function Ri(t){return t.type===Nt.error}function Uc(t){return(t&&t.type)===Nt.redirect}function t9(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function tY(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function fO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function nY(t){return OX.has(t.toLowerCase())}function Ro(t){return MX.has(t.toLowerCase())}async function rY(t,e,n,r,i){let o=Object.entries(e);for(let s=0;s<o.length;s++){let[a,l]=o[s],c=t.find(d=>(d==null?void 0:d.route.id)===a);if(!c)continue;let u=r.find(d=>d.route.id===c.route.id),h=u!=null&&!uO(u,c)&&(i&&i[c.route.id])!==void 0;vl(l)&&h&&await uT(l,n,!1).then(d=>{d&&(e[a]=d)})}}async function iY(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:o,controller:s}=n[r],a=e[i];t.find(c=>(c==null?void 0:c.route.id)===o)&&vl(a)&&(st(s,"Expected an AbortController for revalidating fetcher deferred result"),await uT(a,s.signal,!0).then(c=>{c&&(e[i]=c)}))}}async function uT(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Nt.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Nt.error,error:i}}return{type:Nt.data,data:t.deferredData.data}}}function hT(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Xf(t,e){let n=typeof e=="string"?Aa(e).search:e.search;if(t[t.length-1].route.index&&hT(n||""))return t[t.length-1];let r=aO(t);return r[r.length-1]}function n9(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:s}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function Vw(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function oY(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Rf(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function sY(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Ya(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function aY(t,e){try{let n=t.sessionStorage.getItem(cO);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function lY(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(cO,JSON.stringify(n))}catch(r){cu(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jx(){return jx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jx.apply(this,arguments)}const Ay=T.createContext(null),pO=T.createContext(null),dc=T.createContext(null),dT=T.createContext(null),fc=T.createContext({outlet:null,matches:[],isDataRoute:!1}),mO=T.createContext(null);function cY(t,e){let{relative:n}=e===void 0?{}:e;Wd()||st(!1);let{basename:r,navigator:i}=T.useContext(dc),{hash:o,pathname:s,search:a}=xO(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:aa([r,s])),i.createHref({pathname:l,search:a,hash:o})}function Wd(){return T.useContext(dT)!=null}function lm(){return Wd()||st(!1),T.useContext(dT).location}function gO(t){T.useContext(dc).static||T.useLayoutEffect(t)}function fT(){let{isDataRoute:t}=T.useContext(fc);return t?_Y():uY()}function uY(){Wd()||st(!1);let t=T.useContext(Ay),{basename:e,future:n,navigator:r}=T.useContext(dc),{matches:i}=T.useContext(fc),{pathname:o}=lm(),s=JSON.stringify(Sy(i,n.v7_relativeSplatPath)),a=T.useRef(!1);return gO(()=>{a.current=!0}),T.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=ky(c,JSON.parse(s),o,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:aa([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,s,o,t])}function xO(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=T.useContext(dc),{matches:i}=T.useContext(fc),{pathname:o}=lm(),s=JSON.stringify(Sy(i,r.v7_relativeSplatPath));return T.useMemo(()=>ky(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function hY(t,e,n,r){Wd()||st(!1);let{navigator:i}=T.useContext(dc),{matches:o}=T.useContext(fc),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=lm(),u;u=c;let h=u.pathname||"/",d=h;if(l!=="/"){let m=l.replace(/^\//,"").split("/");d="/"+h.replace(/^\//,"").split("/").slice(m.length).join("/")}let f=Bc(t,{pathname:d});return gY(f&&f.map(m=>Object.assign({},m,{params:Object.assign({},a,m.params),pathname:aa([l,i.encodeLocation?i.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?l:aa([l,i.encodeLocation?i.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),o,n,r)}function dY(){let t=_O(),e=Ty(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,null)}const fY=T.createElement(dY,null);class pY extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?T.createElement(fc.Provider,{value:this.props.routeContext},T.createElement(mO.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mY(t){let{routeContext:e,match:n,children:r}=t,i=T.useContext(Ay);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(fc.Provider,{value:e},r)}function gY(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=s.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||st(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let h=s[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:d,errors:f}=n,p=h.route.loader&&d[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||p){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,h,d)=>{let f,p=!1,m=null,x=null;n&&(f=a&&h.route.id?a[h.route.id]:void 0,m=h.route.errorElement||fY,l&&(c<0&&d===0?(p=!0,x=null):c===d&&(p=!0,x=h.route.hydrateFallbackElement||null)));let v=e.concat(s.slice(0,d+1)),y=()=>{let _;return f?_=m:p?_=x:h.route.Component?_=T.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=u,T.createElement(mY,{match:h,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:_})};return n&&(h.route.ErrorBoundary||h.route.errorElement||d===0)?T.createElement(pY,{location:n.location,revalidation:n.revalidation,component:m,error:f,children:y(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):y()},null)}var vO=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(vO||{}),zx=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(zx||{});function xY(t){let e=T.useContext(Ay);return e||st(!1),e}function vY(t){let e=T.useContext(pO);return e||st(!1),e}function yY(t){let e=T.useContext(fc);return e||st(!1),e}function yO(t){let e=yY(),n=e.matches[e.matches.length-1];return n.route.id||st(!1),n.route.id}function _O(){var t;let e=T.useContext(mO),n=vY(zx.UseRouteError),r=yO(zx.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function _Y(){let{router:t}=xY(vO.UseNavigateStable),e=yO(zx.UseNavigateStable),n=T.useRef(!1);return gO(()=>{n.current=!0}),T.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,jx({fromRouteId:e},o)))},[t,e])}function wO(t){let{to:e,replace:n,state:r,relative:i}=t;Wd()||st(!1);let{future:o,static:s}=T.useContext(dc),{matches:a}=T.useContext(fc),{pathname:l}=lm(),c=fT(),u=ky(e,Sy(a,o.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(u);return T.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:i}),[c,h,i,n,r]),null}function wY(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Dn.Pop,navigator:o,static:s=!1,future:a}=t;Wd()&&st(!1);let l=e.replace(/^\/*/,"/"),c=T.useMemo(()=>({basename:l,navigator:o,static:s,future:jx({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=Aa(r));let{pathname:u="/",search:h="",hash:d="",state:f=null,key:p="default"}=r,m=T.useMemo(()=>{let x=Ud(u,l);return x==null?null:{location:{pathname:x,search:h,hash:d,state:f,key:p},navigationType:i}},[l,u,h,d,f,p,i]);return m==null?null:T.createElement(dc.Provider,{value:c},T.createElement(dT.Provider,{children:n,value:m}))}new Promise(()=>{});function CY(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:T.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:T.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:T.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function d0(){return d0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d0.apply(this,arguments)}function bY(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function EY(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function SY(t,e){return t.button===0&&(!e||e==="_self")&&!EY(t)}const kY=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],TY="6";try{window.__reactRouterVersion=TY}catch{}function AY(t,e){return jX({basename:void 0,future:d0({},void 0,{v7_prependBasename:!0}),history:uX({window:void 0}),hydrationData:IY(),routes:t,mapRouteProperties:CY,unstable_dataStrategy:void 0,unstable_patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function IY(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=d0({},e,{errors:RY(e.errors)})),e}function RY(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Vx(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const PY=T.createContext({isTransitioning:!1}),DY=T.createContext(new Map),MY="startTransition",r9=eM[MY],NY="flushSync",i9=cX[NY];function OY(t){r9?r9(t):t()}function Pf(t){i9?i9(t):t()}let LY=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function FY(t){let{fallbackElement:e,router:n,future:r}=t,[i,o]=T.useState(n.state),[s,a]=T.useState(),[l,c]=T.useState({isTransitioning:!1}),[u,h]=T.useState(),[d,f]=T.useState(),[p,m]=T.useState(),x=T.useRef(new Map),{v7_startTransition:v}=r||{},y=T.useCallback(w=>{v?OY(w):w()},[v]),_=T.useCallback((w,A)=>{let{deletedFetchers:E,unstable_flushSync:R,unstable_viewTransitionOpts:D}=A;E.forEach(j=>x.current.delete(j)),w.fetchers.forEach((j,$)=>{j.data!==void 0&&x.current.set($,j.data)});let N=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!D||N){R?Pf(()=>o(w)):y(()=>o(w));return}if(R){Pf(()=>{d&&(u&&u.resolve(),d.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:D.currentLocation,nextLocation:D.nextLocation})});let j=n.window.document.startViewTransition(()=>{Pf(()=>o(w))});j.finished.finally(()=>{Pf(()=>{h(void 0),f(void 0),a(void 0),c({isTransitioning:!1})})}),Pf(()=>f(j));return}d?(u&&u.resolve(),d.skipTransition(),m({state:w,currentLocation:D.currentLocation,nextLocation:D.nextLocation})):(a(w),c({isTransitioning:!0,flushSync:!1,currentLocation:D.currentLocation,nextLocation:D.nextLocation}))},[n.window,d,u,x,y]);T.useLayoutEffect(()=>n.subscribe(_),[n,_]),T.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new LY)},[l]),T.useEffect(()=>{if(u&&s&&n.window){let w=s,A=u.promise,E=n.window.document.startViewTransition(async()=>{y(()=>o(w)),await A});E.finished.finally(()=>{h(void 0),f(void 0),a(void 0),c({isTransitioning:!1})}),f(E)}},[y,s,u,n.window]),T.useEffect(()=>{u&&s&&i.location.key===s.location.key&&u.resolve()},[u,d,i.location,s]),T.useEffect(()=>{!l.isTransitioning&&p&&(a(p.state),c({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),m(void 0))},[l.isTransitioning,p]),T.useEffect(()=>{},[]);let C=T.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:w=>n.navigate(w),push:(w,A,E)=>n.navigate(w,{state:A,preventScrollReset:E==null?void 0:E.preventScrollReset}),replace:(w,A,E)=>n.navigate(w,{replace:!0,state:A,preventScrollReset:E==null?void 0:E.preventScrollReset})}),[n]),S=n.basename||"/",k=T.useMemo(()=>({router:n,navigator:C,static:!1,basename:S}),[n,C,S]),b=T.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return T.createElement(T.Fragment,null,T.createElement(Ay.Provider,{value:k},T.createElement(pO.Provider,{value:i},T.createElement(DY.Provider,{value:x.current},T.createElement(PY.Provider,{value:l},T.createElement(wY,{basename:S,location:i.location,navigationType:i.historyAction,navigator:C,future:b},i.initialized||n.future.v7_partialHydration?T.createElement(BY,{routes:n.routes,future:n.future,state:i}):e))))),null)}const BY=T.memo(VY);function VY(t){let{routes:e,future:n,state:r}=t;return hY(e,void 0,r,n)}const jY=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zY=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$Y=T.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:h}=e,d=bY(e,kY),{basename:f}=T.useContext(dc),p,m=!1;if(typeof c=="string"&&zY.test(c)&&(p=c,jY))try{let _=new URL(window.location.href),C=c.startsWith("//")?new URL(_.protocol+c):new URL(c),S=Ud(C.pathname,f);C.origin===_.origin&&S!=null?c=S+C.search+C.hash:m=!0}catch{}let x=cY(c,{relative:i}),v=HY(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:i,unstable_viewTransition:h});function y(_){r&&r(_),_.defaultPrevented||v(_)}return T.createElement("a",d0({},d,{href:p||x,onClick:m||o?r:y,ref:n,target:l}))});var o9;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(o9||(o9={}));var s9;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(s9||(s9={}));function HY(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a}=e===void 0?{}:e,l=fT(),c=lm(),u=xO(t,{relative:s});return T.useCallback(h=>{if(SY(h,n)){h.preventDefault();let d=r!==void 0?r:uu(c)===uu(u);l(t,{replace:d,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a})}},[c,l,u,r,i,n,t,o,s,a])}const UY=1,WY=1e6;let jw=0;function qY(){return jw=(jw+1)%Number.MAX_SAFE_INTEGER,jw.toString()}const zw=new Map,a9=t=>{if(zw.has(t))return;const e=setTimeout(()=>{zw.delete(t),Ep({type:"REMOVE_TOAST",toastId:t})},WY);zw.set(t,e)},KY=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,UY)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?a9(n):t.toasts.forEach(r=>{a9(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},$1=[];let H1={toasts:[]};function Ep(t){H1=KY(H1,t),$1.forEach(e=>{e(H1)})}function GY({...t}){const e=qY(),n=i=>Ep({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Ep({type:"DISMISS_TOAST",toastId:e});return Ep({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Ms(){const[t,e]=T.useState(H1);return T.useEffect(()=>($1.push(e),()=>{const n=$1.indexOf(e);n>-1&&$1.splice(n,1)}),[t]),{...t,toast:GY,dismiss:n=>Ep({type:"DISMISS_TOAST",toastId:n})}}function CO(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=CO(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function JY(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=CO(t))&&(r&&(r+=" "),r+=e);return r}const pT="-",QY=t=>{const e=YY(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:s=>{const a=s.split(pT);return a[0]===""&&a.length!==1&&a.shift(),bO(a,e)||XY(s)},getConflictingClassGroupIds:(s,a)=>{const l=n[s]||[];return a&&r[s]?[...l,...r[s]]:l}}},bO=(t,e)=>{var s;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?bO(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(pT);return(s=e.validators.find(({validator:a})=>a(o)))==null?void 0:s.classGroupId},l9=/^\[(.+)\]$/,XY=t=>{if(l9.test(t)){const e=l9.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},YY=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return eZ(Object.entries(t.classGroups),n).forEach(([o,s])=>{Ob(s,r,o,e)}),r},Ob=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:c9(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(ZY(i)){Ob(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,s])=>{Ob(s,c9(e,o),n,r)})})},c9=(t,e)=>{let n=t;return e.split(pT).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},ZY=t=>t.isThemeGetter,eZ=(t,e)=>e?t.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([s,a])=>[e+s,a])):o);return[n,i]}):t,tZ=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(o,s)=>{n.set(o,s),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let s=n.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return i(o,s),s},set(o,s){n.has(o)?n.set(o,s):i(o,s)}}},EO="!",nZ=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],o=e.length,s=a=>{const l=[];let c=0,u=0,h;for(let x=0;x<a.length;x++){let v=a[x];if(c===0){if(v===i&&(r||a.slice(x,x+o)===e)){l.push(a.slice(u,x)),u=x+o;continue}if(v==="/"){h=x;continue}}v==="["?c++:v==="]"&&c--}const d=l.length===0?a:a.substring(u),f=d.startsWith(EO),p=f?d.substring(1):d,m=h&&h>u?h-u:void 0;return{modifiers:l,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:m}};return n?a=>n({className:a,parseClassName:s}):s},rZ=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},iZ=t=>({cache:tZ(t.cacheSize),parseClassName:nZ(t),...QY(t)}),oZ=/\s+/,sZ=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,o=[],s=t.trim().split(oZ);let a="";for(let l=s.length-1;l>=0;l-=1){const c=s[l],{modifiers:u,hasImportantModifier:h,baseClassName:d,maybePostfixModifierPosition:f}=n(c);let p=!!f,m=r(p?d.substring(0,f):d);if(!m){if(!p){a=c+(a.length>0?" "+a:a);continue}if(m=r(d),!m){a=c+(a.length>0?" "+a:a);continue}p=!1}const x=rZ(u).join(":"),v=h?x+EO:x,y=v+m;if(o.includes(y))continue;o.push(y);const _=i(m,p);for(let C=0;C<_.length;++C){const S=_[C];o.push(v+S)}a=c+(a.length>0?" "+a:a)}return a};function aZ(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=SO(e))&&(r&&(r+=" "),r+=n);return r}const SO=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=SO(t[r]))&&(n&&(n+=" "),n+=e);return n};function lZ(t,...e){let n,r,i,o=s;function s(l){const c=e.reduce((u,h)=>h(u),t());return n=iZ(c),r=n.cache.get,i=n.cache.set,o=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=sZ(l,n);return i(l,u),u}return function(){return o(aZ.apply(null,arguments))}}const Gt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},kO=/^\[(?:([a-z-]+):)?(.+)\]$/i,cZ=/^\d+\/\d+$/,uZ=new Set(["px","full","screen"]),hZ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,dZ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fZ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,pZ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,mZ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ws=t=>Kh(t)||uZ.has(t)||cZ.test(t),Wa=t=>qd(t,"length",bZ),Kh=t=>!!t&&!Number.isNaN(Number(t)),$w=t=>qd(t,"number",Kh),Df=t=>!!t&&Number.isInteger(Number(t)),gZ=t=>t.endsWith("%")&&Kh(t.slice(0,-1)),nt=t=>kO.test(t),qa=t=>hZ.test(t),xZ=new Set(["length","size","percentage"]),vZ=t=>qd(t,xZ,TO),yZ=t=>qd(t,"position",TO),_Z=new Set(["image","url"]),wZ=t=>qd(t,_Z,SZ),CZ=t=>qd(t,"",EZ),Mf=()=>!0,qd=(t,e,n)=>{const r=kO.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},bZ=t=>dZ.test(t)&&!fZ.test(t),TO=()=>!1,EZ=t=>pZ.test(t),SZ=t=>mZ.test(t),kZ=()=>{const t=Gt("colors"),e=Gt("spacing"),n=Gt("blur"),r=Gt("brightness"),i=Gt("borderColor"),o=Gt("borderRadius"),s=Gt("borderSpacing"),a=Gt("borderWidth"),l=Gt("contrast"),c=Gt("grayscale"),u=Gt("hueRotate"),h=Gt("invert"),d=Gt("gap"),f=Gt("gradientColorStops"),p=Gt("gradientColorStopPositions"),m=Gt("inset"),x=Gt("margin"),v=Gt("opacity"),y=Gt("padding"),_=Gt("saturate"),C=Gt("scale"),S=Gt("sepia"),k=Gt("skew"),b=Gt("space"),w=Gt("translate"),A=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",nt,e],D=()=>[nt,e],N=()=>["",Ws,Wa],j=()=>["auto",Kh,nt],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Q=()=>["solid","dashed","dotted","double","none"],X=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],H=()=>["","0",nt],L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[Kh,nt];return{cacheSize:500,separator:":",theme:{colors:[Mf],spacing:[Ws,Wa],blur:["none","",qa,nt],brightness:U(),borderColor:[t],borderRadius:["none","","full",qa,nt],borderSpacing:D(),borderWidth:N(),contrast:U(),grayscale:H(),hueRotate:U(),invert:H(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[gZ,Wa],inset:R(),margin:R(),opacity:U(),padding:D(),saturate:U(),scale:U(),sepia:H(),skew:U(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",nt]}],container:["container"],columns:[{columns:[qa]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),nt]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Df,nt]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",nt]}],grow:[{grow:H()}],shrink:[{shrink:H()}],order:[{order:["first","last","none",Df,nt]}],"grid-cols":[{"grid-cols":[Mf]}],"col-start-end":[{col:["auto",{span:["full",Df,nt]},nt]}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":[Mf]}],"row-start-end":[{row:["auto",{span:[Df,nt]},nt]}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",nt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",nt]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[b]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[b]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",nt,e]}],"min-w":[{"min-w":[nt,e,"min","max","fit"]}],"max-w":[{"max-w":[nt,e,"none","full","min","max","fit","prose",{screen:[qa]},qa]}],h:[{h:[nt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[nt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[nt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[nt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",qa,Wa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",$w]}],"font-family":[{font:[Mf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",nt]}],"line-clamp":[{"line-clamp":["none",Kh,$w]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ws,nt]}],"list-image":[{"list-image":["none",nt]}],"list-style-type":[{list:["none","disc","decimal",nt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ws,Wa]}],"underline-offset":[{"underline-offset":["auto",Ws,nt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",nt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",nt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),yZ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",vZ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},wZ]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...Q(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:Q()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Q()]}],"outline-offset":[{"outline-offset":[Ws,nt]}],"outline-w":[{outline:[Ws,Wa]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[Ws,Wa]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",qa,CZ]}],"shadow-color":[{shadow:[Mf]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...X(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":X()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",qa,nt]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[_]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",nt]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",nt]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",nt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[Df,nt]}],"translate-x":[{"translate-x":[w]}],"translate-y":[{"translate-y":[w]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",nt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",nt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",nt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ws,Wa,$w]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},cm=lZ(kZ);var AO={exports:{}};function TZ(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Hw={exports:{}};const AZ={},IZ=Object.freeze(Object.defineProperty({__proto__:null,default:AZ},Symbol.toStringTag,{value:"Module"})),RZ=FG(IZ);var u9;function xt(){return u9||(u9=1,function(t,e){(function(n,r){t.exports=r()})(ot,function(){var n=n||function(r,i){var o;if(typeof window<"u"&&window.crypto&&(o=window.crypto),typeof self<"u"&&self.crypto&&(o=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(o=globalThis.crypto),!o&&typeof window<"u"&&window.msCrypto&&(o=window.msCrypto),!o&&typeof ot<"u"&&ot.crypto&&(o=ot.crypto),!o&&typeof TZ=="function")try{o=RZ}catch{}var s=function(){if(o){if(typeof o.getRandomValues=="function")try{return o.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof o.randomBytes=="function")try{return o.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function y(){}return function(_){var C;return y.prototype=_,C=new y,y.prototype=null,C}}(),l={},c=l.lib={},u=c.Base=function(){return{extend:function(y){var _=a(this);return y&&_.mixIn(y),(!_.hasOwnProperty("init")||this.init===_.init)&&(_.init=function(){_.$super.init.apply(this,arguments)}),_.init.prototype=_,_.$super=this,_},create:function(){var y=this.extend();return y.init.apply(y,arguments),y},init:function(){},mixIn:function(y){for(var _ in y)y.hasOwnProperty(_)&&(this[_]=y[_]);y.hasOwnProperty("toString")&&(this.toString=y.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),h=c.WordArray=u.extend({init:function(y,_){y=this.words=y||[],_!=i?this.sigBytes=_:this.sigBytes=y.length*4},toString:function(y){return(y||f).stringify(this)},concat:function(y){var _=this.words,C=y.words,S=this.sigBytes,k=y.sigBytes;if(this.clamp(),S%4)for(var b=0;b<k;b++){var w=C[b>>>2]>>>24-b%4*8&255;_[S+b>>>2]|=w<<24-(S+b)%4*8}else for(var A=0;A<k;A+=4)_[S+A>>>2]=C[A>>>2];return this.sigBytes+=k,this},clamp:function(){var y=this.words,_=this.sigBytes;y[_>>>2]&=4294967295<<32-_%4*8,y.length=r.ceil(_/4)},clone:function(){var y=u.clone.call(this);return y.words=this.words.slice(0),y},random:function(y){for(var _=[],C=0;C<y;C+=4)_.push(s());return new h.init(_,y)}}),d=l.enc={},f=d.Hex={stringify:function(y){for(var _=y.words,C=y.sigBytes,S=[],k=0;k<C;k++){var b=_[k>>>2]>>>24-k%4*8&255;S.push((b>>>4).toString(16)),S.push((b&15).toString(16))}return S.join("")},parse:function(y){for(var _=y.length,C=[],S=0;S<_;S+=2)C[S>>>3]|=parseInt(y.substr(S,2),16)<<24-S%8*4;return new h.init(C,_/2)}},p=d.Latin1={stringify:function(y){for(var _=y.words,C=y.sigBytes,S=[],k=0;k<C;k++){var b=_[k>>>2]>>>24-k%4*8&255;S.push(String.fromCharCode(b))}return S.join("")},parse:function(y){for(var _=y.length,C=[],S=0;S<_;S++)C[S>>>2]|=(y.charCodeAt(S)&255)<<24-S%4*8;return new h.init(C,_)}},m=d.Utf8={stringify:function(y){try{return decodeURIComponent(escape(p.stringify(y)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(y){return p.parse(unescape(encodeURIComponent(y)))}},x=c.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new h.init,this._nDataBytes=0},_append:function(y){typeof y=="string"&&(y=m.parse(y)),this._data.concat(y),this._nDataBytes+=y.sigBytes},_process:function(y){var _,C=this._data,S=C.words,k=C.sigBytes,b=this.blockSize,w=b*4,A=k/w;y?A=r.ceil(A):A=r.max((A|0)-this._minBufferSize,0);var E=A*b,R=r.min(E*4,k);if(E){for(var D=0;D<E;D+=b)this._doProcessBlock(S,D);_=S.splice(0,E),C.sigBytes-=R}return new h.init(_,R)},clone:function(){var y=u.clone.call(this);return y._data=this._data.clone(),y},_minBufferSize:0});c.Hasher=x.extend({cfg:u.extend(),init:function(y){this.cfg=this.cfg.extend(y),this.reset()},reset:function(){x.reset.call(this),this._doReset()},update:function(y){return this._append(y),this._process(),this},finalize:function(y){y&&this._append(y);var _=this._doFinalize();return _},blockSize:16,_createHelper:function(y){return function(_,C){return new y.init(C).finalize(_)}},_createHmacHelper:function(y){return function(_,C){return new v.HMAC.init(y,C).finalize(_)}}});var v=l.algo={};return l}(Math);return n})}(Hw)),Hw.exports}var Uw={exports:{}},h9;function Iy(){return h9||(h9=1,function(t,e){(function(n,r){t.exports=r(xt())})(ot,function(n){return function(r){var i=n,o=i.lib,s=o.Base,a=o.WordArray,l=i.x64={};l.Word=s.extend({init:function(c,u){this.high=c,this.low=u}}),l.WordArray=s.extend({init:function(c,u){c=this.words=c||[],u!=r?this.sigBytes=u:this.sigBytes=c.length*8},toX32:function(){for(var c=this.words,u=c.length,h=[],d=0;d<u;d++){var f=c[d];h.push(f.high),h.push(f.low)}return a.create(h,this.sigBytes)},clone:function(){for(var c=s.clone.call(this),u=c.words=this.words.slice(0),h=u.length,d=0;d<h;d++)u[d]=u[d].clone();return c}})}(),n})}(Uw)),Uw.exports}var Ww={exports:{}},d9;function PZ(){return d9||(d9=1,function(t,e){(function(n,r){t.exports=r(xt())})(ot,function(n){return function(){if(typeof ArrayBuffer=="function"){var r=n,i=r.lib,o=i.WordArray,s=o.init,a=o.init=function(l){if(l instanceof ArrayBuffer&&(l=new Uint8Array(l)),(l instanceof Int8Array||typeof Uint8ClampedArray<"u"&&l instanceof Uint8ClampedArray||l instanceof Int16Array||l instanceof Uint16Array||l instanceof Int32Array||l instanceof Uint32Array||l instanceof Float32Array||l instanceof Float64Array)&&(l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength)),l instanceof Uint8Array){for(var c=l.byteLength,u=[],h=0;h<c;h++)u[h>>>2]|=l[h]<<24-h%4*8;s.call(this,u,c)}else s.apply(this,arguments)};a.prototype=o}}(),n.lib.WordArray})}(Ww)),Ww.exports}var qw={exports:{}},f9;function DZ(){return f9||(f9=1,function(t,e){(function(n,r){t.exports=r(xt())})(ot,function(n){return function(){var r=n,i=r.lib,o=i.WordArray,s=r.enc;s.Utf16=s.Utf16BE={stringify:function(l){for(var c=l.words,u=l.sigBytes,h=[],d=0;d<u;d+=2){var f=c[d>>>2]>>>16-d%4*8&65535;h.push(String.fromCharCode(f))}return h.join("")},parse:function(l){for(var c=l.length,u=[],h=0;h<c;h++)u[h>>>1]|=l.charCodeAt(h)<<16-h%2*16;return o.create(u,c*2)}},s.Utf16LE={stringify:function(l){for(var c=l.words,u=l.sigBytes,h=[],d=0;d<u;d+=2){var f=a(c[d>>>2]>>>16-d%4*8&65535);h.push(String.fromCharCode(f))}return h.join("")},parse:function(l){for(var c=l.length,u=[],h=0;h<c;h++)u[h>>>1]|=a(l.charCodeAt(h)<<16-h%2*16);return o.create(u,c*2)}};function a(l){return l<<8&4278255360|l>>>8&16711935}}(),n.enc.Utf16})}(qw)),qw.exports}var Kw={exports:{}},p9;function Nu(){return p9||(p9=1,function(t,e){(function(n,r){t.exports=r(xt())})(ot,function(n){return function(){var r=n,i=r.lib,o=i.WordArray,s=r.enc;s.Base64={stringify:function(l){var c=l.words,u=l.sigBytes,h=this._map;l.clamp();for(var d=[],f=0;f<u;f+=3)for(var p=c[f>>>2]>>>24-f%4*8&255,m=c[f+1>>>2]>>>24-(f+1)%4*8&255,x=c[f+2>>>2]>>>24-(f+2)%4*8&255,v=p<<16|m<<8|x,y=0;y<4&&f+y*.75<u;y++)d.push(h.charAt(v>>>6*(3-y)&63));var _=h.charAt(64);if(_)for(;d.length%4;)d.push(_);return d.join("")},parse:function(l){var c=l.length,u=this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var d=0;d<u.length;d++)h[u.charCodeAt(d)]=d}var f=u.charAt(64);if(f){var p=l.indexOf(f);p!==-1&&(c=p)}return a(l,c,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(l,c,u){for(var h=[],d=0,f=0;f<c;f++)if(f%4){var p=u[l.charCodeAt(f-1)]<<f%4*2,m=u[l.charCodeAt(f)]>>>6-f%4*2,x=p|m;h[d>>>2]|=x<<24-d%4*8,d++}return o.create(h,d)}}(),n.enc.Base64})}(Kw)),Kw.exports}var Gw={exports:{}},m9;function MZ(){return m9||(m9=1,function(t,e){(function(n,r){t.exports=r(xt())})(ot,function(n){return function(){var r=n,i=r.lib,o=i.WordArray,s=r.enc;s.Base64url={stringify:function(l,c){c===void 0&&(c=!0);var u=l.words,h=l.sigBytes,d=c?this._safe_map:this._map;l.clamp();for(var f=[],p=0;p<h;p+=3)for(var m=u[p>>>2]>>>24-p%4*8&255,x=u[p+1>>>2]>>>24-(p+1)%4*8&255,v=u[p+2>>>2]>>>24-(p+2)%4*8&255,y=m<<16|x<<8|v,_=0;_<4&&p+_*.75<h;_++)f.push(d.charAt(y>>>6*(3-_)&63));var C=d.charAt(64);if(C)for(;f.length%4;)f.push(C);return f.join("")},parse:function(l,c){c===void 0&&(c=!0);var u=l.length,h=c?this._safe_map:this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var f=0;f<h.length;f++)d[h.charCodeAt(f)]=f}var p=h.charAt(64);if(p){var m=l.indexOf(p);m!==-1&&(u=m)}return a(l,u,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(l,c,u){for(var h=[],d=0,f=0;f<c;f++)if(f%4){var p=u[l.charCodeAt(f-1)]<<f%4*2,m=u[l.charCodeAt(f)]>>>6-f%4*2,x=p|m;h[d>>>2]|=x<<24-d%4*8,d++}return o.create(h,d)}}(),n.enc.Base64url})}(Gw)),Gw.exports}var Jw={exports:{}},g9;function Ou(){return g9||(g9=1,function(t,e){(function(n,r){t.exports=r(xt())})(ot,function(n){return function(r){var i=n,o=i.lib,s=o.WordArray,a=o.Hasher,l=i.algo,c=[];(function(){for(var m=0;m<64;m++)c[m]=r.abs(r.sin(m+1))*4294967296|0})();var u=l.MD5=a.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(m,x){for(var v=0;v<16;v++){var y=x+v,_=m[y];m[y]=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360}var C=this._hash.words,S=m[x+0],k=m[x+1],b=m[x+2],w=m[x+3],A=m[x+4],E=m[x+5],R=m[x+6],D=m[x+7],N=m[x+8],j=m[x+9],$=m[x+10],Q=m[x+11],X=m[x+12],q=m[x+13],H=m[x+14],L=m[x+15],U=C[0],K=C[1],O=C[2],J=C[3];U=h(U,K,O,J,S,7,c[0]),J=h(J,U,K,O,k,12,c[1]),O=h(O,J,U,K,b,17,c[2]),K=h(K,O,J,U,w,22,c[3]),U=h(U,K,O,J,A,7,c[4]),J=h(J,U,K,O,E,12,c[5]),O=h(O,J,U,K,R,17,c[6]),K=h(K,O,J,U,D,22,c[7]),U=h(U,K,O,J,N,7,c[8]),J=h(J,U,K,O,j,12,c[9]),O=h(O,J,U,K,$,17,c[10]),K=h(K,O,J,U,Q,22,c[11]),U=h(U,K,O,J,X,7,c[12]),J=h(J,U,K,O,q,12,c[13]),O=h(O,J,U,K,H,17,c[14]),K=h(K,O,J,U,L,22,c[15]),U=d(U,K,O,J,k,5,c[16]),J=d(J,U,K,O,R,9,c[17]),O=d(O,J,U,K,Q,14,c[18]),K=d(K,O,J,U,S,20,c[19]),U=d(U,K,O,J,E,5,c[20]),J=d(J,U,K,O,$,9,c[21]),O=d(O,J,U,K,L,14,c[22]),K=d(K,O,J,U,A,20,c[23]),U=d(U,K,O,J,j,5,c[24]),J=d(J,U,K,O,H,9,c[25]),O=d(O,J,U,K,w,14,c[26]),K=d(K,O,J,U,N,20,c[27]),U=d(U,K,O,J,q,5,c[28]),J=d(J,U,K,O,b,9,c[29]),O=d(O,J,U,K,D,14,c[30]),K=d(K,O,J,U,X,20,c[31]),U=f(U,K,O,J,E,4,c[32]),J=f(J,U,K,O,N,11,c[33]),O=f(O,J,U,K,Q,16,c[34]),K=f(K,O,J,U,H,23,c[35]),U=f(U,K,O,J,k,4,c[36]),J=f(J,U,K,O,A,11,c[37]),O=f(O,J,U,K,D,16,c[38]),K=f(K,O,J,U,$,23,c[39]),U=f(U,K,O,J,q,4,c[40]),J=f(J,U,K,O,S,11,c[41]),O=f(O,J,U,K,w,16,c[42]),K=f(K,O,J,U,R,23,c[43]),U=f(U,K,O,J,j,4,c[44]),J=f(J,U,K,O,X,11,c[45]),O=f(O,J,U,K,L,16,c[46]),K=f(K,O,J,U,b,23,c[47]),U=p(U,K,O,J,S,6,c[48]),J=p(J,U,K,O,D,10,c[49]),O=p(O,J,U,K,H,15,c[50]),K=p(K,O,J,U,E,21,c[51]),U=p(U,K,O,J,X,6,c[52]),J=p(J,U,K,O,w,10,c[53]),O=p(O,J,U,K,$,15,c[54]),K=p(K,O,J,U,k,21,c[55]),U=p(U,K,O,J,N,6,c[56]),J=p(J,U,K,O,L,10,c[57]),O=p(O,J,U,K,R,15,c[58]),K=p(K,O,J,U,q,21,c[59]),U=p(U,K,O,J,A,6,c[60]),J=p(J,U,K,O,Q,10,c[61]),O=p(O,J,U,K,b,15,c[62]),K=p(K,O,J,U,j,21,c[63]),C[0]=C[0]+U|0,C[1]=C[1]+K|0,C[2]=C[2]+O|0,C[3]=C[3]+J|0},_doFinalize:function(){var m=this._data,x=m.words,v=this._nDataBytes*8,y=m.sigBytes*8;x[y>>>5]|=128<<24-y%32;var _=r.floor(v/4294967296),C=v;x[(y+64>>>9<<4)+15]=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,x[(y+64>>>9<<4)+14]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,m.sigBytes=(x.length+1)*4,this._process();for(var S=this._hash,k=S.words,b=0;b<4;b++){var w=k[b];k[b]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360}return S},clone:function(){var m=a.clone.call(this);return m._hash=this._hash.clone(),m}});function h(m,x,v,y,_,C,S){var k=m+(x&v|~x&y)+_+S;return(k<<C|k>>>32-C)+x}function d(m,x,v,y,_,C,S){var k=m+(x&y|v&~y)+_+S;return(k<<C|k>>>32-C)+x}function f(m,x,v,y,_,C,S){var k=m+(x^v^y)+_+S;return(k<<C|k>>>32-C)+x}function p(m,x,v,y,_,C,S){var k=m+(v^(x|~y))+_+S;return(k<<C|k>>>32-C)+x}i.MD5=a._createHelper(u),i.HmacMD5=a._createHmacHelper(u)}(Math),n.MD5})}(Jw)),Jw.exports}var Qw={exports:{}},x9;function IO(){return x9||(x9=1,function(t,e){(function(n,r){t.exports=r(xt())})(ot,function(n){return function(){var r=n,i=r.lib,o=i.WordArray,s=i.Hasher,a=r.algo,l=[],c=a.SHA1=s.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(u,h){for(var d=this._hash.words,f=d[0],p=d[1],m=d[2],x=d[3],v=d[4],y=0;y<80;y++){if(y<16)l[y]=u[h+y]|0;else{var _=l[y-3]^l[y-8]^l[y-14]^l[y-16];l[y]=_<<1|_>>>31}var C=(f<<5|f>>>27)+v+l[y];y<20?C+=(p&m|~p&x)+1518500249:y<40?C+=(p^m^x)+1859775393:y<60?C+=(p&m|p&x|m&x)-1894007588:C+=(p^m^x)-899497514,v=x,x=m,m=p<<30|p>>>2,p=f,f=C}d[0]=d[0]+f|0,d[1]=d[1]+p|0,d[2]=d[2]+m|0,d[3]=d[3]+x|0,d[4]=d[4]+v|0},_doFinalize:function(){var u=this._data,h=u.words,d=this._nDataBytes*8,f=u.sigBytes*8;return h[f>>>5]|=128<<24-f%32,h[(f+64>>>9<<4)+14]=Math.floor(d/4294967296),h[(f+64>>>9<<4)+15]=d,u.sigBytes=h.length*4,this._process(),this._hash},clone:function(){var u=s.clone.call(this);return u._hash=this._hash.clone(),u}});r.SHA1=s._createHelper(c),r.HmacSHA1=s._createHmacHelper(c)}(),n.SHA1})}(Qw)),Qw.exports}var Xw={exports:{}},v9;function mT(){return v9||(v9=1,function(t,e){(function(n,r){t.exports=r(xt())})(ot,function(n){return function(r){var i=n,o=i.lib,s=o.WordArray,a=o.Hasher,l=i.algo,c=[],u=[];(function(){function f(v){for(var y=r.sqrt(v),_=2;_<=y;_++)if(!(v%_))return!1;return!0}function p(v){return(v-(v|0))*4294967296|0}for(var m=2,x=0;x<64;)f(m)&&(x<8&&(c[x]=p(r.pow(m,1/2))),u[x]=p(r.pow(m,1/3)),x++),m++})();var h=[],d=l.SHA256=a.extend({_doReset:function(){this._hash=new s.init(c.slice(0))},_doProcessBlock:function(f,p){for(var m=this._hash.words,x=m[0],v=m[1],y=m[2],_=m[3],C=m[4],S=m[5],k=m[6],b=m[7],w=0;w<64;w++){if(w<16)h[w]=f[p+w]|0;else{var A=h[w-15],E=(A<<25|A>>>7)^(A<<14|A>>>18)^A>>>3,R=h[w-2],D=(R<<15|R>>>17)^(R<<13|R>>>19)^R>>>10;h[w]=E+h[w-7]+D+h[w-16]}var N=C&S^~C&k,j=x&v^x&y^v&y,$=(x<<30|x>>>2)^(x<<19|x>>>13)^(x<<10|x>>>22),Q=(C<<26|C>>>6)^(C<<21|C>>>11)^(C<<7|C>>>25),X=b+Q+N+u[w]+h[w],q=$+j;b=k,k=S,S=C,C=_+X|0,_=y,y=v,v=x,x=X+q|0}m[0]=m[0]+x|0,m[1]=m[1]+v|0,m[2]=m[2]+y|0,m[3]=m[3]+_|0,m[4]=m[4]+C|0,m[5]=m[5]+S|0,m[6]=m[6]+k|0,m[7]=m[7]+b|0},_doFinalize:function(){var f=this._data,p=f.words,m=this._nDataBytes*8,x=f.sigBytes*8;return p[x>>>5]|=128<<24-x%32,p[(x+64>>>9<<4)+14]=r.floor(m/4294967296),p[(x+64>>>9<<4)+15]=m,f.sigBytes=p.length*4,this._process(),this._hash},clone:function(){var f=a.clone.call(this);return f._hash=this._hash.clone(),f}});i.SHA256=a._createHelper(d),i.HmacSHA256=a._createHmacHelper(d)}(Math),n.SHA256})}(Xw)),Xw.exports}var Yw={exports:{}},y9;function NZ(){return y9||(y9=1,function(t,e){(function(n,r,i){t.exports=r(xt(),mT())})(ot,function(n){return function(){var r=n,i=r.lib,o=i.WordArray,s=r.algo,a=s.SHA256,l=s.SHA224=a.extend({_doReset:function(){this._hash=new o.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var c=a._doFinalize.call(this);return c.sigBytes-=4,c}});r.SHA224=a._createHelper(l),r.HmacSHA224=a._createHmacHelper(l)}(),n.SHA224})}(Yw)),Yw.exports}var Zw={exports:{}},_9;function RO(){return _9||(_9=1,function(t,e){(function(n,r,i){t.exports=r(xt(),Iy())})(ot,function(n){return function(){var r=n,i=r.lib,o=i.Hasher,s=r.x64,a=s.Word,l=s.WordArray,c=r.algo;function u(){return a.create.apply(a,arguments)}var h=[u(1116352408,3609767458),u(1899447441,602891725),u(3049323471,3964484399),u(3921009573,2173295548),u(961987163,4081628472),u(1508970993,3053834265),u(2453635748,2937671579),u(2870763221,3664609560),u(3624381080,2734883394),u(310598401,1164996542),u(607225278,1323610764),u(1426881987,3590304994),u(1925078388,4068182383),u(2162078206,991336113),u(2614888103,633803317),u(3248222580,3479774868),u(3835390401,2666613458),u(4022224774,944711139),u(264347078,2341262773),u(604807628,2007800933),u(770255983,1495990901),u(1249150122,1856431235),u(1555081692,3175218132),u(1996064986,2198950837),u(2554220882,3999719339),u(2821834349,766784016),u(2952996808,2566594879),u(3210313671,3203337956),u(3336571891,1034457026),u(3584528711,2466948901),u(113926993,3758326383),u(338241895,168717936),u(666307205,1188179964),u(773529912,1546045734),u(1294757372,1522805485),u(1396182291,2643833823),u(1695183700,2343527390),u(1986661051,1014477480),u(2177026350,1206759142),u(2456956037,344077627),u(2730485921,1290863460),u(2820302411,3158454273),u(3259730800,3505952657),u(3345764771,106217008),u(3516065817,3606008344),u(3600352804,1432725776),u(4094571909,1467031594),u(275423344,851169720),u(430227734,3100823752),u(506948616,1363258195),u(659060556,3750685593),u(883997877,3785050280),u(958139571,3318307427),u(1322822218,3812723403),u(1537002063,2003034995),u(1747873779,3602036899),u(1955562222,1575990012),u(2024104815,1125592928),u(2227730452,2716904306),u(2361852424,442776044),u(2428436474,593698344),u(2756734187,3733110249),u(3204031479,2999351573),u(3329325298,3815920427),u(3391569614,3928383900),u(3515267271,566280711),u(3940187606,3454069534),u(4118630271,4000239992),u(116418474,1914138554),u(174292421,2731055270),u(289380356,3203993006),u(460393269,320620315),u(685471733,587496836),u(852142971,1086792851),u(1017036298,365543100),u(1126000580,2618297676),u(1288033470,3409855158),u(1501505948,4234509866),u(1607167915,987167468),u(1816402316,1246189591)],d=[];(function(){for(var p=0;p<80;p++)d[p]=u()})();var f=c.SHA512=o.extend({_doReset:function(){this._hash=new l.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(p,m){for(var x=this._hash.words,v=x[0],y=x[1],_=x[2],C=x[3],S=x[4],k=x[5],b=x[6],w=x[7],A=v.high,E=v.low,R=y.high,D=y.low,N=_.high,j=_.low,$=C.high,Q=C.low,X=S.high,q=S.low,H=k.high,L=k.low,U=b.high,K=b.low,O=w.high,J=w.low,Ee=A,fe=E,ue=R,de=D,ze=N,Oe=j,Be=$,Qe=Q,ct=X,We=q,jt=H,on=L,Fn=U,dn=K,Jn=O,Qn=J,fn=0;fn<80;fn++){var An,wn,vt=d[fn];if(fn<16)wn=vt.high=p[m+fn*2]|0,An=vt.low=p[m+fn*2+1]|0;else{var Gi=d[fn-15],Y=Gi.high,ie=Gi.low,V=(Y>>>1|ie<<31)^(Y>>>8|ie<<24)^Y>>>7,$e=(ie>>>1|Y<<31)^(ie>>>8|Y<<24)^(ie>>>7|Y<<25),Xe=d[fn-2],wt=Xe.high,pn=Xe.low,Bn=(wt>>>19|pn<<13)^(wt<<3|pn>>>29)^wt>>>6,bi=(pn>>>19|wt<<13)^(pn<<3|wt>>>29)^(pn>>>6|wt<<26),Cn=d[fn-7],In=Cn.high,Ei=Cn.low,Vn=d[fn-16],Yu=Vn.high,Fa=Vn.low;An=$e+Ei,wn=V+In+(An>>>0<$e>>>0?1:0),An=An+bi,wn=wn+Bn+(An>>>0<bi>>>0?1:0),An=An+Fa,wn=wn+Yu+(An>>>0<Fa>>>0?1:0),vt.high=wn,vt.low=An}var Ji=ct&jt^~ct&Fn,Vs=We&on^~We&dn,js=Ee&ue^Ee&ze^ue&ze,li=fe&de^fe&Oe^de&Oe,Ba=(Ee>>>28|fe<<4)^(Ee<<30|fe>>>2)^(Ee<<25|fe>>>7),zs=(fe>>>28|Ee<<4)^(fe<<30|Ee>>>2)^(fe<<25|Ee>>>7),Sc=(ct>>>14|We<<18)^(ct>>>18|We<<14)^(ct<<23|We>>>9),$s=(We>>>14|ct<<18)^(We>>>18|ct<<14)^(We<<23|ct>>>9),Va=h[fn],mn=Va.high,Yo=Va.low,gn=Qn+$s,Cr=Jn+Sc+(gn>>>0<Qn>>>0?1:0),gn=gn+Vs,Cr=Cr+Ji+(gn>>>0<Vs>>>0?1:0),gn=gn+Yo,Cr=Cr+mn+(gn>>>0<Yo>>>0?1:0),gn=gn+An,Cr=Cr+wn+(gn>>>0<An>>>0?1:0),Zu=zs+li,z=Ba+js+(Zu>>>0<zs>>>0?1:0);Jn=Fn,Qn=dn,Fn=jt,dn=on,jt=ct,on=We,We=Qe+gn|0,ct=Be+Cr+(We>>>0<Qe>>>0?1:0)|0,Be=ze,Qe=Oe,ze=ue,Oe=de,ue=Ee,de=fe,fe=gn+Zu|0,Ee=Cr+z+(fe>>>0<gn>>>0?1:0)|0}E=v.low=E+fe,v.high=A+Ee+(E>>>0<fe>>>0?1:0),D=y.low=D+de,y.high=R+ue+(D>>>0<de>>>0?1:0),j=_.low=j+Oe,_.high=N+ze+(j>>>0<Oe>>>0?1:0),Q=C.low=Q+Qe,C.high=$+Be+(Q>>>0<Qe>>>0?1:0),q=S.low=q+We,S.high=X+ct+(q>>>0<We>>>0?1:0),L=k.low=L+on,k.high=H+jt+(L>>>0<on>>>0?1:0),K=b.low=K+dn,b.high=U+Fn+(K>>>0<dn>>>0?1:0),J=w.low=J+Qn,w.high=O+Jn+(J>>>0<Qn>>>0?1:0)},_doFinalize:function(){var p=this._data,m=p.words,x=this._nDataBytes*8,v=p.sigBytes*8;m[v>>>5]|=128<<24-v%32,m[(v+128>>>10<<5)+30]=Math.floor(x/4294967296),m[(v+128>>>10<<5)+31]=x,p.sigBytes=m.length*4,this._process();var y=this._hash.toX32();return y},clone:function(){var p=o.clone.call(this);return p._hash=this._hash.clone(),p},blockSize:1024/32});r.SHA512=o._createHelper(f),r.HmacSHA512=o._createHmacHelper(f)}(),n.SHA512})}(Zw)),Zw.exports}var e2={exports:{}},w9;function OZ(){return w9||(w9=1,function(t,e){(function(n,r,i){t.exports=r(xt(),Iy(),RO())})(ot,function(n){return function(){var r=n,i=r.x64,o=i.Word,s=i.WordArray,a=r.algo,l=a.SHA512,c=a.SHA384=l.extend({_doReset:function(){this._hash=new s.init([new o.init(3418070365,3238371032),new o.init(1654270250,914150663),new o.init(2438529370,812702999),new o.init(355462360,4144912697),new o.init(1731405415,4290775857),new o.init(2394180231,1750603025),new o.init(3675008525,1694076839),new o.init(1203062813,3204075428)])},_doFinalize:function(){var u=l._doFinalize.call(this);return u.sigBytes-=16,u}});r.SHA384=l._createHelper(c),r.HmacSHA384=l._createHmacHelper(c)}(),n.SHA384})}(e2)),e2.exports}var t2={exports:{}},C9;function LZ(){return C9||(C9=1,function(t,e){(function(n,r,i){t.exports=r(xt(),Iy())})(ot,function(n){return function(r){var i=n,o=i.lib,s=o.WordArray,a=o.Hasher,l=i.x64,c=l.Word,u=i.algo,h=[],d=[],f=[];(function(){for(var x=1,v=0,y=0;y<24;y++){h[x+5*v]=(y+1)*(y+2)/2%64;var _=v%5,C=(2*x+3*v)%5;x=_,v=C}for(var x=0;x<5;x++)for(var v=0;v<5;v++)d[x+5*v]=v+(2*x+3*v)%5*5;for(var S=1,k=0;k<24;k++){for(var b=0,w=0,A=0;A<7;A++){if(S&1){var E=(1<<A)-1;E<32?w^=1<<E:b^=1<<E-32}S&128?S=S<<1^113:S<<=1}f[k]=c.create(b,w)}})();var p=[];(function(){for(var x=0;x<25;x++)p[x]=c.create()})();var m=u.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var x=this._state=[],v=0;v<25;v++)x[v]=new c.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(x,v){for(var y=this._state,_=this.blockSize/2,C=0;C<_;C++){var S=x[v+2*C],k=x[v+2*C+1];S=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,k=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360;var b=y[C];b.high^=k,b.low^=S}for(var w=0;w<24;w++){for(var A=0;A<5;A++){for(var E=0,R=0,D=0;D<5;D++){var b=y[A+5*D];E^=b.high,R^=b.low}var N=p[A];N.high=E,N.low=R}for(var A=0;A<5;A++)for(var j=p[(A+4)%5],$=p[(A+1)%5],Q=$.high,X=$.low,E=j.high^(Q<<1|X>>>31),R=j.low^(X<<1|Q>>>31),D=0;D<5;D++){var b=y[A+5*D];b.high^=E,b.low^=R}for(var q=1;q<25;q++){var E,R,b=y[q],H=b.high,L=b.low,U=h[q];U<32?(E=H<<U|L>>>32-U,R=L<<U|H>>>32-U):(E=L<<U-32|H>>>64-U,R=H<<U-32|L>>>64-U);var K=p[d[q]];K.high=E,K.low=R}var O=p[0],J=y[0];O.high=J.high,O.low=J.low;for(var A=0;A<5;A++)for(var D=0;D<5;D++){var q=A+5*D,b=y[q],Ee=p[q],fe=p[(A+1)%5+5*D],ue=p[(A+2)%5+5*D];b.high=Ee.high^~fe.high&ue.high,b.low=Ee.low^~fe.low&ue.low}var b=y[0],de=f[w];b.high^=de.high,b.low^=de.low}},_doFinalize:function(){var x=this._data,v=x.words;this._nDataBytes*8;var y=x.sigBytes*8,_=this.blockSize*32;v[y>>>5]|=1<<24-y%32,v[(r.ceil((y+1)/_)*_>>>5)-1]|=128,x.sigBytes=v.length*4,this._process();for(var C=this._state,S=this.cfg.outputLength/8,k=S/8,b=[],w=0;w<k;w++){var A=C[w],E=A.high,R=A.low;E=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,R=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360,b.push(R),b.push(E)}return new s.init(b,S)},clone:function(){for(var x=a.clone.call(this),v=x._state=this._state.slice(0),y=0;y<25;y++)v[y]=v[y].clone();return x}});i.SHA3=a._createHelper(m),i.HmacSHA3=a._createHmacHelper(m)}(Math),n.SHA3})}(t2)),t2.exports}var n2={exports:{}},b9;function FZ(){return b9||(b9=1,function(t,e){(function(n,r){t.exports=r(xt())})(ot,function(n){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(r){var i=n,o=i.lib,s=o.WordArray,a=o.Hasher,l=i.algo,c=s.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),u=s.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),h=s.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),d=s.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),f=s.create([0,1518500249,1859775393,2400959708,2840853838]),p=s.create([1352829926,1548603684,1836072691,2053994217,0]),m=l.RIPEMD160=a.extend({_doReset:function(){this._hash=s.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(k,b){for(var w=0;w<16;w++){var A=b+w,E=k[A];k[A]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360}var R=this._hash.words,D=f.words,N=p.words,j=c.words,$=u.words,Q=h.words,X=d.words,q,H,L,U,K,O,J,Ee,fe,ue;O=q=R[0],J=H=R[1],Ee=L=R[2],fe=U=R[3],ue=K=R[4];for(var de,w=0;w<80;w+=1)de=q+k[b+j[w]]|0,w<16?de+=x(H,L,U)+D[0]:w<32?de+=v(H,L,U)+D[1]:w<48?de+=y(H,L,U)+D[2]:w<64?de+=_(H,L,U)+D[3]:de+=C(H,L,U)+D[4],de=de|0,de=S(de,Q[w]),de=de+K|0,q=K,K=U,U=S(L,10),L=H,H=de,de=O+k[b+$[w]]|0,w<16?de+=C(J,Ee,fe)+N[0]:w<32?de+=_(J,Ee,fe)+N[1]:w<48?de+=y(J,Ee,fe)+N[2]:w<64?de+=v(J,Ee,fe)+N[3]:de+=x(J,Ee,fe)+N[4],de=de|0,de=S(de,X[w]),de=de+ue|0,O=ue,ue=fe,fe=S(Ee,10),Ee=J,J=de;de=R[1]+L+fe|0,R[1]=R[2]+U+ue|0,R[2]=R[3]+K+O|0,R[3]=R[4]+q+J|0,R[4]=R[0]+H+Ee|0,R[0]=de},_doFinalize:function(){var k=this._data,b=k.words,w=this._nDataBytes*8,A=k.sigBytes*8;b[A>>>5]|=128<<24-A%32,b[(A+64>>>9<<4)+14]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,k.sigBytes=(b.length+1)*4,this._process();for(var E=this._hash,R=E.words,D=0;D<5;D++){var N=R[D];R[D]=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360}return E},clone:function(){var k=a.clone.call(this);return k._hash=this._hash.clone(),k}});function x(k,b,w){return k^b^w}function v(k,b,w){return k&b|~k&w}function y(k,b,w){return(k|~b)^w}function _(k,b,w){return k&w|b&~w}function C(k,b,w){return k^(b|~w)}function S(k,b){return k<<b|k>>>32-b}i.RIPEMD160=a._createHelper(m),i.HmacRIPEMD160=a._createHmacHelper(m)}(),n.RIPEMD160})}(n2)),n2.exports}var r2={exports:{}},E9;function gT(){return E9||(E9=1,function(t,e){(function(n,r){t.exports=r(xt())})(ot,function(n){(function(){var r=n,i=r.lib,o=i.Base,s=r.enc,a=s.Utf8,l=r.algo;l.HMAC=o.extend({init:function(c,u){c=this._hasher=new c.init,typeof u=="string"&&(u=a.parse(u));var h=c.blockSize,d=h*4;u.sigBytes>d&&(u=c.finalize(u)),u.clamp();for(var f=this._oKey=u.clone(),p=this._iKey=u.clone(),m=f.words,x=p.words,v=0;v<h;v++)m[v]^=1549556828,x[v]^=909522486;f.sigBytes=p.sigBytes=d,this.reset()},reset:function(){var c=this._hasher;c.reset(),c.update(this._iKey)},update:function(c){return this._hasher.update(c),this},finalize:function(c){var u=this._hasher,h=u.finalize(c);u.reset();var d=u.finalize(this._oKey.clone().concat(h));return d}})})()})}(r2)),r2.exports}var i2={exports:{}},S9;function BZ(){return S9||(S9=1,function(t,e){(function(n,r,i){t.exports=r(xt(),mT(),gT())})(ot,function(n){return function(){var r=n,i=r.lib,o=i.Base,s=i.WordArray,a=r.algo,l=a.SHA256,c=a.HMAC,u=a.PBKDF2=o.extend({cfg:o.extend({keySize:128/32,hasher:l,iterations:25e4}),init:function(h){this.cfg=this.cfg.extend(h)},compute:function(h,d){for(var f=this.cfg,p=c.create(f.hasher,h),m=s.create(),x=s.create([1]),v=m.words,y=x.words,_=f.keySize,C=f.iterations;v.length<_;){var S=p.update(d).finalize(x);p.reset();for(var k=S.words,b=k.length,w=S,A=1;A<C;A++){w=p.finalize(w),p.reset();for(var E=w.words,R=0;R<b;R++)k[R]^=E[R]}m.concat(S),y[0]++}return m.sigBytes=_*4,m}});r.PBKDF2=function(h,d,f){return u.create(f).compute(h,d)}}(),n.PBKDF2})}(i2)),i2.exports}var o2={exports:{}},k9;function pc(){return k9||(k9=1,function(t,e){(function(n,r,i){t.exports=r(xt(),IO(),gT())})(ot,function(n){return function(){var r=n,i=r.lib,o=i.Base,s=i.WordArray,a=r.algo,l=a.MD5,c=a.EvpKDF=o.extend({cfg:o.extend({keySize:128/32,hasher:l,iterations:1}),init:function(u){this.cfg=this.cfg.extend(u)},compute:function(u,h){for(var d,f=this.cfg,p=f.hasher.create(),m=s.create(),x=m.words,v=f.keySize,y=f.iterations;x.length<v;){d&&p.update(d),d=p.update(u).finalize(h),p.reset();for(var _=1;_<y;_++)d=p.finalize(d),p.reset();m.concat(d)}return m.sigBytes=v*4,m}});r.EvpKDF=function(u,h,d){return c.create(d).compute(u,h)}}(),n.EvpKDF})}(o2)),o2.exports}var s2={exports:{}},T9;function rr(){return T9||(T9=1,function(t,e){(function(n,r,i){t.exports=r(xt(),pc())})(ot,function(n){n.lib.Cipher||function(r){var i=n,o=i.lib,s=o.Base,a=o.WordArray,l=o.BufferedBlockAlgorithm,c=i.enc;c.Utf8;var u=c.Base64,h=i.algo,d=h.EvpKDF,f=o.Cipher=l.extend({cfg:s.extend(),createEncryptor:function(E,R){return this.create(this._ENC_XFORM_MODE,E,R)},createDecryptor:function(E,R){return this.create(this._DEC_XFORM_MODE,E,R)},init:function(E,R,D){this.cfg=this.cfg.extend(D),this._xformMode=E,this._key=R,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(E){return this._append(E),this._process()},finalize:function(E){E&&this._append(E);var R=this._doFinalize();return R},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function E(R){return typeof R=="string"?A:k}return function(R){return{encrypt:function(D,N,j){return E(N).encrypt(R,D,N,j)},decrypt:function(D,N,j){return E(N).decrypt(R,D,N,j)}}}}()});o.StreamCipher=f.extend({_doFinalize:function(){var E=this._process(!0);return E},blockSize:1});var p=i.mode={},m=o.BlockCipherMode=s.extend({createEncryptor:function(E,R){return this.Encryptor.create(E,R)},createDecryptor:function(E,R){return this.Decryptor.create(E,R)},init:function(E,R){this._cipher=E,this._iv=R}}),x=p.CBC=function(){var E=m.extend();E.Encryptor=E.extend({processBlock:function(D,N){var j=this._cipher,$=j.blockSize;R.call(this,D,N,$),j.encryptBlock(D,N),this._prevBlock=D.slice(N,N+$)}}),E.Decryptor=E.extend({processBlock:function(D,N){var j=this._cipher,$=j.blockSize,Q=D.slice(N,N+$);j.decryptBlock(D,N),R.call(this,D,N,$),this._prevBlock=Q}});function R(D,N,j){var $,Q=this._iv;Q?($=Q,this._iv=r):$=this._prevBlock;for(var X=0;X<j;X++)D[N+X]^=$[X]}return E}(),v=i.pad={},y=v.Pkcs7={pad:function(E,R){for(var D=R*4,N=D-E.sigBytes%D,j=N<<24|N<<16|N<<8|N,$=[],Q=0;Q<N;Q+=4)$.push(j);var X=a.create($,N);E.concat(X)},unpad:function(E){var R=E.words[E.sigBytes-1>>>2]&255;E.sigBytes-=R}};o.BlockCipher=f.extend({cfg:f.cfg.extend({mode:x,padding:y}),reset:function(){var E;f.reset.call(this);var R=this.cfg,D=R.iv,N=R.mode;this._xformMode==this._ENC_XFORM_MODE?E=N.createEncryptor:(E=N.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==E?this._mode.init(this,D&&D.words):(this._mode=E.call(N,this,D&&D.words),this._mode.__creator=E)},_doProcessBlock:function(E,R){this._mode.processBlock(E,R)},_doFinalize:function(){var E,R=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(R.pad(this._data,this.blockSize),E=this._process(!0)):(E=this._process(!0),R.unpad(E)),E},blockSize:128/32});var _=o.CipherParams=s.extend({init:function(E){this.mixIn(E)},toString:function(E){return(E||this.formatter).stringify(this)}}),C=i.format={},S=C.OpenSSL={stringify:function(E){var R,D=E.ciphertext,N=E.salt;return N?R=a.create([1398893684,1701076831]).concat(N).concat(D):R=D,R.toString(u)},parse:function(E){var R,D=u.parse(E),N=D.words;return N[0]==1398893684&&N[1]==1701076831&&(R=a.create(N.slice(2,4)),N.splice(0,4),D.sigBytes-=16),_.create({ciphertext:D,salt:R})}},k=o.SerializableCipher=s.extend({cfg:s.extend({format:S}),encrypt:function(E,R,D,N){N=this.cfg.extend(N);var j=E.createEncryptor(D,N),$=j.finalize(R),Q=j.cfg;return _.create({ciphertext:$,key:D,iv:Q.iv,algorithm:E,mode:Q.mode,padding:Q.padding,blockSize:E.blockSize,formatter:N.format})},decrypt:function(E,R,D,N){N=this.cfg.extend(N),R=this._parse(R,N.format);var j=E.createDecryptor(D,N).finalize(R.ciphertext);return j},_parse:function(E,R){return typeof E=="string"?R.parse(E,this):E}}),b=i.kdf={},w=b.OpenSSL={execute:function(E,R,D,N,j){if(N||(N=a.random(64/8)),j)var $=d.create({keySize:R+D,hasher:j}).compute(E,N);else var $=d.create({keySize:R+D}).compute(E,N);var Q=a.create($.words.slice(R),D*4);return $.sigBytes=R*4,_.create({key:$,iv:Q,salt:N})}},A=o.PasswordBasedCipher=k.extend({cfg:k.cfg.extend({kdf:w}),encrypt:function(E,R,D,N){N=this.cfg.extend(N);var j=N.kdf.execute(D,E.keySize,E.ivSize,N.salt,N.hasher);N.iv=j.iv;var $=k.encrypt.call(this,E,R,j.key,N);return $.mixIn(j),$},decrypt:function(E,R,D,N){N=this.cfg.extend(N),R=this._parse(R,N.format);var j=N.kdf.execute(D,E.keySize,E.ivSize,R.salt,N.hasher);N.iv=j.iv;var $=k.decrypt.call(this,E,R,j.key,N);return $}})}()})}(s2)),s2.exports}var a2={exports:{}},A9;function VZ(){return A9||(A9=1,function(t,e){(function(n,r,i){t.exports=r(xt(),rr())})(ot,function(n){return n.mode.CFB=function(){var r=n.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(o,s){var a=this._cipher,l=a.blockSize;i.call(this,o,s,l,a),this._prevBlock=o.slice(s,s+l)}}),r.Decryptor=r.extend({processBlock:function(o,s){var a=this._cipher,l=a.blockSize,c=o.slice(s,s+l);i.call(this,o,s,l,a),this._prevBlock=c}});function i(o,s,a,l){var c,u=this._iv;u?(c=u.slice(0),this._iv=void 0):c=this._prevBlock,l.encryptBlock(c,0);for(var h=0;h<a;h++)o[s+h]^=c[h]}return r}(),n.mode.CFB})}(a2)),a2.exports}var l2={exports:{}},I9;function jZ(){return I9||(I9=1,function(t,e){(function(n,r,i){t.exports=r(xt(),rr())})(ot,function(n){return n.mode.CTR=function(){var r=n.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(o,s){var a=this._cipher,l=a.blockSize,c=this._iv,u=this._counter;c&&(u=this._counter=c.slice(0),this._iv=void 0);var h=u.slice(0);a.encryptBlock(h,0),u[l-1]=u[l-1]+1|0;for(var d=0;d<l;d++)o[s+d]^=h[d]}});return r.Decryptor=i,r}(),n.mode.CTR})}(l2)),l2.exports}var c2={exports:{}},R9;function zZ(){return R9||(R9=1,function(t,e){(function(n,r,i){t.exports=r(xt(),rr())})(ot,function(n){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return n.mode.CTRGladman=function(){var r=n.lib.BlockCipherMode.extend();function i(a){if((a>>24&255)===255){var l=a>>16&255,c=a>>8&255,u=a&255;l===255?(l=0,c===255?(c=0,u===255?u=0:++u):++c):++l,a=0,a+=l<<16,a+=c<<8,a+=u}else a+=1<<24;return a}function o(a){return(a[0]=i(a[0]))===0&&(a[1]=i(a[1])),a}var s=r.Encryptor=r.extend({processBlock:function(a,l){var c=this._cipher,u=c.blockSize,h=this._iv,d=this._counter;h&&(d=this._counter=h.slice(0),this._iv=void 0),o(d);var f=d.slice(0);c.encryptBlock(f,0);for(var p=0;p<u;p++)a[l+p]^=f[p]}});return r.Decryptor=s,r}(),n.mode.CTRGladman})}(c2)),c2.exports}var u2={exports:{}},P9;function $Z(){return P9||(P9=1,function(t,e){(function(n,r,i){t.exports=r(xt(),rr())})(ot,function(n){return n.mode.OFB=function(){var r=n.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(o,s){var a=this._cipher,l=a.blockSize,c=this._iv,u=this._keystream;c&&(u=this._keystream=c.slice(0),this._iv=void 0),a.encryptBlock(u,0);for(var h=0;h<l;h++)o[s+h]^=u[h]}});return r.Decryptor=i,r}(),n.mode.OFB})}(u2)),u2.exports}var h2={exports:{}},D9;function HZ(){return D9||(D9=1,function(t,e){(function(n,r,i){t.exports=r(xt(),rr())})(ot,function(n){return n.mode.ECB=function(){var r=n.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(i,o){this._cipher.encryptBlock(i,o)}}),r.Decryptor=r.extend({processBlock:function(i,o){this._cipher.decryptBlock(i,o)}}),r}(),n.mode.ECB})}(h2)),h2.exports}var d2={exports:{}},M9;function UZ(){return M9||(M9=1,function(t,e){(function(n,r,i){t.exports=r(xt(),rr())})(ot,function(n){return n.pad.AnsiX923={pad:function(r,i){var o=r.sigBytes,s=i*4,a=s-o%s,l=o+a-1;r.clamp(),r.words[l>>>2]|=a<<24-l%4*8,r.sigBytes+=a},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},n.pad.Ansix923})}(d2)),d2.exports}var f2={exports:{}},N9;function WZ(){return N9||(N9=1,function(t,e){(function(n,r,i){t.exports=r(xt(),rr())})(ot,function(n){return n.pad.Iso10126={pad:function(r,i){var o=i*4,s=o-r.sigBytes%o;r.concat(n.lib.WordArray.random(s-1)).concat(n.lib.WordArray.create([s<<24],1))},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},n.pad.Iso10126})}(f2)),f2.exports}var p2={exports:{}},O9;function qZ(){return O9||(O9=1,function(t,e){(function(n,r,i){t.exports=r(xt(),rr())})(ot,function(n){return n.pad.Iso97971={pad:function(r,i){r.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(r,i)},unpad:function(r){n.pad.ZeroPadding.unpad(r),r.sigBytes--}},n.pad.Iso97971})}(p2)),p2.exports}var m2={exports:{}},L9;function KZ(){return L9||(L9=1,function(t,e){(function(n,r,i){t.exports=r(xt(),rr())})(ot,function(n){return n.pad.ZeroPadding={pad:function(r,i){var o=i*4;r.clamp(),r.sigBytes+=o-(r.sigBytes%o||o)},unpad:function(r){for(var i=r.words,o=r.sigBytes-1,o=r.sigBytes-1;o>=0;o--)if(i[o>>>2]>>>24-o%4*8&255){r.sigBytes=o+1;break}}},n.pad.ZeroPadding})}(m2)),m2.exports}var g2={exports:{}},F9;function GZ(){return F9||(F9=1,function(t,e){(function(n,r,i){t.exports=r(xt(),rr())})(ot,function(n){return n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding})}(g2)),g2.exports}var x2={exports:{}},B9;function JZ(){return B9||(B9=1,function(t,e){(function(n,r,i){t.exports=r(xt(),rr())})(ot,function(n){return function(r){var i=n,o=i.lib,s=o.CipherParams,a=i.enc,l=a.Hex,c=i.format;c.Hex={stringify:function(u){return u.ciphertext.toString(l)},parse:function(u){var h=l.parse(u);return s.create({ciphertext:h})}}}(),n.format.Hex})}(x2)),x2.exports}var v2={exports:{}},V9;function QZ(){return V9||(V9=1,function(t,e){(function(n,r,i){t.exports=r(xt(),Nu(),Ou(),pc(),rr())})(ot,function(n){return function(){var r=n,i=r.lib,o=i.BlockCipher,s=r.algo,a=[],l=[],c=[],u=[],h=[],d=[],f=[],p=[],m=[],x=[];(function(){for(var _=[],C=0;C<256;C++)C<128?_[C]=C<<1:_[C]=C<<1^283;for(var S=0,k=0,C=0;C<256;C++){var b=k^k<<1^k<<2^k<<3^k<<4;b=b>>>8^b&255^99,a[S]=b,l[b]=S;var w=_[S],A=_[w],E=_[A],R=_[b]*257^b*16843008;c[S]=R<<24|R>>>8,u[S]=R<<16|R>>>16,h[S]=R<<8|R>>>24,d[S]=R;var R=E*16843009^A*65537^w*257^S*16843008;f[b]=R<<24|R>>>8,p[b]=R<<16|R>>>16,m[b]=R<<8|R>>>24,x[b]=R,S?(S=w^_[_[_[E^w]]],k^=_[_[k]]):S=k=1}})();var v=[0,1,2,4,8,16,32,64,128,27,54],y=s.AES=o.extend({_doReset:function(){var _;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var C=this._keyPriorReset=this._key,S=C.words,k=C.sigBytes/4,b=this._nRounds=k+6,w=(b+1)*4,A=this._keySchedule=[],E=0;E<w;E++)E<k?A[E]=S[E]:(_=A[E-1],E%k?k>6&&E%k==4&&(_=a[_>>>24]<<24|a[_>>>16&255]<<16|a[_>>>8&255]<<8|a[_&255]):(_=_<<8|_>>>24,_=a[_>>>24]<<24|a[_>>>16&255]<<16|a[_>>>8&255]<<8|a[_&255],_^=v[E/k|0]<<24),A[E]=A[E-k]^_);for(var R=this._invKeySchedule=[],D=0;D<w;D++){var E=w-D;if(D%4)var _=A[E];else var _=A[E-4];D<4||E<=4?R[D]=_:R[D]=f[a[_>>>24]]^p[a[_>>>16&255]]^m[a[_>>>8&255]]^x[a[_&255]]}}},encryptBlock:function(_,C){this._doCryptBlock(_,C,this._keySchedule,c,u,h,d,a)},decryptBlock:function(_,C){var S=_[C+1];_[C+1]=_[C+3],_[C+3]=S,this._doCryptBlock(_,C,this._invKeySchedule,f,p,m,x,l);var S=_[C+1];_[C+1]=_[C+3],_[C+3]=S},_doCryptBlock:function(_,C,S,k,b,w,A,E){for(var R=this._nRounds,D=_[C]^S[0],N=_[C+1]^S[1],j=_[C+2]^S[2],$=_[C+3]^S[3],Q=4,X=1;X<R;X++){var q=k[D>>>24]^b[N>>>16&255]^w[j>>>8&255]^A[$&255]^S[Q++],H=k[N>>>24]^b[j>>>16&255]^w[$>>>8&255]^A[D&255]^S[Q++],L=k[j>>>24]^b[$>>>16&255]^w[D>>>8&255]^A[N&255]^S[Q++],U=k[$>>>24]^b[D>>>16&255]^w[N>>>8&255]^A[j&255]^S[Q++];D=q,N=H,j=L,$=U}var q=(E[D>>>24]<<24|E[N>>>16&255]<<16|E[j>>>8&255]<<8|E[$&255])^S[Q++],H=(E[N>>>24]<<24|E[j>>>16&255]<<16|E[$>>>8&255]<<8|E[D&255])^S[Q++],L=(E[j>>>24]<<24|E[$>>>16&255]<<16|E[D>>>8&255]<<8|E[N&255])^S[Q++],U=(E[$>>>24]<<24|E[D>>>16&255]<<16|E[N>>>8&255]<<8|E[j&255])^S[Q++];_[C]=q,_[C+1]=H,_[C+2]=L,_[C+3]=U},keySize:256/32});r.AES=o._createHelper(y)}(),n.AES})}(v2)),v2.exports}var y2={exports:{}},j9;function XZ(){return j9||(j9=1,function(t,e){(function(n,r,i){t.exports=r(xt(),Nu(),Ou(),pc(),rr())})(ot,function(n){return function(){var r=n,i=r.lib,o=i.WordArray,s=i.BlockCipher,a=r.algo,l=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],c=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],h=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],d=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],f=a.DES=s.extend({_doReset:function(){for(var v=this._key,y=v.words,_=[],C=0;C<56;C++){var S=l[C]-1;_[C]=y[S>>>5]>>>31-S%32&1}for(var k=this._subKeys=[],b=0;b<16;b++){for(var w=k[b]=[],A=u[b],C=0;C<24;C++)w[C/6|0]|=_[(c[C]-1+A)%28]<<31-C%6,w[4+(C/6|0)]|=_[28+(c[C+24]-1+A)%28]<<31-C%6;w[0]=w[0]<<1|w[0]>>>31;for(var C=1;C<7;C++)w[C]=w[C]>>>(C-1)*4+3;w[7]=w[7]<<5|w[7]>>>27}for(var E=this._invSubKeys=[],C=0;C<16;C++)E[C]=k[15-C]},encryptBlock:function(v,y){this._doCryptBlock(v,y,this._subKeys)},decryptBlock:function(v,y){this._doCryptBlock(v,y,this._invSubKeys)},_doCryptBlock:function(v,y,_){this._lBlock=v[y],this._rBlock=v[y+1],p.call(this,4,252645135),p.call(this,16,65535),m.call(this,2,858993459),m.call(this,8,16711935),p.call(this,1,1431655765);for(var C=0;C<16;C++){for(var S=_[C],k=this._lBlock,b=this._rBlock,w=0,A=0;A<8;A++)w|=h[A][((b^S[A])&d[A])>>>0];this._lBlock=b,this._rBlock=k^w}var E=this._lBlock;this._lBlock=this._rBlock,this._rBlock=E,p.call(this,1,1431655765),m.call(this,8,16711935),m.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),v[y]=this._lBlock,v[y+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function p(v,y){var _=(this._lBlock>>>v^this._rBlock)&y;this._rBlock^=_,this._lBlock^=_<<v}function m(v,y){var _=(this._rBlock>>>v^this._lBlock)&y;this._lBlock^=_,this._rBlock^=_<<v}r.DES=s._createHelper(f);var x=a.TripleDES=s.extend({_doReset:function(){var v=this._key,y=v.words;if(y.length!==2&&y.length!==4&&y.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var _=y.slice(0,2),C=y.length<4?y.slice(0,2):y.slice(2,4),S=y.length<6?y.slice(0,2):y.slice(4,6);this._des1=f.createEncryptor(o.create(_)),this._des2=f.createEncryptor(o.create(C)),this._des3=f.createEncryptor(o.create(S))},encryptBlock:function(v,y){this._des1.encryptBlock(v,y),this._des2.decryptBlock(v,y),this._des3.encryptBlock(v,y)},decryptBlock:function(v,y){this._des3.decryptBlock(v,y),this._des2.encryptBlock(v,y),this._des1.decryptBlock(v,y)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=s._createHelper(x)}(),n.TripleDES})}(y2)),y2.exports}var _2={exports:{}},z9;function YZ(){return z9||(z9=1,function(t,e){(function(n,r,i){t.exports=r(xt(),Nu(),Ou(),pc(),rr())})(ot,function(n){return function(){var r=n,i=r.lib,o=i.StreamCipher,s=r.algo,a=s.RC4=o.extend({_doReset:function(){for(var u=this._key,h=u.words,d=u.sigBytes,f=this._S=[],p=0;p<256;p++)f[p]=p;for(var p=0,m=0;p<256;p++){var x=p%d,v=h[x>>>2]>>>24-x%4*8&255;m=(m+f[p]+v)%256;var y=f[p];f[p]=f[m],f[m]=y}this._i=this._j=0},_doProcessBlock:function(u,h){u[h]^=l.call(this)},keySize:256/32,ivSize:0});function l(){for(var u=this._S,h=this._i,d=this._j,f=0,p=0;p<4;p++){h=(h+1)%256,d=(d+u[h])%256;var m=u[h];u[h]=u[d],u[d]=m,f|=u[(u[h]+u[d])%256]<<24-p*8}return this._i=h,this._j=d,f}r.RC4=o._createHelper(a);var c=s.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var u=this.cfg.drop;u>0;u--)l.call(this)}});r.RC4Drop=o._createHelper(c)}(),n.RC4})}(_2)),_2.exports}var w2={exports:{}},$9;function ZZ(){return $9||($9=1,function(t,e){(function(n,r,i){t.exports=r(xt(),Nu(),Ou(),pc(),rr())})(ot,function(n){return function(){var r=n,i=r.lib,o=i.StreamCipher,s=r.algo,a=[],l=[],c=[],u=s.Rabbit=o.extend({_doReset:function(){for(var d=this._key.words,f=this.cfg.iv,p=0;p<4;p++)d[p]=(d[p]<<8|d[p]>>>24)&16711935|(d[p]<<24|d[p]>>>8)&4278255360;var m=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],x=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var p=0;p<4;p++)h.call(this);for(var p=0;p<8;p++)x[p]^=m[p+4&7];if(f){var v=f.words,y=v[0],_=v[1],C=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,S=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,k=C>>>16|S&4294901760,b=S<<16|C&65535;x[0]^=C,x[1]^=k,x[2]^=S,x[3]^=b,x[4]^=C,x[5]^=k,x[6]^=S,x[7]^=b;for(var p=0;p<4;p++)h.call(this)}},_doProcessBlock:function(d,f){var p=this._X;h.call(this),a[0]=p[0]^p[5]>>>16^p[3]<<16,a[1]=p[2]^p[7]>>>16^p[5]<<16,a[2]=p[4]^p[1]>>>16^p[7]<<16,a[3]=p[6]^p[3]>>>16^p[1]<<16;for(var m=0;m<4;m++)a[m]=(a[m]<<8|a[m]>>>24)&16711935|(a[m]<<24|a[m]>>>8)&4278255360,d[f+m]^=a[m]},blockSize:128/32,ivSize:64/32});function h(){for(var d=this._X,f=this._C,p=0;p<8;p++)l[p]=f[p];f[0]=f[0]+1295307597+this._b|0,f[1]=f[1]+3545052371+(f[0]>>>0<l[0]>>>0?1:0)|0,f[2]=f[2]+886263092+(f[1]>>>0<l[1]>>>0?1:0)|0,f[3]=f[3]+1295307597+(f[2]>>>0<l[2]>>>0?1:0)|0,f[4]=f[4]+3545052371+(f[3]>>>0<l[3]>>>0?1:0)|0,f[5]=f[5]+886263092+(f[4]>>>0<l[4]>>>0?1:0)|0,f[6]=f[6]+1295307597+(f[5]>>>0<l[5]>>>0?1:0)|0,f[7]=f[7]+3545052371+(f[6]>>>0<l[6]>>>0?1:0)|0,this._b=f[7]>>>0<l[7]>>>0?1:0;for(var p=0;p<8;p++){var m=d[p]+f[p],x=m&65535,v=m>>>16,y=((x*x>>>17)+x*v>>>15)+v*v,_=((m&4294901760)*m|0)+((m&65535)*m|0);c[p]=y^_}d[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,d[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,d[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,d[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,d[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,d[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,d[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,d[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}r.Rabbit=o._createHelper(u)}(),n.Rabbit})}(w2)),w2.exports}var C2={exports:{}},H9;function eee(){return H9||(H9=1,function(t,e){(function(n,r,i){t.exports=r(xt(),Nu(),Ou(),pc(),rr())})(ot,function(n){return function(){var r=n,i=r.lib,o=i.StreamCipher,s=r.algo,a=[],l=[],c=[],u=s.RabbitLegacy=o.extend({_doReset:function(){var d=this._key.words,f=this.cfg.iv,p=this._X=[d[0],d[3]<<16|d[2]>>>16,d[1],d[0]<<16|d[3]>>>16,d[2],d[1]<<16|d[0]>>>16,d[3],d[2]<<16|d[1]>>>16],m=this._C=[d[2]<<16|d[2]>>>16,d[0]&4294901760|d[1]&65535,d[3]<<16|d[3]>>>16,d[1]&4294901760|d[2]&65535,d[0]<<16|d[0]>>>16,d[2]&4294901760|d[3]&65535,d[1]<<16|d[1]>>>16,d[3]&4294901760|d[0]&65535];this._b=0;for(var x=0;x<4;x++)h.call(this);for(var x=0;x<8;x++)m[x]^=p[x+4&7];if(f){var v=f.words,y=v[0],_=v[1],C=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,S=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,k=C>>>16|S&4294901760,b=S<<16|C&65535;m[0]^=C,m[1]^=k,m[2]^=S,m[3]^=b,m[4]^=C,m[5]^=k,m[6]^=S,m[7]^=b;for(var x=0;x<4;x++)h.call(this)}},_doProcessBlock:function(d,f){var p=this._X;h.call(this),a[0]=p[0]^p[5]>>>16^p[3]<<16,a[1]=p[2]^p[7]>>>16^p[5]<<16,a[2]=p[4]^p[1]>>>16^p[7]<<16,a[3]=p[6]^p[3]>>>16^p[1]<<16;for(var m=0;m<4;m++)a[m]=(a[m]<<8|a[m]>>>24)&16711935|(a[m]<<24|a[m]>>>8)&4278255360,d[f+m]^=a[m]},blockSize:128/32,ivSize:64/32});function h(){for(var d=this._X,f=this._C,p=0;p<8;p++)l[p]=f[p];f[0]=f[0]+1295307597+this._b|0,f[1]=f[1]+3545052371+(f[0]>>>0<l[0]>>>0?1:0)|0,f[2]=f[2]+886263092+(f[1]>>>0<l[1]>>>0?1:0)|0,f[3]=f[3]+1295307597+(f[2]>>>0<l[2]>>>0?1:0)|0,f[4]=f[4]+3545052371+(f[3]>>>0<l[3]>>>0?1:0)|0,f[5]=f[5]+886263092+(f[4]>>>0<l[4]>>>0?1:0)|0,f[6]=f[6]+1295307597+(f[5]>>>0<l[5]>>>0?1:0)|0,f[7]=f[7]+3545052371+(f[6]>>>0<l[6]>>>0?1:0)|0,this._b=f[7]>>>0<l[7]>>>0?1:0;for(var p=0;p<8;p++){var m=d[p]+f[p],x=m&65535,v=m>>>16,y=((x*x>>>17)+x*v>>>15)+v*v,_=((m&4294901760)*m|0)+((m&65535)*m|0);c[p]=y^_}d[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,d[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,d[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,d[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,d[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,d[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,d[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,d[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}r.RabbitLegacy=o._createHelper(u)}(),n.RabbitLegacy})}(C2)),C2.exports}var b2={exports:{}},U9;function tee(){return U9||(U9=1,function(t,e){(function(n,r,i){t.exports=r(xt(),Nu(),Ou(),pc(),rr())})(ot,function(n){return function(){var r=n,i=r.lib,o=i.BlockCipher,s=r.algo;const a=16,l=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],c=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var u={pbox:[],sbox:[]};function h(x,v){let y=v>>24&255,_=v>>16&255,C=v>>8&255,S=v&255,k=x.sbox[0][y]+x.sbox[1][_];return k=k^x.sbox[2][C],k=k+x.sbox[3][S],k}function d(x,v,y){let _=v,C=y,S;for(let k=0;k<a;++k)_=_^x.pbox[k],C=h(x,_)^C,S=_,_=C,C=S;return S=_,_=C,C=S,C=C^x.pbox[a],_=_^x.pbox[a+1],{left:_,right:C}}function f(x,v,y){let _=v,C=y,S;for(let k=a+1;k>1;--k)_=_^x.pbox[k],C=h(x,_)^C,S=_,_=C,C=S;return S=_,_=C,C=S,C=C^x.pbox[1],_=_^x.pbox[0],{left:_,right:C}}function p(x,v,y){for(let b=0;b<4;b++){x.sbox[b]=[];for(let w=0;w<256;w++)x.sbox[b][w]=c[b][w]}let _=0;for(let b=0;b<a+2;b++)x.pbox[b]=l[b]^v[_],_++,_>=y&&(_=0);let C=0,S=0,k=0;for(let b=0;b<a+2;b+=2)k=d(x,C,S),C=k.left,S=k.right,x.pbox[b]=C,x.pbox[b+1]=S;for(let b=0;b<4;b++)for(let w=0;w<256;w+=2)k=d(x,C,S),C=k.left,S=k.right,x.sbox[b][w]=C,x.sbox[b][w+1]=S;return!0}var m=s.Blowfish=o.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var x=this._keyPriorReset=this._key,v=x.words,y=x.sigBytes/4;p(u,v,y)}},encryptBlock:function(x,v){var y=d(u,x[v],x[v+1]);x[v]=y.left,x[v+1]=y.right},decryptBlock:function(x,v){var y=f(u,x[v],x[v+1]);x[v]=y.left,x[v+1]=y.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=o._createHelper(m)}(),n.Blowfish})}(b2)),b2.exports}(function(t,e){(function(n,r,i){t.exports=r(xt(),Iy(),PZ(),DZ(),Nu(),MZ(),Ou(),IO(),mT(),NZ(),RO(),OZ(),LZ(),FZ(),gT(),BZ(),pc(),rr(),VZ(),jZ(),zZ(),$Z(),HZ(),UZ(),WZ(),qZ(),KZ(),GZ(),JZ(),QZ(),XZ(),YZ(),ZZ(),eee(),tee())})(ot,function(n){return n})})(AO);var nee=AO.exports;const Lb=ly(nee);function dt(...t){return cm(JY(t))}const ree=t=>new Intl.DateTimeFormat("en-GB",{weekday:"long",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1}).format(t);function rl(t,e){if(typeof t!="object"&&typeof e!="object")return Object.is(t,e);if(t===null&&e===null)return!0;if(typeof t!=typeof e)return!1;if(t===e)return!0;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!rl(t[n],e[n]))return!1;return!0}if(Array.isArray(t)||Array.isArray(e)||Object.keys(t).length!==Object.keys(e).length)return!1;for(const[n,r]of Object.entries(t))if(!(n in e)||!rl(r,e[n]))return!1;return!0}function iee(){const t=window.SpeechRecognition||window.webkitSpeechRecognition,e=navigator.mediaDevices.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return t&&e}function oee(t,e){return Lb.AES.encrypt(e,t).toString()}function see(t,e){return Lb.AES.decrypt(e,t).toString(Lb.enc.Utf8)}function aee(t){return t==null||typeof t=="object"&&Object.keys(t).length===0||typeof t=="string"&&t.trim().length===0}const lee=new Map,xT=T.createContext();function cee({children:t}){const[e,n]=T.useState(lee);function r({tags:a}){let l=!1;for(const[c,u]of e)if(rl(c,a)){l=!0;break}return l}const i=T.useCallback(({tags:a})=>{let l=null;for(const[c,u]of e)if(rl(c,a)){l=u.data;break}return l},[e]),o=T.useCallback(({tags:a,data:l,refetchFunction:c})=>{n(u=>{const h=new Map(u);let d=!1;for(const[f,p]of h)if(rl(f,a)){d=!0;break}if(d){for(const[f,p]of h)if(rl(f,a)){h.delete(f),h.set(f,{data:l,refetchFunction:c});break}}else h.set(a,{data:l,refetchFunction:c});return h})},[]);function s({queryKey:a}){for(const[l,c]of e)if(l.length===a.length){if(rl(l,a)){const{refetchFunction:u}=c;u(!0)}}else l.forEach(u=>{if(a.some(h=>rl(h,u))){const{refetchFunction:h}=c;h(!0)}})}return P.jsx(xT.Provider,{value:{checkQueryTags:r,getQueryCache:i,setQueryCache:o,invalidateQueries:s},children:t})}function uee({queryKey:t,queryFn:e,hasTags:n,currentCacheData:r,setQueryCache:i,enabled:o}){const[s,a]=T.useState(!1),[l,c]=T.useState(""),[u,h]=T.useState(null),[d,f]=T.useState(!1),[p,m]=T.useState(!0),x=T.useRef(t),v=T.useRef(e),{toast:y}=Ms();return T.useEffect(()=>{async function _(){try{if(a(!0),c(""),n&&!d)return h(r),a(!1);const C=await v.current();h(C),i({tags:x.current,data:C,refetchFunction:f}),c("")}catch(C){console.log(C),y({title:C.name,description:C.message}),c(C)}finally{a(!1),f(!1),p&&m(!1)}}o&&(p&&_(),!p&&d&&_())},[d,p,r,n,i,o,y]),{data:u,isStartOperating:s,error:l}}function PO({queryKey:t,queryFn:e,enabled:n=!0}){const r=T.useContext(xT);if(r===void 0)throw new Error("useQuery was used outside of RemoteDataQueryProvider");const i=r.checkQueryTags({tags:t}),o=T.useMemo(()=>r.getQueryCache({tags:t}),[r,t]);let{data:s,isStartOperating:a,error:l}=uee({queryKey:t,queryFn:e,hasTags:i,currentCacheData:o,setQueryCache:r.setQueryCache,enabled:n}),c=!1;return!a&&!s&&!l&&!n?c=!1:!a&&!s&&!l&&n||a&&!s?c=!0:(!a&&s||!a&&!s&&l)&&(c=!1),{isLoading:c,error:l,data:s}}function Lu({mutationFn:t,onSuccess:e,onError:n}){const[r,i]=T.useState(!1),[o,s]=T.useState("");async function a({...l}={},{onSuccess:c,onError:u}={}){try{i(!0),s(""),await t(l),e&&e(),c&&c()}catch(h){console.log(h),s(h),n&&n(h),u&&u(h)}finally{i(!1)}}return{isLoading:r,error:o,mutate:a}}function um(){const t=T.useContext(xT);if(t===void 0)throw new Error("useQueryClient was used outside of RemoteDataQueryProvider");return t}const DO=T.createContext();function hee({children:t}){const[e,n]=T.useState(null),r=T.useRef(!1);function i(s){r.current?window.confirm("Have you saved the note before leaving?")&&(r.current=null,n(s)):n(s)}function o(){r.current=null,n(null)}return P.jsx(DO.Provider,{value:{selectedNoteId:e,selectNote:i,deselectNote:o,editedRef:r},children:t})}function Ry(){const t=T.useContext(DO);if(t===void 0)throw new Error("useSelectedNote was used outside of SelectedNoteContextProvider");return t}var W9={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},dee=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},NO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=o>>2,h=(o&3)<<4|a>>4;let d=(a&15)<<2|c>>6,f=c&63;l||(f=64,s||(d=64)),r.push(n[u],n[h],n[d],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(MO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dee(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||h==null)throw new fee;const d=o<<2|a>>4;if(r.push(d),c!==64){const f=a<<4&240|c>>2;if(r.push(f),h!==64){const p=c<<6&192|h;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class fee extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pee=function(t){const e=MO(t);return NO.encodeByteArray(e,!0)},$x=function(t){return pee(t).replace(/\./g,"")},OO=function(t){try{return NO.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mee(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gee=()=>mee().__FIREBASE_DEFAULTS__,xee=()=>{if(typeof process>"u"||typeof W9>"u")return;const t=W9.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},vee=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&OO(t[1]);return e&&JSON.parse(e)},Py=()=>{try{return gee()||xee()||vee()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},LO=t=>{var e,n;return(n=(e=Py())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},FO=t=>{const e=LO(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},BO=()=>{var t;return(t=Py())===null||t===void 0?void 0:t.config},VO=t=>{var e;return(e=Py())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yee{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[$x(JSON.stringify(n)),$x(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _ee(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fr())}function wee(){var t;const e=(t=Py())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Cee(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function bee(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Eee(){const t=Fr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function See(){return!wee()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function kee(){try{return typeof indexedDB=="object"}catch{return!1}}function Tee(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aee="FirebaseError";class Ns extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Aee,Object.setPrototypeOf(this,Ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hm.prototype.create)}}class hm{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Iee(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Ns(i,a,r)}}function Iee(t,e){return t.replace(Ree,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Ree=/\{\$([^}]+)}/g;function Pee(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Hx(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(q9(o)&&q9(s)){if(!Hx(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function q9(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Yf(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Zf(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Dee(t,e){const n=new Mee(t,e);return n.subscribe.bind(n)}class Mee{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Nee(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=E2),i.error===void 0&&(i.error=E2),i.complete===void 0&&(i.complete=E2);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Nee(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function E2(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(t){return t&&t._delegate?t._delegate:t}class Wl{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oee=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new yee;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Fee(e))try{this.getOrInitializeService({instanceIdentifier:Fc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Fc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fc){return this.instances.has(e)}getOptions(e=Fc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Lee(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fc){return this.component?this.component.multipleInstances?e:Fc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Lee(t){return t===Fc?void 0:t}function Fee(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bee{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Oee(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(mt||(mt={}));const Vee={debug:mt.DEBUG,verbose:mt.VERBOSE,info:mt.INFO,warn:mt.WARN,error:mt.ERROR,silent:mt.SILENT},jee=mt.INFO,zee={[mt.DEBUG]:"log",[mt.VERBOSE]:"log",[mt.INFO]:"info",[mt.WARN]:"warn",[mt.ERROR]:"error"},$ee=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=zee[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vT{constructor(e){this.name=e,this._logLevel=jee,this._logHandler=$ee,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Vee[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,mt.DEBUG,...e),this._logHandler(this,mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,mt.VERBOSE,...e),this._logHandler(this,mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,mt.INFO,...e),this._logHandler(this,mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,mt.WARN,...e),this._logHandler(this,mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,mt.ERROR,...e),this._logHandler(this,mt.ERROR,...e)}}const Hee=(t,e)=>e.some(n=>t instanceof n);let K9,G9;function Uee(){return K9||(K9=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Wee(){return G9||(G9=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zO=new WeakMap,Fb=new WeakMap,$O=new WeakMap,S2=new WeakMap,yT=new WeakMap;function qee(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Nl(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&zO.set(n,t)}).catch(()=>{}),yT.set(e,t),e}function Kee(t){if(Fb.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Fb.set(t,e)}let Bb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Fb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$O.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Nl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Gee(t){Bb=t(Bb)}function Jee(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(k2(this),e,...n);return $O.set(r,e.sort?e.sort():[e]),Nl(r)}:Wee().includes(t)?function(...e){return t.apply(k2(this),e),Nl(zO.get(this))}:function(...e){return Nl(t.apply(k2(this),e))}}function Qee(t){return typeof t=="function"?Jee(t):(t instanceof IDBTransaction&&Kee(t),Hee(t,Uee())?new Proxy(t,Bb):t)}function Nl(t){if(t instanceof IDBRequest)return qee(t);if(S2.has(t))return S2.get(t);const e=Qee(t);return e!==t&&(S2.set(t,e),yT.set(e,t)),e}const k2=t=>yT.get(t);function Xee(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Nl(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Nl(s.result),l.oldVersion,l.newVersion,Nl(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const Yee=["get","getKey","getAll","getAllKeys","count"],Zee=["put","add","delete","clear"],T2=new Map;function J9(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(T2.get(e))return T2.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Zee.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Yee.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return T2.set(e,o),o}Gee(t=>({...t,get:(e,n,r)=>J9(e,n)||t.get(e,n,r),has:(e,n)=>!!J9(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ete{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(tte(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function tte(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vb="@firebase/app",Q9="0.10.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=new vT("@firebase/app"),nte="@firebase/app-compat",rte="@firebase/analytics-compat",ite="@firebase/analytics",ote="@firebase/app-check-compat",ste="@firebase/app-check",ate="@firebase/auth",lte="@firebase/auth-compat",cte="@firebase/database",ute="@firebase/database-compat",hte="@firebase/functions",dte="@firebase/functions-compat",fte="@firebase/installations",pte="@firebase/installations-compat",mte="@firebase/messaging",gte="@firebase/messaging-compat",xte="@firebase/performance",vte="@firebase/performance-compat",yte="@firebase/remote-config",_te="@firebase/remote-config-compat",wte="@firebase/storage",Cte="@firebase/storage-compat",bte="@firebase/firestore",Ete="@firebase/vertexai-preview",Ste="@firebase/firestore-compat",kte="firebase",Tte="10.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="[DEFAULT]",Ate={[Vb]:"fire-core",[nte]:"fire-core-compat",[ite]:"fire-analytics",[rte]:"fire-analytics-compat",[ste]:"fire-app-check",[ote]:"fire-app-check-compat",[ate]:"fire-auth",[lte]:"fire-auth-compat",[cte]:"fire-rtdb",[ute]:"fire-rtdb-compat",[hte]:"fire-fn",[dte]:"fire-fn-compat",[fte]:"fire-iid",[pte]:"fire-iid-compat",[mte]:"fire-fcm",[gte]:"fire-fcm-compat",[xte]:"fire-perf",[vte]:"fire-perf-compat",[yte]:"fire-rc",[_te]:"fire-rc-compat",[wte]:"fire-gcs",[Cte]:"fire-gcs-compat",[bte]:"fire-fst",[Ste]:"fire-fst-compat",[Ete]:"fire-vertex","fire-js":"fire-js",[kte]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux=new Map,Ite=new Map,zb=new Map;function X9(t,e){try{t.container.addComponent(e)}catch(n){ma.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function hu(t){const e=t.name;if(zb.has(e))return ma.debug(`There were multiple attempts to register component ${e}.`),!1;zb.set(e,t);for(const n of Ux.values())X9(n,t);for(const n of Ite.values())X9(n,t);return!0}function Dy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ea(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rte={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ol=new hm("app","Firebase",Rte);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pte{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ol.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fu=Tte;function HO(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:jb,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ol.create("bad-app-name",{appName:String(i)});if(n||(n=BO()),!n)throw Ol.create("no-options");const o=Ux.get(i);if(o){if(Hx(n,o.options)&&Hx(r,o.config))return o;throw Ol.create("duplicate-app",{appName:i})}const s=new Bee(i);for(const l of zb.values())s.addComponent(l);const a=new Pte(n,r,s);return Ux.set(i,a),a}function _T(t=jb){const e=Ux.get(t);if(!e&&t===jb&&BO())return HO();if(!e)throw Ol.create("no-app",{appName:t});return e}function _s(t,e,n){var r;let i=(r=Ate[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ma.warn(a.join(" "));return}hu(new Wl(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dte="firebase-heartbeat-database",Mte=1,f0="firebase-heartbeat-store";let A2=null;function UO(){return A2||(A2=Xee(Dte,Mte,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(f0)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ol.create("idb-open",{originalErrorMessage:t.message})})),A2}async function Nte(t){try{const n=(await UO()).transaction(f0),r=await n.objectStore(f0).get(WO(t));return await n.done,r}catch(e){if(e instanceof Ns)ma.warn(e.message);else{const n=Ol.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ma.warn(n.message)}}}async function Y9(t,e){try{const r=(await UO()).transaction(f0,"readwrite");await r.objectStore(f0).put(e,WO(t)),await r.done}catch(n){if(n instanceof Ns)ma.warn(n.message);else{const r=Ol.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ma.warn(r.message)}}}function WO(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ote=1024,Lte=30*24*60*60*1e3;class Fte{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Vte(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Z9();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=Lte}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ma.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Z9(),{heartbeatsToSend:r,unsentEntries:i}=Bte(this._heartbeatsCache.heartbeats),o=$x(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ma.warn(n),""}}}function Z9(){return new Date().toISOString().substring(0,10)}function Bte(t,e=Ote){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),eI(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),eI(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Vte{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kee()?Tee().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Nte(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Y9(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Y9(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function eI(t){return $x(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jte(t){hu(new Wl("platform-logger",e=>new ete(e),"PRIVATE")),hu(new Wl("heartbeat",e=>new Fte(e),"PRIVATE")),_s(Vb,Q9,t),_s(Vb,Q9,"esm2017"),_s("fire-js","")}jte("");var zte="firebase",$te="10.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_s(zte,$te,"app");var tI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Yc,qO;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,w){function A(){}A.prototype=w.prototype,b.D=w.prototype,b.prototype=new A,b.prototype.constructor=b,b.C=function(E,R,D){for(var N=Array(arguments.length-2),j=2;j<arguments.length;j++)N[j-2]=arguments[j];return w.prototype[R].apply(E,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,w,A){A||(A=0);var E=Array(16);if(typeof w=="string")for(var R=0;16>R;++R)E[R]=w.charCodeAt(A++)|w.charCodeAt(A++)<<8|w.charCodeAt(A++)<<16|w.charCodeAt(A++)<<24;else for(R=0;16>R;++R)E[R]=w[A++]|w[A++]<<8|w[A++]<<16|w[A++]<<24;w=b.g[0],A=b.g[1],R=b.g[2];var D=b.g[3],N=w+(D^A&(R^D))+E[0]+3614090360&4294967295;w=A+(N<<7&4294967295|N>>>25),N=D+(R^w&(A^R))+E[1]+3905402710&4294967295,D=w+(N<<12&4294967295|N>>>20),N=R+(A^D&(w^A))+E[2]+606105819&4294967295,R=D+(N<<17&4294967295|N>>>15),N=A+(w^R&(D^w))+E[3]+3250441966&4294967295,A=R+(N<<22&4294967295|N>>>10),N=w+(D^A&(R^D))+E[4]+4118548399&4294967295,w=A+(N<<7&4294967295|N>>>25),N=D+(R^w&(A^R))+E[5]+1200080426&4294967295,D=w+(N<<12&4294967295|N>>>20),N=R+(A^D&(w^A))+E[6]+2821735955&4294967295,R=D+(N<<17&4294967295|N>>>15),N=A+(w^R&(D^w))+E[7]+4249261313&4294967295,A=R+(N<<22&4294967295|N>>>10),N=w+(D^A&(R^D))+E[8]+1770035416&4294967295,w=A+(N<<7&4294967295|N>>>25),N=D+(R^w&(A^R))+E[9]+2336552879&4294967295,D=w+(N<<12&4294967295|N>>>20),N=R+(A^D&(w^A))+E[10]+4294925233&4294967295,R=D+(N<<17&4294967295|N>>>15),N=A+(w^R&(D^w))+E[11]+2304563134&4294967295,A=R+(N<<22&4294967295|N>>>10),N=w+(D^A&(R^D))+E[12]+1804603682&4294967295,w=A+(N<<7&4294967295|N>>>25),N=D+(R^w&(A^R))+E[13]+4254626195&4294967295,D=w+(N<<12&4294967295|N>>>20),N=R+(A^D&(w^A))+E[14]+2792965006&4294967295,R=D+(N<<17&4294967295|N>>>15),N=A+(w^R&(D^w))+E[15]+1236535329&4294967295,A=R+(N<<22&4294967295|N>>>10),N=w+(R^D&(A^R))+E[1]+4129170786&4294967295,w=A+(N<<5&4294967295|N>>>27),N=D+(A^R&(w^A))+E[6]+3225465664&4294967295,D=w+(N<<9&4294967295|N>>>23),N=R+(w^A&(D^w))+E[11]+643717713&4294967295,R=D+(N<<14&4294967295|N>>>18),N=A+(D^w&(R^D))+E[0]+3921069994&4294967295,A=R+(N<<20&4294967295|N>>>12),N=w+(R^D&(A^R))+E[5]+3593408605&4294967295,w=A+(N<<5&4294967295|N>>>27),N=D+(A^R&(w^A))+E[10]+38016083&4294967295,D=w+(N<<9&4294967295|N>>>23),N=R+(w^A&(D^w))+E[15]+3634488961&4294967295,R=D+(N<<14&4294967295|N>>>18),N=A+(D^w&(R^D))+E[4]+3889429448&4294967295,A=R+(N<<20&4294967295|N>>>12),N=w+(R^D&(A^R))+E[9]+568446438&4294967295,w=A+(N<<5&4294967295|N>>>27),N=D+(A^R&(w^A))+E[14]+3275163606&4294967295,D=w+(N<<9&4294967295|N>>>23),N=R+(w^A&(D^w))+E[3]+4107603335&4294967295,R=D+(N<<14&4294967295|N>>>18),N=A+(D^w&(R^D))+E[8]+1163531501&4294967295,A=R+(N<<20&4294967295|N>>>12),N=w+(R^D&(A^R))+E[13]+2850285829&4294967295,w=A+(N<<5&4294967295|N>>>27),N=D+(A^R&(w^A))+E[2]+4243563512&4294967295,D=w+(N<<9&4294967295|N>>>23),N=R+(w^A&(D^w))+E[7]+1735328473&4294967295,R=D+(N<<14&4294967295|N>>>18),N=A+(D^w&(R^D))+E[12]+2368359562&4294967295,A=R+(N<<20&4294967295|N>>>12),N=w+(A^R^D)+E[5]+4294588738&4294967295,w=A+(N<<4&4294967295|N>>>28),N=D+(w^A^R)+E[8]+2272392833&4294967295,D=w+(N<<11&4294967295|N>>>21),N=R+(D^w^A)+E[11]+1839030562&4294967295,R=D+(N<<16&4294967295|N>>>16),N=A+(R^D^w)+E[14]+4259657740&4294967295,A=R+(N<<23&4294967295|N>>>9),N=w+(A^R^D)+E[1]+2763975236&4294967295,w=A+(N<<4&4294967295|N>>>28),N=D+(w^A^R)+E[4]+1272893353&4294967295,D=w+(N<<11&4294967295|N>>>21),N=R+(D^w^A)+E[7]+4139469664&4294967295,R=D+(N<<16&4294967295|N>>>16),N=A+(R^D^w)+E[10]+3200236656&4294967295,A=R+(N<<23&4294967295|N>>>9),N=w+(A^R^D)+E[13]+681279174&4294967295,w=A+(N<<4&4294967295|N>>>28),N=D+(w^A^R)+E[0]+3936430074&4294967295,D=w+(N<<11&4294967295|N>>>21),N=R+(D^w^A)+E[3]+3572445317&4294967295,R=D+(N<<16&4294967295|N>>>16),N=A+(R^D^w)+E[6]+76029189&4294967295,A=R+(N<<23&4294967295|N>>>9),N=w+(A^R^D)+E[9]+3654602809&4294967295,w=A+(N<<4&4294967295|N>>>28),N=D+(w^A^R)+E[12]+3873151461&4294967295,D=w+(N<<11&4294967295|N>>>21),N=R+(D^w^A)+E[15]+530742520&4294967295,R=D+(N<<16&4294967295|N>>>16),N=A+(R^D^w)+E[2]+3299628645&4294967295,A=R+(N<<23&4294967295|N>>>9),N=w+(R^(A|~D))+E[0]+4096336452&4294967295,w=A+(N<<6&4294967295|N>>>26),N=D+(A^(w|~R))+E[7]+1126891415&4294967295,D=w+(N<<10&4294967295|N>>>22),N=R+(w^(D|~A))+E[14]+2878612391&4294967295,R=D+(N<<15&4294967295|N>>>17),N=A+(D^(R|~w))+E[5]+4237533241&4294967295,A=R+(N<<21&4294967295|N>>>11),N=w+(R^(A|~D))+E[12]+1700485571&4294967295,w=A+(N<<6&4294967295|N>>>26),N=D+(A^(w|~R))+E[3]+2399980690&4294967295,D=w+(N<<10&4294967295|N>>>22),N=R+(w^(D|~A))+E[10]+4293915773&4294967295,R=D+(N<<15&4294967295|N>>>17),N=A+(D^(R|~w))+E[1]+2240044497&4294967295,A=R+(N<<21&4294967295|N>>>11),N=w+(R^(A|~D))+E[8]+1873313359&4294967295,w=A+(N<<6&4294967295|N>>>26),N=D+(A^(w|~R))+E[15]+4264355552&4294967295,D=w+(N<<10&4294967295|N>>>22),N=R+(w^(D|~A))+E[6]+2734768916&4294967295,R=D+(N<<15&4294967295|N>>>17),N=A+(D^(R|~w))+E[13]+1309151649&4294967295,A=R+(N<<21&4294967295|N>>>11),N=w+(R^(A|~D))+E[4]+4149444226&4294967295,w=A+(N<<6&4294967295|N>>>26),N=D+(A^(w|~R))+E[11]+3174756917&4294967295,D=w+(N<<10&4294967295|N>>>22),N=R+(w^(D|~A))+E[2]+718787259&4294967295,R=D+(N<<15&4294967295|N>>>17),N=A+(D^(R|~w))+E[9]+3951481745&4294967295,b.g[0]=b.g[0]+w&4294967295,b.g[1]=b.g[1]+(R+(N<<21&4294967295|N>>>11))&4294967295,b.g[2]=b.g[2]+R&4294967295,b.g[3]=b.g[3]+D&4294967295}r.prototype.u=function(b,w){w===void 0&&(w=b.length);for(var A=w-this.blockSize,E=this.B,R=this.h,D=0;D<w;){if(R==0)for(;D<=A;)i(this,b,D),D+=this.blockSize;if(typeof b=="string"){for(;D<w;)if(E[R++]=b.charCodeAt(D++),R==this.blockSize){i(this,E),R=0;break}}else for(;D<w;)if(E[R++]=b[D++],R==this.blockSize){i(this,E),R=0;break}}this.h=R,this.o+=w},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var w=1;w<b.length-8;++w)b[w]=0;var A=8*this.o;for(w=b.length-8;w<b.length;++w)b[w]=A&255,A/=256;for(this.u(b),b=Array(16),w=A=0;4>w;++w)for(var E=0;32>E;E+=8)b[A++]=this.g[w]>>>E&255;return b};function o(b,w){var A=a;return Object.prototype.hasOwnProperty.call(A,b)?A[b]:A[b]=w(b)}function s(b,w){this.h=w;for(var A=[],E=!0,R=b.length-1;0<=R;R--){var D=b[R]|0;E&&D==w||(A[R]=D,E=!1)}this.g=A}var a={};function l(b){return-128<=b&&128>b?o(b,function(w){return new s([w|0],0>w?-1:0)}):new s([b|0],0>b?-1:0)}function c(b){if(isNaN(b)||!isFinite(b))return h;if(0>b)return x(c(-b));for(var w=[],A=1,E=0;b>=A;E++)w[E]=b/A|0,A*=4294967296;return new s(w,0)}function u(b,w){if(b.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(b.charAt(0)=="-")return x(u(b.substring(1),w));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=c(Math.pow(w,8)),E=h,R=0;R<b.length;R+=8){var D=Math.min(8,b.length-R),N=parseInt(b.substring(R,R+D),w);8>D?(D=c(Math.pow(w,D)),E=E.j(D).add(c(N))):(E=E.j(A),E=E.add(c(N)))}return E}var h=l(0),d=l(1),f=l(16777216);t=s.prototype,t.m=function(){if(m(this))return-x(this).m();for(var b=0,w=1,A=0;A<this.g.length;A++){var E=this.i(A);b+=(0<=E?E:4294967296+E)*w,w*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(p(this))return"0";if(m(this))return"-"+x(this).toString(b);for(var w=c(Math.pow(b,6)),A=this,E="";;){var R=C(A,w).g;A=v(A,R.j(w));var D=((0<A.g.length?A.g[0]:A.h)>>>0).toString(b);if(A=R,p(A))return D+E;for(;6>D.length;)D="0"+D;E=D+E}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function p(b){if(b.h!=0)return!1;for(var w=0;w<b.g.length;w++)if(b.g[w]!=0)return!1;return!0}function m(b){return b.h==-1}t.l=function(b){return b=v(this,b),m(b)?-1:p(b)?0:1};function x(b){for(var w=b.g.length,A=[],E=0;E<w;E++)A[E]=~b.g[E];return new s(A,~b.h).add(d)}t.abs=function(){return m(this)?x(this):this},t.add=function(b){for(var w=Math.max(this.g.length,b.g.length),A=[],E=0,R=0;R<=w;R++){var D=E+(this.i(R)&65535)+(b.i(R)&65535),N=(D>>>16)+(this.i(R)>>>16)+(b.i(R)>>>16);E=N>>>16,D&=65535,N&=65535,A[R]=N<<16|D}return new s(A,A[A.length-1]&-2147483648?-1:0)};function v(b,w){return b.add(x(w))}t.j=function(b){if(p(this)||p(b))return h;if(m(this))return m(b)?x(this).j(x(b)):x(x(this).j(b));if(m(b))return x(this.j(x(b)));if(0>this.l(f)&&0>b.l(f))return c(this.m()*b.m());for(var w=this.g.length+b.g.length,A=[],E=0;E<2*w;E++)A[E]=0;for(E=0;E<this.g.length;E++)for(var R=0;R<b.g.length;R++){var D=this.i(E)>>>16,N=this.i(E)&65535,j=b.i(R)>>>16,$=b.i(R)&65535;A[2*E+2*R]+=N*$,y(A,2*E+2*R),A[2*E+2*R+1]+=D*$,y(A,2*E+2*R+1),A[2*E+2*R+1]+=N*j,y(A,2*E+2*R+1),A[2*E+2*R+2]+=D*j,y(A,2*E+2*R+2)}for(E=0;E<w;E++)A[E]=A[2*E+1]<<16|A[2*E];for(E=w;E<2*w;E++)A[E]=0;return new s(A,0)};function y(b,w){for(;(b[w]&65535)!=b[w];)b[w+1]+=b[w]>>>16,b[w]&=65535,w++}function _(b,w){this.g=b,this.h=w}function C(b,w){if(p(w))throw Error("division by zero");if(p(b))return new _(h,h);if(m(b))return w=C(x(b),w),new _(x(w.g),x(w.h));if(m(w))return w=C(b,x(w)),new _(x(w.g),w.h);if(30<b.g.length){if(m(b)||m(w))throw Error("slowDivide_ only works with positive integers.");for(var A=d,E=w;0>=E.l(b);)A=S(A),E=S(E);var R=k(A,1),D=k(E,1);for(E=k(E,2),A=k(A,2);!p(E);){var N=D.add(E);0>=N.l(b)&&(R=R.add(A),D=N),E=k(E,1),A=k(A,1)}return w=v(b,R.j(w)),new _(R,w)}for(R=h;0<=b.l(w);){for(A=Math.max(1,Math.floor(b.m()/w.m())),E=Math.ceil(Math.log(A)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),D=c(A),N=D.j(w);m(N)||0<N.l(b);)A-=E,D=c(A),N=D.j(w);p(D)&&(D=d),R=R.add(D),b=v(b,N)}return new _(R,b)}t.A=function(b){return C(this,b).h},t.and=function(b){for(var w=Math.max(this.g.length,b.g.length),A=[],E=0;E<w;E++)A[E]=this.i(E)&b.i(E);return new s(A,this.h&b.h)},t.or=function(b){for(var w=Math.max(this.g.length,b.g.length),A=[],E=0;E<w;E++)A[E]=this.i(E)|b.i(E);return new s(A,this.h|b.h)},t.xor=function(b){for(var w=Math.max(this.g.length,b.g.length),A=[],E=0;E<w;E++)A[E]=this.i(E)^b.i(E);return new s(A,this.h^b.h)};function S(b){for(var w=b.g.length+1,A=[],E=0;E<w;E++)A[E]=b.i(E)<<1|b.i(E-1)>>>31;return new s(A,b.h)}function k(b,w){var A=w>>5;w%=32;for(var E=b.g.length-A,R=[],D=0;D<E;D++)R[D]=0<w?b.i(D+A)>>>w|b.i(D+A+1)<<32-w:b.i(D+A);return new s(R,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,qO=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,Yc=s}).apply(typeof tI<"u"?tI:typeof self<"u"?self:typeof window<"u"?window:{});var Lg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var KO,GO,ep,JO,U1,$b,QO,XO,YO;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,I,M){return g==Array.prototype||g==Object.prototype||(g[I]=M.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lg=="object"&&Lg];for(var I=0;I<g.length;++I){var M=g[I];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var r=n(this);function i(g,I){if(I)e:{var M=r;g=g.split(".");for(var B=0;B<g.length-1;B++){var G=g[B];if(!(G in M))break e;M=M[G]}g=g[g.length-1],B=M[g],I=I(B),I!=B&&I!=null&&e(M,g,{configurable:!0,writable:!0,value:I})}}function o(g,I){g instanceof String&&(g+="");var M=0,B=!1,G={next:function(){if(!B&&M<g.length){var re=M++;return{value:I(re,g[re]),done:!1}}return B=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}i("Array.prototype.values",function(g){return g||function(){return o(this,function(I,M){return M})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(g){var I=typeof g;return I=I!="object"?I:g?Array.isArray(g)?"array":I:"null",I=="array"||I=="object"&&typeof g.length=="number"}function c(g){var I=typeof g;return I=="object"&&g!=null||I=="function"}function u(g,I,M){return g.call.apply(g.bind,arguments)}function h(g,I,M){if(!g)throw Error();if(2<arguments.length){var B=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,B),g.apply(I,G)}}return function(){return g.apply(I,arguments)}}function d(g,I,M){return d=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,d.apply(null,arguments)}function f(g,I){var M=Array.prototype.slice.call(arguments,1);return function(){var B=M.slice();return B.push.apply(B,arguments),g.apply(this,B)}}function p(g,I){function M(){}M.prototype=I.prototype,g.aa=I.prototype,g.prototype=new M,g.prototype.constructor=g,g.Qb=function(B,G,re){for(var xe=Array(arguments.length-2),Lt=2;Lt<arguments.length;Lt++)xe[Lt-2]=arguments[Lt];return I.prototype[G].apply(B,xe)}}function m(g){const I=g.length;if(0<I){const M=Array(I);for(let B=0;B<I;B++)M[B]=g[B];return M}return[]}function x(g,I){for(let M=1;M<arguments.length;M++){const B=arguments[M];if(l(B)){const G=g.length||0,re=B.length||0;g.length=G+re;for(let xe=0;xe<re;xe++)g[G+xe]=B[xe]}else g.push(B)}}class v{constructor(I,M){this.i=I,this.j=M,this.h=0,this.g=null}get(){let I;return 0<this.h?(this.h--,I=this.g,this.g=I.next,I.next=null):I=this.i(),I}}function y(g){return/^[\s\xa0]*$/.test(g)}function _(){var g=a.navigator;return g&&(g=g.userAgent)?g:""}function C(g){return C[" "](g),g}C[" "]=function(){};var S=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function k(g,I,M){for(const B in g)I.call(M,g[B],B,g)}function b(g,I){for(const M in g)I.call(void 0,g[M],M,g)}function w(g){const I={};for(const M in g)I[M]=g[M];return I}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(g,I){let M,B;for(let G=1;G<arguments.length;G++){B=arguments[G];for(M in B)g[M]=B[M];for(let re=0;re<A.length;re++)M=A[re],Object.prototype.hasOwnProperty.call(B,M)&&(g[M]=B[M])}}function R(g){var I=1;g=g.split(":");const M=[];for(;0<I&&g.length;)M.push(g.shift()),I--;return g.length&&M.push(g.join(":")),M}function D(g){a.setTimeout(()=>{throw g},0)}function N(){var g=H;let I=null;return g.g&&(I=g.g,g.g=g.g.next,g.g||(g.h=null),I.next=null),I}class j{constructor(){this.h=this.g=null}add(I,M){const B=$.get();B.set(I,M),this.h?this.h.next=B:this.g=B,this.h=B}}var $=new v(()=>new Q,g=>g.reset());class Q{constructor(){this.next=this.g=this.h=null}set(I,M){this.h=I,this.g=M,this.next=null}reset(){this.next=this.g=this.h=null}}let X,q=!1,H=new j,L=()=>{const g=a.Promise.resolve(void 0);X=()=>{g.then(U)}};var U=()=>{for(var g;g=N();){try{g.h.call(g.g)}catch(M){D(M)}var I=$;I.j(g),100>I.h&&(I.h++,g.next=I.g,I.g=g)}q=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(g,I){this.type=g,this.g=this.target=I,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var J=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var g=!1,I=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const M=()=>{};a.addEventListener("test",M,I),a.removeEventListener("test",M,I)}catch{}return g}();function Ee(g,I){if(O.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var M=this.type=g.type,B=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=I,I=g.relatedTarget){if(S){e:{try{C(I.nodeName);var G=!0;break e}catch{}G=!1}G||(I=null)}}else M=="mouseover"?I=g.fromElement:M=="mouseout"&&(I=g.toElement);this.relatedTarget=I,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:fe[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&Ee.aa.h.call(this)}}p(Ee,O);var fe={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var ue="closure_listenable_"+(1e6*Math.random()|0),de=0;function ze(g,I,M,B,G){this.listener=g,this.proxy=null,this.src=I,this.type=M,this.capture=!!B,this.ha=G,this.key=++de,this.da=this.fa=!1}function Oe(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Be(g){this.src=g,this.g={},this.h=0}Be.prototype.add=function(g,I,M,B,G){var re=g.toString();g=this.g[re],g||(g=this.g[re]=[],this.h++);var xe=ct(g,I,B,G);return-1<xe?(I=g[xe],M||(I.fa=!1)):(I=new ze(I,this.src,re,!!B,G),I.fa=M,g.push(I)),I};function Qe(g,I){var M=I.type;if(M in g.g){var B=g.g[M],G=Array.prototype.indexOf.call(B,I,void 0),re;(re=0<=G)&&Array.prototype.splice.call(B,G,1),re&&(Oe(I),g.g[M].length==0&&(delete g.g[M],g.h--))}}function ct(g,I,M,B){for(var G=0;G<g.length;++G){var re=g[G];if(!re.da&&re.listener==I&&re.capture==!!M&&re.ha==B)return G}return-1}var We="closure_lm_"+(1e6*Math.random()|0),jt={};function on(g,I,M,B,G){if(Array.isArray(I)){for(var re=0;re<I.length;re++)on(g,I[re],M,B,G);return null}return M=Gi(M),g&&g[ue]?g.K(I,M,c(B)?!!B.capture:!!B,G):Fn(g,I,M,!1,B,G)}function Fn(g,I,M,B,G,re){if(!I)throw Error("Invalid event type");var xe=c(G)?!!G.capture:!!G,Lt=wn(g);if(Lt||(g[We]=Lt=new Be(g)),M=Lt.add(I,M,B,xe,re),M.proxy)return M;if(B=dn(),M.proxy=B,B.src=g,B.listener=M,g.addEventListener)J||(G=xe),G===void 0&&(G=!1),g.addEventListener(I.toString(),B,G);else if(g.attachEvent)g.attachEvent(fn(I.toString()),B);else if(g.addListener&&g.removeListener)g.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return M}function dn(){function g(M){return I.call(g.src,g.listener,M)}const I=An;return g}function Jn(g,I,M,B,G){if(Array.isArray(I))for(var re=0;re<I.length;re++)Jn(g,I[re],M,B,G);else B=c(B)?!!B.capture:!!B,M=Gi(M),g&&g[ue]?(g=g.i,I=String(I).toString(),I in g.g&&(re=g.g[I],M=ct(re,M,B,G),-1<M&&(Oe(re[M]),Array.prototype.splice.call(re,M,1),re.length==0&&(delete g.g[I],g.h--)))):g&&(g=wn(g))&&(I=g.g[I.toString()],g=-1,I&&(g=ct(I,M,B,G)),(M=-1<g?I[g]:null)&&Qn(M))}function Qn(g){if(typeof g!="number"&&g&&!g.da){var I=g.src;if(I&&I[ue])Qe(I.i,g);else{var M=g.type,B=g.proxy;I.removeEventListener?I.removeEventListener(M,B,g.capture):I.detachEvent?I.detachEvent(fn(M),B):I.addListener&&I.removeListener&&I.removeListener(B),(M=wn(I))?(Qe(M,g),M.h==0&&(M.src=null,I[We]=null)):Oe(g)}}}function fn(g){return g in jt?jt[g]:jt[g]="on"+g}function An(g,I){if(g.da)g=!0;else{I=new Ee(I,this);var M=g.listener,B=g.ha||g.src;g.fa&&Qn(g),g=M.call(B,I)}return g}function wn(g){return g=g[We],g instanceof Be?g:null}var vt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Gi(g){return typeof g=="function"?g:(g[vt]||(g[vt]=function(I){return g.handleEvent(I)}),g[vt])}function Y(){K.call(this),this.i=new Be(this),this.M=this,this.F=null}p(Y,K),Y.prototype[ue]=!0,Y.prototype.removeEventListener=function(g,I,M,B){Jn(this,g,I,M,B)};function ie(g,I){var M,B=g.F;if(B)for(M=[];B;B=B.F)M.push(B);if(g=g.M,B=I.type||I,typeof I=="string")I=new O(I,g);else if(I instanceof O)I.target=I.target||g;else{var G=I;I=new O(B,g),E(I,G)}if(G=!0,M)for(var re=M.length-1;0<=re;re--){var xe=I.g=M[re];G=V(xe,B,!0,I)&&G}if(xe=I.g=g,G=V(xe,B,!0,I)&&G,G=V(xe,B,!1,I)&&G,M)for(re=0;re<M.length;re++)xe=I.g=M[re],G=V(xe,B,!1,I)&&G}Y.prototype.N=function(){if(Y.aa.N.call(this),this.i){var g=this.i,I;for(I in g.g){for(var M=g.g[I],B=0;B<M.length;B++)Oe(M[B]);delete g.g[I],g.h--}}this.F=null},Y.prototype.K=function(g,I,M,B){return this.i.add(String(g),I,!1,M,B)},Y.prototype.L=function(g,I,M,B){return this.i.add(String(g),I,!0,M,B)};function V(g,I,M,B){if(I=g.i.g[String(I)],!I)return!0;I=I.concat();for(var G=!0,re=0;re<I.length;++re){var xe=I[re];if(xe&&!xe.da&&xe.capture==M){var Lt=xe.listener,or=xe.ha||xe.src;xe.fa&&Qe(g.i,xe),G=Lt.call(or,B)!==!1&&G}}return G&&!B.defaultPrevented}function $e(g,I,M){if(typeof g=="function")M&&(g=d(g,M));else if(g&&typeof g.handleEvent=="function")g=d(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(I)?-1:a.setTimeout(g,I||0)}function Xe(g){g.g=$e(()=>{g.g=null,g.i&&(g.i=!1,Xe(g))},g.l);const I=g.h;g.h=null,g.m.apply(null,I)}class wt extends K{constructor(I,M){super(),this.m=I,this.l=M,this.h=null,this.i=!1,this.g=null}j(I){this.h=arguments,this.g?this.i=!0:Xe(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pn(g){K.call(this),this.h=g,this.g={}}p(pn,K);var Bn=[];function bi(g){k(g.g,function(I,M){this.g.hasOwnProperty(M)&&Qn(I)},g),g.g={}}pn.prototype.N=function(){pn.aa.N.call(this),bi(this)},pn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cn=a.JSON.stringify,In=a.JSON.parse,Ei=class{stringify(g){return a.JSON.stringify(g,void 0)}parse(g){return a.JSON.parse(g,void 0)}};function Vn(){}Vn.prototype.h=null;function Yu(g){return g.h||(g.h=g.i())}function Fa(){}var Ji={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Vs(){O.call(this,"d")}p(Vs,O);function js(){O.call(this,"c")}p(js,O);var li={},Ba=null;function zs(){return Ba=Ba||new Y}li.La="serverreachability";function Sc(g){O.call(this,li.La,g)}p(Sc,O);function $s(g){const I=zs();ie(I,new Sc(I))}li.STAT_EVENT="statevent";function Va(g,I){O.call(this,li.STAT_EVENT,g),this.stat=I}p(Va,O);function mn(g){const I=zs();ie(I,new Va(I,g))}li.Ma="timingevent";function Yo(g,I){O.call(this,li.Ma,g),this.size=I}p(Yo,O);function gn(g,I){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){g()},I)}function Cr(){this.g=!0}Cr.prototype.xa=function(){this.g=!1};function Zu(g,I,M,B,G,re){g.info(function(){if(g.g)if(re)for(var xe="",Lt=re.split("&"),or=0;or<Lt.length;or++){var kt=Lt[or].split("=");if(1<kt.length){var Sr=kt[0];kt=kt[1];var kr=Sr.split("_");xe=2<=kr.length&&kr[1]=="type"?xe+(Sr+"="+kt+"&"):xe+(Sr+"=redacted&")}}else xe=null;else xe=re;return"XMLHTTP REQ ("+B+") [attempt "+G+"]: "+I+`
`+M+`
`+xe})}function z(g,I,M,B,G,re,xe){g.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+G+"]: "+I+`
`+M+`
`+re+" "+xe})}function W(g,I,M,B){g.info(function(){return"XMLHTTP TEXT ("+I+"): "+le(g,M)+(B?" "+B:"")})}function ee(g,I){g.info(function(){return"TIMEOUT: "+I})}Cr.prototype.info=function(){};function le(g,I){if(!g.g)return I;if(!I)return null;try{var M=JSON.parse(I);if(M){for(g=0;g<M.length;g++)if(Array.isArray(M[g])){var B=M[g];if(!(2>B.length)){var G=B[1];if(Array.isArray(G)&&!(1>G.length)){var re=G[0];if(re!="noop"&&re!="stop"&&re!="close")for(var xe=1;xe<G.length;xe++)G[xe]=""}}}}return Cn(M)}catch{return I}}var Ce={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Le={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ue;function ge(){}p(ge,Vn),ge.prototype.g=function(){return new XMLHttpRequest},ge.prototype.i=function(){return{}},Ue=new ge;function Ne(g,I,M,B){this.j=g,this.i=I,this.l=M,this.R=B||1,this.U=new pn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Re}function Re(){this.i=null,this.g="",this.h=!1}var Me={},ft={};function Ct(g,I,M){g.L=1,g.v=ug(Hs(I)),g.m=M,g.P=!0,Mt(g,null)}function Mt(g,I){g.F=Date.now(),Wt(g),g.A=Hs(g.v);var M=g.A,B=g.R;Array.isArray(B)||(B=[String(B)]),h3(M.i,"t",B),g.C=0,M=g.j.J,g.h=new Re,g.g=I3(g.j,M?I:null,!g.m),0<g.O&&(g.M=new wt(d(g.Y,g,g.g),g.O)),I=g.U,M=g.g,B=g.ca;var G="readystatechange";Array.isArray(G)||(G&&(Bn[0]=G.toString()),G=Bn);for(var re=0;re<G.length;re++){var xe=on(M,G[re],B||I.handleEvent,!1,I.h||I);if(!xe)break;I.g[xe.key]=xe}I=g.H?w(g.H):{},g.m?(g.u||(g.u="POST"),I["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,I)):(g.u="GET",g.g.ea(g.A,g.u,null,I)),$s(),Zu(g.i,g.u,g.A,g.l,g.R,g.m)}Ne.prototype.ca=function(g){g=g.target;const I=this.M;I&&Us(g)==3?I.j():this.Y(g)},Ne.prototype.Y=function(g){try{if(g==this.g)e:{const kr=Us(this.g);var I=this.g.Ba();const nh=this.g.Z();if(!(3>kr)&&(kr!=3||this.g&&(this.h.h||this.g.oa()||v3(this.g)))){this.J||kr!=4||I==7||(I==8||0>=nh?$s(3):$s(2)),Si(this);var M=this.g.Z();this.X=M;t:if(ut(this)){var B=v3(this.g);g="";var G=B.length,re=Us(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){br(this),Qi(this);var xe="";break t}this.h.i=new a.TextDecoder}for(I=0;I<G;I++)this.h.h=!0,g+=this.h.i.decode(B[I],{stream:!(re&&I==G-1)});B.length=0,this.h.g+=g,this.C=0,xe=this.h.g}else xe=this.g.oa();if(this.o=M==200,z(this.i,this.u,this.A,this.l,this.R,kr,M),this.o){if(this.T&&!this.K){t:{if(this.g){var Lt,or=this.g;if((Lt=or.g?or.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Lt)){var kt=Lt;break t}}kt=null}if(M=kt)W(this.i,this.l,M,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,za(this,M);else{this.o=!1,this.s=3,mn(12),br(this),Qi(this);break e}}if(this.P){M=!0;let _o;for(;!this.J&&this.C<xe.length;)if(_o=Rn(this,xe),_o==ft){kr==4&&(this.s=4,mn(14),M=!1),W(this.i,this.l,null,"[Incomplete Response]");break}else if(_o==Me){this.s=4,mn(15),W(this.i,this.l,xe,"[Invalid Chunk]"),M=!1;break}else W(this.i,this.l,_o,null),za(this,_o);if(ut(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kr!=4||xe.length!=0||this.h.h||(this.s=1,mn(16),M=!1),this.o=this.o&&M,!M)W(this.i,this.l,xe,"[Invalid Chunked Response]"),br(this),Qi(this);else if(0<xe.length&&!this.W){this.W=!0;var Sr=this.j;Sr.g==this&&Sr.ba&&!Sr.M&&(Sr.j.info("Great, no buffering proxy detected. Bytes received: "+xe.length),cw(Sr),Sr.M=!0,mn(11))}}else W(this.i,this.l,xe,null),za(this,xe);kr==4&&br(this),this.o&&!this.J&&(kr==4?S3(this.j,this):(this.o=!1,Wt(this)))}else OG(this.g),M==400&&0<xe.indexOf("Unknown SID")?(this.s=3,mn(12)):(this.s=0,mn(13)),br(this),Qi(this)}}}catch{}finally{}};function ut(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function Rn(g,I){var M=g.C,B=I.indexOf(`
`,M);return B==-1?ft:(M=Number(I.substring(M,B)),isNaN(M)?Me:(B+=1,B+M>I.length?ft:(I=I.slice(B,B+M),g.C=B+M,I)))}Ne.prototype.cancel=function(){this.J=!0,br(this)};function Wt(g){g.S=Date.now()+g.I,ja(g,g.I)}function ja(g,I){if(g.B!=null)throw Error("WatchDog timer not null");g.B=gn(d(g.ba,g),I)}function Si(g){g.B&&(a.clearTimeout(g.B),g.B=null)}Ne.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(ee(this.i,this.A),this.L!=2&&($s(),mn(17)),br(this),this.s=2,Qi(this)):ja(this,this.S-g)};function Qi(g){g.j.G==0||g.J||S3(g.j,g)}function br(g){Si(g);var I=g.M;I&&typeof I.ma=="function"&&I.ma(),g.M=null,bi(g.U),g.g&&(I=g.g,g.g=null,I.abort(),I.ma())}function za(g,I){try{var M=g.j;if(M.G!=0&&(M.g==g||Ye(M.h,g))){if(!g.K&&Ye(M.h,g)&&M.G==3){try{var B=M.Da.g.parse(I)}catch{B=null}if(Array.isArray(B)&&B.length==3){var G=B;if(G[0]==0){e:if(!M.u){if(M.g)if(M.g.F+3e3<g.F)mg(M),fg(M);else break e;lw(M),mn(18)}}else M.za=G[1],0<M.za-M.T&&37500>G[2]&&M.F&&M.v==0&&!M.C&&(M.C=gn(d(M.Za,M),6e3));if(1>=Ac(M.h)&&M.ca){try{M.ca()}catch{}M.ca=void 0}}else Rc(M,11)}else if((g.K||M.g==g)&&mg(M),!y(I))for(G=M.Da.g.parse(I),I=0;I<G.length;I++){let kt=G[I];if(M.T=kt[0],kt=kt[1],M.G==2)if(kt[0]=="c"){M.K=kt[1],M.ia=kt[2];const Sr=kt[3];Sr!=null&&(M.la=Sr,M.j.info("VER="+M.la));const kr=kt[4];kr!=null&&(M.Aa=kr,M.j.info("SVER="+M.Aa));const nh=kt[5];nh!=null&&typeof nh=="number"&&0<nh&&(B=1.5*nh,M.L=B,M.j.info("backChannelRequestTimeoutMs_="+B)),B=M;const _o=g.g;if(_o){const xg=_o.g?_o.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xg){var re=B.h;re.g||xg.indexOf("spdy")==-1&&xg.indexOf("quic")==-1&&xg.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(zt(re,re.h),re.h=null))}if(B.D){const uw=_o.g?_o.g.getResponseHeader("X-HTTP-Session-Id"):null;uw&&(B.ya=uw,Kt(B.I,B.D,uw))}}M.G=3,M.l&&M.l.ua(),M.ba&&(M.R=Date.now()-g.F,M.j.info("Handshake RTT: "+M.R+"ms")),B=M;var xe=g;if(B.qa=A3(B,B.J?B.ia:null,B.W),xe.K){Er(B.h,xe);var Lt=xe,or=B.L;or&&(Lt.I=or),Lt.B&&(Si(Lt),Wt(Lt)),B.g=xe}else b3(B);0<M.i.length&&pg(M)}else kt[0]!="stop"&&kt[0]!="close"||Rc(M,7);else M.G==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?Rc(M,7):aw(M):kt[0]!="noop"&&M.l&&M.l.ta(kt),M.v=0)}}$s(4)}catch{}}var vo=class{constructor(g,I){this.g=g,this.map=I}};function kc(g){this.l=g||10,a.PerformanceNavigationTiming?(g=a.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Tc(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Ac(g){return g.h?1:g.g?g.g.size:0}function Ye(g,I){return g.h?g.h==I:g.g?g.g.has(I):!1}function zt(g,I){g.g?g.g.add(I):g.h=I}function Er(g,I){g.h&&g.h==I?g.h=null:g.g&&g.g.has(I)&&g.g.delete(I)}kc.prototype.cancel=function(){if(this.i=qt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function qt(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let I=g.i;for(const M of g.g.values())I=I.concat(M.D);return I}return m(g.i)}function yo(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(l(g)){for(var I=[],M=g.length,B=0;B<M;B++)I.push(g[B]);return I}I=[],M=0;for(B in g)I[M++]=g[B];return I}function sg(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(l(g)||typeof g=="string"){var I=[];g=g.length;for(var M=0;M<g;M++)I.push(M);return I}I=[],M=0;for(const B in g)I[M++]=B;return I}}}function ag(g,I){if(g.forEach&&typeof g.forEach=="function")g.forEach(I,void 0);else if(l(g)||typeof g=="string")Array.prototype.forEach.call(g,I,void 0);else for(var M=sg(g),B=yo(g),G=B.length,re=0;re<G;re++)I.call(void 0,B[re],M&&M[re],g)}var s3=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function CG(g,I){if(g){g=g.split("&");for(var M=0;M<g.length;M++){var B=g[M].indexOf("="),G=null;if(0<=B){var re=g[M].substring(0,B);G=g[M].substring(B+1)}else re=g[M];I(re,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Ic(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof Ic){this.h=g.h,lg(this,g.j),this.o=g.o,this.g=g.g,cg(this,g.s),this.l=g.l;var I=g.i,M=new mf;M.i=I.i,I.g&&(M.g=new Map(I.g),M.h=I.h),a3(this,M),this.m=g.m}else g&&(I=String(g).match(s3))?(this.h=!1,lg(this,I[1]||"",!0),this.o=ff(I[2]||""),this.g=ff(I[3]||"",!0),cg(this,I[4]),this.l=ff(I[5]||"",!0),a3(this,I[6]||"",!0),this.m=ff(I[7]||"")):(this.h=!1,this.i=new mf(null,this.h))}Ic.prototype.toString=function(){var g=[],I=this.j;I&&g.push(pf(I,l3,!0),":");var M=this.g;return(M||I=="file")&&(g.push("//"),(I=this.o)&&g.push(pf(I,l3,!0),"@"),g.push(encodeURIComponent(String(M)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M=this.s,M!=null&&g.push(":",String(M))),(M=this.l)&&(this.g&&M.charAt(0)!="/"&&g.push("/"),g.push(pf(M,M.charAt(0)=="/"?SG:EG,!0))),(M=this.i.toString())&&g.push("?",M),(M=this.m)&&g.push("#",pf(M,TG)),g.join("")};function Hs(g){return new Ic(g)}function lg(g,I,M){g.j=M?ff(I,!0):I,g.j&&(g.j=g.j.replace(/:$/,""))}function cg(g,I){if(I){if(I=Number(I),isNaN(I)||0>I)throw Error("Bad port number "+I);g.s=I}else g.s=null}function a3(g,I,M){I instanceof mf?(g.i=I,AG(g.i,g.h)):(M||(I=pf(I,kG)),g.i=new mf(I,g.h))}function Kt(g,I,M){g.i.set(I,M)}function ug(g){return Kt(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function ff(g,I){return g?I?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function pf(g,I,M){return typeof g=="string"?(g=encodeURI(g).replace(I,bG),M&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function bG(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var l3=/[#\/\?@]/g,EG=/[#\?:]/g,SG=/[#\?]/g,kG=/[#\?@]/g,TG=/#/g;function mf(g,I){this.h=this.g=null,this.i=g||null,this.j=!!I}function $a(g){g.g||(g.g=new Map,g.h=0,g.i&&CG(g.i,function(I,M){g.add(decodeURIComponent(I.replace(/\+/g," ")),M)}))}t=mf.prototype,t.add=function(g,I){$a(this),this.i=null,g=eh(this,g);var M=this.g.get(g);return M||this.g.set(g,M=[]),M.push(I),this.h+=1,this};function c3(g,I){$a(g),I=eh(g,I),g.g.has(I)&&(g.i=null,g.h-=g.g.get(I).length,g.g.delete(I))}function u3(g,I){return $a(g),I=eh(g,I),g.g.has(I)}t.forEach=function(g,I){$a(this),this.g.forEach(function(M,B){M.forEach(function(G){g.call(I,G,B,this)},this)},this)},t.na=function(){$a(this);const g=Array.from(this.g.values()),I=Array.from(this.g.keys()),M=[];for(let B=0;B<I.length;B++){const G=g[B];for(let re=0;re<G.length;re++)M.push(I[B])}return M},t.V=function(g){$a(this);let I=[];if(typeof g=="string")u3(this,g)&&(I=I.concat(this.g.get(eh(this,g))));else{g=Array.from(this.g.values());for(let M=0;M<g.length;M++)I=I.concat(g[M])}return I},t.set=function(g,I){return $a(this),this.i=null,g=eh(this,g),u3(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[I]),this.h+=1,this},t.get=function(g,I){return g?(g=this.V(g),0<g.length?String(g[0]):I):I};function h3(g,I,M){c3(g,I),0<M.length&&(g.i=null,g.g.set(eh(g,I),m(M)),g.h+=M.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],I=Array.from(this.g.keys());for(var M=0;M<I.length;M++){var B=I[M];const re=encodeURIComponent(String(B)),xe=this.V(B);for(B=0;B<xe.length;B++){var G=re;xe[B]!==""&&(G+="="+encodeURIComponent(String(xe[B]))),g.push(G)}}return this.i=g.join("&")};function eh(g,I){return I=String(I),g.j&&(I=I.toLowerCase()),I}function AG(g,I){I&&!g.j&&($a(g),g.i=null,g.g.forEach(function(M,B){var G=B.toLowerCase();B!=G&&(c3(this,B),h3(this,G,M))},g)),g.j=I}function IG(g,I){const M=new Cr;if(a.Image){const B=new Image;B.onload=f(Ha,M,"TestLoadImage: loaded",!0,I,B),B.onerror=f(Ha,M,"TestLoadImage: error",!1,I,B),B.onabort=f(Ha,M,"TestLoadImage: abort",!1,I,B),B.ontimeout=f(Ha,M,"TestLoadImage: timeout",!1,I,B),a.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=g}else I(!1)}function RG(g,I){const M=new Cr,B=new AbortController,G=setTimeout(()=>{B.abort(),Ha(M,"TestPingServer: timeout",!1,I)},1e4);fetch(g,{signal:B.signal}).then(re=>{clearTimeout(G),re.ok?Ha(M,"TestPingServer: ok",!0,I):Ha(M,"TestPingServer: server error",!1,I)}).catch(()=>{clearTimeout(G),Ha(M,"TestPingServer: error",!1,I)})}function Ha(g,I,M,B,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),B(M)}catch{}}function PG(){this.g=new Ei}function DG(g,I,M){const B=M||"";try{ag(g,function(G,re){let xe=G;c(G)&&(xe=Cn(G)),I.push(B+re+"="+encodeURIComponent(xe))})}catch(G){throw I.push(B+"type="+encodeURIComponent("_badmap")),G}}function gf(g){this.l=g.Ub||null,this.j=g.eb||!1}p(gf,Vn),gf.prototype.g=function(){return new hg(this.l,this.j)},gf.prototype.i=function(g){return function(){return g}}({});function hg(g,I){Y.call(this),this.D=g,this.o=I,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}p(hg,Y),t=hg.prototype,t.open=function(g,I){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=I,this.readyState=1,vf(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const I={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(I.body=g),(this.D||a).fetch(new Request(this.A,I)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xf(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,vf(this)),this.g&&(this.readyState=3,vf(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;d3(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function d3(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var I=g.value?g.value:new Uint8Array(0);(I=this.v.decode(I,{stream:!g.done}))&&(this.response=this.responseText+=I)}g.done?xf(this):vf(this),this.readyState==3&&d3(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,xf(this))},t.Qa=function(g){this.g&&(this.response=g,xf(this))},t.ga=function(){this.g&&xf(this)};function xf(g){g.readyState=4,g.l=null,g.j=null,g.v=null,vf(g)}t.setRequestHeader=function(g,I){this.u.append(g,I)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],I=this.h.entries();for(var M=I.next();!M.done;)M=M.value,g.push(M[0]+": "+M[1]),M=I.next();return g.join(`\r
`)};function vf(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(hg.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function f3(g){let I="";return k(g,function(M,B){I+=B,I+=":",I+=M,I+=`\r
`}),I}function sw(g,I,M){e:{for(B in M){var B=!1;break e}B=!0}B||(M=f3(M),typeof g=="string"?M!=null&&encodeURIComponent(String(M)):Kt(g,I,M))}function xn(g){Y.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}p(xn,Y);var MG=/^https?$/i,NG=["POST","PUT"];t=xn.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,I,M,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);I=I?I.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ue.g(),this.v=this.o?Yu(this.o):Yu(Ue),this.g.onreadystatechange=d(this.Ea,this);try{this.B=!0,this.g.open(I,String(g),!0),this.B=!1}catch(re){p3(this,re);return}if(g=M||"",M=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var G in B)M.set(G,B[G]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const re of B.keys())M.set(re,B.get(re));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(M.keys()).find(re=>re.toLowerCase()=="content-type"),G=a.FormData&&g instanceof a.FormData,!(0<=Array.prototype.indexOf.call(NG,I,void 0))||B||G||M.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,xe]of M)this.g.setRequestHeader(re,xe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{x3(this),this.u=!0,this.g.send(g),this.u=!1}catch(re){p3(this,re)}};function p3(g,I){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=I,g.m=5,m3(g),dg(g)}function m3(g){g.A||(g.A=!0,ie(g,"complete"),ie(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,ie(this,"complete"),ie(this,"abort"),dg(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dg(this,!0)),xn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?g3(this):this.bb())},t.bb=function(){g3(this)};function g3(g){if(g.h&&typeof s<"u"&&(!g.v[1]||Us(g)!=4||g.Z()!=2)){if(g.u&&Us(g)==4)$e(g.Ea,0,g);else if(ie(g,"readystatechange"),Us(g)==4){g.h=!1;try{const xe=g.Z();e:switch(xe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var I=!0;break e;default:I=!1}var M;if(!(M=I)){var B;if(B=xe===0){var G=String(g.D).match(s3)[1]||null;!G&&a.self&&a.self.location&&(G=a.self.location.protocol.slice(0,-1)),B=!MG.test(G?G.toLowerCase():"")}M=B}if(M)ie(g,"complete"),ie(g,"success");else{g.m=6;try{var re=2<Us(g)?g.g.statusText:""}catch{re=""}g.l=re+" ["+g.Z()+"]",m3(g)}}finally{dg(g)}}}}function dg(g,I){if(g.g){x3(g);const M=g.g,B=g.v[0]?()=>{}:null;g.g=null,g.v=null,I||ie(g,"ready");try{M.onreadystatechange=B}catch{}}}function x3(g){g.I&&(a.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function Us(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<Us(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var I=this.g.responseText;return g&&I.indexOf(g)==0&&(I=I.substring(g.length)),In(I)}};function v3(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function OG(g){const I={};g=(g.g&&2<=Us(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<g.length;B++){if(y(g[B]))continue;var M=R(g[B]);const G=M[0];if(M=M[1],typeof M!="string")continue;M=M.trim();const re=I[G]||[];I[G]=re,re.push(M)}b(I,function(B){return B.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function yf(g,I,M){return M&&M.internalChannelParams&&M.internalChannelParams[g]||I}function y3(g){this.Aa=0,this.i=[],this.j=new Cr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=yf("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=yf("baseRetryDelayMs",5e3,g),this.cb=yf("retryDelaySeedMs",1e4,g),this.Wa=yf("forwardChannelMaxRetries",2,g),this.wa=yf("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new kc(g&&g.concurrentRequestLimit),this.Da=new PG,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=y3.prototype,t.la=8,t.G=1,t.connect=function(g,I,M,B){mn(0),this.W=g,this.H=I||{},M&&B!==void 0&&(this.H.OSID=M,this.H.OAID=B),this.F=this.X,this.I=A3(this,null,this.W),pg(this)};function aw(g){if(_3(g),g.G==3){var I=g.U++,M=Hs(g.I);if(Kt(M,"SID",g.K),Kt(M,"RID",I),Kt(M,"TYPE","terminate"),_f(g,M),I=new Ne(g,g.j,I),I.L=2,I.v=ug(Hs(M)),M=!1,a.navigator&&a.navigator.sendBeacon)try{M=a.navigator.sendBeacon(I.v.toString(),"")}catch{}!M&&a.Image&&(new Image().src=I.v,M=!0),M||(I.g=I3(I.j,null),I.g.ea(I.v)),I.F=Date.now(),Wt(I)}T3(g)}function fg(g){g.g&&(cw(g),g.g.cancel(),g.g=null)}function _3(g){fg(g),g.u&&(a.clearTimeout(g.u),g.u=null),mg(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&a.clearTimeout(g.s),g.s=null)}function pg(g){if(!Tc(g.h)&&!g.s){g.s=!0;var I=g.Ga;X||L(),q||(X(),q=!0),H.add(I,g),g.B=0}}function LG(g,I){return Ac(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=I.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=gn(d(g.Ga,g,I),k3(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const G=new Ne(this,this.j,g);let re=this.o;if(this.S&&(re?(re=w(re),E(re,this.S)):re=this.S),this.m!==null||this.O||(G.H=re,re=null),this.P)e:{for(var I=0,M=0;M<this.i.length;M++){t:{var B=this.i[M];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(I+=B,4096<I){I=M;break e}if(I===4096||M===this.i.length-1){I=M+1;break e}}I=1e3}else I=1e3;I=C3(this,G,I),M=Hs(this.I),Kt(M,"RID",g),Kt(M,"CVER",22),this.D&&Kt(M,"X-HTTP-Session-Id",this.D),_f(this,M),re&&(this.O?I="headers="+encodeURIComponent(String(f3(re)))+"&"+I:this.m&&sw(M,this.m,re)),zt(this.h,G),this.Ua&&Kt(M,"TYPE","init"),this.P?(Kt(M,"$req",I),Kt(M,"SID","null"),G.T=!0,Ct(G,M,null)):Ct(G,M,I),this.G=2}}else this.G==3&&(g?w3(this,g):this.i.length==0||Tc(this.h)||w3(this))};function w3(g,I){var M;I?M=I.l:M=g.U++;const B=Hs(g.I);Kt(B,"SID",g.K),Kt(B,"RID",M),Kt(B,"AID",g.T),_f(g,B),g.m&&g.o&&sw(B,g.m,g.o),M=new Ne(g,g.j,M,g.B+1),g.m===null&&(M.H=g.o),I&&(g.i=I.D.concat(g.i)),I=C3(g,M,1e3),M.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),zt(g.h,M),Ct(M,B,I)}function _f(g,I){g.H&&k(g.H,function(M,B){Kt(I,B,M)}),g.l&&ag({},function(M,B){Kt(I,B,M)})}function C3(g,I,M){M=Math.min(g.i.length,M);var B=g.l?d(g.l.Na,g.l,g):null;e:{var G=g.i;let re=-1;for(;;){const xe=["count="+M];re==-1?0<M?(re=G[0].g,xe.push("ofs="+re)):re=0:xe.push("ofs="+re);let Lt=!0;for(let or=0;or<M;or++){let kt=G[or].g;const Sr=G[or].map;if(kt-=re,0>kt)re=Math.max(0,G[or].g-100),Lt=!1;else try{DG(Sr,xe,"req"+kt+"_")}catch{B&&B(Sr)}}if(Lt){B=xe.join("&");break e}}}return g=g.i.splice(0,M),I.D=g,B}function b3(g){if(!g.g&&!g.u){g.Y=1;var I=g.Fa;X||L(),q||(X(),q=!0),H.add(I,g),g.v=0}}function lw(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=gn(d(g.Fa,g),k3(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,E3(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=gn(d(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mn(10),fg(this),E3(this))};function cw(g){g.A!=null&&(a.clearTimeout(g.A),g.A=null)}function E3(g){g.g=new Ne(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var I=Hs(g.qa);Kt(I,"RID","rpc"),Kt(I,"SID",g.K),Kt(I,"AID",g.T),Kt(I,"CI",g.F?"0":"1"),!g.F&&g.ja&&Kt(I,"TO",g.ja),Kt(I,"TYPE","xmlhttp"),_f(g,I),g.m&&g.o&&sw(I,g.m,g.o),g.L&&(g.g.I=g.L);var M=g.g;g=g.ia,M.L=1,M.v=ug(Hs(I)),M.m=null,M.P=!0,Mt(M,g)}t.Za=function(){this.C!=null&&(this.C=null,fg(this),lw(this),mn(19))};function mg(g){g.C!=null&&(a.clearTimeout(g.C),g.C=null)}function S3(g,I){var M=null;if(g.g==I){mg(g),cw(g),g.g=null;var B=2}else if(Ye(g.h,I))M=I.D,Er(g.h,I),B=1;else return;if(g.G!=0){if(I.o)if(B==1){M=I.m?I.m.length:0,I=Date.now()-I.F;var G=g.B;B=zs(),ie(B,new Yo(B,M)),pg(g)}else b3(g);else if(G=I.s,G==3||G==0&&0<I.X||!(B==1&&LG(g,I)||B==2&&lw(g)))switch(M&&0<M.length&&(I=g.h,I.i=I.i.concat(M)),G){case 1:Rc(g,5);break;case 4:Rc(g,10);break;case 3:Rc(g,6);break;default:Rc(g,2)}}}function k3(g,I){let M=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(M*=2),M*I}function Rc(g,I){if(g.j.info("Error code "+I),I==2){var M=d(g.fb,g),B=g.Xa;const G=!B;B=new Ic(B||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||lg(B,"https"),ug(B),G?IG(B.toString(),M):RG(B.toString(),M)}else mn(2);g.G=0,g.l&&g.l.sa(I),T3(g),_3(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),mn(2)):(this.j.info("Failed to ping google.com"),mn(1))};function T3(g){if(g.G=0,g.ka=[],g.l){const I=qt(g.h);(I.length!=0||g.i.length!=0)&&(x(g.ka,I),x(g.ka,g.i),g.h.i.length=0,m(g.i),g.i.length=0),g.l.ra()}}function A3(g,I,M){var B=M instanceof Ic?Hs(M):new Ic(M);if(B.g!="")I&&(B.g=I+"."+B.g),cg(B,B.s);else{var G=a.location;B=G.protocol,I=I?I+"."+G.hostname:G.hostname,G=+G.port;var re=new Ic(null);B&&lg(re,B),I&&(re.g=I),G&&cg(re,G),M&&(re.l=M),B=re}return M=g.D,I=g.ya,M&&I&&Kt(B,M,I),Kt(B,"VER",g.la),_f(g,B),B}function I3(g,I,M){if(I&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return I=g.Ca&&!g.pa?new xn(new gf({eb:M})):new xn(g.pa),I.Ha(g.J),I}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function R3(){}t=R3.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function gg(){}gg.prototype.g=function(g,I){return new ki(g,I)};function ki(g,I){Y.call(this),this.g=new y3(I),this.l=g,this.h=I&&I.messageUrlParams||null,g=I&&I.messageHeaders||null,I&&I.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=I&&I.initMessageHeaders||null,I&&I.messageContentType&&(g?g["X-WebChannel-Content-Type"]=I.messageContentType:g={"X-WebChannel-Content-Type":I.messageContentType}),I&&I.va&&(g?g["X-WebChannel-Client-Profile"]=I.va:g={"X-WebChannel-Client-Profile":I.va}),this.g.S=g,(g=I&&I.Sb)&&!y(g)&&(this.g.m=g),this.v=I&&I.supportsCrossDomainXhr||!1,this.u=I&&I.sendRawJson||!1,(I=I&&I.httpSessionIdParam)&&!y(I)&&(this.g.D=I,g=this.h,g!==null&&I in g&&(g=this.h,I in g&&delete g[I])),this.j=new th(this)}p(ki,Y),ki.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ki.prototype.close=function(){aw(this.g)},ki.prototype.o=function(g){var I=this.g;if(typeof g=="string"){var M={};M.__data__=g,g=M}else this.u&&(M={},M.__data__=Cn(g),g=M);I.i.push(new vo(I.Ya++,g)),I.G==3&&pg(I)},ki.prototype.N=function(){this.g.l=null,delete this.j,aw(this.g),delete this.g,ki.aa.N.call(this)};function P3(g){Vs.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var I=g.__sm__;if(I){e:{for(const M in I){g=M;break e}g=void 0}(this.i=g)&&(g=this.i,I=I!==null&&g in I?I[g]:void 0),this.data=I}else this.data=g}p(P3,Vs);function D3(){js.call(this),this.status=1}p(D3,js);function th(g){this.g=g}p(th,R3),th.prototype.ua=function(){ie(this.g,"a")},th.prototype.ta=function(g){ie(this.g,new P3(g))},th.prototype.sa=function(g){ie(this.g,new D3)},th.prototype.ra=function(){ie(this.g,"b")},gg.prototype.createWebChannel=gg.prototype.g,ki.prototype.send=ki.prototype.o,ki.prototype.open=ki.prototype.m,ki.prototype.close=ki.prototype.close,YO=function(){return new gg},XO=function(){return zs()},QO=li,$b={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ce.NO_ERROR=0,Ce.TIMEOUT=8,Ce.HTTP_ERROR=6,U1=Ce,Le.COMPLETE="complete",JO=Le,Fa.EventType=Ji,Ji.OPEN="a",Ji.CLOSE="b",Ji.ERROR="c",Ji.MESSAGE="d",Y.prototype.listen=Y.prototype.K,ep=Fa,GO=gf,xn.prototype.listenOnce=xn.prototype.L,xn.prototype.getLastError=xn.prototype.Ka,xn.prototype.getLastErrorCode=xn.prototype.Ba,xn.prototype.getStatus=xn.prototype.Z,xn.prototype.getResponseJson=xn.prototype.Oa,xn.prototype.getResponseText=xn.prototype.oa,xn.prototype.send=xn.prototype.ea,xn.prototype.setWithCredentials=xn.prototype.Ha,KO=xn}).apply(typeof Lg<"u"?Lg:typeof self<"u"?self:typeof window<"u"?window:{});const nI="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rr.UNAUTHENTICATED=new Rr(null),Rr.GOOGLE_CREDENTIALS=new Rr("google-credentials-uid"),Rr.FIRST_PARTY=new Rr("first-party-uid"),Rr.MOCK_USER=new Rr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kd="10.13.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=new vT("@firebase/firestore");function Nf(){return du.logLevel}function Pe(t,...e){if(du.logLevel<=mt.DEBUG){const n=e.map(wT);du.debug(`Firestore (${Kd}): ${t}`,...n)}}function ga(t,...e){if(du.logLevel<=mt.ERROR){const n=e.map(wT);du.error(`Firestore (${Kd}): ${t}`,...n)}}function yd(t,...e){if(du.logLevel<=mt.WARN){const n=e.map(wT);du.warn(`Firestore (${Kd}): ${t}`,...n)}}function wT(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(t="Unexpected state"){const e=`FIRESTORE (${Kd}) INTERNAL ASSERTION FAILED: `+t;throw ga(e),new Error(e)}function Vt(t,e){t||Je()}function tt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ve extends Ns{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Hte{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Rr.UNAUTHENTICATED))}shutdown(){}}class Ute{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Wte{constructor(e){this.t=e,this.currentUser=Rr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Ll;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ll,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ll)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Vt(typeof r.accessToken=="string"),new ZO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Vt(e===null||typeof e=="string"),new Rr(e)}}class qte{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Rr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Kte{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new qte(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Rr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Gte{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Jte{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Pe("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Vt(typeof n.token=="string"),this.R=n.token,new Gte(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qte(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=Qte(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Tt(t,e){return t<e?-1:t>e?1:0}function _d(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ve(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ve(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ve(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ve(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Kn.fromMillis(Date.now())}static fromDate(e){return Kn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Kn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Tt(this.nanoseconds,e.nanoseconds):Tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ze(e)}static min(){return new Ze(new Kn(0,0))}static max(){return new Ze(new Kn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,n,r){n===void 0?n=0:n>e.length&&Je(),r===void 0?r=e.length-n:r>e.length-n&&Je(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return p0.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof p0?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class nn extends p0{construct(e,n,r){return new nn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ve(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new nn(n)}static emptyPath(){return new nn([])}}const Xte=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fr extends p0{construct(e,n,r){return new fr(e,n,r)}static isValidIdentifier(e){return Xte.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new fr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Ve(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Ve(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ve(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Ve(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new fr(n)}static emptyPath(){return new fr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.path=e}static fromPath(e){return new je(nn.fromString(e))}static fromName(e){return new je(nn.fromString(e).popFirst(5))}static empty(){return new je(nn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new nn(e.slice()))}}function Yte(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ze.fromTimestamp(r===1e9?new Kn(n+1,0):new Kn(n,r));return new ql(i,je.empty(),e)}function Zte(t){return new ql(t.readTime,t.key,-1)}class ql{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ql(Ze.min(),je.empty(),-1)}static max(){return new ql(Ze.max(),je.empty(),-1)}}function ene(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=je.comparator(t.documentKey,e.documentKey),n!==0?n:Tt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tne="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nne{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fm(t){if(t.code!==he.FAILED_PRECONDITION||t.message!==tne)throw t;Pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ce((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ce?n:ce.resolve(n)}catch(n){return ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ce.reject(n)}static resolve(e){return new ce((n,r)=>{n(e)})}static reject(e){return new ce((n,r)=>{r(e)})}static waitFor(e){return new ce((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=ce.resolve(!1);for(const r of e)n=n.next(i=>i?ce.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new ce((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;n(e[c]).next(u=>{s[c]=u,++a,a===o&&r(s)},u=>i(u))}})}static doWhile(e,n){return new ce((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function rne(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function pm(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}CT.oe=-1;function My(t){return t==null}function Wx(t){return t===0&&1/t==-1/0}function ine(t){return typeof t=="number"&&Number.isInteger(t)&&!Wx(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Gd(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function tL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,n){this.comparator=e,this.root=n||cr.EMPTY}insert(e,n){return new hn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,cr.BLACK,null,null))}remove(e){return new hn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fg(this.root,e,this.comparator,!0)}}class Fg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cr{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??cr.RED,this.left=i??cr.EMPTY,this.right=o??cr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new cr(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return cr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return cr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Je();const e=this.left.check();if(e!==this.right.check())throw Je();return e+(this.isRed()?0:1)}}cr.EMPTY=null,cr.RED=!0,cr.BLACK=!1;cr.EMPTY=new class{constructor(){this.size=0}get key(){throw Je()}get value(){throw Je()}get color(){throw Je()}get left(){throw Je()}get right(){throw Je()}copy(e,n,r,i,o){return this}insert(e,n,r){return new cr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.comparator=e,this.data=new hn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new iI(this.data.getIterator())}getIteratorFrom(e){return new iI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof yr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new yr(this.comparator);return n.data=e,n}}class iI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.fields=e,e.sort(fr.comparator)}static empty(){return new Do([])}unionWith(e){let n=new yr(fr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Do(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _d(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new nL("Invalid base64 string: "+o):o}}(e);return new wr(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new wr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}wr.EMPTY_BYTE_STRING=new wr("");const one=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kl(t){if(Vt(!!t),typeof t=="string"){let e=0;const n=one.exec(t);if(Vt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:En(t.seconds),nanos:En(t.nanos)}}function En(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function fu(t){return typeof t=="string"?wr.fromBase64String(t):wr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ET(t){const e=t.mapValue.fields.__previous_value__;return bT(e)?ET(e):e}function m0(t){const e=Kl(t.mapValue.fields.__local_write_time__.timestampValue);return new Kn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sne{constructor(e,n,r,i,o,s,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class g0{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new g0("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof g0&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function pu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?bT(t)?4:lne(t)?9007199254740991:ane(t)?10:11:Je()}function Ts(t,e){if(t===e)return!0;const n=pu(t);if(n!==pu(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return m0(t).isEqual(m0(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Kl(i.timestampValue),a=Kl(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return fu(i.bytesValue).isEqual(fu(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return En(i.geoPointValue.latitude)===En(o.geoPointValue.latitude)&&En(i.geoPointValue.longitude)===En(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return En(i.integerValue)===En(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=En(i.doubleValue),a=En(o.doubleValue);return s===a?Wx(s)===Wx(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return _d(t.arrayValue.values||[],e.arrayValue.values||[],Ts);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(rI(s)!==rI(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Ts(s[l],a[l])))return!1;return!0}(t,e);default:return Je()}}function x0(t,e){return(t.values||[]).find(n=>Ts(n,e))!==void 0}function wd(t,e){if(t===e)return 0;const n=pu(t),r=pu(e);if(n!==r)return Tt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Tt(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=En(o.integerValue||o.doubleValue),l=En(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return oI(t.timestampValue,e.timestampValue);case 4:return oI(m0(t),m0(e));case 5:return Tt(t.stringValue,e.stringValue);case 6:return function(o,s){const a=fu(o),l=fu(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Tt(a[c],l[c]);if(u!==0)return u}return Tt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Tt(En(o.latitude),En(s.latitude));return a!==0?a:Tt(En(o.longitude),En(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return sI(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,c,u;const h=o.fields||{},d=s.fields||{},f=(a=h.value)===null||a===void 0?void 0:a.arrayValue,p=(l=d.value)===null||l===void 0?void 0:l.arrayValue,m=Tt(((c=f==null?void 0:f.values)===null||c===void 0?void 0:c.length)||0,((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0);return m!==0?m:sI(f,p)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Bg.mapValue&&s===Bg.mapValue)return 0;if(o===Bg.mapValue)return 1;if(s===Bg.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const d=Tt(l[h],u[h]);if(d!==0)return d;const f=wd(a[l[h]],c[u[h]]);if(f!==0)return f}return Tt(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Je()}}function oI(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Tt(t,e);const n=Kl(t),r=Kl(e),i=Tt(n.seconds,r.seconds);return i!==0?i:Tt(n.nanos,r.nanos)}function sI(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=wd(n[i],r[i]);if(o)return o}return Tt(n.length,r.length)}function Cd(t){return Hb(t)}function Hb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Kl(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return fu(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return je.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Hb(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Hb(n.fields[s])}`;return i+"}"}(t.mapValue):Je()}function Ub(t){return!!t&&"integerValue"in t}function ST(t){return!!t&&"arrayValue"in t}function aI(t){return!!t&&"nullValue"in t}function lI(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function W1(t){return!!t&&"mapValue"in t}function ane(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Sp(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Gd(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Sp(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sp(t.arrayValue.values[n]);return e}return Object.assign({},t)}function lne(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e){this.value=e}static empty(){return new to({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!W1(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sp(n)}setAll(e){let n=fr.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Sp(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());W1(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ts(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];W1(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Gd(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new to(Sp(this.value))}}function rL(t){const e=[];return Gd(t.fields,(n,r)=>{const i=new fr([n]);if(W1(r)){const o=rL(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Do(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Mr(e,0,Ze.min(),Ze.min(),Ze.min(),to.empty(),0)}static newFoundDocument(e,n,r,i){return new Mr(e,1,n,Ze.min(),r,i,0)}static newNoDocument(e,n){return new Mr(e,2,n,Ze.min(),Ze.min(),to.empty(),0)}static newUnknownDocument(e,n){return new Mr(e,3,n,Ze.min(),Ze.min(),to.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=to.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=to.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e,n){this.position=e,this.inclusive=n}}function cI(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=je.comparator(je.fromName(s.referenceValue),n.key):r=wd(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function uI(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ts(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e,n="asc"){this.field=e,this.dir=n}}function cne(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{}class Un extends iL{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new hne(e,n,r):n==="array-contains"?new pne(e,r):n==="in"?new mne(e,r):n==="not-in"?new gne(e,r):n==="array-contains-any"?new xne(e,r):new Un(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new dne(e,r):new fne(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(wd(n,this.value)):n!==null&&pu(this.value)===pu(n)&&this.matchesComparison(wd(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Je()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class As extends iL{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new As(e,n)}matches(e){return oL(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function oL(t){return t.op==="and"}function sL(t){return une(t)&&oL(t)}function une(t){for(const e of t.filters)if(e instanceof As)return!1;return!0}function Wb(t){if(t instanceof Un)return t.field.canonicalString()+t.op.toString()+Cd(t.value);if(sL(t))return t.filters.map(e=>Wb(e)).join(",");{const e=t.filters.map(n=>Wb(n)).join(",");return`${t.op}(${e})`}}function aL(t,e){return t instanceof Un?function(r,i){return i instanceof Un&&r.op===i.op&&r.field.isEqual(i.field)&&Ts(r.value,i.value)}(t,e):t instanceof As?function(r,i){return i instanceof As&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&aL(s,i.filters[a]),!0):!1}(t,e):void Je()}function lL(t){return t instanceof Un?function(n){return`${n.field.canonicalString()} ${n.op} ${Cd(n.value)}`}(t):t instanceof As?function(n){return n.op.toString()+" {"+n.getFilters().map(lL).join(" ,")+"}"}(t):"Filter"}class hne extends Un{constructor(e,n,r){super(e,n,r),this.key=je.fromName(r.referenceValue)}matches(e){const n=je.comparator(e.key,this.key);return this.matchesComparison(n)}}class dne extends Un{constructor(e,n){super(e,"in",n),this.keys=cL("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class fne extends Un{constructor(e,n){super(e,"not-in",n),this.keys=cL("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function cL(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>je.fromName(r.referenceValue))}class pne extends Un{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ST(n)&&x0(n.arrayValue,this.value)}}class mne extends Un{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&x0(this.value.arrayValue,n)}}class gne extends Un{constructor(e,n){super(e,"not-in",n)}matches(e){if(x0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!x0(this.value.arrayValue,n)}}class xne extends Un{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ST(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>x0(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vne{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function hI(t,e=null,n=[],r=[],i=null,o=null,s=null){return new vne(t,e,n,r,i,o,s)}function kT(t){const e=tt(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Wb(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),My(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Cd(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Cd(r)).join(",")),e.ue=n}return e.ue}function TT(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!cne(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!aL(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!uI(t.startAt,e.startAt)&&uI(t.endAt,e.endAt)}function qb(t){return je.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function yne(t,e,n,r,i,o,s,a){return new Ny(t,e,n,r,i,o,s,a)}function AT(t){return new Ny(t)}function dI(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function _ne(t){return t.collectionGroup!==null}function kp(t){const e=tt(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new yr(fr.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Kx(o,r))}),n.has(fr.keyField().canonicalString())||e.ce.push(new Kx(fr.keyField(),r))}return e.ce}function ws(t){const e=tt(t);return e.le||(e.le=wne(e,kp(t))),e.le}function wne(t,e){if(t.limitType==="F")return hI(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Kx(i.field,o)});const n=t.endAt?new qx(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new qx(t.startAt.position,t.startAt.inclusive):null;return hI(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Kb(t,e,n){return new Ny(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Oy(t,e){return TT(ws(t),ws(e))&&t.limitType===e.limitType}function uL(t){return`${kT(ws(t))}|lt:${t.limitType}`}function ph(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>lL(i)).join(", ")}]`),My(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Cd(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Cd(i)).join(",")),`Target(${r})`}(ws(t))}; limitType=${t.limitType})`}function Ly(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):je.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of kp(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const c=cI(s,a,l);return s.inclusive?c<=0:c<0}(r.startAt,kp(r),i)||r.endAt&&!function(s,a,l){const c=cI(s,a,l);return s.inclusive?c>=0:c>0}(r.endAt,kp(r),i))}(t,e)}function Cne(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function hL(t){return(e,n)=>{let r=!1;for(const i of kp(t)){const o=bne(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function bne(t,e,n){const r=t.field.isKeyField()?je.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return l!==null&&c!==null?wd(l,c):Je()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Je()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Gd(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return tL(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ene=new hn(je.comparator);function xa(){return Ene}const dL=new hn(je.comparator);function tp(...t){let e=dL;for(const n of t)e=e.insert(n.key,n);return e}function fL(t){let e=dL;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Wc(){return Tp()}function pL(){return Tp()}function Tp(){return new Jd(t=>t.toString(),(t,e)=>t.isEqual(e))}const Sne=new hn(je.comparator),kne=new yr(je.comparator);function ht(...t){let e=kne;for(const n of t)e=e.add(n);return e}const Tne=new yr(Tt);function Ane(){return Tne}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wx(e)?"-0":e}}function mL(t){return{integerValue:""+t}}function Ine(t,e){return ine(e)?mL(e):IT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy{constructor(){this._=void 0}}function Rne(t,e,n){return t instanceof Gx?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&bT(o)&&(o=ET(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof v0?xL(t,e):t instanceof y0?vL(t,e):function(i,o){const s=gL(i,o),a=fI(s)+fI(i.Pe);return Ub(s)&&Ub(i.Pe)?mL(a):IT(i.serializer,a)}(t,e)}function Pne(t,e,n){return t instanceof v0?xL(t,e):t instanceof y0?vL(t,e):n}function gL(t,e){return t instanceof Jx?function(r){return Ub(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Gx extends Fy{}class v0 extends Fy{constructor(e){super(),this.elements=e}}function xL(t,e){const n=yL(e);for(const r of t.elements)n.some(i=>Ts(i,r))||n.push(r);return{arrayValue:{values:n}}}class y0 extends Fy{constructor(e){super(),this.elements=e}}function vL(t,e){let n=yL(e);for(const r of t.elements)n=n.filter(i=>!Ts(i,r));return{arrayValue:{values:n}}}class Jx extends Fy{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function fI(t){return En(t.integerValue||t.doubleValue)}function yL(t){return ST(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Dne(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof v0&&i instanceof v0||r instanceof y0&&i instanceof y0?_d(r.elements,i.elements,Ts):r instanceof Jx&&i instanceof Jx?Ts(r.Pe,i.Pe):r instanceof Gx&&i instanceof Gx}(t.transform,e.transform)}class Mne{constructor(e,n){this.version=e,this.transformResults=n}}class Lo{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Lo}static exists(e){return new Lo(void 0,e)}static updateTime(e){return new Lo(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function q1(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class By{}function _L(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new RT(t.key,Lo.none()):new mm(t.key,t.data,Lo.none());{const n=t.data,r=to.empty();let i=new yr(fr.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Bu(t.key,r,new Do(i.toArray()),Lo.none())}}function Nne(t,e,n){t instanceof mm?function(i,o,s){const a=i.value.clone(),l=mI(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Bu?function(i,o,s){if(!q1(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=mI(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(wL(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Ap(t,e,n,r){return t instanceof mm?function(o,s,a,l){if(!q1(o.precondition,s))return a;const c=o.value.clone(),u=gI(o.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Bu?function(o,s,a,l){if(!q1(o.precondition,s))return a;const c=gI(o.fieldTransforms,l,s),u=s.data;return u.setAll(wL(o)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(o,s,a){return q1(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function One(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=gL(r.transform,i||null);o!=null&&(n===null&&(n=to.empty()),n.set(r.field,o))}return n||null}function pI(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&_d(r,i,(o,s)=>Dne(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class mm extends By{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Bu extends By{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function wL(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function mI(t,e,n){const r=new Map;Vt(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Pne(s,a,n[i]))}return r}function gI(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,Rne(o,s,e))}return r}class RT extends By{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Lne extends By{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fne{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Nne(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ap(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Ap(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=pL();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=_L(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Ze.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ht())}isEqual(e){return this.batchId===e.batchId&&_d(this.mutations,e.mutations,(n,r)=>pI(n,r))&&_d(this.baseMutations,e.baseMutations,(n,r)=>pI(n,r))}}class PT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Vt(e.mutations.length===r.length);let i=function(){return Sne}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new PT(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bne=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vne{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pn,yt;function jne(t){switch(t){default:return Je();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0}}function CL(t){if(t===void 0)return ga("GRPC error has no .code"),he.UNKNOWN;switch(t){case Pn.OK:return he.OK;case Pn.CANCELLED:return he.CANCELLED;case Pn.UNKNOWN:return he.UNKNOWN;case Pn.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Pn.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Pn.INTERNAL:return he.INTERNAL;case Pn.UNAVAILABLE:return he.UNAVAILABLE;case Pn.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Pn.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Pn.NOT_FOUND:return he.NOT_FOUND;case Pn.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Pn.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Pn.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Pn.ABORTED:return he.ABORTED;case Pn.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Pn.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Pn.DATA_LOSS:return he.DATA_LOSS;default:return Je()}}(yt=Pn||(Pn={}))[yt.OK=0]="OK",yt[yt.CANCELLED=1]="CANCELLED",yt[yt.UNKNOWN=2]="UNKNOWN",yt[yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yt[yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yt[yt.NOT_FOUND=5]="NOT_FOUND",yt[yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",yt[yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",yt[yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",yt[yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yt[yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yt[yt.ABORTED=10]="ABORTED",yt[yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",yt[yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",yt[yt.INTERNAL=13]="INTERNAL",yt[yt.UNAVAILABLE=14]="UNAVAILABLE",yt[yt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zne(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ne=new Yc([4294967295,4294967295],0);function xI(t){const e=zne().encode(t),n=new qO;return n.update(e),new Uint8Array(n.digest())}function vI(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Yc([n,r],0),new Yc([i,o],0)]}class DT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new np(`Invalid padding: ${n}`);if(r<0)throw new np(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new np(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new np(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Yc.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Yc.fromNumber(r)));return i.compare($ne)===1&&(i=new Yc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=xI(e),[r,i]=vI(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new DT(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=xI(e),[r,i]=vI(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class np extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vy{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,gm.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Vy(Ze.min(),i,new hn(Tt),xa(),ht())}}class gm{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new gm(r,n,ht(),ht(),ht())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class bL{constructor(e,n){this.targetId=e,this.me=n}}class EL{constructor(e,n,r=wr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class yI{constructor(){this.fe=0,this.ge=wI(),this.pe=wr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ht(),n=ht(),r=ht();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Je()}}),new gm(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=wI()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Vt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Hne{constructor(e){this.Le=e,this.Be=new Map,this.ke=xa(),this.qe=_I(),this.Qe=new hn(Tt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Je()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(qb(o))if(r===0){const s=new je(o.path);this.Ue(n,s,Mr.newNoDocument(s,Ze.min()))}else Vt(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=fu(r).toUint8Array()}catch(l){if(l instanceof nL)return yd("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new DT(s,i,o)}catch(l){return yd(l instanceof np?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&qb(a.target)){const l=new je(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,Mr.newNoDocument(l,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=ht();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new Vy(e,n,this.Qe,this.ke,r);return this.ke=xa(),this.qe=_I(),this.Qe=new hn(Tt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new yI,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new yr(Tt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Pe("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new yI),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function _I(){return new hn(je.comparator)}function wI(){return new hn(je.comparator)}const Une={asc:"ASCENDING",desc:"DESCENDING"},Wne={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qne={and:"AND",or:"OR"};class Kne{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Gb(t,e){return t.useProto3Json||My(e)?e:{value:e}}function Qx(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function SL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Gne(t,e){return Qx(t,e.toTimestamp())}function Cs(t){return Vt(!!t),Ze.fromTimestamp(function(n){const r=Kl(n);return new Kn(r.seconds,r.nanos)}(t))}function MT(t,e){return Jb(t,e).canonicalString()}function Jb(t,e){const n=function(i){return new nn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function kL(t){const e=nn.fromString(t);return Vt(PL(e)),e}function Qb(t,e){return MT(t.databaseId,e.path)}function I2(t,e){const n=kL(e);if(n.get(1)!==t.databaseId.projectId)throw new Ve(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ve(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new je(AL(n))}function TL(t,e){return MT(t.databaseId,e)}function Jne(t){const e=kL(t);return e.length===4?nn.emptyPath():AL(e)}function Xb(t){return new nn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function AL(t){return Vt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function CI(t,e,n){return{name:Qb(t,e),fields:n.value.mapValue.fields}}function Qne(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Je()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,u){return c.useProto3Json?(Vt(u===void 0||typeof u=="string"),wr.fromBase64String(u||"")):(Vt(u===void 0||u instanceof Buffer||u instanceof Uint8Array),wr.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const u=c.code===void 0?he.UNKNOWN:CL(c.code);return new Ve(u,c.message||"")}(s);n=new EL(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=I2(t,r.document.name),o=Cs(r.document.updateTime),s=r.document.createTime?Cs(r.document.createTime):Ze.min(),a=new to({mapValue:{fields:r.document.fields}}),l=Mr.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new K1(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=I2(t,r.document),o=r.readTime?Cs(r.readTime):Ze.min(),s=Mr.newNoDocument(i,o),a=r.removedTargetIds||[];n=new K1([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=I2(t,r.document),o=r.removedTargetIds||[];n=new K1([],o,i,null)}else{if(!("filter"in e))return Je();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new Vne(i,o),a=r.targetId;n=new bL(a,s)}}return n}function Xne(t,e){let n;if(e instanceof mm)n={update:CI(t,e.key,e.value)};else if(e instanceof RT)n={delete:Qb(t,e.key)};else if(e instanceof Bu)n={update:CI(t,e.key,e.data),updateMask:sre(e.fieldMask)};else{if(!(e instanceof Lne))return Je();n={verify:Qb(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Gx)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof v0)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof y0)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Jx)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Je()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:Gne(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Je()}(t,e.precondition)),n}function Yne(t,e){return t&&t.length>0?(Vt(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Cs(i.updateTime):Cs(o);return s.isEqual(Ze.min())&&(s=Cs(o)),new Mne(s,i.transformResults||[])}(n,e))):[]}function Zne(t,e){return{documents:[TL(t,e.path)]}}function ere(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=TL(t,i);const o=function(c){if(c.length!==0)return RL(As.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(u=>function(d){return{field:mh(d.field),direction:rre(d.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Gb(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function tre(t){let e=Jne(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Vt(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];n.where&&(o=function(h){const d=IL(h);return d instanceof As&&sL(d)?d.getFilters():[d]}(n.where));let s=[];n.orderBy&&(s=function(h){return h.map(d=>function(p){return new Kx(gh(p.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(d))}(n.orderBy));let a=null;n.limit&&(a=function(h){let d;return d=typeof h=="object"?h.value:h,My(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(h){const d=!!h.before,f=h.values||[];return new qx(f,d)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const d=!h.before,f=h.values||[];return new qx(f,d)}(n.endAt)),yne(e,i,s,o,a,"F",l,c)}function nre(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Je()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function IL(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=gh(n.unaryFilter.field);return Un.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=gh(n.unaryFilter.field);return Un.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=gh(n.unaryFilter.field);return Un.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=gh(n.unaryFilter.field);return Un.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Je()}}(t):t.fieldFilter!==void 0?function(n){return Un.create(gh(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Je()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return As.create(n.compositeFilter.filters.map(r=>IL(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Je()}}(n.compositeFilter.op))}(t):Je()}function rre(t){return Une[t]}function ire(t){return Wne[t]}function ore(t){return qne[t]}function mh(t){return{fieldPath:t.canonicalString()}}function gh(t){return fr.fromServerFormat(t.fieldPath)}function RL(t){return t instanceof Un?function(n){if(n.op==="=="){if(lI(n.value))return{unaryFilter:{field:mh(n.field),op:"IS_NAN"}};if(aI(n.value))return{unaryFilter:{field:mh(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(lI(n.value))return{unaryFilter:{field:mh(n.field),op:"IS_NOT_NAN"}};if(aI(n.value))return{unaryFilter:{field:mh(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mh(n.field),op:ire(n.op),value:n.value}}}(t):t instanceof As?function(n){const r=n.getFilters().map(i=>RL(i));return r.length===1?r[0]:{compositeFilter:{op:ore(n.op),filters:r}}}(t):Je()}function sre(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function PL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,n,r,i,o=Ze.min(),s=Ze.min(),a=wr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new yl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new yl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class are{constructor(e){this.ct=e}}function lre(t){const e=tre({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Kb(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cre{constructor(){this.un=new ure}addToCollectionParentIndex(e,n){return this.un.add(n),ce.resolve()}getCollectionParents(e,n){return ce.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ce.resolve()}deleteFieldIndex(e,n){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,n){return ce.resolve()}getDocumentsMatchingTarget(e,n){return ce.resolve(null)}getIndexType(e,n){return ce.resolve(0)}getFieldIndexes(e,n){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,n){return ce.resolve(ql.min())}getMinOffsetFromCollectionGroup(e,n){return ce.resolve(ql.min())}updateCollectionGroup(e,n,r){return ce.resolve()}updateIndexEntries(e,n){return ce.resolve()}}class ure{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new yr(nn.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new yr(nn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new bd(0)}static kn(){return new bd(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hre{constructor(){this.changes=new Jd(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ce.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dre{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fre{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ap(r.mutation,i,Do.empty(),Kn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ht()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ht()){const i=Wc();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=tp();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Wc();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ht()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=xa();const s=Tp(),a=function(){return Tp()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Bu)?o=o.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),Ap(u.mutation,c,u.mutation.getFieldMask(),Kn.now())):s.set(c.key,Do.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,u)=>s.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new dre(u,(h=s.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Tp();let i=new hn((s,a)=>s-a),o=ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Do.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(i.get(a.batchId)||ht()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=pL();u.forEach(d=>{if(!o.has(d)){const f=_L(n.get(d),r.get(d));f!==null&&h.set(d,f),o=o.add(d)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,h))}return ce.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return je.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):_ne(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ce.resolve(Wc());let a=-1,l=o;return s.next(c=>ce.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(u)?ce.resolve():this.remoteDocumentCache.getEntry(e,u).next(d=>{l=l.insert(u,d)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,ht())).next(u=>({batchId:a,changes:fL(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new je(n)).next(r=>{let i=tp();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=tp();return this.indexManager.getCollectionParents(e,o).next(a=>ce.forEach(a,l=>{const c=function(h,d){return new Ny(d,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((h,d)=>{s=s.insert(h,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,Mr.newInvalidDocument(u)))});let a=tp();return s.forEach((l,c)=>{const u=o.get(l);u!==void 0&&Ap(u.mutation,c,Do.empty(),Kn.now()),Ly(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pre{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ce.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Cs(i.createTime)}}(n)),ce.resolve()}getNamedQuery(e,n){return ce.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:lre(i.bundledQuery),readTime:Cs(i.readTime)}}(n)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mre{constructor(){this.overlays=new hn(je.comparator),this.Ir=new Map}getOverlay(e,n){return ce.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Wc();return ce.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),ce.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),ce.resolve()}getOverlaysForCollection(e,n,r){const i=Wc(),o=n.length+1,s=new je(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ce.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new hn((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=o.get(c.largestBatchId);u===null&&(u=Wc(),o=o.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Wc(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return ce.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Bne(n,r));let o=this.Ir.get(n);o===void 0&&(o=ht(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gre{constructor(){this.sessionToken=wr.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(){this.Tr=new yr(Xn.Er),this.dr=new yr(Xn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Xn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Xn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new je(new nn([])),r=new Xn(n,e),i=new Xn(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new je(new nn([])),r=new Xn(n,e),i=new Xn(n,e+1);let o=ht();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Xn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Xn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return je.comparator(e.key,n.key)||Tt(e.wr,n.wr)}static Ar(e,n){return Tt(e.wr,n.wr)||je.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xre{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new yr(Xn.Er)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Fne(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new Xn(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ce.resolve(s)}lookupMutationBatch(e,n){return ce.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return ce.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Xn(n,0),i=new Xn(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),ce.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new yr(Tt);return n.forEach(i=>{const o=new Xn(i,0),s=new Xn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),ce.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;je.isDocumentKey(o)||(o=o.child(""));const s=new Xn(new je(o),0);let a=new yr(Tt);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.wr)),!0)},s),ce.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Vt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ce.forEach(n.mutations,i=>{const o=new Xn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Xn(n,0),i=this.br.firstAfterOrEqual(r);return ce.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vre{constructor(e){this.Mr=e,this.docs=function(){return new hn(je.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ce.resolve(r?r.document.mutableCopy():Mr.newInvalidDocument(n))}getEntries(e,n){let r=xa();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Mr.newInvalidDocument(i))}),ce.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=xa();const s=n.path,a=new je(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||ene(Zte(u),r)<=0||(i.has(u.key)||Ly(n,u))&&(o=o.insert(u.key,u.mutableCopy()))}return ce.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Je()}Or(e,n){return ce.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new yre(this)}getSize(e){return ce.resolve(this.size)}}class yre extends hre{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),ce.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _re{constructor(e){this.persistence=e,this.Nr=new Jd(n=>kT(n),TT),this.lastRemoteSnapshotVersion=Ze.min(),this.highestTargetId=0,this.Lr=0,this.Br=new NT,this.targetCount=0,this.kr=bd.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),ce.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new bd(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ce.resolve()}updateTargetData(e,n){return this.Kn(n),ce.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ce.waitFor(o).next(()=>i)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return ce.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),ce.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),ce.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ce.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return ce.resolve(r)}containsKey(e,n){return ce.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wre{constructor(e,n){this.qr={},this.overlays={},this.Qr=new CT(0),this.Kr=!1,this.Kr=!0,this.$r=new gre,this.referenceDelegate=e(this),this.Ur=new _re(this),this.indexManager=new cre,this.remoteDocumentCache=function(i){return new vre(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new are(n),this.Gr=new pre(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new mre,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new xre(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Pe("MemoryPersistence","Starting transaction:",e);const i=new Cre(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return ce.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class Cre extends nne{constructor(e){super(),this.currentSequenceNumber=e}}class OT{constructor(e){this.persistence=e,this.Jr=new NT,this.Yr=null}static Zr(e){return new OT(e)}get Xr(){if(this.Yr)return this.Yr;throw Je()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),ce.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ce.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.Xr,r=>{const i=je.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,Ze.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return ce.or([()=>ce.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ht(),i=ht();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new LT(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bre{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ere{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return See()?8:rne(Fr())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new bre;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Nf()<=mt.DEBUG&&Pe("QueryEngine","SDK will not create cache indexes for query:",ph(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ce.resolve()):(Nf()<=mt.DEBUG&&Pe("QueryEngine","Query:",ph(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Nf()<=mt.DEBUG&&Pe("QueryEngine","The SDK decides to create cache indexes for query:",ph(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ws(n))):ce.resolve())}Yi(e,n){if(dI(n))return ce.resolve(null);let r=ws(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Kb(n,null,"F"),r=ws(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=ht(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,s,l.readTime)?this.Yi(e,Kb(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,i){return dI(n)||i.isEqual(Ze.min())?ce.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?ce.resolve(null):(Nf()<=mt.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ph(n)),this.rs(e,s,n,Yte(i,-1)).next(a=>a))})}ts(e,n){let r=new yr(hL(e));return n.forEach((i,o)=>{Ly(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Nf()<=mt.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",ph(n)),this.Ji.getDocumentsMatchingQuery(e,n,ql.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sre{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new hn(Tt),this._s=new Jd(o=>kT(o),TT),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fre(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function kre(t,e,n,r){return new Sre(t,e,n,r)}async function DL(t,e){const n=tt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=ht();for(const c of i){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of o){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:s,addedBatchIds:a}))})})}function Tre(t,e){const n=tt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,d=h.keys();let f=ce.resolve();return d.forEach(p=>{f=f.next(()=>u.getEntry(l,p)).next(m=>{const x=c.docVersions.get(p);Vt(x!==null),m.version.compareTo(x)<0&&(h.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),u.addEntry(m)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ht();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function ML(t){const e=tt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Are(t,e){const n=tt(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((u,h)=>{const d=i.get(h);if(!d)return;a.push(n.Ur.removeMatchingKeys(o,u.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(o,u.addedDocuments,h)));let f=d.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?f=f.withResumeToken(wr.EMPTY_BYTE_STRING,Ze.min()).withLastLimboFreeSnapshotVersion(Ze.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),i=i.insert(h,f),function(m,x,v){return m.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(d,f,u)&&a.push(n.Ur.updateTargetData(o,f))});let l=xa(),c=ht();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(Ire(o,s,e.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!r.isEqual(Ze.min())){const u=n.Ur.getLastRemoteSnapshotVersion(o).next(h=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(u)}return ce.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(n.os=i,o))}function Ire(t,e,n){let r=ht(),i=ht();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=xa();return n.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Ze.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):Pe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function Rre(t,e){const n=tt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Pre(t,e){const n=tt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,ce.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new yl(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Yb(t,e,n){const r=tt(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!pm(s))throw s;Pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function bI(t,e,n){const r=tt(t);let i=Ze.min(),o=ht();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const h=tt(l),d=h._s.get(u);return d!==void 0?ce.resolve(h.os.get(d)):h.Ur.getTargetData(c,u)}(r,s,ws(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:Ze.min(),n?o:ht())).next(a=>(Dre(r,Cne(e),a),{documents:a,Ts:o})))}function Dre(t,e,n){let r=t.us.get(e)||Ze.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class EI{constructor(){this.activeTargetIds=Ane()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Mre{constructor(){this.so=new EI,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new EI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nre{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vg=null;function R2(){return Vg===null?Vg=function(){return 268435456+Math.round(2147483648*Math.random())}():Vg++,"0x"+Vg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ore={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lre{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir="WebChannelConnection";class Fre extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const a=R2(),l=this.xo(n,r.toUriEncodedString());Pe("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,o,s),this.No(n,l,c,i).then(u=>(Pe("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw yd("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Kd}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=Ore[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=R2();return new Promise((s,a)=>{const l=new KO;l.setWithCredentials(!0),l.listenOnce(JO.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case U1.NO_ERROR:const u=l.getResponseJson();Pe(Ir,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case U1.TIMEOUT:Pe(Ir,`RPC '${e}' ${o} timed out`),a(new Ve(he.DEADLINE_EXCEEDED,"Request time out"));break;case U1.HTTP_ERROR:const h=l.getStatus();if(Pe(Ir,`RPC '${e}' ${o} failed with status:`,h,"response text:",l.getResponseText()),h>0){let d=l.getResponseJson();Array.isArray(d)&&(d=d[0]);const f=d==null?void 0:d.error;if(f&&f.status&&f.message){const p=function(x){const v=x.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(v)>=0?v:he.UNKNOWN}(f.status);a(new Ve(p,f.message))}else a(new Ve(he.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Ve(he.UNAVAILABLE,"Connection failed."));break;default:Je()}}finally{Pe(Ir,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);Pe(Ir,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=R2(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=YO(),a=XO(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new GO({})),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=o.join("");Pe(Ir,`Creating RPC '${e}' stream ${i}: ${u}`,l);const h=s.createWebChannel(u,l);let d=!1,f=!1;const p=new Lre({Io:x=>{f?Pe(Ir,`Not sending because RPC '${e}' stream ${i} is closed:`,x):(d||(Pe(Ir,`Opening RPC '${e}' stream ${i} transport.`),h.open(),d=!0),Pe(Ir,`RPC '${e}' stream ${i} sending:`,x),h.send(x))},To:()=>h.close()}),m=(x,v,y)=>{x.listen(v,_=>{try{y(_)}catch(C){setTimeout(()=>{throw C},0)}})};return m(h,ep.EventType.OPEN,()=>{f||(Pe(Ir,`RPC '${e}' stream ${i} transport opened.`),p.yo())}),m(h,ep.EventType.CLOSE,()=>{f||(f=!0,Pe(Ir,`RPC '${e}' stream ${i} transport closed`),p.So())}),m(h,ep.EventType.ERROR,x=>{f||(f=!0,yd(Ir,`RPC '${e}' stream ${i} transport errored:`,x),p.So(new Ve(he.UNAVAILABLE,"The operation could not be completed")))}),m(h,ep.EventType.MESSAGE,x=>{var v;if(!f){const y=x.data[0];Vt(!!y);const _=y,C=_.error||((v=_[0])===null||v===void 0?void 0:v.error);if(C){Pe(Ir,`RPC '${e}' stream ${i} received error:`,C);const S=C.status;let k=function(A){const E=Pn[A];if(E!==void 0)return CL(E)}(S),b=C.message;k===void 0&&(k=he.INTERNAL,b="Unknown error status: "+S+" with message "+C.message),f=!0,p.So(new Ve(k,b)),h.close()}else Pe(Ir,`RPC '${e}' stream ${i} received:`,y),p.bo(y)}}),m(a,QO.STAT_EVENT,x=>{x.stat===$b.PROXY?Pe(Ir,`RPC '${e}' stream ${i} detected buffering proxy`):x.stat===$b.NOPROXY&&Pe(Ir,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.wo()},0),p}}function P2(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(t){return new Kne(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e,n,r,i,o,s,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new NL(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===he.RESOURCE_EXHAUSTED?(ga(n.toString()),ga("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Ve(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Bre extends OL{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=Qne(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ze.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Ze.min():s.readTime?Cs(s.readTime):Ze.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Xb(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=qb(l)?{documents:Zne(o,l)}:{query:ere(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=SL(o,s.resumeToken);const c=Gb(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(Ze.min())>0){a.readTime=Qx(o,s.snapshotVersion.toTimestamp());const c=Gb(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=nre(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Xb(this.serializer),n.removeTarget=e,this.a_(n)}}class Vre extends OL{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Vt(!!e.streamToken),this.lastStreamToken=e.streamToken,Vt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Vt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=Yne(e.writeResults,e.commitTime),r=Cs(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Xb(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Xne(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jre extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Ve(he.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,Jb(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ve(he.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,Jb(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ve(he.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class zre{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ga(n),this.D_=!1):Pe("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $re{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{Vu(this)&&(Pe("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=tt(l);c.L_.add(4),await xm(c),c.q_.set("Unknown"),c.L_.delete(4),await zy(c)}(this))})}),this.q_=new zre(r,i)}}async function zy(t){if(Vu(t))for(const e of t.B_)await e(!0)}async function xm(t){for(const e of t.B_)await e(!1)}function LL(t,e){const n=tt(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),jT(n)?VT(n):Qd(n).r_()&&BT(n,e))}function FT(t,e){const n=tt(t),r=Qd(n);n.N_.delete(e),r.r_()&&FL(n,e),n.N_.size===0&&(r.r_()?r.o_():Vu(n)&&n.q_.set("Unknown"))}function BT(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ze.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Qd(t).A_(e)}function FL(t,e){t.Q_.xe(e),Qd(t).R_(e)}function VT(t){t.Q_=new Hne({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Qd(t).start(),t.q_.v_()}function jT(t){return Vu(t)&&!Qd(t).n_()&&t.N_.size>0}function Vu(t){return tt(t).L_.size===0}function BL(t){t.Q_=void 0}async function Hre(t){t.q_.set("Online")}async function Ure(t){t.N_.forEach((e,n)=>{BT(t,e)})}async function Wre(t,e){BL(t),jT(t)?(t.q_.M_(e),VT(t)):t.q_.set("Unknown")}async function qre(t,e,n){if(t.q_.set("Online"),e instanceof EL&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){Pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Xx(t,r)}else if(e instanceof K1?t.Q_.Ke(e):e instanceof bL?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ze.min()))try{const r=await ML(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=o.N_.get(c);u&&o.N_.set(c,u.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const u=o.N_.get(l);if(!u)return;o.N_.set(l,u.withResumeToken(wr.EMPTY_BYTE_STRING,u.snapshotVersion)),FL(o,l);const h=new yl(u.target,l,c,u.sequenceNumber);BT(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Pe("RemoteStore","Failed to raise snapshot:",r),await Xx(t,r)}}async function Xx(t,e,n){if(!pm(e))throw e;t.L_.add(1),await xm(t),t.q_.set("Offline"),n||(n=()=>ML(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Pe("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await zy(t)})}function VL(t,e){return e().catch(n=>Xx(t,n,e))}async function $y(t){const e=tt(t),n=Gl(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Kre(e);)try{const i=await Rre(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,Gre(e,i)}catch(i){await Xx(e,i)}jL(e)&&zL(e)}function Kre(t){return Vu(t)&&t.O_.length<10}function Gre(t,e){t.O_.push(e);const n=Gl(t);n.r_()&&n.V_&&n.m_(e.mutations)}function jL(t){return Vu(t)&&!Gl(t).n_()&&t.O_.length>0}function zL(t){Gl(t).start()}async function Jre(t){Gl(t).p_()}async function Qre(t){const e=Gl(t);for(const n of t.O_)e.m_(n.mutations)}async function Xre(t,e,n){const r=t.O_.shift(),i=PT.from(r,e,n);await VL(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await $y(t)}async function Yre(t,e){e&&Gl(t).V_&&await async function(r,i){if(function(s){return jne(s)&&s!==he.ABORTED}(i.code)){const o=r.O_.shift();Gl(r).s_(),await VL(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await $y(r)}}(t,e),jL(t)&&zL(t)}async function kI(t,e){const n=tt(t);n.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const r=Vu(n);n.L_.add(3),await xm(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await zy(n)}async function Zre(t,e){const n=tt(t);e?(n.L_.delete(2),await zy(n)):e||(n.L_.add(2),await xm(n),n.q_.set("Unknown"))}function Qd(t){return t.K_||(t.K_=function(n,r,i){const o=tt(n);return o.w_(),new Bre(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:Hre.bind(null,t),Ro:Ure.bind(null,t),mo:Wre.bind(null,t),d_:qre.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),jT(t)?VT(t):t.q_.set("Unknown")):(await t.K_.stop(),BL(t))})),t.K_}function Gl(t){return t.U_||(t.U_=function(n,r,i){const o=tt(n);return o.w_(),new Vre(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Jre.bind(null,t),mo:Yre.bind(null,t),f_:Qre.bind(null,t),g_:Xre.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await $y(t)):(await t.U_.stop(),t.O_.length>0&&(Pe("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ll,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new zT(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ve(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $T(t,e){if(ga("AsyncQueue",`${e}: ${t}`),pm(t))return new Ve(he.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e){this.comparator=e?(n,r)=>e(n,r)||je.comparator(n.key,r.key):(n,r)=>je.comparator(n.key,r.key),this.keyedMap=tp(),this.sortedSet=new hn(this.comparator)}static emptySet(e){return new Gh(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Gh)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Gh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(){this.W_=new hn(je.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Je():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ed{constructor(e,n,r,i,o,s,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Ed(e,n,Gh.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Oy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eie{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class tie{constructor(){this.queries=AI(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=tt(n),o=i.queries;i.queries=AI(),o.forEach((s,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Ve(he.ABORTED,"Firestore shutting down"))}}function AI(){return new Jd(t=>uL(t),Oy)}async function nie(t,e){const n=tt(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new eie,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=$T(s,`Initialization of query '${ph(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&HT(n)}async function rie(t,e){const n=tt(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function iie(t,e){const n=tt(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&HT(n)}function oie(t,e,n){const r=tt(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function HT(t){t.Y_.forEach(e=>{e.next()})}var Zb,II;(II=Zb||(Zb={})).ea="default",II.Cache="cache";class sie{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ed(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Ed.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Zb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e){this.key=e}}class HL{constructor(e){this.key=e}}class aie{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ht(),this.mutatedKeys=ht(),this.Aa=hL(e),this.Ra=new Gh(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new TI,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,h)=>{const d=i.get(u),f=Ly(this.query,h)?h:null,p=!!d&&this.mutatedKeys.has(d.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let x=!1;d&&f?d.data.isEqual(f.data)?p!==m&&(r.track({type:3,doc:f}),x=!0):this.ga(d,f)||(r.track({type:2,doc:f}),x=!0,(l&&this.Aa(f,l)>0||c&&this.Aa(f,c)<0)&&(a=!0)):!d&&f?(r.track({type:0,doc:f}),x=!0):d&&!f&&(r.track({type:1,doc:d}),x=!0,(l||c)&&(a=!0)),x&&(f?(s=s.add(f),o=m?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((u,h)=>function(f,p){const m=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Je()}};return m(f)-m(p)}(u.type,h.type)||this.Aa(u.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,s.length!==0||c?{snapshot:new Ed(this.query,e.Ra,o,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new TI,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ht(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new HL(r))}),this.da.forEach(r=>{e.has(r)||n.push(new $L(r))}),n}ba(e){this.Ta=e.Ts,this.da=ht();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Ed.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class lie{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class cie{constructor(e){this.key=e,this.va=!1}}class uie{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Jd(a=>uL(a),Oy),this.Ma=new Map,this.xa=new Set,this.Oa=new hn(je.comparator),this.Na=new Map,this.La=new NT,this.Ba={},this.ka=new Map,this.qa=bd.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function hie(t,e,n=!0){const r=JL(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await UL(r,e,n,!0),i}async function die(t,e){const n=JL(t);await UL(n,e,!0,!1)}async function UL(t,e,n,r){const i=await Pre(t.localStore,ws(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=await fie(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&LL(t.remoteStore,i),a}async function fie(t,e,n,r,i){t.Ka=(h,d,f)=>async function(m,x,v,y){let _=x.view.ma(v);_.ns&&(_=await bI(m.localStore,x.query,!1).then(({documents:b})=>x.view.ma(b,_)));const C=y&&y.targetChanges.get(x.targetId),S=y&&y.targetMismatches.get(x.targetId)!=null,k=x.view.applyChanges(_,m.isPrimaryClient,C,S);return PI(m,x.targetId,k.wa),k.snapshot}(t,h,d,f);const o=await bI(t.localStore,e,!0),s=new aie(e,o.Ts),a=s.ma(o.documents),l=gm.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(a,t.isPrimaryClient,l);PI(t,n,c.wa);const u=new lie(e,n,s);return t.Fa.set(e,u),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function pie(t,e,n){const r=tt(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Oy(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Yb(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&FT(r.remoteStore,i.targetId),eE(r,i.targetId)}).catch(fm)):(eE(r,i.targetId),await Yb(r.localStore,i.targetId,!0))}async function mie(t,e){const n=tt(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),FT(n.remoteStore,r.targetId))}async function gie(t,e,n){const r=bie(t);try{const i=await function(s,a){const l=tt(s),c=Kn.now(),u=a.reduce((f,p)=>f.add(p.key),ht());let h,d;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=xa(),m=ht();return l.cs.getEntries(f,u).next(x=>{p=x,p.forEach((v,y)=>{y.isValidDocument()||(m=m.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,p)).next(x=>{h=x;const v=[];for(const y of a){const _=One(y,h.get(y.key).overlayedDocument);_!=null&&v.push(new Bu(y.key,_,rL(_.value.mapValue),Lo.exists(!0)))}return l.mutationQueue.addMutationBatch(f,c,v,a)}).next(x=>{d=x;const v=x.applyToLocalDocumentSet(h,m);return l.documentOverlayCache.saveOverlays(f,x.batchId,v)})}).then(()=>({batchId:d.batchId,changes:fL(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let c=s.Ba[s.currentUser.toKey()];c||(c=new hn(Tt)),c=c.insert(a,l),s.Ba[s.currentUser.toKey()]=c}(r,i.batchId,n),await vm(r,i.changes),await $y(r.remoteStore)}catch(i){const o=$T(i,"Failed to persist write");n.reject(o)}}async function WL(t,e){const n=tt(t);try{const r=await Are(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(Vt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Vt(s.va):i.removedDocuments.size>0&&(Vt(s.va),s.va=!1))}),await vm(n,r,e)}catch(r){await fm(r)}}function RI(t,e,n){const r=tt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=tt(s);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const d of h.j_)d.Z_(a)&&(c=!0)}),c&&HT(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function xie(t,e,n){const r=tt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new hn(je.comparator);s=s.insert(o,Mr.newNoDocument(o,Ze.min()));const a=ht().add(o),l=new Vy(Ze.min(),new Map,new hn(Tt),s,a);await WL(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),UT(r)}else await Yb(r.localStore,e,!1).then(()=>eE(r,e,n)).catch(fm)}async function vie(t,e){const n=tt(t),r=e.batch.batchId;try{const i=await Tre(n.localStore,e);KL(n,r,null),qL(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vm(n,i)}catch(i){await fm(i)}}async function yie(t,e,n){const r=tt(t);try{const i=await function(s,a){const l=tt(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Vt(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);KL(r,e,n),qL(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await vm(r,i)}catch(i){await fm(i)}}function qL(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function KL(t,e,n){const r=tt(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function eE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||GL(t,r)})}function GL(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(FT(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),UT(t))}function PI(t,e,n){for(const r of n)r instanceof $L?(t.La.addReference(r.key,e),_ie(t,r)):r instanceof HL?(Pe("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||GL(t,r.key)):Je()}function _ie(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Pe("SyncEngine","New document in limbo: "+n),t.xa.add(r),UT(t))}function UT(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new je(nn.fromString(e)),r=t.qa.next();t.Na.set(r,new cie(n)),t.Oa=t.Oa.insert(n,r),LL(t.remoteStore,new yl(ws(AT(n.path)),r,"TargetPurposeLimboResolution",CT.oe))}}async function vm(t,e,n){const r=tt(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{s.push(r.Ka(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=LT.Wi(l.targetId,c);o.push(h)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(l,c){const u=tt(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>ce.forEach(c,d=>ce.forEach(d.$i,f=>u.persistence.referenceDelegate.addReference(h,d.targetId,f)).next(()=>ce.forEach(d.Ui,f=>u.persistence.referenceDelegate.removeReference(h,d.targetId,f)))))}catch(h){if(!pm(h))throw h;Pe("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const d=h.targetId;if(!h.fromCache){const f=u.os.get(d),p=f.snapshotVersion,m=f.withLastLimboFreeSnapshotVersion(p);u.os=u.os.insert(d,m)}}}(r.localStore,o))}async function wie(t,e){const n=tt(t);if(!n.currentUser.isEqual(e)){Pe("SyncEngine","User change. New user:",e.toKey());const r=await DL(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new Ve(he.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vm(n,r.hs)}}function Cie(t,e){const n=tt(t),r=n.Na.get(e);if(r&&r.va)return ht().add(r.key);{let i=ht();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function JL(t){const e=tt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=WL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cie.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xie.bind(null,e),e.Ca.d_=iie.bind(null,e.eventManager),e.Ca.$a=oie.bind(null,e.eventManager),e}function bie(t){const e=tt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=vie.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yie.bind(null,e),e}class DI{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=jy(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return kre(this.persistence,new Ere,e.initialUser,this.serializer)}createPersistence(e){return new wre(OT.Zr,this.serializer)}createSharedClientState(e){return new Mre}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Eie{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>RI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=wie.bind(null,this.syncEngine),await Zre(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new tie}()}createDatastore(e){const n=jy(e.databaseInfo.databaseId),r=function(o){return new Fre(o)}(e.databaseInfo);return function(o,s,a,l){return new jre(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new $re(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>RI(this.syncEngine,n,0),function(){return SI.D()?new SI:new Nre}())}createSyncEngine(e,n){return function(i,o,s,a,l,c,u){const h=new uie(i,o,s,a,l,c);return u&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=tt(i);Pe("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await xm(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sie{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):ga("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kie{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Rr.UNAUTHENTICATED,this.clientId=eL.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{Pe("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Pe("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ve(he.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ll;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=$T(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function D2(t,e){t.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await DL(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function MI(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Aie(t);Pe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>kI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>kI(e.remoteStore,i)),t._onlineComponents=e}function Tie(t){return t.name==="FirebaseError"?t.code===he.FAILED_PRECONDITION||t.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function Aie(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Pe("FirestoreClient","Using user provided OfflineComponentProvider");try{await D2(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Tie(n))throw n;yd("Error using user provided cache. Falling back to memory cache: "+n),await D2(t,new DI)}}else Pe("FirestoreClient","Using default OfflineComponentProvider"),await D2(t,new DI);return t._offlineComponents}async function QL(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Pe("FirestoreClient","Using user provided OnlineComponentProvider"),await MI(t,t._uninitializedComponentsProvider._online)):(Pe("FirestoreClient","Using default OnlineComponentProvider"),await MI(t,new Eie))),t._onlineComponents}function Iie(t){return QL(t).then(e=>e.syncEngine)}async function Rie(t){const e=await QL(t),n=e.eventManager;return n.onListen=hie.bind(null,e.syncEngine),n.onUnlisten=pie.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=die.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=mie.bind(null,e.syncEngine),n}function Pie(t,e,n={}){const r=new Ll;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const u=new Sie({next:d=>{s.enqueueAndForget(()=>rie(o,h));const f=d.docs.has(a);!f&&d.fromCache?c.reject(new Ve(he.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&d.fromCache&&l&&l.source==="server"?c.reject(new Ve(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(d)},error:d=>c.reject(d)}),h=new sie(AT(a.path),u,{includeMetadataChanges:!0,_a:!0});return nie(o,h)}(await Rie(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YL(t,e,n){if(!n)throw new Ve(he.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Die(t,e,n,r){if(e===!0&&r===!0)throw new Ve(he.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function OI(t){if(!je.isDocumentKey(t))throw new Ve(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function LI(t){if(je.isDocumentKey(t))throw new Ve(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function WT(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Je()}function mu(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ve(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=WT(t);throw new Ve(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ve(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ve(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Die("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XL((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ve(he.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ve(he.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ve(he.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hy{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ve(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Ve(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FI(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Hte;switch(r.type){case"firstParty":return new Kte(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ve(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=NI.get(n);r&&(Pe("ComponentProvider","Removing Datastore"),NI.delete(n),r.terminate())}(this),Promise.resolve()}}function Mie(t,e,n,r={}){var i;const o=(t=mu(t,Hy))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&yd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Rr.MOCK_USER;else{a=jO(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Ve(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Rr(c)}t._authCredentials=new Ute(new ZO(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qT(this.firestore,e,this._query)}}class Bi{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bi(this.firestore,e,this._key)}}class Fl extends qT{constructor(e,n,r){super(e,n,AT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bi(this.firestore,null,new je(e))}withConverter(e){return new Fl(this.firestore,e,this._path)}}function Nie(t,e,...n){if(t=Gn(t),YL("collection","path",e),t instanceof Hy){const r=nn.fromString(e,...n);return LI(r),new Fl(t,null,r)}{if(!(t instanceof Bi||t instanceof Fl))throw new Ve(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(nn.fromString(e,...n));return LI(r),new Fl(t.firestore,null,r)}}function ym(t,e,...n){if(t=Gn(t),arguments.length===1&&(e=eL.newId()),YL("doc","path",e),t instanceof Hy){const r=nn.fromString(e,...n);return OI(r),new Bi(t,null,new je(r))}{if(!(t instanceof Bi||t instanceof Fl))throw new Ve(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(nn.fromString(e,...n));return OI(r),new Bi(t.firestore,t instanceof Fl?t.converter:null,new je(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oie{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new NL(this,"async_queue_retry"),this.Eu=()=>{const n=P2();n&&Pe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=P2();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=P2();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new Ll;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!pm(e))throw e;Pe("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw ga("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const i=zT.createAndSchedule(this,e,n,r,o=>this.Vu(o));return this.lu.push(i),i}du(){this.hu&&Je()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}class _m extends Hy{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Oie}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||eF(this),this._firestoreClient.terminate()}}function Lie(t,e){const n=typeof t=="object"?t:_T(),r=typeof t=="string"?t:"(default)",i=Dy(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=FO("firestore");o&&Mie(i,...o)}return i}function ZL(t){return t._firestoreClient||eF(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function eF(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,c,u){return new sne(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,XL(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new kie(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Sd(wr.fromBase64String(e))}catch(n){throw new Ve(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Sd(wr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ve(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new fr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tF{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ve(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ve(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Tt(this._lat,e._lat)||Tt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fie=/^__.*__$/;class Bie{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Bu(e,this.data,this.fieldMask,n,this.fieldTransforms):new mm(e,this.data,n,this.fieldTransforms)}}function nF(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Je()}}class QT{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.yu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new QT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Yx(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(nF(this.wu)&&Fie.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class Vie{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||jy(e)}Nu(e,n,r,i=!1){return new QT({wu:e,methodName:n,Ou:r,path:fr.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rF(t){const e=t._freezeSettings(),n=jy(t._databaseId);return new Vie(t._databaseId,!!e.ignoreUndefinedProperties,n)}function iF(t,e,n,r,i,o={}){const s=t.Nu(o.merge||o.mergeFields?2:0,e,n,i);lF("Data must be an object, but it was:",s,r);const a=sF(r,s);let l,c;if(o.merge)l=new Do(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const h of o.mergeFields){const d=jie(e,h,n);if(!s.contains(d))throw new Ve(he.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);$ie(u,d)||u.push(d)}l=new Do(u),c=s.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=s.fieldTransforms;return new Bie(new to(a),l,c)}function oF(t,e){if(aF(t=Gn(t)))return lF("Unsupported field value:",e,t),sF(t,e);if(t instanceof tF)return function(r,i){if(!nF(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=oF(a,i.Fu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=Gn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Ine(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Kn.fromDate(r);return{timestampValue:Qx(i.serializer,o)}}if(r instanceof Kn){const o=new Kn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qx(i.serializer,o)}}if(r instanceof GT)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Sd)return{bytesValue:SL(i.serializer,r._byteString)};if(r instanceof Bi){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:MT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof JT)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Mu("VectorValues must only contain numeric values.");return IT(a.serializer,l)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${WT(r)}`)}(t,e)}function sF(t,e){const n={};return tL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gd(t,(r,i)=>{const o=oF(i,e.bu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function aF(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Kn||t instanceof GT||t instanceof Sd||t instanceof Bi||t instanceof tF||t instanceof JT)}function lF(t,e,n){if(!aF(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=WT(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function jie(t,e,n){if((e=Gn(e))instanceof KT)return e._internalPath;if(typeof e=="string")return cF(t,e);throw Yx("Field path arguments must be of type string or ",t,!1,void 0,n)}const zie=new RegExp("[~\\*/\\[\\]]");function cF(t,e,n){if(e.search(zie)>=0)throw Yx(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new KT(...e.split("."))._internalPath}catch{throw Yx(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Yx(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Ve(he.INVALID_ARGUMENT,a+t+l)}function $ie(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Bi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Hie(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(hF("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Hie extends uF{data(){return super.data()}}function hF(t,e){return typeof e=="string"?cF(t,e):e instanceof KT?e._internalPath:e._delegate._internalPath}class Uie{convertValue(e,n="none"){switch(pu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return En(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Je()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Gd(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>En(s.doubleValue));return new JT(o)}convertGeoPoint(e){return new GT(En(e.latitude),En(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ET(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(m0(e));default:return null}}convertTimestamp(e){const n=Kl(e);return new Kn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=nn.fromString(e);Vt(PL(r));const i=new g0(r.get(1),r.get(3)),o=new je(r.popFirst(5));return i.isEqual(n)||ga(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dF(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wie{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fF extends uF{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qie(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(hF("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class qie extends fF{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(t){t=mu(t,Bi);const e=mu(t.firestore,_m);return Pie(ZL(e),t._key).then(n=>Qie(e,t,n))}class Kie extends Uie{constructor(e){super(),this.firestore=e}convertBytes(e){return new Sd(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Bi(this.firestore,null,n)}}function kd(t,e,n){t=mu(t,Bi);const r=mu(t.firestore,_m),i=dF(t.converter,e);return XT(r,[iF(rF(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Lo.none())])}function Gie(t){return XT(mu(t.firestore,_m),[new RT(t._key,Lo.none())])}function Jie(t,e){const n=mu(t.firestore,_m),r=ym(t),i=dF(t.converter,e);return XT(n,[iF(rF(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Lo.exists(!1))]).then(()=>r)}function XT(t,e){return function(r,i){const o=new Ll;return r.asyncQueue.enqueueAndForget(async()=>gie(await Iie(r),i,o)),o.promise}(ZL(t),e)}function Qie(t,e,n){const r=n.docs.get(e._key),i=new Kie(t);return new fF(t,i,e._key,r,new Wie(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Kd=i})(Fu),hu(new Wl("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new _m(new Wte(r.getProvider("auth-internal")),new Jte(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Ve(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new g0(c.options.projectId,u)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),_s(nI,"4.7.1",e),_s(nI,"4.7.1","esm2017")})();var as=function(){return as=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},as.apply(this,arguments)};function wm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Xie(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function pF(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Yie=pF,mF=new hm("auth","Firebase",pF());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx=new vT("@firebase/auth");function Zie(t,...e){Zx.logLevel<=mt.WARN&&Zx.warn(`Auth (${Fu}): ${t}`,...e)}function G1(t,...e){Zx.logLevel<=mt.ERROR&&Zx.error(`Auth (${Fu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(t,...e){throw YT(t,...e)}function bs(t,...e){return YT(t,...e)}function gF(t,e,n){const r=Object.assign(Object.assign({},Yie()),{[e]:n});return new hm("auth","Firebase",r).create(e,{appName:t.name})}function Bl(t){return gF(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function YT(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return mF.create(t,...e)}function qe(t,e,...n){if(!t)throw YT(e,...n)}function ta(t){const e="INTERNAL ASSERTION FAILED: "+t;throw G1(e),new Error(e)}function va(t,e){t||ta(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function eoe(){return BI()==="http:"||BI()==="https:"}function BI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function toe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eoe()||Cee()||"connection"in navigator)?navigator.onLine:!0}function noe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,n){this.shortDelay=e,this.longDelay=n,va(n>e,"Short delay should be less than long delay!"),this.isMobile=_ee()||bee()}get(){return toe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(t,e){va(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xF{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ta("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ta("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ta("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const roe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ioe=new Cm(3e4,6e4);function ju(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function mc(t,e,n,r,i={}){return vF(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=dm(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),xF.fetch()(yF(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function vF(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},roe),e);try{const i=new soe(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw jg(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw jg(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw jg(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw jg(t,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw gF(t,u,c);zo(t,u)}}catch(i){if(i instanceof Ns)throw i;zo(t,"network-request-failed",{message:String(i)})}}async function Uy(t,e,n,r,i={}){const o=await mc(t,e,n,r,i);return"mfaPendingCredential"in o&&zo(t,"multi-factor-auth-required",{_serverResponse:o}),o}function yF(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?ZT(t.config,i):`${t.config.apiScheme}://${i}`}function ooe(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class soe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(bs(this.auth,"network-request-failed")),ioe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function jg(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=bs(t,e,r);return i.customData._tokenResponse=n,i}function VI(t){return t!==void 0&&t.enterprise!==void 0}class aoe{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return ooe(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function loe(t,e){return mc(t,"GET","/v2/recaptchaConfig",ju(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function coe(t,e){return mc(t,"POST","/v1/accounts:delete",e)}async function _F(t,e){return mc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uoe(t,e=!1){const n=Gn(t),r=await n.getIdToken(e),i=e5(r);qe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Ip(M2(i.auth_time)),issuedAtTime:Ip(M2(i.iat)),expirationTime:Ip(M2(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function M2(t){return Number(t)*1e3}function e5(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return G1("JWT malformed, contained fewer than 3 sections"),null;try{const i=OO(n);return i?JSON.parse(i):(G1("Failed to decode base64 JWT payload"),null)}catch(i){return G1("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function jI(t){const e=e5(t);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _0(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ns&&hoe(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function hoe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class doe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ip(this.lastLoginAt),this.creationTime=Ip(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ev(t){var e;const n=t.auth,r=await t.getIdToken(),i=await _0(t,_F(n,{idToken:r}));qe(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?wF(o.providerUserInfo):[],a=poe(t.providerData,s),l=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new nE(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function foe(t){const e=Gn(t);await ev(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function poe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function wF(t){return t.map(e=>{var{providerId:n}=e,r=wm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function moe(t,e){const n=await vF(t,{},async()=>{const r=dm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=yF(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",xF.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function goe(t,e){return mc(t,"POST","/v2/accounts:revokeToken",ju(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const n=jI(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await moe(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Jh;return r&&(qe(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(qe(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(qe(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jh,this.toJSON())}_performRefresh(){return ta("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(t,e){qe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class na{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=wm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new doe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new nE(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await _0(this,this.stsTokenManager.getToken(this.auth,e));return qe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return uoe(this,e)}reload(){return foe(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new na(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ev(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ea(this.auth.app))return Promise.reject(Bl(this.auth));const e=await this.getIdToken();return await _0(this,coe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,c,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,d=(i=n.email)!==null&&i!==void 0?i:void 0,f=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,p=(s=n.photoURL)!==null&&s!==void 0?s:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,x=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:_,emailVerified:C,isAnonymous:S,providerData:k,stsTokenManager:b}=n;qe(_&&b,e,"internal-error");const w=Jh.fromJSON(this.name,b);qe(typeof _=="string",e,"internal-error"),Ka(h,e.name),Ka(d,e.name),qe(typeof C=="boolean",e,"internal-error"),qe(typeof S=="boolean",e,"internal-error"),Ka(f,e.name),Ka(p,e.name),Ka(m,e.name),Ka(x,e.name),Ka(v,e.name),Ka(y,e.name);const A=new na({uid:_,auth:e,email:d,emailVerified:C,displayName:h,isAnonymous:S,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:w,createdAt:v,lastLoginAt:y});return k&&Array.isArray(k)&&(A.providerData=k.map(E=>Object.assign({},E))),x&&(A._redirectEventId=x),A}static async _fromIdTokenResponse(e,n,r=!1){const i=new Jh;i.updateFromServerResponse(n);const o=new na({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ev(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];qe(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?wF(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new Jh;a.updateFromIdToken(r);const l=new na({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new nE(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=new Map;function ra(t){va(t instanceof Function,"Expected a class definition");let e=zI.get(t);return e?(va(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,zI.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CF{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}CF.type="NONE";const $I=CF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(t,e,n){return`firebase:${t}:${e}:${n}`}class Qh{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=J1(this.userKey,i.apiKey,o),this.fullPersistenceKey=J1("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?na._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Qh(ra($I),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=i[0]||ra($I);const s=J1(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(s);if(u){const h=na._fromJSON(e,u);c!==o&&(a=h),o=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new Qh(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==o)try{await c._remove(s)}catch{}})),new Qh(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kF(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bF(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(AF(e))return"Blackberry";if(IF(e))return"Webos";if(EF(e))return"Safari";if((e.includes("chrome/")||SF(e))&&!e.includes("edge/"))return"Chrome";if(TF(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function bF(t=Fr()){return/firefox\//i.test(t)}function EF(t=Fr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function SF(t=Fr()){return/crios\//i.test(t)}function kF(t=Fr()){return/iemobile/i.test(t)}function TF(t=Fr()){return/android/i.test(t)}function AF(t=Fr()){return/blackberry/i.test(t)}function IF(t=Fr()){return/webos/i.test(t)}function t5(t=Fr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function xoe(t=Fr()){var e;return t5(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function voe(){return Eee()&&document.documentMode===10}function RF(t=Fr()){return t5(t)||TF(t)||IF(t)||AF(t)||/windows phone/i.test(t)||kF(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PF(t,e=[]){let n;switch(t){case"Browser":n=HI(Fr());break;case"Worker":n=`${HI(Fr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Fu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yoe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _oe(t,e={}){return mc(t,"GET","/v2/passwordPolicy",ju(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const woe=6;class Coe{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:woe,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class boe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new UI(this),this.idTokenSubscription=new UI(this),this.beforeStateQueue=new yoe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mF,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ra(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Qh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _F(this,{idToken:e}),r=await na._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(ea(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ev(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=noe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ea(this.app))return Promise.reject(Bl(this));const n=e?Gn(e):null;return n&&qe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ea(this.app)?Promise.reject(Bl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ea(this.app)?Promise.reject(Bl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ra(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _oe(this),n=new Coe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new hm("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await goe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ra(e)||this._popupRedirectResolver;qe(n,this,"argument-error"),this.redirectPersistenceManager=await Qh.create(this,[ra(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=PF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Zie(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Xd(t){return Gn(t)}class UI{constructor(e){this.auth=e,this.observer=null,this.addObserver=Dee(n=>this.observer=n)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Eoe(t){Wy=t}function DF(t){return Wy.loadJS(t)}function Soe(){return Wy.recaptchaEnterpriseScript}function koe(){return Wy.gapiScript}function Toe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Aoe="recaptcha-enterprise",Ioe="NO_RECAPTCHA";class Roe{constructor(e){this.type=Aoe,this.auth=Xd(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{loe(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new aoe(l);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,s(c.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;VI(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(c=>{s(c)}).catch(()=>{s(Ioe)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&VI(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Soe();l.length!==0&&(l+=a),DF(l).then(()=>{i(a,o,s)}).catch(c=>{s(c)})}}).catch(a=>{s(a)})})}}async function WI(t,e,n,r=!1){const i=new Roe(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function qI(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await WI(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await WI(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Poe(t,e){const n=Dy(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Hx(o,e??{}))return i;zo(i,"already-initialized")}return n.initialize({options:e})}function Doe(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ra);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Moe(t,e,n){const r=Xd(t);qe(r._canInitEmulator,r,"emulator-config-failed"),qe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=MF(e),{host:s,port:a}=Noe(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),Ooe()}function MF(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Noe(t){const e=MF(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:KI(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:KI(s)}}}function KI(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Ooe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ta("not implemented")}_getIdTokenResponse(e){return ta("not implemented")}_linkToIdToken(e,n){return ta("not implemented")}_getReauthenticationResolver(e){return ta("not implemented")}}async function Loe(t,e){return mc(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Foe(t,e){return Uy(t,"POST","/v1/accounts:signInWithPassword",ju(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Boe(t,e){return Uy(t,"POST","/v1/accounts:signInWithEmailLink",ju(t,e))}async function Voe(t,e){return Uy(t,"POST","/v1/accounts:signInWithEmailLink",ju(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0 extends n5{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new w0(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new w0(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qI(e,n,"signInWithPassword",Foe);case"emailLink":return Boe(e,{email:this._email,oobCode:this._password});default:zo(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qI(e,r,"signUpPassword",Loe);case"emailLink":return Voe(e,{idToken:n,email:this._email,oobCode:this._password});default:zo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xh(t,e){return Uy(t,"POST","/v1/accounts:signInWithIdp",ju(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const joe="http://localhost";class gu extends n5{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new gu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):zo("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=wm(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new gu(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Xh(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Xh(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xh(e,n)}buildRequest(){const e={requestUri:joe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=dm(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zoe(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $oe(t){const e=Yf(Zf(t)).link,n=e?Yf(Zf(e)).deep_link_id:null,r=Yf(Zf(t)).deep_link_id;return(r?Yf(Zf(r)).link:null)||r||n||e||t}class r5{constructor(e){var n,r,i,o,s,a;const l=Yf(Zf(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,h=zoe((i=l.mode)!==null&&i!==void 0?i:null);qe(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=$oe(e);try{return new r5(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(){this.providerId=Yd.PROVIDER_ID}static credential(e,n){return w0._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=r5.parseLink(n);return qe(r,"argument-error"),w0._fromEmailAndCode(e,r.code,r.tenantId)}}Yd.PROVIDER_ID="password";Yd.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Yd.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NF{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm extends NF{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl extends bm{constructor(){super("facebook.com")}static credential(e){return gu._fromParams({providerId:cl.PROVIDER_ID,signInMethod:cl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return cl.credentialFromTaggedObject(e)}static credentialFromError(e){return cl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return cl.credential(e.oauthAccessToken)}catch{return null}}}cl.FACEBOOK_SIGN_IN_METHOD="facebook.com";cl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul extends bm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return gu._fromParams({providerId:ul.PROVIDER_ID,signInMethod:ul.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ul.credentialFromTaggedObject(e)}static credentialFromError(e){return ul.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ul.credential(n,r)}catch{return null}}}ul.GOOGLE_SIGN_IN_METHOD="google.com";ul.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl extends bm{constructor(){super("github.com")}static credential(e){return gu._fromParams({providerId:hl.PROVIDER_ID,signInMethod:hl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hl.credentialFromTaggedObject(e)}static credentialFromError(e){return hl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return hl.credential(e.oauthAccessToken)}catch{return null}}}hl.GITHUB_SIGN_IN_METHOD="github.com";hl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl extends bm{constructor(){super("twitter.com")}static credential(e,n){return gu._fromParams({providerId:dl.PROVIDER_ID,signInMethod:dl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return dl.credentialFromTaggedObject(e)}static credentialFromError(e){return dl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return dl.credential(n,r)}catch{return null}}}dl.TWITTER_SIGN_IN_METHOD="twitter.com";dl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await na._fromIdTokenResponse(e,r,i),s=GI(r);return new Td({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=GI(r);return new Td({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function GI(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv extends Ns{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,tv.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new tv(e,n,r,i)}}function OF(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?tv._fromErrorAndOperation(t,o,e,r):o})}async function Hoe(t,e,n=!1){const r=await _0(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Td._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uoe(t,e,n=!1){const{auth:r}=t;if(ea(r.app))return Promise.reject(Bl(r));const i="reauthenticate";try{const o=await _0(t,OF(r,i,e,t),n);qe(o.idToken,r,"internal-error");const s=e5(o.idToken);qe(s,r,"internal-error");const{sub:a}=s;return qe(t.uid===a,r,"user-mismatch"),Td._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&zo(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LF(t,e,n=!1){if(ea(t.app))return Promise.reject(Bl(t));const r="signIn",i=await OF(t,r,e),o=await Td._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function Woe(t,e){return LF(Xd(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qoe(t){const e=Xd(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function Koe(t,e,n){return ea(t.app)?Promise.reject(Bl(t)):Woe(Gn(t),Yd.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&qoe(t),r})}function Goe(t,e,n,r){return Gn(t).onIdTokenChanged(e,n,r)}function Joe(t,e,n){return Gn(t).beforeAuthStateChanged(e,n)}function Qoe(t,e,n,r){return Gn(t).onAuthStateChanged(e,n,r)}function Xoe(t){return Gn(t).signOut()}const nv="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FF{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(nv,"1"),this.storage.removeItem(nv),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yoe=1e3,Zoe=10;class BF extends FF{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=RF(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);voe()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Zoe):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Yoe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}BF.type="LOCAL";const ese=BF;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VF extends FF{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}VF.type="SESSION";const jF=VF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tse(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new qy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async c=>c(n.origin,o)),l=await tse(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i5(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nse{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const c=i5("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(h){const d=h;if(d.data.eventId===c)switch(d.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(d.data.response);break;default:clearTimeout(u),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Es(){return window}function rse(t){Es().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zF(){return typeof Es().WorkerGlobalScope<"u"&&typeof Es().importScripts=="function"}async function ise(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ose(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function sse(){return zF()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F="firebaseLocalStorageDb",ase=1,rv="firebaseLocalStorage",HF="fbase_key";class Em{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ky(t,e){return t.transaction([rv],e?"readwrite":"readonly").objectStore(rv)}function lse(){const t=indexedDB.deleteDatabase($F);return new Em(t).toPromise()}function rE(){const t=indexedDB.open($F,ase);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(rv,{keyPath:HF})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(rv)?e(r):(r.close(),await lse(),e(await rE()))})})}async function JI(t,e,n){const r=Ky(t,!0).put({[HF]:e,value:n});return new Em(r).toPromise()}async function cse(t,e){const n=Ky(t,!1).get(e),r=await new Em(n).toPromise();return r===void 0?null:r.value}function QI(t,e){const n=Ky(t,!0).delete(e);return new Em(n).toPromise()}const use=800,hse=3;class UF{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rE(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>hse)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zF()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qy._getInstance(sse()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await ise(),!this.activeServiceWorker)return;this.sender=new nse(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ose()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rE();return await JI(e,nv,"1"),await QI(e,nv),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>JI(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>cse(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>QI(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Ky(i,!1).getAll();return new Em(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),use)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}UF.type="LOCAL";const dse=UF;new Cm(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fse(t,e){return e?ra(e):(qe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5 extends n5{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xh(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xh(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xh(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function pse(t){return LF(t.auth,new o5(t),t.bypassAuthState)}function mse(t){const{auth:e,user:n}=t;return qe(n,e,"internal-error"),Uoe(n,new o5(t),t.bypassAuthState)}async function gse(t){const{auth:e,user:n}=t;return qe(n,e,"internal-error"),Hoe(n,new o5(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pse;case"linkViaPopup":case"linkViaRedirect":return gse;case"reauthViaPopup":case"reauthViaRedirect":return mse;default:zo(this.auth,"internal-error")}}resolve(e){va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){va(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xse=new Cm(2e3,1e4);class Lh extends WF{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Lh.currentPopupAction&&Lh.currentPopupAction.cancel(),Lh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){va(this.filter.length===1,"Popup operations only handle one event");const e=i5();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(bs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(bs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Lh.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(bs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,xse.get())};e()}}Lh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vse="pendingRedirect",Q1=new Map;class yse extends WF{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Q1.get(this.auth._key());if(!e){try{const r=await _se(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Q1.set(this.auth._key(),e)}return this.bypassAuthState||Q1.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _se(t,e){const n=bse(e),r=Cse(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function wse(t,e){Q1.set(t._key(),e)}function Cse(t){return ra(t._redirectPersistence)}function bse(t){return J1(vse,t.config.apiKey,t.name)}async function Ese(t,e,n=!1){if(ea(t.app))return Promise.reject(Bl(t));const r=Xd(t),i=fse(r,e),s=await new yse(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sse=10*60*1e3;class kse{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Tse(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!qF(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(bs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Sse&&this.cachedEventUids.clear(),this.cachedEventUids.has(XI(e))}saveEventToCache(e){this.cachedEventUids.add(XI(e)),this.lastProcessedEventTime=Date.now()}}function XI(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function qF({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Tse(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qF(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ase(t,e={}){return mc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ise=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Rse=/^https?/;async function Pse(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Ase(t);for(const n of e)try{if(Dse(n))return}catch{}zo(t,"unauthorized-domain")}function Dse(t){const e=tE(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!Rse.test(n))return!1;if(Ise.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mse=new Cm(3e4,6e4);function YI(){const t=Es().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Nse(t){return new Promise((e,n)=>{var r,i,o;function s(){YI(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{YI(),n(bs(t,"network-request-failed"))},timeout:Mse.get()})}if(!((i=(r=Es().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Es().gapi)===null||o===void 0)&&o.load)s();else{const a=Toe("iframefcb");return Es()[a]=()=>{gapi.load?s():n(bs(t,"network-request-failed"))},DF(`${koe()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw X1=null,e})}let X1=null;function Ose(t){return X1=X1||Nse(t),X1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lse=new Cm(5e3,15e3),Fse="__/auth/iframe",Bse="emulator/auth/iframe",Vse={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jse=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zse(t){const e=t.config;qe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ZT(e,Bse):`https://${t.config.authDomain}/${Fse}`,r={apiKey:e.apiKey,appName:t.name,v:Fu},i=jse.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${dm(r).slice(1)}`}async function $se(t){const e=await Ose(t),n=Es().gapi;return qe(n,t,"internal-error"),e.open({where:document.body,url:zse(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vse,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=bs(t,"network-request-failed"),a=Es().setTimeout(()=>{o(s)},Lse.get());function l(){Es().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hse={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Use=500,Wse=600,qse="_blank",Kse="http://localhost";class ZI{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Gse(t,e,n,r=Use,i=Wse){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Hse),{width:r.toString(),height:i.toString(),top:o,left:s}),c=Fr().toLowerCase();n&&(a=SF(c)?qse:n),bF(c)&&(e=e||Kse,l.scrollbars="yes");const u=Object.entries(l).reduce((d,[f,p])=>`${d}${f}=${p},`,"");if(xoe(c)&&a!=="_self")return Jse(e||"",a),new ZI(null);const h=window.open(e||"",a,u);qe(h,t,"popup-blocked");try{h.focus()}catch{}return new ZI(h)}function Jse(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qse="__/auth/handler",Xse="emulator/auth/handler",Yse=encodeURIComponent("fac");async function e6(t,e,n,r,i,o){qe(t.config.authDomain,t,"auth-domain-config-required"),qe(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Fu,eventId:i};if(e instanceof NF){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",Pee(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries({}))s[u]=h}if(e instanceof bm){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${Yse}=${encodeURIComponent(l)}`:"";return`${Zse(t)}?${dm(a).slice(1)}${c}`}function Zse({config:t}){return t.emulator?ZT(t,Xse):`https://${t.authDomain}/${Qse}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2="webStorageSupport";class eae{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jF,this._completeRedirectFn=Ese,this._overrideRedirectResult=wse}async _openPopup(e,n,r,i){var o;va((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await e6(e,n,r,tE(),i);return Gse(e,s,i5())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await e6(e,n,r,tE(),i);return rse(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(va(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await $se(e),r=new kse(e);return n.register("authEvent",i=>(qe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(N2,{type:N2},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[N2];s!==void 0&&n(!!s),zo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Pse(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return RF()||EF()||t5()}}const tae=eae;var t6="@firebase/auth",n6="1.7.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nae{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rae(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function iae(t){hu(new Wl("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;qe(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PF(t)},c=new boe(r,i,o,l);return Doe(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),hu(new Wl("auth-internal",e=>{const n=Xd(e.getProvider("auth").getImmediate());return(r=>new nae(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_s(t6,n6,rae(t)),_s(t6,n6,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oae=5*60,sae=VO("authIdTokenMaxAge")||oae;let r6=null;const aae=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>sae)return;const i=n==null?void 0:n.token;r6!==i&&(r6=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function lae(t=_T()){const e=Dy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Poe(t,{popupRedirectResolver:tae,persistence:[dse,ese,jF]}),r=VO("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=aae(o.toString());Joe(n,s,()=>s(n.currentUser)),Goe(n,a=>s(a))}}const i=LO("auth");return i&&Moe(n,`http://${i}`),n}function cae(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Eoe({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=bs("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",cae().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});iae("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KF="firebasestorage.googleapis.com",GF="storageBucket",uae=2*60*1e3,hae=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn extends Ns{constructor(e,n,r=0){super(O2(e),`Firebase Storage: ${n} (${O2(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Tn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return O2(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var kn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(kn||(kn={}));function O2(t){return"storage/"+t}function s5(){const t="An unknown error occurred, please check the error payload for server response.";return new Tn(kn.UNKNOWN,t)}function dae(t){return new Tn(kn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function fae(t){return new Tn(kn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function pae(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Tn(kn.UNAUTHENTICATED,t)}function mae(){return new Tn(kn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function gae(t){return new Tn(kn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function xae(){return new Tn(kn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function vae(){return new Tn(kn.CANCELED,"User canceled the upload/download.")}function yae(t){return new Tn(kn.INVALID_URL,"Invalid URL '"+t+"'.")}function _ae(t){return new Tn(kn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function wae(){return new Tn(kn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+GF+"' property when initializing the app?")}function Cae(){return new Tn(kn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function bae(t){return new Tn(kn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function iE(t){return new Tn(kn.INVALID_ARGUMENT,t)}function JF(){return new Tn(kn.APP_DELETED,"The Firebase app was deleted.")}function Eae(t){return new Tn(kn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Rp(t,e){return new Tn(kn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Of(t){throw new Tn(kn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Oi.makeFromUrl(e,n)}catch{return new Oi(e,"")}if(r.path==="")return r;throw _ae(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function c(C){C.path_=decodeURIComponent(C.path)}const u="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",f=new RegExp(`^https?://${h}/${u}/b/${i}/o${d}`,"i"),p={bucket:1,path:3},m=n===KF?"(?:storage.googleapis.com|storage.cloud.google.com)":n,x="([^?#]*)",v=new RegExp(`^https?://${m}/${i}/${x}`,"i"),_=[{regex:a,indices:l,postModify:o},{regex:f,indices:p,postModify:c},{regex:v,indices:{bucket:1,path:2},postModify:c}];for(let C=0;C<_.length;C++){const S=_[C],k=S.regex.exec(e);if(k){const b=k[S.indices.bucket];let w=k[S.indices.path];w||(w=""),r=new Oi(b,w),S.postModify(r);break}}if(r==null)throw yae(e);return r}}class Sae{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kae(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let c=!1;function u(...x){c||(c=!0,e.apply(null,x))}function h(x){i=setTimeout(()=>{i=null,t(f,l())},x)}function d(){o&&clearTimeout(o)}function f(x,...v){if(c){d();return}if(x){d(),u.call(null,x,...v);return}if(l()||s){d(),u.call(null,x,...v);return}r<64&&(r*=2);let _;a===1?(a=2,_=0):_=(r+Math.random())*1e3,h(_)}let p=!1;function m(x){p||(p=!0,d(),!c&&(i!==null?(x||(a=2),clearTimeout(i),h(0)):x||(a=1)))}return h(0),o=setTimeout(()=>{s=!0,m(!0)},n),m}function Tae(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aae(t){return t!==void 0}function Iae(t){return typeof t=="object"&&!Array.isArray(t)}function QF(t){return typeof t=="string"||t instanceof String}function i6(t){return a5()&&t instanceof Blob}function a5(){return typeof Blob<"u"}function o6(t,e,n,r){if(r<e)throw iE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw iE(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l5(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Rae(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Zc;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Zc||(Zc={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pae(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dae{constructor(e,n,r,i,o,s,a,l,c,u,h,d=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=h,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new zg(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===Zc.NO_ERROR,l=o.getStatus();if(!a||Pae(l,this.additionalRetryCodes_)&&this.retry){const u=o.getErrorCode()===Zc.ABORT;r(!1,new zg(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new zg(c,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());Aae(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=s5();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?JF():vae();s(l)}else{const l=xae();s(l)}};this.canceled_?n(!1,new zg(!1,null,!0)):this.backoffId_=kae(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Tae(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class zg{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Mae(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Nae(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Oae(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Lae(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Fae(t,e,n,r,i,o,s=!0){const a=Rae(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return Oae(c,e),Mae(c,n),Nae(c,o),Lae(c,r),new Dae(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bae(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Vae(...t){const e=Bae();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(a5())return new Blob(t);throw new Tn(kn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function jae(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zae(t){if(typeof atob>"u")throw bae("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class L2{constructor(e,n){this.data=e,this.contentType=n||null}}function $ae(t,e){switch(t){case fs.RAW:return new L2(XF(e));case fs.BASE64:case fs.BASE64URL:return new L2(YF(t,e));case fs.DATA_URL:return new L2(Uae(e),Wae(e))}throw s5()}function XF(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Hae(t){let e;try{e=decodeURIComponent(t)}catch{throw Rp(fs.DATA_URL,"Malformed data URL.")}return XF(e)}function YF(t,e){switch(t){case fs.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Rp(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case fs.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Rp(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=zae(e)}catch(i){throw i.message.includes("polyfill")?i:Rp(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class ZF{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Rp(fs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=qae(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Uae(t){const e=new ZF(t);return e.base64?YF(fs.BASE64,e.rest):Hae(e.rest)}function Wae(t){return new ZF(t).contentType}function qae(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,n){let r=0,i="";i6(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(i6(this.data_)){const r=this.data_,i=jae(r,e,n);return i===null?null:new fl(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new fl(r,!0)}}static getBlob(...e){if(a5()){const n=e.map(r=>r instanceof fl?r.data_:r);return new fl(Vae.apply(null,n))}else{const n=e.map(s=>QF(s)?$ae(fs.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new fl(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kae(t){let e;try{e=JSON.parse(t)}catch{return null}return Iae(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gae(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Jae(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function eB(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qae(t,e){return e}class Hr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Qae}}let $g=null;function Xae(t){return!QF(t)||t.length<2?t:eB(t)}function Yae(){if($g)return $g;const t=[];t.push(new Hr("bucket")),t.push(new Hr("generation")),t.push(new Hr("metageneration")),t.push(new Hr("name","fullPath",!0));function e(o,s){return Xae(s)}const n=new Hr("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new Hr("size");return i.xform=r,t.push(i),t.push(new Hr("timeCreated")),t.push(new Hr("updated")),t.push(new Hr("md5Hash",null,!0)),t.push(new Hr("cacheControl",null,!0)),t.push(new Hr("contentDisposition",null,!0)),t.push(new Hr("contentEncoding",null,!0)),t.push(new Hr("contentLanguage",null,!0)),t.push(new Hr("contentType",null,!0)),t.push(new Hr("metadata","customMetadata",!0)),$g=t,$g}function Zae(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new Oi(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function ele(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return Zae(r,t),r}function tle(t,e,n){const r=Kae(e);return r===null?null:ele(t,r,n)}function nle(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class c5{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rle(t){if(!t)throw s5()}function ile(t,e){function n(r,i){const o=tle(t,i,e);return rle(o!==null),o}return n}function tB(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=mae():i=pae():n.getStatus()===402?i=fae(t.bucket):n.getStatus()===403?i=gae(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function nB(t){const e=tB(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=dae(t.path)),o.serverResponse=i.serverResponse,o}return n}function ole(t,e,n){const r=e.fullServerUrl(),i=l5(r,t.host,t._protocol)+"?alt=media",o="GET",s=t.maxOperationRetryTime,a=new c5(i,o,(l,c)=>c,s);return a.errorHandler=nB(e),a}function sle(t,e){const n=e.fullServerUrl(),r=l5(n,t.host,t._protocol),i="DELETE",o=t.maxOperationRetryTime;function s(l,c){}const a=new c5(r,i,s,o);return a.successCodes=[200,204],a.errorHandler=nB(e),a}function ale(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function lle(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=ale(null,e)),r}function cle(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let _="";for(let C=0;C<2;C++)_=_+Math.random().toString().slice(2);return _}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const c=lle(e,r,i),u=nle(c,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,d=`\r
--`+l+"--",f=fl.getBlob(h,r,d);if(f===null)throw Cae();const p={name:c.fullPath},m=l5(o,t.host,t._protocol),x="POST",v=t.maxUploadRetryTime,y=new c5(m,x,ile(t,n),v);return y.urlParams=p,y.headers=s,y.body=f.uploadData(),y.errorHandler=tB(e),y}class rB{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Zc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Zc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Zc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw Of("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Of("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Of("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Of("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Of("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class ule extends rB{initXhr(){this.xhr_.responseType="text"}}function iB(){return new ule}class hle extends rB{initXhr(){this.xhr_.responseType="blob"}}function dle(){return new hle}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n){this._service=e,n instanceof Oi?this._location=n:this._location=Oi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new xu(e,n)}get root(){const e=new Oi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return eB(this._location.path)}get storage(){return this._service}get parent(){const e=Gae(this._location.path);if(e===null)return null;const n=new Oi(this._location.bucket,e);return new xu(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Eae(e)}}function fle(t,e){t._throwIfRoot("getBlob");const n=ole(t.storage,t._location);return t.storage.makeRequestWithTokens(n,dle).then(r=>r)}function ple(t,e,n){t._throwIfRoot("uploadBytes");const r=cle(t.storage,t._location,Yae(),new fl(e,!0),n);return t.storage.makeRequestWithTokens(r,iB).then(i=>({metadata:i,ref:t}))}function mle(t){t._throwIfRoot("deleteObject");const e=sle(t.storage,t._location);return t.storage.makeRequestWithTokens(e,iB)}function gle(t,e){const n=Jae(t._location.path,e),r=new Oi(t._location.bucket,n);return new xu(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xle(t){return/^[A-Za-z]+:\/\//.test(t)}function vle(t,e){return new xu(t,e)}function oB(t,e){if(t instanceof u5){const n=t;if(n._bucket==null)throw wae();const r=new xu(n,n._bucket);return e!=null?oB(r,e):r}else return e!==void 0?gle(t,e):t}function yle(t,e){if(e&&xle(e)){if(t instanceof u5)return vle(t,e);throw iE("To use ref(service, url), the first argument must be a Storage instance.")}else return oB(t,e)}function s6(t,e){const n=e==null?void 0:e[GF];return n==null?null:Oi.makeFromBucketSpec(n,t)}function _le(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:jO(i,t.app.options.projectId))}class u5{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=KF,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=uae,this._maxUploadRetryTime=hae,this._requests=new Set,i!=null?this._bucket=Oi.makeFromBucketSpec(i,this._host):this._bucket=s6(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Oi.makeFromBucketSpec(this._url,e):this._bucket=s6(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){o6("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){o6("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new xu(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new Sae(JF());{const s=Fae(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const a6="@firebase/storage",l6="0.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sB="storage";function wle(t,e,n){return t=Gn(t),ple(t,e,n)}function aB(t){return t=Gn(t),mle(t)}function iv(t,e){return t=Gn(t),yle(t,e)}function Cle(t=_T(),e){t=Gn(t);const r=Dy(t,sB).getImmediate({identifier:e}),i=FO("storage");return i&&ble(r,...i),r}function ble(t,e,n,r={}){_le(t,e,n,r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ele(t,e){return t=Gn(t),fle(t)}function Sle(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new u5(n,r,i,e,Fu)}function kle(){hu(new Wl(sB,Sle,"PUBLIC").setMultipleInstances(!0)),_s(a6,l6,""),_s(a6,l6,"esm2017")}kle();const Tle={apiKey:"AIzaSyAhxUlRq18KYPwdszrz_JxsHxH0iC1mqWs",authDomain:"audio-notes-app.firebaseapp.com",projectId:"audio-notes-app",storageBucket:"audio-notes-app.appspot.com",messagingSenderId:"111078587487",appId:"1:111078587487:web:91d14194d4010dfdc12fea"},lB=HO(Tle),Sm=Lie(lB),h5=lae(lB),ov=Cle(),cB=T.createContext();function Ale({children:t}){const[e,n]=T.useState(null);return T.useEffect(()=>{const r=Qoe(h5,i=>{n(i)});return()=>{r()}},[]),P.jsx(cB.Provider,{value:{userState:e},children:t})}function uB(){const t=T.useContext(cB);if(t===void 0)throw new Error("AuthContext was used outside of AuthContextProvider");return t}const po=ym(Sm,"notes-metadata","metadata"),Ile={contentType:"audio/wav"};async function Rle({email:t,password:e}){await Koe(h5,t,e)}async function Ple(){await Xoe(h5)}async function Dle(){const t=await Jl(po);if(!t.exists())throw new Error("Please create a notes-metadata collection and a metadata document with notes property of an empty array in firebase, and reload the page!");const{notes:e}=t.data();return e.sort((r,i)=>i.lastEditTime-r.lastEditTime)}async function Mle(){const t=await Jl(po);let{notes:e}=t.data();const{id:n}=await Jie(Nie(Sm,"notes"),{content:""});if(aee(e))e=[...e,{id:n,title:"New",pinned:!1,audioPath:[],lastEditTime:Date.now()}];else{let r="New",i=0;for(;e.some(s=>s.title===r);)i++,r=`New ${i}`;e=[...e,{id:n,title:r,pinned:!1,audioPath:[],lastEditTime:Date.now()}]}await kd(po,{notes:e})}async function Nle({noteId:t}){const e=await Jl(po);let{notes:n}=e.data();n=n.map(r=>(r.id===t&&(r.pinned=!r.pinned),r)),await kd(po,{notes:n})}async function Ole(t){const e=await Jl(po),{notes:n}=e.data(),{id:r,audioPath:i}=n.find(s=>s.id===t);if(await Gie(ym(Sm,"notes",r)),i.length!==0){const s=i.map(a=>aB(iv(ov,`audio/${a}.wav`)));await Promise.all(s)}const o=n.filter(s=>s.id!==t);await kd(po,{notes:o})}function Hg(t,e,n){const r=t.slice(e,n),i=t.slice(n+1);return{removed:r,newStr:i}}async function Lle(t){const e=await Jl(po);let{notes:n}=e.data();const r=n.find(f=>f.id===t),i=await Jl(ym(Sm,"notes",r.id));let{content:o}=i.data();const s=o.split(/(?=### Note ID:)/);s[0].trim()===""&&s.shift();const l=s.map(f=>{const{removed:p,newStr:m}=Hg(f,0,f.indexOf(`
`,0)),x=p.split("### Note ID: ")[1],{removed:v,newStr:y}=Hg(m,m.indexOf("Created At: "),m.indexOf(`
`,m.indexOf("Created At: "))),_=v.split("Created At: ")[1],{removed:C,newStr:S}=Hg(y,y.indexOf("Encrypted: "),y.indexOf(`
`,y.indexOf("Encrypted: "))),k=C.split("Encrypted: ")[1],{removed:b,newStr:w}=Hg(S,S.indexOf("Audio ID: "),S.indexOf(`
`,S.indexOf("Audio ID: "))),A=b.split("Audio ID: ")[1];return{id:x,createdAt:_,encrypted:k,audioId:A,textValue:w.slice(0,-2)}}).map(f=>({...f,type:"text",selected:!1}));if(r.audioPath.length===0)return{...r,content:l};const c=r.audioPath.map(f=>Ele(iv(ov,`audio/${f}.wav`))),h=(await Promise.all(c)).map(f=>[URL.createObjectURL(f),f]),d=r.audioPath.map((f,p)=>({id:f,createdAt:f,type:"audio",selected:!1,recorded:!0,audioUrl:h[p][0],audioFile:h[p][1]}));return{...r,content:[...l,...d]}}async function Fle(t,e){const n=[],r=[];t.forEach(h=>{h.type==="audio"?n.push(h):h.type==="text"&&r.push(h)});const i=r.reduce((h,d)=>{const f=`### Note ID: ${d.id}
Created At: ${d.createdAt}
Encrypted: ${d.encrypted.toString()}
Audio ID: ${d.audioId?d.audioId:""}
${d.textValue}

`;return h+f},"");if(await kd(ym(Sm,"notes",e),{content:i}),n.length!==0){const h=n.map(d=>wle(iv(ov,`audio/${d.id}.wav`),d.audioFile,Ile));await Promise.all(h)}const o=await Jl(po);let{notes:s}=o.data();const{audioPath:a}=s.find(h=>h.id===e),l=[...a],c=[];s=s.map(h=>(h.id===e&&(r.forEach(d=>{d.audioId&&c.push(d.audioId)}),h.audioPath=c),h));const u=l.filter(h=>!c.includes(h));if(u.length!==0){const h=u.map(d=>aB(iv(ov,`audio/${d}.wav`)));await Promise.all(h)}s=s.map(h=>(h.id===e&&(h.lastEditTime=Date.now()),h)),await kd(po,{notes:s})}async function Ble(t,e){const n=await Jl(po);let{notes:r}=n.data();r=r.map(i=>(i.id===e&&(i.title=t),i)),await kd(po,{notes:r})}function Vle(t){const{isLoading:e,data:n,error:r}=PO({queryKey:["notes",t],queryFn:()=>Lle(t)});return{isLoading:e,noteContent:n,error:r}}/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jle=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hB=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zle={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $le=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...a},l)=>T.createElement("svg",{ref:l,...zle,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:hB("lucide",i),...a},[...s.map(([c,u])=>T.createElement(c,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=(t,e)=>{const n=T.forwardRef(({className:r,...i},o)=>T.createElement($le,{ref:o,iconNode:e,className:hB(`lucide-${jle(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hle=_n("ArrowUpFromLine",[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=_n("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=_n("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ule=_n("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wle=_n("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qle=_n("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kle=_n("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gle=_n("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jle=_n("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qle=_n("FileVolume",[["path",{d:"M11 11a5 5 0 0 1 0 6",key:"193qb2"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4 6.765V4a2 2 0 0 1 2-2h9l5 5v13a2 2 0 0 1-2 2H6a2 2 0 0 1-.93-.23",key:"ifyjnl"}],["path",{d:"M7 10.51a.5.5 0 0 0-.826-.38l-1.893 1.628A1 1 0 0 1 3.63 12H2.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h1.129a1 1 0 0 1 .652.242l1.893 1.63a.5.5 0 0 0 .826-.38z",key:"mk8rxu"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xle=_n("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yle=_n("LockKeyholeOpen",[["circle",{cx:"12",cy:"16",r:"1",key:"1au0dj"}],["rect",{width:"18",height:"12",x:"3",y:"10",rx:"2",key:"l0tzu3"}],["path",{d:"M7 10V7a5 5 0 0 1 9.33-2.5",key:"car5b7"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zle=_n("LockKeyhole",[["circle",{cx:"12",cy:"16",r:"1",key:"1au0dj"}],["rect",{x:"3",y:"10",width:"18",height:"12",rx:"2",key:"6s8ecr"}],["path",{d:"M7 10V7a5 5 0 0 1 10 0v3",key:"1pqi11"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ece=_n("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tce=_n("Pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nce=_n("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rce=_n("Router",[["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6.01 18H6",key:"19vcac"}],["path",{d:"M10.01 18H10",key:"uamcmx"}],["path",{d:"M15 10v4",key:"qjz1xs"}],["path",{d:"M17.84 7.17a4 4 0 0 0-5.66 0",key:"1rif40"}],["path",{d:"M20.66 4.34a8 8 0 0 0-11.31 0",key:"6a5xfq"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ice=_n("SquareCheck",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oce=_n("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sce=_n("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ace=_n("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=_n("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function lce(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Gy(...t){return e=>t.forEach(n=>lce(n,e))}function St(...t){return T.useCallback(Gy(...t),t)}var ya=T.forwardRef((t,e)=>{const{children:n,...r}=t,i=T.Children.toArray(n),o=i.find(cce);if(o){const s=o.props.children,a=i.map(l=>l===o?T.Children.count(s)>1?T.Children.only(null):T.isValidElement(s)?s.props.children:null:l);return P.jsx(oE,{...r,ref:e,children:T.isValidElement(s)?T.cloneElement(s,void 0,a):null})}return P.jsx(oE,{...r,ref:e,children:n})});ya.displayName="Slot";var oE=T.forwardRef((t,e)=>{const{children:n,...r}=t;if(T.isValidElement(n)){const i=hce(n);return T.cloneElement(n,{...uce(r,n.props),ref:e?Gy(e,i):i})}return T.Children.count(n)>1?T.Children.only(null):null});oE.displayName="SlotClone";var mB=({children:t})=>P.jsx(P.Fragment,{children:t});function cce(t){return T.isValidElement(t)&&t.type===mB}function uce(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{o(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function hce(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function gB(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=gB(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function dce(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=gB(t))&&(r&&(r+=" "),r+=e);return r}const c6=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,u6=dce,d5=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return u6(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=e,s=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],h=o==null?void 0:o[c];if(u===null)return null;const d=c6(u)||c6(h);return i[c][d]}),a=n&&Object.entries(n).reduce((c,u)=>{let[h,d]=u;return d===void 0||(c[h]=d),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:h,className:d,...f}=u;return Object.entries(f).every(p=>{let[m,x]=p;return Array.isArray(x)?x.includes({...o,...a}[m]):{...o,...a}[m]===x})?[...c,h,d]:c},[]);return u6(t,s,l,n==null?void 0:n.class,n==null?void 0:n.className)},fce=d5("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ql=T.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},o)=>{const s=r?ya:"button";return P.jsx(s,{className:dt(fce({variant:e,size:n,className:t})),ref:o,...i})});Ql.displayName="Button";function _e(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function pce(t,e){const n=T.createContext(e);function r(o){const{children:s,...a}=o,l=T.useMemo(()=>a,Object.values(a));return P.jsx(n.Provider,{value:l,children:s})}function i(o){const s=T.useContext(n);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return r.displayName=t+"Provider",[r,i]}function go(t,e=[]){let n=[];function r(o,s){const a=T.createContext(s),l=n.length;n=[...n,s];function c(h){const{scope:d,children:f,...p}=h,m=(d==null?void 0:d[t][l])||a,x=T.useMemo(()=>p,Object.values(p));return P.jsx(m.Provider,{value:x,children:f})}function u(h,d){const f=(d==null?void 0:d[t][l])||a,p=T.useContext(f);if(p)return p;if(s!==void 0)return s;throw new Error(`\`${h}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,u]}const i=()=>{const o=n.map(s=>T.createContext(s));return function(a){const l=(a==null?void 0:a[t])||o;return T.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,mce(i,...e)]}function mce(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(o)[`__scope${c}`];return{...a,...h}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}var gce=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],He=gce.reduce((t,e)=>{const n=T.forwardRef((r,i)=>{const{asChild:o,...s}=r,a=o?ya:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),P.jsx(a,{...s,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function f5(t,e){t&&jo.flushSync(()=>t.dispatchEvent(e))}function Br(t){const e=T.useRef(t);return T.useEffect(()=>{e.current=t}),T.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function xce(t,e=globalThis==null?void 0:globalThis.document){const n=Br(t);T.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var vce="DismissableLayer",sE="dismissableLayer.update",yce="dismissableLayer.pointerDownOutside",_ce="dismissableLayer.focusOutside",h6,xB=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),zu=T.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:a,...l}=t,c=T.useContext(xB),[u,h]=T.useState(null),d=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=T.useState({}),p=St(e,b=>h(b)),m=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),v=m.indexOf(x),y=u?m.indexOf(u):-1,_=c.layersWithOutsidePointerEventsDisabled.size>0,C=y>=v,S=Cce(b=>{const w=b.target,A=[...c.branches].some(E=>E.contains(w));!C||A||(i==null||i(b),s==null||s(b),b.defaultPrevented||a==null||a())},d),k=bce(b=>{const w=b.target;[...c.branches].some(E=>E.contains(w))||(o==null||o(b),s==null||s(b),b.defaultPrevented||a==null||a())},d);return xce(b=>{y===c.layers.size-1&&(r==null||r(b),!b.defaultPrevented&&a&&(b.preventDefault(),a()))},d),T.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(h6=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),d6(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=h6)}},[u,d,n,c]),T.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),d6())},[u,c]),T.useEffect(()=>{const b=()=>f({});return document.addEventListener(sE,b),()=>document.removeEventListener(sE,b)},[]),P.jsx(He.div,{...l,ref:p,style:{pointerEvents:_?C?"auto":"none":void 0,...t.style},onFocusCapture:_e(t.onFocusCapture,k.onFocusCapture),onBlurCapture:_e(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:_e(t.onPointerDownCapture,S.onPointerDownCapture)})});zu.displayName=vce;var wce="DismissableLayerBranch",vB=T.forwardRef((t,e)=>{const n=T.useContext(xB),r=T.useRef(null),i=St(e,r);return T.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),P.jsx(He.div,{...t,ref:i})});vB.displayName=wce;function Cce(t,e=globalThis==null?void 0:globalThis.document){const n=Br(t),r=T.useRef(!1),i=T.useRef(()=>{});return T.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){yB(yce,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function bce(t,e=globalThis==null?void 0:globalThis.document){const n=Br(t),r=T.useRef(!1);return T.useEffect(()=>{const i=o=>{o.target&&!r.current&&yB(_ce,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function d6(){const t=new CustomEvent(sE);document.dispatchEvent(t)}function yB(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?f5(i,o):i.dispatchEvent(o)}var Ece=zu,Sce=vB,Vr=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{},kce=eM.useId||(()=>{}),Tce=0;function Fo(t){const[e,n]=T.useState(kce());return Vr(()=>{n(r=>r??String(Tce++))},[t]),e?`radix-${e}`:""}const Ace=["top","right","bottom","left"],ps=Math.min,Pi=Math.max,sv=Math.round,Ug=Math.floor,Xl=t=>({x:t,y:t}),Ice={left:"right",right:"left",bottom:"top",top:"bottom"},Rce={start:"end",end:"start"};function aE(t,e,n){return Pi(t,ps(e,n))}function _a(t,e){return typeof t=="function"?t(e):t}function wa(t){return t.split("-")[0]}function Zd(t){return t.split("-")[1]}function p5(t){return t==="x"?"y":"x"}function m5(t){return t==="y"?"height":"width"}function Yl(t){return["top","bottom"].includes(wa(t))?"y":"x"}function g5(t){return p5(Yl(t))}function Pce(t,e,n){n===void 0&&(n=!1);const r=Zd(t),i=g5(t),o=m5(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=av(s)),[s,av(s)]}function Dce(t){const e=av(t);return[lE(t),e,lE(e)]}function lE(t){return t.replace(/start|end/g,e=>Rce[e])}function Mce(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function Nce(t,e,n,r){const i=Zd(t);let o=Mce(wa(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(lE)))),o}function av(t){return t.replace(/left|right|bottom|top/g,e=>Ice[e])}function Oce(t){return{top:0,right:0,bottom:0,left:0,...t}}function _B(t){return typeof t!="number"?Oce(t):{top:t,right:t,bottom:t,left:t}}function lv(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function f6(t,e,n){let{reference:r,floating:i}=t;const o=Yl(e),s=g5(e),a=m5(s),l=wa(e),c=o==="y",u=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,d=r[a]/2-i[a]/2;let f;switch(l){case"top":f={x:u,y:r.y-i.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:h};break;case"left":f={x:r.x-i.width,y:h};break;default:f={x:r.x,y:r.y}}switch(Zd(e)){case"start":f[s]-=d*(n&&c?-1:1);break;case"end":f[s]+=d*(n&&c?-1:1);break}return f}const Lce=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:h}=f6(c,r,l),d=r,f={},p=0;for(let m=0;m<a.length;m++){const{name:x,fn:v}=a[m],{x:y,y:_,data:C,reset:S}=await v({x:u,y:h,initialPlacement:r,placement:d,strategy:i,middlewareData:f,rects:c,platform:s,elements:{reference:t,floating:e}});u=y??u,h=_??h,f={...f,[x]:{...f[x],...C}},S&&p<=50&&(p++,typeof S=="object"&&(S.placement&&(d=S.placement),S.rects&&(c=S.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):S.rects),{x:u,y:h}=f6(c,d,l)),m=-1)}return{x:u,y:h,placement:d,strategy:i,middlewareData:f}};async function C0(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:d=!1,padding:f=0}=_a(e,t),p=_B(f),x=a[d?h==="floating"?"reference":"floating":h],v=lv(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(x)))==null||n?x:x.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),y=h==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),C=await(o.isElement==null?void 0:o.isElement(_))?await(o.getScale==null?void 0:o.getScale(_))||{x:1,y:1}:{x:1,y:1},S=lv(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:_,strategy:l}):y);return{top:(v.top-S.top+p.top)/C.y,bottom:(S.bottom-v.bottom+p.bottom)/C.y,left:(v.left-S.left+p.left)/C.x,right:(S.right-v.right+p.right)/C.x}}const Fce=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=_a(t,e)||{};if(c==null)return{};const h=_B(u),d={x:n,y:r},f=g5(i),p=m5(f),m=await s.getDimensions(c),x=f==="y",v=x?"top":"left",y=x?"bottom":"right",_=x?"clientHeight":"clientWidth",C=o.reference[p]+o.reference[f]-d[f]-o.floating[p],S=d[f]-o.reference[f],k=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let b=k?k[_]:0;(!b||!await(s.isElement==null?void 0:s.isElement(k)))&&(b=a.floating[_]||o.floating[p]);const w=C/2-S/2,A=b/2-m[p]/2-1,E=ps(h[v],A),R=ps(h[y],A),D=E,N=b-m[p]-R,j=b/2-m[p]/2+w,$=aE(D,j,N),Q=!l.arrow&&Zd(i)!=null&&j!==$&&o.reference[p]/2-(j<D?E:R)-m[p]/2<0,X=Q?j<D?j-D:j-N:0;return{[f]:d[f]+X,data:{[f]:$,centerOffset:j-$-X,...Q&&{alignmentOffset:X}},reset:Q}}}),Bce=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:d,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...x}=_a(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const v=wa(i),y=Yl(a),_=wa(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=d||(_||!m?[av(a)]:Dce(a)),k=p!=="none";!d&&k&&S.push(...Nce(a,m,p,C));const b=[a,...S],w=await C0(e,x),A=[];let E=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&A.push(w[v]),h){const j=Pce(i,s,C);A.push(w[j[0]],w[j[1]])}if(E=[...E,{placement:i,overflows:A}],!A.every(j=>j<=0)){var R,D;const j=(((R=o.flip)==null?void 0:R.index)||0)+1,$=b[j];if($)return{data:{index:j,overflows:E},reset:{placement:$}};let Q=(D=E.filter(X=>X.overflows[0]<=0).sort((X,q)=>X.overflows[1]-q.overflows[1])[0])==null?void 0:D.placement;if(!Q)switch(f){case"bestFit":{var N;const X=(N=E.filter(q=>{if(k){const H=Yl(q.placement);return H===y||H==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(H=>H>0).reduce((H,L)=>H+L,0)]).sort((q,H)=>q[1]-H[1])[0])==null?void 0:N[0];X&&(Q=X);break}case"initialPlacement":Q=a;break}if(i!==Q)return{reset:{placement:Q}}}return{}}}};function p6(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function m6(t){return Ace.some(e=>t[e]>=0)}const Vce=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=_a(t,e);switch(r){case"referenceHidden":{const o=await C0(e,{...i,elementContext:"reference"}),s=p6(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:m6(s)}}}case"escaped":{const o=await C0(e,{...i,altBoundary:!0}),s=p6(o,n.floating);return{data:{escapedOffsets:s,escaped:m6(s)}}}default:return{}}}}};async function jce(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=wa(n),a=Zd(n),l=Yl(n)==="y",c=["left","top"].includes(s)?-1:1,u=o&&l?-1:1,h=_a(e,t);let{mainAxis:d,crossAxis:f,alignmentAxis:p}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return a&&typeof p=="number"&&(f=a==="end"?p*-1:p),l?{x:f*u,y:d*c}:{x:d*c,y:f*u}}const zce=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=e,l=await jce(e,t);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},$ce=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:x=>{let{x:v,y}=x;return{x:v,y}}},...l}=_a(t,e),c={x:n,y:r},u=await C0(e,l),h=Yl(wa(i)),d=p5(h);let f=c[d],p=c[h];if(o){const x=d==="y"?"top":"left",v=d==="y"?"bottom":"right",y=f+u[x],_=f-u[v];f=aE(y,f,_)}if(s){const x=h==="y"?"top":"left",v=h==="y"?"bottom":"right",y=p+u[x],_=p-u[v];p=aE(y,p,_)}const m=a.fn({...e,[d]:f,[h]:p});return{...m,data:{x:m.x-n,y:m.y-r}}}}},Hce=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=_a(t,e),u={x:n,y:r},h=Yl(i),d=p5(h);let f=u[d],p=u[h];const m=_a(a,e),x=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const _=d==="y"?"height":"width",C=o.reference[d]-o.floating[_]+x.mainAxis,S=o.reference[d]+o.reference[_]-x.mainAxis;f<C?f=C:f>S&&(f=S)}if(c){var v,y;const _=d==="y"?"width":"height",C=["top","left"].includes(wa(i)),S=o.reference[h]-o.floating[_]+(C&&((v=s.offset)==null?void 0:v[h])||0)+(C?0:x.crossAxis),k=o.reference[h]+o.reference[_]+(C?0:((y=s.offset)==null?void 0:y[h])||0)-(C?x.crossAxis:0);p<S?p=S:p>k&&(p=k)}return{[d]:f,[h]:p}}}},Uce=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:r,platform:i,elements:o}=e,{apply:s=()=>{},...a}=_a(t,e),l=await C0(e,a),c=wa(n),u=Zd(n),h=Yl(n)==="y",{width:d,height:f}=r.floating;let p,m;c==="top"||c==="bottom"?(p=c,m=u===(await(i.isRTL==null?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(m=c,p=u==="end"?"top":"bottom");const x=f-l.top-l.bottom,v=d-l.left-l.right,y=ps(f-l[p],x),_=ps(d-l[m],v),C=!e.middlewareData.shift;let S=y,k=_;if(h?k=u||C?ps(_,v):v:S=u||C?ps(y,x):x,C&&!u){const w=Pi(l.left,0),A=Pi(l.right,0),E=Pi(l.top,0),R=Pi(l.bottom,0);h?k=d-2*(w!==0||A!==0?w+A:Pi(l.left,l.right)):S=f-2*(E!==0||R!==0?E+R:Pi(l.top,l.bottom))}await s({...e,availableWidth:k,availableHeight:S});const b=await i.getDimensions(o.floating);return d!==b.width||f!==b.height?{reset:{rects:!0}}:{}}}};function ef(t){return wB(t)?(t.nodeName||"").toLowerCase():"#document"}function Vi(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ia(t){var e;return(e=(wB(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function wB(t){return t instanceof Node||t instanceof Vi(t).Node}function $o(t){return t instanceof Element||t instanceof Vi(t).Element}function Is(t){return t instanceof HTMLElement||t instanceof Vi(t).HTMLElement}function g6(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Vi(t).ShadowRoot}function km(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Ho(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function Wce(t){return["table","td","th"].includes(ef(t))}function Jy(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function x5(t){const e=v5(),n=$o(t)?Ho(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function qce(t){let e=Zl(t);for(;Is(e)&&!Ad(e);){if(x5(e))return e;if(Jy(e))return null;e=Zl(e)}return null}function v5(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ad(t){return["html","body","#document"].includes(ef(t))}function Ho(t){return Vi(t).getComputedStyle(t)}function Qy(t){return $o(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Zl(t){if(ef(t)==="html")return t;const e=t.assignedSlot||t.parentNode||g6(t)&&t.host||Ia(t);return g6(e)?e.host:e}function CB(t){const e=Zl(t);return Ad(e)?t.ownerDocument?t.ownerDocument.body:t.body:Is(e)&&km(e)?e:CB(e)}function b0(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=CB(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=Vi(i);if(o){const a=cE(s);return e.concat(s,s.visualViewport||[],km(i)?i:[],a&&n?b0(a):[])}return e.concat(i,b0(i,[],n))}function cE(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function bB(t){const e=Ho(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Is(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=sv(n)!==o||sv(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function y5(t){return $o(t)?t:t.contextElement}function Yh(t){const e=y5(t);if(!Is(e))return Xl(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=bB(e);let s=(o?sv(n.width):n.width)/r,a=(o?sv(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const Kce=Xl(0);function EB(t){const e=Vi(t);return!v5()||!e.visualViewport?Kce:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Gce(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Vi(t)?!1:e}function vu(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=y5(t);let s=Xl(1);e&&(r?$o(r)&&(s=Yh(r)):s=Yh(t));const a=Gce(o,n,r)?EB(o):Xl(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,u=i.width/s.x,h=i.height/s.y;if(o){const d=Vi(o),f=r&&$o(r)?Vi(r):r;let p=d,m=cE(p);for(;m&&r&&f!==p;){const x=Yh(m),v=m.getBoundingClientRect(),y=Ho(m),_=v.left+(m.clientLeft+parseFloat(y.paddingLeft))*x.x,C=v.top+(m.clientTop+parseFloat(y.paddingTop))*x.y;l*=x.x,c*=x.y,u*=x.x,h*=x.y,l+=_,c+=C,p=Vi(m),m=cE(p)}}return lv({width:u,height:h,x:l,y:c})}function Jce(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",s=Ia(r),a=e?Jy(e.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=Xl(1);const u=Xl(0),h=Is(r);if((h||!h&&!o)&&((ef(r)!=="body"||km(s))&&(l=Qy(r)),Is(r))){const d=vu(r);c=Yh(r),u.x=d.x+r.clientLeft,u.y=d.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x,y:n.y*c.y-l.scrollTop*c.y+u.y}}function Qce(t){return Array.from(t.getClientRects())}function SB(t){return vu(Ia(t)).left+Qy(t).scrollLeft}function Xce(t){const e=Ia(t),n=Qy(t),r=t.ownerDocument.body,i=Pi(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Pi(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+SB(t);const a=-n.scrollTop;return Ho(r).direction==="rtl"&&(s+=Pi(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function Yce(t,e){const n=Vi(t),r=Ia(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const c=v5();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function Zce(t,e){const n=vu(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=Is(t)?Yh(t):Xl(1),s=t.clientWidth*o.x,a=t.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:s,height:a,x:l,y:c}}function x6(t,e,n){let r;if(e==="viewport")r=Yce(t,n);else if(e==="document")r=Xce(Ia(t));else if($o(e))r=Zce(e,n);else{const i=EB(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return lv(r)}function kB(t,e){const n=Zl(t);return n===e||!$o(n)||Ad(n)?!1:Ho(n).position==="fixed"||kB(n,e)}function eue(t,e){const n=e.get(t);if(n)return n;let r=b0(t,[],!1).filter(a=>$o(a)&&ef(a)!=="body"),i=null;const o=Ho(t).position==="fixed";let s=o?Zl(t):t;for(;$o(s)&&!Ad(s);){const a=Ho(s),l=x5(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||km(s)&&!l&&kB(t,s))?r=r.filter(u=>u!==s):i=a,s=Zl(s)}return e.set(t,r),r}function tue(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?Jy(e)?[]:eue(e,this._c):[].concat(n),r],a=s[0],l=s.reduce((c,u)=>{const h=x6(e,u,i);return c.top=Pi(h.top,c.top),c.right=ps(h.right,c.right),c.bottom=ps(h.bottom,c.bottom),c.left=Pi(h.left,c.left),c},x6(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function nue(t){const{width:e,height:n}=bB(t);return{width:e,height:n}}function rue(t,e,n){const r=Is(e),i=Ia(e),o=n==="fixed",s=vu(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=Xl(0);if(r||!r&&!o)if((ef(e)!=="body"||km(i))&&(a=Qy(e)),r){const h=vu(e,!0,o,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else i&&(l.x=SB(i));const c=s.left+a.scrollLeft-l.x,u=s.top+a.scrollTop-l.y;return{x:c,y:u,width:s.width,height:s.height}}function F2(t){return Ho(t).position==="static"}function v6(t,e){return!Is(t)||Ho(t).position==="fixed"?null:e?e(t):t.offsetParent}function TB(t,e){const n=Vi(t);if(Jy(t))return n;if(!Is(t)){let i=Zl(t);for(;i&&!Ad(i);){if($o(i)&&!F2(i))return i;i=Zl(i)}return n}let r=v6(t,e);for(;r&&Wce(r)&&F2(r);)r=v6(r,e);return r&&Ad(r)&&F2(r)&&!x5(r)?n:r||qce(t)||n}const iue=async function(t){const e=this.getOffsetParent||TB,n=this.getDimensions,r=await n(t.floating);return{reference:rue(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function oue(t){return Ho(t).direction==="rtl"}const sue={convertOffsetParentRelativeRectToViewportRelativeRect:Jce,getDocumentElement:Ia,getClippingRect:tue,getOffsetParent:TB,getElementRects:iue,getClientRects:Qce,getDimensions:nue,getScale:Yh,isElement:$o,isRTL:oue};function aue(t,e){let n=null,r;const i=Ia(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const{left:c,top:u,width:h,height:d}=t.getBoundingClientRect();if(a||e(),!h||!d)return;const f=Ug(u),p=Ug(i.clientWidth-(c+h)),m=Ug(i.clientHeight-(u+d)),x=Ug(c),y={rootMargin:-f+"px "+-p+"px "+-m+"px "+-x+"px",threshold:Pi(0,ps(1,l))||1};let _=!0;function C(S){const k=S[0].intersectionRatio;if(k!==l){if(!_)return s();k?s(!1,k):r=setTimeout(()=>{s(!1,1e-7)},1e3)}_=!1}try{n=new IntersectionObserver(C,{...y,root:i.ownerDocument})}catch{n=new IntersectionObserver(C,y)}n.observe(t)}return s(!0),o}function lue(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=y5(t),u=i||o?[...c?b0(c):[],...b0(e)]:[];u.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),o&&v.addEventListener("resize",n)});const h=c&&a?aue(c,n):null;let d=-1,f=null;s&&(f=new ResizeObserver(v=>{let[y]=v;y&&y.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var _;(_=f)==null||_.observe(e)})),n()}),c&&!l&&f.observe(c),f.observe(e));let p,m=l?vu(t):null;l&&x();function x(){const v=vu(t);m&&(v.x!==m.x||v.y!==m.y||v.width!==m.width||v.height!==m.height)&&n(),m=v,p=requestAnimationFrame(x)}return n(),()=>{var v;u.forEach(y=>{i&&y.removeEventListener("scroll",n),o&&y.removeEventListener("resize",n)}),h==null||h(),(v=f)==null||v.disconnect(),f=null,l&&cancelAnimationFrame(p)}}const cue=zce,uue=$ce,hue=Bce,due=Uce,fue=Vce,y6=Fce,pue=Hce,mue=(t,e,n)=>{const r=new Map,i={platform:sue,...n},o={...i.platform,_c:r};return Lce(t,e,{...i,platform:o})};var Y1=typeof document<"u"?T.useLayoutEffect:T.useEffect;function cv(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!cv(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!cv(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function AB(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function _6(t,e){const n=AB(t);return Math.round(e*n)/n}function w6(t){const e=T.useRef(t);return Y1(()=>{e.current=t}),e}function gue(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,h]=T.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[d,f]=T.useState(r);cv(d,r)||f(r);const[p,m]=T.useState(null),[x,v]=T.useState(null),y=T.useCallback(X=>{X!==k.current&&(k.current=X,m(X))},[]),_=T.useCallback(X=>{X!==b.current&&(b.current=X,v(X))},[]),C=o||p,S=s||x,k=T.useRef(null),b=T.useRef(null),w=T.useRef(u),A=l!=null,E=w6(l),R=w6(i),D=T.useCallback(()=>{if(!k.current||!b.current)return;const X={placement:e,strategy:n,middleware:d};R.current&&(X.platform=R.current),mue(k.current,b.current,X).then(q=>{const H={...q,isPositioned:!0};N.current&&!cv(w.current,H)&&(w.current=H,jo.flushSync(()=>{h(H)}))})},[d,e,n,R]);Y1(()=>{c===!1&&w.current.isPositioned&&(w.current.isPositioned=!1,h(X=>({...X,isPositioned:!1})))},[c]);const N=T.useRef(!1);Y1(()=>(N.current=!0,()=>{N.current=!1}),[]),Y1(()=>{if(C&&(k.current=C),S&&(b.current=S),C&&S){if(E.current)return E.current(C,S,D);D()}},[C,S,D,E,A]);const j=T.useMemo(()=>({reference:k,floating:b,setReference:y,setFloating:_}),[y,_]),$=T.useMemo(()=>({reference:C,floating:S}),[C,S]),Q=T.useMemo(()=>{const X={position:n,left:0,top:0};if(!$.floating)return X;const q=_6($.floating,u.x),H=_6($.floating,u.y);return a?{...X,transform:"translate("+q+"px, "+H+"px)",...AB($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:q,top:H}},[n,a,$.floating,u.x,u.y]);return T.useMemo(()=>({...u,update:D,refs:j,elements:$,floatingStyles:Q}),[u,D,j,$,Q])}const xue=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?y6({element:r.current,padding:i}).fn(n):{}:r?y6({element:r,padding:i}).fn(n):{}}}},vue=(t,e)=>({...cue(t),options:[t,e]}),yue=(t,e)=>({...uue(t),options:[t,e]}),_ue=(t,e)=>({...pue(t),options:[t,e]}),wue=(t,e)=>({...hue(t),options:[t,e]}),Cue=(t,e)=>({...due(t),options:[t,e]}),bue=(t,e)=>({...fue(t),options:[t,e]}),Eue=(t,e)=>({...xue(t),options:[t,e]});var Sue="Arrow",IB=T.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...o}=t;return P.jsx(He.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:P.jsx("polygon",{points:"0,0 30,0 15,10"})})});IB.displayName=Sue;var kue=IB;function Tue(t){const[e,n]=T.useState(void 0);return Vr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,a=c.blockSize}else s=t.offsetWidth,a=t.offsetHeight;n({width:s,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var _5="Popper",[RB,gc]=go(_5),[Aue,PB]=RB(_5),DB=t=>{const{__scopePopper:e,children:n}=t,[r,i]=T.useState(null);return P.jsx(Aue,{scope:e,anchor:r,onAnchorChange:i,children:n})};DB.displayName=_5;var MB="PopperAnchor",NB=T.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=PB(MB,n),s=T.useRef(null),a=St(e,s);return T.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:P.jsx(He.div,{...i,ref:a})});NB.displayName=MB;var w5="PopperContent",[Iue,Rue]=RB(w5),OB=T.forwardRef((t,e)=>{var ue,de,ze,Oe,Be,Qe;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:s=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:d=!1,updatePositionStrategy:f="optimized",onPlaced:p,...m}=t,x=PB(w5,n),[v,y]=T.useState(null),_=St(e,ct=>y(ct)),[C,S]=T.useState(null),k=Tue(C),b=(k==null?void 0:k.width)??0,w=(k==null?void 0:k.height)??0,A=r+(o!=="center"?"-"+o:""),E=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},R=Array.isArray(c)?c:[c],D=R.length>0,N={padding:E,boundary:R.filter(Due),altBoundary:D},{refs:j,floatingStyles:$,placement:Q,isPositioned:X,middlewareData:q}=gue({strategy:"fixed",placement:A,whileElementsMounted:(...ct)=>lue(...ct,{animationFrame:f==="always"}),elements:{reference:x.anchor},middleware:[vue({mainAxis:i+w,alignmentAxis:s}),l&&yue({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?_ue():void 0,...N}),l&&wue({...N}),Cue({...N,apply:({elements:ct,rects:We,availableWidth:jt,availableHeight:on})=>{const{width:Fn,height:dn}=We.reference,Jn=ct.floating.style;Jn.setProperty("--radix-popper-available-width",`${jt}px`),Jn.setProperty("--radix-popper-available-height",`${on}px`),Jn.setProperty("--radix-popper-anchor-width",`${Fn}px`),Jn.setProperty("--radix-popper-anchor-height",`${dn}px`)}}),C&&Eue({element:C,padding:a}),Mue({arrowWidth:b,arrowHeight:w}),d&&bue({strategy:"referenceHidden",...N})]}),[H,L]=BB(Q),U=Br(p);Vr(()=>{X&&(U==null||U())},[X,U]);const K=(ue=q.arrow)==null?void 0:ue.x,O=(de=q.arrow)==null?void 0:de.y,J=((ze=q.arrow)==null?void 0:ze.centerOffset)!==0,[Ee,fe]=T.useState();return Vr(()=>{v&&fe(window.getComputedStyle(v).zIndex)},[v]),P.jsx("div",{ref:j.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:X?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ee,"--radix-popper-transform-origin":[(Oe=q.transformOrigin)==null?void 0:Oe.x,(Be=q.transformOrigin)==null?void 0:Be.y].join(" "),...((Qe=q.hide)==null?void 0:Qe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:P.jsx(Iue,{scope:n,placedSide:H,onArrowChange:S,arrowX:K,arrowY:O,shouldHideArrow:J,children:P.jsx(He.div,{"data-side":H,"data-align":L,...m,ref:_,style:{...m.style,animation:X?void 0:"none"}})})})});OB.displayName=w5;var LB="PopperArrow",Pue={top:"bottom",right:"left",bottom:"top",left:"right"},FB=T.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,o=Rue(LB,r),s=Pue[o.placedSide];return P.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:P.jsx(kue,{...i,ref:n,style:{...i.style,display:"block"}})})});FB.displayName=LB;function Due(t){return t!==null}var Mue=t=>({name:"transformOrigin",options:t,fn(e){var x,v,y;const{placement:n,rects:r,middlewareData:i}=e,s=((x=i.arrow)==null?void 0:x.centerOffset)!==0,a=s?0:t.arrowWidth,l=s?0:t.arrowHeight,[c,u]=BB(n),h={start:"0%",center:"50%",end:"100%"}[u],d=(((v=i.arrow)==null?void 0:v.x)??0)+a/2,f=(((y=i.arrow)==null?void 0:y.y)??0)+l/2;let p="",m="";return c==="bottom"?(p=s?h:`${d}px`,m=`${-l}px`):c==="top"?(p=s?h:`${d}px`,m=`${r.floating.height+l}px`):c==="right"?(p=`${-l}px`,m=s?h:`${f}px`):c==="left"&&(p=`${r.floating.width+l}px`,m=s?h:`${f}px`),{data:{x:p,y:m}}}});function BB(t){const[e,n="center"]=t.split("-");return[e,n]}var Xy=DB,Tm=NB,Yy=OB,Zy=FB,Nue="Portal",$u=T.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,o]=T.useState(!1);Vr(()=>o(!0),[]);const s=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return s?rO.createPortal(P.jsx(He.div,{...r,ref:e}),s):null});$u.displayName=Nue;function Oue(t,e){return T.useReducer((n,r)=>e[n][r]??n,t)}var Wi=t=>{const{present:e,children:n}=t,r=Lue(e),i=typeof n=="function"?n({present:r.isPresent}):T.Children.only(n),o=St(r.ref,Fue(i));return typeof n=="function"||r.isPresent?T.cloneElement(i,{ref:o}):null};Wi.displayName="Presence";function Lue(t){const[e,n]=T.useState(),r=T.useRef({}),i=T.useRef(t),o=T.useRef("none"),s=t?"mounted":"unmounted",[a,l]=Oue(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const c=Wg(r.current);o.current=a==="mounted"?c:"none"},[a]),Vr(()=>{const c=r.current,u=i.current;if(u!==t){const d=o.current,f=Wg(c);t?l("MOUNT"):f==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&d!==f?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Vr(()=>{if(e){const c=h=>{const f=Wg(r.current).includes(h.animationName);h.target===e&&f&&jo.flushSync(()=>l("ANIMATION_END"))},u=h=>{h.target===e&&(o.current=Wg(r.current))};return e.addEventListener("animationstart",u),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{e.removeEventListener("animationstart",u),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:T.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Wg(t){return(t==null?void 0:t.animationName)||"none"}function Fue(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Uo({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=Bue({defaultProp:e,onChange:n}),o=t!==void 0,s=o?t:r,a=Br(n),l=T.useCallback(c=>{if(o){const h=typeof c=="function"?c(t):c;h!==t&&a(h)}else i(c)},[o,t,i,a]);return[s,l]}function Bue({defaultProp:t,onChange:e}){const n=T.useState(t),[r]=n,i=T.useRef(r),o=Br(e);return T.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}var Vue="VisuallyHidden",Am=T.forwardRef((t,e)=>P.jsx(He.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Am.displayName=Vue;var jue=Am,[e_,J3e]=go("Tooltip",[gc]),t_=gc(),VB="TooltipProvider",zue=700,uE="tooltip.open",[$ue,C5]=e_(VB),jB=t=>{const{__scopeTooltip:e,delayDuration:n=zue,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:o}=t,[s,a]=T.useState(!0),l=T.useRef(!1),c=T.useRef(0);return T.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),P.jsx($ue,{scope:e,isOpenDelayed:s,delayDuration:n,onOpen:T.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:T.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:T.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:o})};jB.displayName=VB;var n_="Tooltip",[Hue,Im]=e_(n_),zB=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i=!1,onOpenChange:o,disableHoverableContent:s,delayDuration:a}=t,l=C5(n_,t.__scopeTooltip),c=t_(e),[u,h]=T.useState(null),d=Fo(),f=T.useRef(0),p=s??l.disableHoverableContent,m=a??l.delayDuration,x=T.useRef(!1),[v=!1,y]=Uo({prop:r,defaultProp:i,onChange:b=>{b?(l.onOpen(),document.dispatchEvent(new CustomEvent(uE))):l.onClose(),o==null||o(b)}}),_=T.useMemo(()=>v?x.current?"delayed-open":"instant-open":"closed",[v]),C=T.useCallback(()=>{window.clearTimeout(f.current),x.current=!1,y(!0)},[y]),S=T.useCallback(()=>{window.clearTimeout(f.current),y(!1)},[y]),k=T.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>{x.current=!0,y(!0)},m)},[m,y]);return T.useEffect(()=>()=>window.clearTimeout(f.current),[]),P.jsx(Xy,{...c,children:P.jsx(Hue,{scope:e,contentId:d,open:v,stateAttribute:_,trigger:u,onTriggerChange:h,onTriggerEnter:T.useCallback(()=>{l.isOpenDelayed?k():C()},[l.isOpenDelayed,k,C]),onTriggerLeave:T.useCallback(()=>{p?S():window.clearTimeout(f.current)},[S,p]),onOpen:C,onClose:S,disableHoverableContent:p,children:n})})};zB.displayName=n_;var hE="TooltipTrigger",$B=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=Im(hE,n),o=C5(hE,n),s=t_(n),a=T.useRef(null),l=St(e,a,i.onTriggerChange),c=T.useRef(!1),u=T.useRef(!1),h=T.useCallback(()=>c.current=!1,[]);return T.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),P.jsx(Tm,{asChild:!0,...s,children:P.jsx(He.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:_e(t.onPointerMove,d=>{d.pointerType!=="touch"&&!u.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:_e(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:_e(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:_e(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:_e(t.onBlur,i.onClose),onClick:_e(t.onClick,i.onClose)})})});$B.displayName=hE;var b5="TooltipPortal",[Uue,Wue]=e_(b5,{forceMount:void 0}),HB=t=>{const{__scopeTooltip:e,forceMount:n,children:r,container:i}=t,o=Im(b5,e);return P.jsx(Uue,{scope:e,forceMount:n,children:P.jsx(Wi,{present:n||o.open,children:P.jsx($u,{asChild:!0,container:i,children:r})})})};HB.displayName=b5;var Id="TooltipContent",UB=T.forwardRef((t,e)=>{const n=Wue(Id,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...o}=t,s=Im(Id,t.__scopeTooltip);return P.jsx(Wi,{present:r||s.open,children:s.disableHoverableContent?P.jsx(WB,{side:i,...o,ref:e}):P.jsx(que,{side:i,...o,ref:e})})}),que=T.forwardRef((t,e)=>{const n=Im(Id,t.__scopeTooltip),r=C5(Id,t.__scopeTooltip),i=T.useRef(null),o=St(e,i),[s,a]=T.useState(null),{trigger:l,onClose:c}=n,u=i.current,{onPointerInTransitChange:h}=r,d=T.useCallback(()=>{a(null),h(!1)},[h]),f=T.useCallback((p,m)=>{const x=p.currentTarget,v={x:p.clientX,y:p.clientY},y=Que(v,x.getBoundingClientRect()),_=Xue(v,y),C=Yue(m.getBoundingClientRect()),S=ehe([..._,...C]);a(S),h(!0)},[h]);return T.useEffect(()=>()=>d(),[d]),T.useEffect(()=>{if(l&&u){const p=x=>f(x,u),m=x=>f(x,l);return l.addEventListener("pointerleave",p),u.addEventListener("pointerleave",m),()=>{l.removeEventListener("pointerleave",p),u.removeEventListener("pointerleave",m)}}},[l,u,f,d]),T.useEffect(()=>{if(s){const p=m=>{const x=m.target,v={x:m.clientX,y:m.clientY},y=(l==null?void 0:l.contains(x))||(u==null?void 0:u.contains(x)),_=!Zue(v,s);y?d():_&&(d(),c())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[l,u,s,c,d]),P.jsx(WB,{...t,ref:o})}),[Kue,Gue]=e_(n_,{isInside:!1}),WB=T.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:s,...a}=t,l=Im(Id,n),c=t_(n),{onClose:u}=l;return T.useEffect(()=>(document.addEventListener(uE,u),()=>document.removeEventListener(uE,u)),[u]),T.useEffect(()=>{if(l.trigger){const h=d=>{const f=d.target;f!=null&&f.contains(l.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,u]),P.jsx(zu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:P.jsxs(Yy,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[P.jsx(mB,{children:r}),P.jsx(Kue,{scope:n,isInside:!0,children:P.jsx(jue,{id:l.contentId,role:"tooltip",children:i||r})})]})})});UB.displayName=Id;var qB="TooltipArrow",Jue=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=t_(n);return Gue(qB,n).isInside?null:P.jsx(Zy,{...i,...r,ref:e})});Jue.displayName=qB;function Que(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,r,i,o)){case o:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Xue(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function Yue(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function Zue(t,e){const{x:n,y:r}=t;let i=!1;for(let o=0,s=e.length-1;o<e.length;s=o++){const a=e[o].x,l=e[o].y,c=e[s].x,u=e[s].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(i=!i)}return i}function ehe(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),the(e)}function the(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const o=e[e.length-1],s=e[e.length-2];if((o.x-s.x)*(i.y-s.y)>=(o.y-s.y)*(i.x-s.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const o=n[n.length-1],s=n[n.length-2];if((o.x-s.x)*(i.y-s.y)>=(o.y-s.y)*(i.x-s.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var KB=jB,GB=zB,JB=$B,nhe=HB,E5=UB;const rhe=KB,ihe=GB,ohe=JB,QB=T.forwardRef(({className:t,sideOffset:e=4,...n},r)=>P.jsx(E5,{ref:r,sideOffset:e,className:dt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));QB.displayName=E5.displayName;const Ko=T.forwardRef(function({children:e,className:n,message:r,...i},o){return P.jsx(rhe,{children:P.jsxs(ihe,{children:[P.jsx(ohe,{asChild:!0,children:P.jsx(Ql,{ref:o,size:"icon",className:cm("bg-transparent hover:bg-zinc-700 [&_svg]:text-zinc-300",n),...i,children:e})}),P.jsx(QB,{children:P.jsx("p",{children:r})})]})})});function C6({...t}){return P.jsx(Ko,{...t,message:"Delete Selected Content",children:P.jsx(Jle,{})})}const she=T.forwardRef(function({...e},n){return P.jsx(Ko,{ref:n,...e,message:"Menu Buttons",children:P.jsx(Gle,{})})});function b6({...t}){return P.jsx(Ko,{...t,message:"New Voice Content",children:P.jsx(Qle,{})})}function E6({...t}){return P.jsx(Ko,{...t,message:"New Text Content",children:P.jsx(sce,{})})}const E0=T.forwardRef(({className:t,type:e,...n},r)=>P.jsx("input",{type:e,className:dt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));E0.displayName="Input";function ahe(){const t=um(),{isLoading:e,mutate:n}=Lu({mutationFn:({noteId:r,title:i})=>Ble(i,r),onSuccess:()=>{t.invalidateQueries({queryKey:["notes"]})}});return{isEditing:e,editNoteTitle:n}}function lhe({noteId:t,noteTitle:e}){const[n,r]=T.useState(!1),[i,o]=T.useState(()=>e.split(".")[0]),{isEditing:s,editNoteTitle:a}=ahe(),{toast:l}=Ms(),c=()=>{r(!0)},u=()=>{r(!1),i!==e&&a({noteId:t,title:i},{onError:d=>{l({title:d.name,description:d.message}),o(e)}})},h=d=>{n&&o(d.target.value)};return P.jsx(E0,{type:"text",disabled:s,value:i,onFocus:c,onBlur:u,onChange:h,readOnly:!n,autoComplete:"off",className:dt("max-w-[60vw] overflow-x-auto rounded-none border-0 bg-transparent text-lg font-medium text-white caret-white focus-visible:border-b focus-visible:border-zinc-300 focus-visible:ring-0 focus-visible:ring-offset-0 md:overflow-visible")})}function S6({...t}){return P.jsx(Ko,{...t,message:"Save To Web",children:P.jsx(rce,{})})}function XB({...t}){return P.jsx(Ko,{...t,message:"Toggle Sidebar",children:P.jsx(Kle,{})})}function r_(t){const e=t+"CollectionProvider",[n,r]=go(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=f=>{const{scope:p,children:m}=f,x=F.useRef(null),v=F.useRef(new Map).current;return P.jsx(i,{scope:p,itemMap:v,collectionRef:x,children:m})};s.displayName=e;const a=t+"CollectionSlot",l=F.forwardRef((f,p)=>{const{scope:m,children:x}=f,v=o(a,m),y=St(p,v.collectionRef);return P.jsx(ya,{ref:y,children:x})});l.displayName=a;const c=t+"CollectionItemSlot",u="data-radix-collection-item",h=F.forwardRef((f,p)=>{const{scope:m,children:x,...v}=f,y=F.useRef(null),_=St(p,y),C=o(c,m);return F.useEffect(()=>(C.itemMap.set(y,{ref:y,...v}),()=>void C.itemMap.delete(y))),P.jsx(ya,{[u]:"",ref:_,children:x})});h.displayName=c;function d(f){const p=o(t+"CollectionConsumer",f);return F.useCallback(()=>{const x=p.collectionRef.current;if(!x)return[];const v=Array.from(x.querySelectorAll(`[${u}]`));return Array.from(p.itemMap.values()).sort((C,S)=>v.indexOf(C.ref.current)-v.indexOf(S.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:s,Slot:l,ItemSlot:h},d,r]}var che=T.createContext(void 0);function Rm(t){const e=T.useContext(che);return t||e||"ltr"}var B2=0;function i_(){T.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??k6()),document.body.insertAdjacentElement("beforeend",t[1]??k6()),B2++,()=>{B2===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),B2--}},[])}function k6(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}var V2="focusScope.autoFocusOnMount",j2="focusScope.autoFocusOnUnmount",T6={bubbles:!1,cancelable:!0},uhe="FocusScope",Pm=T.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=t,[a,l]=T.useState(null),c=Br(i),u=Br(o),h=T.useRef(null),d=St(e,m=>l(m)),f=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(r){let m=function(_){if(f.paused||!a)return;const C=_.target;a.contains(C)?h.current=C:Za(h.current,{select:!0})},x=function(_){if(f.paused||!a)return;const C=_.relatedTarget;C!==null&&(a.contains(C)||Za(h.current,{select:!0}))},v=function(_){if(document.activeElement===document.body)for(const S of _)S.removedNodes.length>0&&Za(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",x);const y=new MutationObserver(v);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",x),y.disconnect()}}},[r,a,f.paused]),T.useEffect(()=>{if(a){I6.add(f);const m=document.activeElement;if(!a.contains(m)){const v=new CustomEvent(V2,T6);a.addEventListener(V2,c),a.dispatchEvent(v),v.defaultPrevented||(hhe(ghe(YB(a)),{select:!0}),document.activeElement===m&&Za(a))}return()=>{a.removeEventListener(V2,c),setTimeout(()=>{const v=new CustomEvent(j2,T6);a.addEventListener(j2,u),a.dispatchEvent(v),v.defaultPrevented||Za(m??document.body,{select:!0}),a.removeEventListener(j2,u),I6.remove(f)},0)}}},[a,c,u,f]);const p=T.useCallback(m=>{if(!n&&!r||f.paused)return;const x=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,v=document.activeElement;if(x&&v){const y=m.currentTarget,[_,C]=dhe(y);_&&C?!m.shiftKey&&v===C?(m.preventDefault(),n&&Za(_,{select:!0})):m.shiftKey&&v===_&&(m.preventDefault(),n&&Za(C,{select:!0})):v===y&&m.preventDefault()}},[n,r,f.paused]);return P.jsx(He.div,{tabIndex:-1,...s,ref:d,onKeyDown:p})});Pm.displayName=uhe;function hhe(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Za(r,{select:e}),document.activeElement!==n)return}function dhe(t){const e=YB(t),n=A6(e,t),r=A6(e.reverse(),t);return[n,r]}function YB(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function A6(t,e){for(const n of t)if(!fhe(n,{upTo:e}))return n}function fhe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function phe(t){return t instanceof HTMLInputElement&&"select"in t}function Za(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&phe(t)&&e&&t.select()}}var I6=mhe();function mhe(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=R6(t,e),t.unshift(e)},remove(e){var n;t=R6(t,e),(n=t[0])==null||n.resume()}}}function R6(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function ghe(t){return t.filter(e=>e.tagName!=="A")}var z2="rovingFocusGroup.onEntryFocus",xhe={bubbles:!1,cancelable:!0},o_="RovingFocusGroup",[dE,ZB,vhe]=r_(o_),[yhe,tf]=go(o_,[vhe]),[_he,whe]=yhe(o_),eV=T.forwardRef((t,e)=>P.jsx(dE.Provider,{scope:t.__scopeRovingFocusGroup,children:P.jsx(dE.Slot,{scope:t.__scopeRovingFocusGroup,children:P.jsx(Che,{...t,ref:e})})}));eV.displayName=o_;var Che=T.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:s,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...h}=t,d=T.useRef(null),f=St(e,d),p=Rm(o),[m=null,x]=Uo({prop:s,defaultProp:a,onChange:l}),[v,y]=T.useState(!1),_=Br(c),C=ZB(n),S=T.useRef(!1),[k,b]=T.useState(0);return T.useEffect(()=>{const w=d.current;if(w)return w.addEventListener(z2,_),()=>w.removeEventListener(z2,_)},[_]),P.jsx(_he,{scope:n,orientation:r,dir:p,loop:i,currentTabStopId:m,onItemFocus:T.useCallback(w=>x(w),[x]),onItemShiftTab:T.useCallback(()=>y(!0),[]),onFocusableItemAdd:T.useCallback(()=>b(w=>w+1),[]),onFocusableItemRemove:T.useCallback(()=>b(w=>w-1),[]),children:P.jsx(He.div,{tabIndex:v||k===0?-1:0,"data-orientation":r,...h,ref:f,style:{outline:"none",...t.style},onMouseDown:_e(t.onMouseDown,()=>{S.current=!0}),onFocus:_e(t.onFocus,w=>{const A=!S.current;if(w.target===w.currentTarget&&A&&!v){const E=new CustomEvent(z2,xhe);if(w.currentTarget.dispatchEvent(E),!E.defaultPrevented){const R=C().filter(Q=>Q.focusable),D=R.find(Q=>Q.active),N=R.find(Q=>Q.id===m),$=[D,N,...R].filter(Boolean).map(Q=>Q.ref.current);rV($,u)}}S.current=!1}),onBlur:_e(t.onBlur,()=>y(!1))})})}),tV="RovingFocusGroupItem",nV=T.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,...s}=t,a=Fo(),l=o||a,c=whe(tV,n),u=c.currentTabStopId===l,h=ZB(n),{onFocusableItemAdd:d,onFocusableItemRemove:f}=c;return T.useEffect(()=>{if(r)return d(),()=>f()},[r,d,f]),P.jsx(dE.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:P.jsx(He.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...s,ref:e,onMouseDown:_e(t.onMouseDown,p=>{r?c.onItemFocus(l):p.preventDefault()}),onFocus:_e(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:_e(t.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){c.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const m=She(p,c.orientation,c.dir);if(m!==void 0){if(p.metaKey||p.ctrlKey||p.altKey||p.shiftKey)return;p.preventDefault();let v=h().filter(y=>y.focusable).map(y=>y.ref.current);if(m==="last")v.reverse();else if(m==="prev"||m==="next"){m==="prev"&&v.reverse();const y=v.indexOf(p.currentTarget);v=c.loop?khe(v,y+1):v.slice(y+1)}setTimeout(()=>rV(v))}})})})});nV.displayName=tV;var bhe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ehe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function She(t,e,n){const r=Ehe(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return bhe[r]}function rV(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function khe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var S5=eV,s_=nV,The=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},oh=new WeakMap,qg=new WeakMap,Kg={},$2=0,iV=function(t){return t&&(t.host||iV(t.parentNode))},Ahe=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=iV(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Ihe=function(t,e,n,r){var i=Ahe(e,Array.isArray(t)?t:[t]);Kg[n]||(Kg[n]=new WeakMap);var o=Kg[n],s=[],a=new Set,l=new Set(i),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};i.forEach(c);var u=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(d){if(a.has(d))u(d);else try{var f=d.getAttribute(r),p=f!==null&&f!=="false",m=(oh.get(d)||0)+1,x=(o.get(d)||0)+1;oh.set(d,m),o.set(d,x),s.push(d),m===1&&p&&qg.set(d,!0),x===1&&d.setAttribute(n,"true"),p||d.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",d,v)}})};return u(e),a.clear(),$2++,function(){s.forEach(function(h){var d=oh.get(h)-1,f=o.get(h)-1;oh.set(h,d),o.set(h,f),d||(qg.has(h)||h.removeAttribute(r),qg.delete(h)),f||h.removeAttribute(n)}),$2--,$2||(oh=new WeakMap,oh=new WeakMap,qg=new WeakMap,Kg={})}},a_=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=The(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),Ihe(r,i,n,"aria-hidden")):function(){return null}},Z1="right-scroll-bar-position",ex="width-before-scroll-bar",Rhe="with-scroll-bars-hidden",Phe="--removed-body-scroll-bar-size";function H2(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Dhe(t,e){var n=T.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var Mhe=typeof window<"u"?T.useLayoutEffect:T.useEffect,P6=new WeakMap;function Nhe(t,e){var n=Dhe(null,function(r){return t.forEach(function(i){return H2(i,r)})});return Mhe(function(){var r=P6.get(n);if(r){var i=new Set(r),o=new Set(t),s=n.current;i.forEach(function(a){o.has(a)||H2(a,null)}),o.forEach(function(a){i.has(a)||H2(a,s)})}P6.set(n,t)},[t]),n}function Ohe(t){return t}function Lhe(t,e){e===void 0&&(e=Ohe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var s=e(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var l=function(){var u=s;s=[],u.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){s.push(u),c()},filter:function(u){return s=s.filter(u),n}}}};return i}function Fhe(t){t===void 0&&(t={});var e=Lhe(null);return e.options=as({async:!0,ssr:!1},t),e}var oV=function(t){var e=t.sideCar,n=wm(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return T.createElement(r,as({},n))};oV.isSideCarExport=!0;function Bhe(t,e){return t.useMedium(e),oV}var sV=Fhe(),U2=function(){},l_=T.forwardRef(function(t,e){var n=T.useRef(null),r=T.useState({onScrollCapture:U2,onWheelCapture:U2,onTouchMoveCapture:U2}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,h=t.shards,d=t.sideCar,f=t.noIsolation,p=t.inert,m=t.allowPinchZoom,x=t.as,v=x===void 0?"div":x,y=t.gapMode,_=wm(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=d,S=Nhe([n,e]),k=as(as({},_),i);return T.createElement(T.Fragment,null,u&&T.createElement(C,{sideCar:sV,removeScrollBar:c,shards:h,noIsolation:f,inert:p,setCallbacks:o,allowPinchZoom:!!m,lockRef:n,gapMode:y}),s?T.cloneElement(T.Children.only(a),as(as({},k),{ref:S})):T.createElement(v,as({},k,{className:l,ref:S}),a))});l_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};l_.classNames={fullWidth:ex,zeroRight:Z1};var Vhe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function jhe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Vhe();return e&&t.setAttribute("nonce",e),t}function zhe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function $he(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Hhe=function(){var t=0,e=null;return{add:function(n){t==0&&(e=jhe())&&(zhe(e,n),$he(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Uhe=function(){var t=Hhe();return function(e,n){T.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},aV=function(){var t=Uhe(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Whe={left:0,top:0,right:0,gap:0},W2=function(t){return parseInt(t||"",10)||0},qhe=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[W2(n),W2(r),W2(i)]},Khe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Whe;var e=qhe(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},Ghe=aV(),Zh="data-scroll-locked",Jhe=function(t,e,n,r){var i=t.left,o=t.top,s=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Rhe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Zh,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Z1,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ex,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Z1," .").concat(Z1,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ex," .").concat(ex,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Zh,`] {
    `).concat(Phe,": ").concat(a,`px;
  }
`)},D6=function(){var t=parseInt(document.body.getAttribute(Zh)||"0",10);return isFinite(t)?t:0},Qhe=function(){T.useEffect(function(){return document.body.setAttribute(Zh,(D6()+1).toString()),function(){var t=D6()-1;t<=0?document.body.removeAttribute(Zh):document.body.setAttribute(Zh,t.toString())}},[])},Xhe=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Qhe();var o=T.useMemo(function(){return Khe(i)},[i]);return T.createElement(Ghe,{styles:Jhe(o,!e,i,n?"":"!important")})},fE=!1;if(typeof window<"u")try{var Gg=Object.defineProperty({},"passive",{get:function(){return fE=!0,!0}});window.addEventListener("test",Gg,Gg),window.removeEventListener("test",Gg,Gg)}catch{fE=!1}var sh=fE?{passive:!1}:!1,Yhe=function(t){return t.tagName==="TEXTAREA"},lV=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Yhe(t)&&n[e]==="visible")},Zhe=function(t){return lV(t,"overflowY")},ede=function(t){return lV(t,"overflowX")},M6=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=cV(t,r);if(i){var o=uV(t,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},tde=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},nde=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},cV=function(t,e){return t==="v"?Zhe(e):ede(e)},uV=function(t,e){return t==="v"?tde(e):nde(e)},rde=function(t,e){return t==="h"&&e==="rtl"?-1:1},ide=function(t,e,n,r,i){var o=rde(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,l=e.contains(a),c=!1,u=s>0,h=0,d=0;do{var f=uV(t,a),p=f[0],m=f[1],x=f[2],v=m-x-o*p;(p||v)&&cV(t,a)&&(h+=v,d+=p),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(Math.abs(h)<1||!i)||!u&&(Math.abs(d)<1||!i))&&(c=!0),c},Jg=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},N6=function(t){return[t.deltaX,t.deltaY]},O6=function(t){return t&&"current"in t?t.current:t},ode=function(t,e){return t[0]===e[0]&&t[1]===e[1]},sde=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},ade=0,ah=[];function lde(t){var e=T.useRef([]),n=T.useRef([0,0]),r=T.useRef(),i=T.useState(ade++)[0],o=T.useState(aV)[0],s=T.useRef(t);T.useEffect(function(){s.current=t},[t]),T.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var m=Xie([t.lockRef.current],(t.shards||[]).map(O6),!0).filter(Boolean);return m.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=T.useCallback(function(m,x){if("touches"in m&&m.touches.length===2)return!s.current.allowPinchZoom;var v=Jg(m),y=n.current,_="deltaX"in m?m.deltaX:y[0]-v[0],C="deltaY"in m?m.deltaY:y[1]-v[1],S,k=m.target,b=Math.abs(_)>Math.abs(C)?"h":"v";if("touches"in m&&b==="h"&&k.type==="range")return!1;var w=M6(b,k);if(!w)return!0;if(w?S=b:(S=b==="v"?"h":"v",w=M6(b,k)),!w)return!1;if(!r.current&&"changedTouches"in m&&(_||C)&&(r.current=S),!S)return!0;var A=r.current||S;return ide(A,x,m,A==="h"?_:C,!0)},[]),l=T.useCallback(function(m){var x=m;if(!(!ah.length||ah[ah.length-1]!==o)){var v="deltaY"in x?N6(x):Jg(x),y=e.current.filter(function(S){return S.name===x.type&&(S.target===x.target||x.target===S.shadowParent)&&ode(S.delta,v)})[0];if(y&&y.should){x.cancelable&&x.preventDefault();return}if(!y){var _=(s.current.shards||[]).map(O6).filter(Boolean).filter(function(S){return S.contains(x.target)}),C=_.length>0?a(x,_[0]):!s.current.noIsolation;C&&x.cancelable&&x.preventDefault()}}},[]),c=T.useCallback(function(m,x,v,y){var _={name:m,delta:x,target:v,should:y,shadowParent:cde(v)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(C){return C!==_})},1)},[]),u=T.useCallback(function(m){n.current=Jg(m),r.current=void 0},[]),h=T.useCallback(function(m){c(m.type,N6(m),m.target,a(m,t.lockRef.current))},[]),d=T.useCallback(function(m){c(m.type,Jg(m),m.target,a(m,t.lockRef.current))},[]);T.useEffect(function(){return ah.push(o),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:d}),document.addEventListener("wheel",l,sh),document.addEventListener("touchmove",l,sh),document.addEventListener("touchstart",u,sh),function(){ah=ah.filter(function(m){return m!==o}),document.removeEventListener("wheel",l,sh),document.removeEventListener("touchmove",l,sh),document.removeEventListener("touchstart",u,sh)}},[]);var f=t.removeScrollBar,p=t.inert;return T.createElement(T.Fragment,null,p?T.createElement(o,{styles:sde(i)}):null,f?T.createElement(Xhe,{gapMode:t.gapMode}):null)}function cde(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const ude=Bhe(sV,lde);var Dm=T.forwardRef(function(t,e){return T.createElement(l_,as({},t,{ref:e,sideCar:ude}))});Dm.classNames=l_.classNames;var pE=["Enter"," "],hde=["ArrowDown","PageUp","Home"],hV=["ArrowUp","PageDown","End"],dde=[...hde,...hV],fde={ltr:[...pE,"ArrowRight"],rtl:[...pE,"ArrowLeft"]},pde={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Mm="Menu",[S0,mde,gde]=r_(Mm),[Hu,dV]=go(Mm,[gde,gc,tf]),c_=gc(),fV=tf(),[xde,Uu]=Hu(Mm),[vde,Nm]=Hu(Mm),pV=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:o,modal:s=!0}=t,a=c_(e),[l,c]=T.useState(null),u=T.useRef(!1),h=Br(o),d=Rm(i);return T.useEffect(()=>{const f=()=>{u.current=!0,document.addEventListener("pointerdown",p,{capture:!0,once:!0}),document.addEventListener("pointermove",p,{capture:!0,once:!0})},p=()=>u.current=!1;return document.addEventListener("keydown",f,{capture:!0}),()=>{document.removeEventListener("keydown",f,{capture:!0}),document.removeEventListener("pointerdown",p,{capture:!0}),document.removeEventListener("pointermove",p,{capture:!0})}},[]),P.jsx(Xy,{...a,children:P.jsx(xde,{scope:e,open:n,onOpenChange:h,content:l,onContentChange:c,children:P.jsx(vde,{scope:e,onClose:T.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:d,modal:s,children:r})})})};pV.displayName=Mm;var yde="MenuAnchor",k5=T.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=c_(n);return P.jsx(Tm,{...i,...r,ref:e})});k5.displayName=yde;var T5="MenuPortal",[_de,mV]=Hu(T5,{forceMount:void 0}),gV=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,o=Uu(T5,e);return P.jsx(_de,{scope:e,forceMount:n,children:P.jsx(Wi,{present:n||o.open,children:P.jsx($u,{asChild:!0,container:i,children:r})})})};gV.displayName=T5;var lo="MenuContent",[wde,A5]=Hu(lo),xV=T.forwardRef((t,e)=>{const n=mV(lo,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,o=Uu(lo,t.__scopeMenu),s=Nm(lo,t.__scopeMenu);return P.jsx(S0.Provider,{scope:t.__scopeMenu,children:P.jsx(Wi,{present:r||o.open,children:P.jsx(S0.Slot,{scope:t.__scopeMenu,children:s.modal?P.jsx(Cde,{...i,ref:e}):P.jsx(bde,{...i,ref:e})})})})}),Cde=T.forwardRef((t,e)=>{const n=Uu(lo,t.__scopeMenu),r=T.useRef(null),i=St(e,r);return T.useEffect(()=>{const o=r.current;if(o)return a_(o)},[]),P.jsx(I5,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:_e(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),bde=T.forwardRef((t,e)=>{const n=Uu(lo,t.__scopeMenu);return P.jsx(I5,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),I5=T.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:d,onDismiss:f,disableOutsideScroll:p,...m}=t,x=Uu(lo,n),v=Nm(lo,n),y=c_(n),_=fV(n),C=mde(n),[S,k]=T.useState(null),b=T.useRef(null),w=St(e,b,x.onContentChange),A=T.useRef(0),E=T.useRef(""),R=T.useRef(0),D=T.useRef(null),N=T.useRef("right"),j=T.useRef(0),$=p?Dm:T.Fragment,Q=p?{as:ya,allowPinchZoom:!0}:void 0,X=H=>{var ue,de;const L=E.current+H,U=C().filter(ze=>!ze.disabled),K=document.activeElement,O=(ue=U.find(ze=>ze.ref.current===K))==null?void 0:ue.textValue,J=U.map(ze=>ze.textValue),Ee=Ode(J,L,O),fe=(de=U.find(ze=>ze.textValue===Ee))==null?void 0:de.ref.current;(function ze(Oe){E.current=Oe,window.clearTimeout(A.current),Oe!==""&&(A.current=window.setTimeout(()=>ze(""),1e3))})(L),fe&&setTimeout(()=>fe.focus())};T.useEffect(()=>()=>window.clearTimeout(A.current),[]),i_();const q=T.useCallback(H=>{var U,K;return N.current===((U=D.current)==null?void 0:U.side)&&Fde(H,(K=D.current)==null?void 0:K.area)},[]);return P.jsx(wde,{scope:n,searchRef:E,onItemEnter:T.useCallback(H=>{q(H)&&H.preventDefault()},[q]),onItemLeave:T.useCallback(H=>{var L;q(H)||((L=b.current)==null||L.focus(),k(null))},[q]),onTriggerLeave:T.useCallback(H=>{q(H)&&H.preventDefault()},[q]),pointerGraceTimerRef:R,onPointerGraceIntentChange:T.useCallback(H=>{D.current=H},[]),children:P.jsx($,{...Q,children:P.jsx(Pm,{asChild:!0,trapped:i,onMountAutoFocus:_e(o,H=>{var L;H.preventDefault(),(L=b.current)==null||L.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:P.jsx(zu,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:d,onDismiss:f,children:P.jsx(S5,{asChild:!0,..._,dir:v.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:k,onEntryFocus:_e(l,H=>{v.isUsingKeyboardRef.current||H.preventDefault()}),preventScrollOnEntryFocus:!0,children:P.jsx(Yy,{role:"menu","aria-orientation":"vertical","data-state":MV(x.open),"data-radix-menu-content":"",dir:v.dir,...y,...m,ref:w,style:{outline:"none",...m.style},onKeyDown:_e(m.onKeyDown,H=>{const U=H.target.closest("[data-radix-menu-content]")===H.currentTarget,K=H.ctrlKey||H.altKey||H.metaKey,O=H.key.length===1;U&&(H.key==="Tab"&&H.preventDefault(),!K&&O&&X(H.key));const J=b.current;if(H.target!==J||!dde.includes(H.key))return;H.preventDefault();const fe=C().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);hV.includes(H.key)&&fe.reverse(),Mde(fe)}),onBlur:_e(t.onBlur,H=>{H.currentTarget.contains(H.target)||(window.clearTimeout(A.current),E.current="")}),onPointerMove:_e(t.onPointerMove,k0(H=>{const L=H.target,U=j.current!==H.clientX;if(H.currentTarget.contains(L)&&U){const K=H.clientX>j.current?"right":"left";N.current=K,j.current=H.clientX}}))})})})})})})});xV.displayName=lo;var Ede="MenuGroup",R5=T.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return P.jsx(He.div,{role:"group",...r,ref:e})});R5.displayName=Ede;var Sde="MenuLabel",vV=T.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return P.jsx(He.div,{...r,ref:e})});vV.displayName=Sde;var uv="MenuItem",L6="menu.itemSelect",u_=T.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,o=T.useRef(null),s=Nm(uv,t.__scopeMenu),a=A5(uv,t.__scopeMenu),l=St(e,o),c=T.useRef(!1),u=()=>{const h=o.current;if(!n&&h){const d=new CustomEvent(L6,{bubbles:!0,cancelable:!0});h.addEventListener(L6,f=>r==null?void 0:r(f),{once:!0}),f5(h,d),d.defaultPrevented?c.current=!1:s.onClose()}};return P.jsx(yV,{...i,ref:l,disabled:n,onClick:_e(t.onClick,u),onPointerDown:h=>{var d;(d=t.onPointerDown)==null||d.call(t,h),c.current=!0},onPointerUp:_e(t.onPointerUp,h=>{var d;c.current||(d=h.currentTarget)==null||d.click()}),onKeyDown:_e(t.onKeyDown,h=>{const d=a.searchRef.current!=="";n||d&&h.key===" "||pE.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});u_.displayName=uv;var yV=T.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...o}=t,s=A5(uv,n),a=fV(n),l=T.useRef(null),c=St(e,l),[u,h]=T.useState(!1),[d,f]=T.useState("");return T.useEffect(()=>{const p=l.current;p&&f((p.textContent??"").trim())},[o.children]),P.jsx(S0.ItemSlot,{scope:n,disabled:r,textValue:i??d,children:P.jsx(s_,{asChild:!0,...a,focusable:!r,children:P.jsx(He.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:c,onPointerMove:_e(t.onPointerMove,k0(p=>{r?s.onItemLeave(p):(s.onItemEnter(p),p.defaultPrevented||p.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:_e(t.onPointerLeave,k0(p=>s.onItemLeave(p))),onFocus:_e(t.onFocus,()=>h(!0)),onBlur:_e(t.onBlur,()=>h(!1))})})})}),kde="MenuCheckboxItem",_V=T.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return P.jsx(SV,{scope:t.__scopeMenu,checked:n,children:P.jsx(u_,{role:"menuitemcheckbox","aria-checked":hv(n)?"mixed":n,...i,ref:e,"data-state":D5(n),onSelect:_e(i.onSelect,()=>r==null?void 0:r(hv(n)?!0:!n),{checkForDefaultPrevented:!1})})})});_V.displayName=kde;var wV="MenuRadioGroup",[Tde,Ade]=Hu(wV,{value:void 0,onValueChange:()=>{}}),CV=T.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,o=Br(r);return P.jsx(Tde,{scope:t.__scopeMenu,value:n,onValueChange:o,children:P.jsx(R5,{...i,ref:e})})});CV.displayName=wV;var bV="MenuRadioItem",EV=T.forwardRef((t,e)=>{const{value:n,...r}=t,i=Ade(bV,t.__scopeMenu),o=n===i.value;return P.jsx(SV,{scope:t.__scopeMenu,checked:o,children:P.jsx(u_,{role:"menuitemradio","aria-checked":o,...r,ref:e,"data-state":D5(o),onSelect:_e(r.onSelect,()=>{var s;return(s=i.onValueChange)==null?void 0:s.call(i,n)},{checkForDefaultPrevented:!1})})})});EV.displayName=bV;var P5="MenuItemIndicator",[SV,Ide]=Hu(P5,{checked:!1}),kV=T.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,o=Ide(P5,n);return P.jsx(Wi,{present:r||hv(o.checked)||o.checked===!0,children:P.jsx(He.span,{...i,ref:e,"data-state":D5(o.checked)})})});kV.displayName=P5;var Rde="MenuSeparator",TV=T.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return P.jsx(He.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});TV.displayName=Rde;var Pde="MenuArrow",AV=T.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=c_(n);return P.jsx(Zy,{...i,...r,ref:e})});AV.displayName=Pde;var Dde="MenuSub",[Q3e,IV]=Hu(Dde),rp="MenuSubTrigger",RV=T.forwardRef((t,e)=>{const n=Uu(rp,t.__scopeMenu),r=Nm(rp,t.__scopeMenu),i=IV(rp,t.__scopeMenu),o=A5(rp,t.__scopeMenu),s=T.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=o,c={__scopeMenu:t.__scopeMenu},u=T.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return T.useEffect(()=>u,[u]),T.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),P.jsx(k5,{asChild:!0,...c,children:P.jsx(yV,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":MV(n.open),...t,ref:Gy(e,i.onTriggerChange),onClick:h=>{var d;(d=t.onClick)==null||d.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:_e(t.onPointerMove,k0(h=>{o.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!s.current&&(o.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:_e(t.onPointerLeave,k0(h=>{var f,p;u();const d=(f=n.content)==null?void 0:f.getBoundingClientRect();if(d){const m=(p=n.content)==null?void 0:p.dataset.side,x=m==="right",v=x?-5:5,y=d[x?"left":"right"],_=d[x?"right":"left"];o.onPointerGraceIntentChange({area:[{x:h.clientX+v,y:h.clientY},{x:y,y:d.top},{x:_,y:d.top},{x:_,y:d.bottom},{x:y,y:d.bottom}],side:m}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(h),h.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:_e(t.onKeyDown,h=>{var f;const d=o.searchRef.current!=="";t.disabled||d&&h.key===" "||fde[r.dir].includes(h.key)&&(n.onOpenChange(!0),(f=n.content)==null||f.focus(),h.preventDefault())})})})});RV.displayName=rp;var PV="MenuSubContent",DV=T.forwardRef((t,e)=>{const n=mV(lo,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,o=Uu(lo,t.__scopeMenu),s=Nm(lo,t.__scopeMenu),a=IV(PV,t.__scopeMenu),l=T.useRef(null),c=St(e,l);return P.jsx(S0.Provider,{scope:t.__scopeMenu,children:P.jsx(Wi,{present:r||o.open,children:P.jsx(S0.Slot,{scope:t.__scopeMenu,children:P.jsx(I5,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:c,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var h;s.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:_e(t.onFocusOutside,u=>{u.target!==a.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:_e(t.onEscapeKeyDown,u=>{s.onClose(),u.preventDefault()}),onKeyDown:_e(t.onKeyDown,u=>{var f;const h=u.currentTarget.contains(u.target),d=pde[s.dir].includes(u.key);h&&d&&(o.onOpenChange(!1),(f=a.trigger)==null||f.focus(),u.preventDefault())})})})})})});DV.displayName=PV;function MV(t){return t?"open":"closed"}function hv(t){return t==="indeterminate"}function D5(t){return hv(t)?"indeterminate":t?"checked":"unchecked"}function Mde(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Nde(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function Ode(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let s=Nde(t,Math.max(o,0));i.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function Lde(t,e){const{x:n,y:r}=t;let i=!1;for(let o=0,s=e.length-1;o<e.length;s=o++){const a=e[o].x,l=e[o].y,c=e[s].x,u=e[s].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(i=!i)}return i}function Fde(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return Lde(n,e)}function k0(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Bde=pV,Vde=k5,jde=gV,zde=xV,$de=R5,Hde=vV,Ude=u_,Wde=_V,qde=CV,Kde=EV,Gde=kV,Jde=TV,Qde=AV,Xde=RV,Yde=DV,M5="DropdownMenu",[Zde,X3e]=go(M5,[dV]),oi=dV(),[efe,NV]=Zde(M5),OV=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:o,onOpenChange:s,modal:a=!0}=t,l=oi(e),c=T.useRef(null),[u=!1,h]=Uo({prop:i,defaultProp:o,onChange:s});return P.jsx(efe,{scope:e,triggerId:Fo(),triggerRef:c,contentId:Fo(),open:u,onOpenChange:h,onOpenToggle:T.useCallback(()=>h(d=>!d),[h]),modal:a,children:P.jsx(Bde,{...l,open:u,onOpenChange:h,dir:r,modal:a,children:n})})};OV.displayName=M5;var LV="DropdownMenuTrigger",FV=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,o=NV(LV,n),s=oi(n);return P.jsx(Vde,{asChild:!0,...s,children:P.jsx(He.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Gy(e,o.triggerRef),onPointerDown:_e(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(o.onOpenToggle(),o.open||a.preventDefault())}),onKeyDown:_e(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&o.onOpenToggle(),a.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});FV.displayName=LV;var tfe="DropdownMenuPortal",BV=t=>{const{__scopeDropdownMenu:e,...n}=t,r=oi(e);return P.jsx(jde,{...r,...n})};BV.displayName=tfe;var VV="DropdownMenuContent",jV=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=NV(VV,n),o=oi(n),s=T.useRef(!1);return P.jsx(zde,{id:i.contentId,"aria-labelledby":i.triggerId,...o,...r,ref:e,onCloseAutoFocus:_e(t.onCloseAutoFocus,a=>{var l;s.current||(l=i.triggerRef.current)==null||l.focus(),s.current=!1,a.preventDefault()}),onInteractOutside:_e(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!i.modal||u)&&(s.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});jV.displayName=VV;var nfe="DropdownMenuGroup",rfe=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=oi(n);return P.jsx($de,{...i,...r,ref:e})});rfe.displayName=nfe;var ife="DropdownMenuLabel",zV=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=oi(n);return P.jsx(Hde,{...i,...r,ref:e})});zV.displayName=ife;var ofe="DropdownMenuItem",$V=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=oi(n);return P.jsx(Ude,{...i,...r,ref:e})});$V.displayName=ofe;var sfe="DropdownMenuCheckboxItem",HV=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=oi(n);return P.jsx(Wde,{...i,...r,ref:e})});HV.displayName=sfe;var afe="DropdownMenuRadioGroup",lfe=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=oi(n);return P.jsx(qde,{...i,...r,ref:e})});lfe.displayName=afe;var cfe="DropdownMenuRadioItem",UV=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=oi(n);return P.jsx(Kde,{...i,...r,ref:e})});UV.displayName=cfe;var ufe="DropdownMenuItemIndicator",WV=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=oi(n);return P.jsx(Gde,{...i,...r,ref:e})});WV.displayName=ufe;var hfe="DropdownMenuSeparator",qV=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=oi(n);return P.jsx(Jde,{...i,...r,ref:e})});qV.displayName=hfe;var dfe="DropdownMenuArrow",ffe=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=oi(n);return P.jsx(Qde,{...i,...r,ref:e})});ffe.displayName=dfe;var pfe="DropdownMenuSubTrigger",KV=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=oi(n);return P.jsx(Xde,{...i,...r,ref:e})});KV.displayName=pfe;var mfe="DropdownMenuSubContent",GV=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=oi(n);return P.jsx(Yde,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});GV.displayName=mfe;var gfe=OV,xfe=FV,vfe=BV,JV=jV,QV=zV,XV=$V,YV=HV,ZV=UV,ej=WV,tj=qV,nj=KV,rj=GV;const yfe=gfe,_fe=xfe,wfe=T.forwardRef(({className:t,inset:e,children:n,...r},i)=>P.jsxs(nj,{ref:i,className:dt("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,P.jsx(Ule,{className:"ml-auto h-4 w-4"})]}));wfe.displayName=nj.displayName;const Cfe=T.forwardRef(({className:t,...e},n)=>P.jsx(rj,{ref:n,className:dt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));Cfe.displayName=rj.displayName;const ij=T.forwardRef(({className:t,sideOffset:e=4,...n},r)=>P.jsx(vfe,{children:P.jsx(JV,{ref:r,sideOffset:e,className:dt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));ij.displayName=JV.displayName;const ip=T.forwardRef(({className:t,inset:e,...n},r)=>P.jsx(XV,{ref:r,className:dt("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));ip.displayName=XV.displayName;const bfe=T.forwardRef(({className:t,children:e,checked:n,...r},i)=>P.jsxs(YV,{ref:i,className:dt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[P.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:P.jsx(ej,{children:P.jsx(dB,{className:"h-4 w-4"})})}),e]}));bfe.displayName=YV.displayName;const Efe=T.forwardRef(({className:t,children:e,...n},r)=>P.jsxs(ZV,{ref:r,className:dt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[P.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:P.jsx(ej,{children:P.jsx(qle,{className:"h-2 w-2 fill-current"})})}),e]}));Efe.displayName=ZV.displayName;const Sfe=T.forwardRef(({className:t,inset:e,...n},r)=>P.jsx(QV,{ref:r,className:dt("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));Sfe.displayName=QV.displayName;const kfe=T.forwardRef(({className:t,...e},n)=>P.jsx(tj,{ref:n,className:dt("-mx-1 my-1 h-px bg-muted",t),...e}));kfe.displayName=tj.displayName;function Tfe({noteId:t,noteTitle:e,handleDeleteContent:n,handleAddNewAudioContent:r,handleAddNewTextContent:i,handleSaveContent:o,handleToggleSidebar:s,isEditing:a}){return P.jsxs("div",{className:"sticky top-0 z-10 flex items-center justify-between gap-6 bg-zinc-800 px-4 py-2",children:[P.jsxs("div",{className:"flex grow",children:[P.jsx(XB,{onClick:s,className:"sm:hidden"}),P.jsx(lhe,{noteId:t,noteTitle:e})]}),P.jsxs("div",{className:"hidden items-center justify-evenly gap-3 md:flex",children:[P.jsx(b6,{onClick:r,disabled:a}),P.jsx(E6,{onClick:i,disabled:a}),P.jsx(S6,{onClick:o,disabled:a}),P.jsx(C6,{onClick:n,disabled:a})]}),P.jsxs(yfe,{children:[P.jsx(_fe,{asChild:!0,className:"md:hidden",children:P.jsx(she,{})}),P.jsxs(ij,{className:"flex bg-zinc-800 p-0 shadow-none focus:[&>div]:bg-transparent",children:[P.jsx(ip,{children:P.jsx(b6,{onClick:r,disabled:a})}),P.jsx(ip,{children:P.jsx(E6,{onClick:i,disabled:a})}),P.jsx(ip,{children:P.jsx(S6,{onClick:o,disabled:a})}),P.jsx(ip,{children:P.jsx(C6,{onClick:n,disabled:a})})]})]})]})}var Afe=Object.defineProperty,Ife=(t,e,n)=>e in t?Afe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,el=(t,e,n)=>(Ife(t,typeof e!="symbol"?e+"":e,n),n);let Rfe=class oj{constructor(e=new Map){this.map=e}clone(){return new oj(new Map(this.map))}increment(e){const n=this.map.get(e)??0;this.map.set(e,n+1)}decrement(e,n){let r=this.map.get(e);r!==void 0&&(r-=1,this.map.set(e,r),r===0&&n())}},Qg=class{constructor(){el(this,"map",new Map)}getOrCreate(e){let n=this.map.get(e);return n===void 0&&(n=new Set,this.map.set(e,n)),n}get(e){return this.map.get(e)}use(e,n){const r=this.get(e);r!==void 0&&n(r)}delete(e){return this.map.delete(e)}};function ed(t,e){return e(t),t}function N5(){}function F6(t,e){return t===e}const h_=new Map;let Pfe=class{constructor(e={}){el(this,"subscriptions",new Qg),el(this,"singletonSubscriptions",new Map),el(this,"graph",new Qg),el(this,"state",new Map),el(this,"distinctNodes",new Map),el(this,"executionMaps",new Map),el(this,"definitionRegistry",new Set);for(const n of Object.getOwnPropertySymbols(e))this.state.set(n,e[n])}cellInstance(e,n=!0,r=Symbol()){return this.state.has(r)||this.state.set(r,e),n!==!1&&!this.distinctNodes.has(r)&&this.distinctNodes.set(r,n===!0?F6:n),r}signalInstance(e=!0,n=Symbol()){return e!==!1&&this.distinctNodes.set(n,e===!0?F6:e),n}sub(e,n){this.register(e);const r=this.subscriptions.getOrCreate(e);return r.add(n),()=>r.delete(n)}singletonSub(e,n){return this.register(e),n===void 0?this.singletonSubscriptions.delete(e):this.singletonSubscriptions.set(e,n),()=>this.singletonSubscriptions.delete(e)}resetSingletonSubs(){this.singletonSubscriptions.clear()}subMultiple(e,n){const r=this.signalInstance();return this.connect({map:i=>(...o)=>{i(o)},sink:r,sources:e}),this.sub(r,n)}pubIn(e){var n;const r=Reflect.ownKeys(e),i=this.getExecutionMap(r),o=i.refCount.clone(),s=i.participatingNodes.slice(),a=new Map(this.state),l=c=>{this.graph.use(c,u=>{for(const{sources:h,sink:d}of u)h.has(c)&&o.decrement(d,()=>{s.splice(s.indexOf(d),1),l(d)})})};for(;;){const c=s.shift();if(c===void 0)break;const u=c;let h=!1;const d=f=>{const p=this.distinctNodes.get(u);if(p!==void 0&&p(a.get(u),f)){h=!1;return}h=!0,a.set(u,f),this.state.has(u)&&this.state.set(u,f)};if(Object.prototype.hasOwnProperty.call(e,u)?d(e[u]):i.projections.use(u,f=>{for(const p of f){const m=[...Array.from(p.sources),...Array.from(p.pulls)].map(x=>a.get(x));p.map(d)(...m)}}),h){const f=a.get(u);this.subscriptions.use(u,p=>{for(const m of p)m(f)}),(n=this.singletonSubscriptions.get(u))==null||n(f)}else l(u)}}connect({sources:e,pulls:n=[],map:r,sink:i}){const o={map:r,pulls:new Set(n),sink:this.register(i),sources:new Set(e)};for(const s of[...e,...n])this.register(s),this.graph.getOrCreate(s).add(o);this.executionMaps.clear()}pub(e,n){this.pubIn({[e]:n})}pipe(e,...n){return this.combineOperators(...n)(e)}transformer(...e){return n=>ed(this.signalInstance(),r=>(this.link(this.pipe(r,...e),n),r))}link(e,n){this.connect({map:r=>i=>{r(i)},sink:n,sources:[e]})}combine(...e){return ed(this.signalInstance(),n=>{this.connect({map:r=>(...i)=>{r(i)},sink:n,sources:e})})}getValue(e){return this.register(e),this.state.get(e)}getValues(e){return e.map(n=>this.getValue(n))}register(e){const n=h_.get(e);return n===void 0||this.definitionRegistry.has(e)?e:(this.definitionRegistry.add(e),ed(n.type==="cell"?this.cellInstance(n.initial,n.distinct,e):this.signalInstance(n.distinct,e),r=>{n.init(this,r)}))}changeWith(e,n,r){this.connect({sources:[n],pulls:[e],sink:e,map:i=>(o,s)=>{i(r(s,o))}})}calculateExecutionMap(e){const n=[],r=new Set,i=new Qg,o=new Rfe,s=new Qg,a=(l,c=0)=>{o.increment(l),!r.has(l)&&(this.register(l),i.use(l,u=>{c=Math.max(...Array.from(u).map(h=>n.indexOf(h)))+1}),this.graph.use(l,u=>{for(const h of u)h.sources.has(l)?(s.getOrCreate(h.sink).add(h),a(h.sink,c)):i.getOrCreate(h.sink).add(l)}),r.add(l),n.splice(c,0,l))};return e.forEach(a),{participatingNodes:n,pendingPulls:i,projections:s,refCount:o}}getExecutionMap(e){let n=e;if(e.length===1){n=e[0];const i=this.executionMaps.get(n);if(i!==void 0)return i}else for(const[i,o]of this.executionMaps.entries())if(Array.isArray(i)&&i.length===e.length&&i.every(s=>e.includes(s)))return o;const r=this.calculateExecutionMap(e);return this.executionMaps.set(n,r),r}combineOperators(...e){return n=>{for(const r of e)n=r(n,this);return n}}};function Ge(t,e=N5,n=!0){return ed(Symbol(),r=>{h_.set(r,{type:"cell",distinct:n,initial:t,init:e})})}function si(t=N5,e=!1){return ed(Symbol(),n=>{h_.set(n,{type:"signal",distinct:e,init:t})})}function Dfe(t=N5){return ed(Symbol(),e=>{h_.set(e,{type:"signal",distinct:!1,init:t})})}const sj=F.createContext(null);function d_(){const t=F.useContext(sj);if(t===null)throw new Error("useRealm must be used within a RealmContextProvider");return t}function Qr(t){const e=d_();e.register(t);const n=F.useCallback(r=>e.sub(t,r),[e,t]);return F.useSyncExternalStore(n,()=>e.getValue(t),()=>e.getValue(t))}function qi(...t){const e=d_(),n=F.useMemo(()=>e.getValues(t),[]),r=F.useRef(n),i=F.useCallback(o=>{const s=a=>{r.current=a,o()};return e.subMultiple(t,s)},[e,...t]);return F.useSyncExternalStore(i,()=>r.current,()=>r.current)}function Ra(t){const e=d_();return e.register(t),F.useCallback(n=>{e.pub(t,n)},[e,t])}function f_(t){return(e,n)=>{const r=n.signalInstance();return n.connect({map:i=>o=>{i(t(o))},sink:r,sources:[e]}),r}}function wi(...t){return(e,n)=>{const r=n.signalInstance();return n.connect({map:i=>(...o)=>{i(o)},pulls:t,sink:r,sources:[e]}),r}}function p_(t){return(e,n)=>{const r=n.signalInstance();return n.connect({map:i=>o=>{t(o)&&i(o)},sink:r,sources:[e]}),r}}function aj(t,e){return(n,r)=>{const i=r.signalInstance();return r.connect({map:o=>s=>{o(e=t(e,s))},sink:i,sources:[n]}),i}}function Mfe(t,e){return e(t),t}function eu(){}function Pa(t){return function(e){return{init:n=>{var r;return(r=t.init)==null?void 0:r.call(t,n,e)},postInit:n=>{var r;return(r=t.postInit)==null?void 0:r.call(t,n,e)},update:n=>{var r;return(r=t.update)==null?void 0:r.call(t,n,e)}}}}function Nfe({children:t,plugins:e}){const n=F.useMemo(()=>Mfe(new Pfe,r=>{var i,o;for(const s of e)(i=s.init)==null||i.call(s,r);for(const s of e)(o=s.postInit)==null||o.call(s,r)}),[]);return F.useEffect(()=>{var r;for(const i of e)(r=i.update)==null||r.call(i,n)}),F.createElement(sj.Provider,{value:n},t)}function Ofe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Lfe=Ofe(function(t){const e=new URLSearchParams;e.append("code",t);for(let n=1;n<arguments.length;n++)e.append("v",arguments[n]);throw Error(`Minified Lexical error #${t}; visit https://lexical.dev/docs/error?${e} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});const dv=T.createContext(null);function lj(t,e){let n=null;return t!=null&&(n=t[1]),{getTheme:function(){return e??(n!=null?n.getTheme():null)}}}function Go(){const t=T.useContext(dv);return t==null&&Lfe(8),t}function Wu(t){return{}}const m_={},Ffe={},O5={},tu={},td={},T0={},nd={},L5={},mE={},A0={},I0={},ia={},g_={},x_={},F5={},cj={},Bfe={},B5={},Vfe={},V5={},j5={},R0={},uj={},z5={},$5={},H5={},U5={},hj={},W5={},gE={},dj={},jfe={},fj={},pj={},zfe={},v_={},q5={},xE={},$fe={},Hfe={},op={},sp={},K5={},G5={},Ufe={},Jo=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,Wfe=Jo&&"documentMode"in document?document.documentMode:null,So=Jo&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),Vl=Jo&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),fv=!(!Jo||!("InputEvent"in window)||Wfe)&&"getTargetRanges"in new window.InputEvent("input"),J5=Jo&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),y_=Jo&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,qfe=Jo&&/Android/.test(navigator.userAgent),mj=Jo&&/^(?=.*Chrome).*/i.test(navigator.userAgent),Kfe=Jo&&qfe&&mj,Q5=Jo&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!mj,Om=1,xc=3,yu=0,gj=1,Rd=2,Gfe=0,Jfe=1,Qfe=2,pv=4,mv=8,X5=128,Xfe=112|(3|pv|mv)|X5,Y5=1,Z5=2,eA=3,tA=4,nA=5,rA=6,__=J5||y_||Q5?" ":"​",Ca=`

`,Yfe=Vl?" ":__,xj="֑-߿יִ-﷽ﹰ-ﻼ",vj="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",Zfe=new RegExp("^[^"+vj+"]*["+xj+"]"),epe=new RegExp("^[^"+xj+"]*["+vj+"]"),la={bold:1,code:16,highlight:X5,italic:2,strikethrough:pv,subscript:32,superscript:64,underline:mv},tpe={directionless:1,unmergeable:2},B6={center:Z5,end:rA,justify:tA,left:Y5,right:eA,start:nA},npe={[Z5]:"center",[rA]:"end",[tA]:"justify",[Y5]:"left",[eA]:"right",[nA]:"start"},rpe={normal:0,segmented:2,token:1},ipe={[Gfe]:"normal",[Qfe]:"segmented",[Jfe]:"token"};function ope(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var we=ope(function(t){const e=new URLSearchParams;e.append("code",t);for(let n=1;n<arguments.length;n++)e.append("v",arguments[n]);throw Error(`Minified Lexical error #${t}; visit https://lexical.dev/docs/error?${e} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});function gv(...t){const e=[];for(const n of t)if(n&&typeof n=="string")for(const[r]of n.matchAll(/\S+/g))e.push(r);return e}const spe=100;let vE=!1,iA=0;function ape(t){iA=t.timeStamp}function q2(t,e,n){return e.__lexicalLineBreak===t||t[`__lexicalKey_${n._key}`]!==void 0}function lpe(t,e,n){const r=Ps(n._window);let i=null,o=null;r!==null&&r.anchorNode===t&&(i=r.anchorOffset,o=r.focusOffset);const s=t.nodeValue;s!==null&&hA(e,s,i,o,!1)}function cpe(t,e,n){if(me(t)){const r=t.anchor.getNode();if(r.is(n)&&t.format!==r.getFormat())return!1}return e.nodeType===xc&&n.isAttached()}function yj(t,e,n){vE=!0;const r=performance.now()-iA>spe;try{Di(t,()=>{const i=Se()||function(d){return d.getEditorState().read(()=>{const f=Se();return f!==null?f.clone():null})}(t),o=new Map,s=t.getRootElement(),a=t._editorState,l=t._blockCursorElement;let c=!1,u="";for(let d=0;d<e.length;d++){const f=e[d],p=f.type,m=f.target;let x=Rs(m,a);if(!(x===null&&m!==s||Pt(x))){if(p==="characterData")r&&ye(x)&&cpe(i,m,x)&&lpe(m,x,t);else if(p==="childList"){c=!0;const v=f.addedNodes;for(let C=0;C<v.length;C++){const S=v[C],k=Ej(S),b=S.parentNode;if(b!=null&&S!==l&&k===null&&(S.nodeName!=="BR"||!q2(S,b,t))){if(Vl){const w=S.innerText||S.nodeValue;w&&(u+=w)}b.removeChild(S)}}const y=f.removedNodes,_=y.length;if(_>0){let C=0;for(let S=0;S<_;S++){const k=y[S];(k.nodeName==="BR"&&q2(k,m,t)||l===k)&&(m.appendChild(k),C++)}_!==C&&(m===s&&(x=kj(a)),o.set(m,x))}}}}if(o.size>0)for(const[d,f]of o)if(oe(f)){const p=f.getChildrenKeys();let m=d.firstChild;for(let x=0;x<p.length;x++){const v=p[x],y=t.getElementByKey(v);y!==null&&(m==null?(d.appendChild(y),m=y):m!==y&&d.replaceChild(y,m),m=m.nextSibling)}}else ye(f)&&f.markDirty();const h=n.takeRecords();if(h.length>0){for(let d=0;d<h.length;d++){const f=h[d],p=f.addedNodes,m=f.target;for(let x=0;x<p.length;x++){const v=p[x],y=v.parentNode;y==null||v.nodeName!=="BR"||q2(v,m,t)||y.removeChild(v)}}n.takeRecords()}i!==null&&(c&&(i.dirty=!0,$i(i)),Vl&&Rj(t)&&i.insertRawText(u))})}finally{vE=!1}}function _j(t){const e=t._observer;e!==null&&yj(t,e.takeRecords(),e)}function wj(t){(function(e){iA===0&&E_(e).addEventListener("textInput",ape,!0)})(t),t._observer=new MutationObserver((e,n)=>{yj(t,e,n)})}function V6(t,e){const n=t.__mode,r=t.__format,i=t.__style,o=e.__mode,s=e.__format,a=e.__style;return!(n!==null&&n!==o||r!==null&&r!==s||i!==null&&i!==a)}function j6(t,e){const n=t.mergeWithSibling(e),r=yn()._normalizedNodes;return r.add(t.__key),r.add(e.__key),n}function z6(t){let e,n,r=t;if(r.__text!==""||!r.isSimpleText()||r.isUnmergeable()){for(;(e=r.getPreviousSibling())!==null&&ye(e)&&e.isSimpleText()&&!e.isUnmergeable();){if(e.__text!==""){if(V6(e,r)){r=j6(e,r);break}break}e.remove()}for(;(n=r.getNextSibling())!==null&&ye(n)&&n.isSimpleText()&&!n.isUnmergeable();){if(n.__text!==""){if(V6(r,n)){r=j6(r,n);break}break}n.remove()}}else r.remove()}function oA(t){return $6(t.anchor),$6(t.focus),t}function $6(t){for(;t.type==="element";){const e=t.getNode(),n=t.offset;let r,i;if(n===e.getChildrenSize()?(r=e.getChildAtIndex(n-1),i=!0):(r=e.getChildAtIndex(n),i=!1),ye(r)){t.set(r.__key,i?r.getTextContentSize():0,"text");break}if(!oe(r))break;t.set(r.__key,i?r.getChildrenSize():0,"element")}}let upe=1;const hpe=typeof queueMicrotask=="function"?queueMicrotask:t=>{Promise.resolve().then(t)};function sA(t){const e=document.activeElement;if(e===null)return!1;const n=e.nodeName;return Pt(Rs(t))&&(n==="INPUT"||n==="TEXTAREA"||e.contentEditable==="true"&&w_(e)==null)}function Lm(t,e,n){const r=t.getRootElement();try{return r!==null&&r.contains(e)&&r.contains(n)&&e!==null&&!sA(e)&&lA(e)===t}catch{return!1}}function aA(t){return t instanceof I_}function lA(t){let e=t;for(;e!=null;){const n=w_(e);if(aA(n))return n;e=b_(e)}return null}function w_(t){return t?t.__lexicalEditor:null}function xh(t){return t.isToken()||t.isSegmented()}function dpe(t){return t.nodeType===xc}function xv(t){let e=t;for(;e!=null;){if(dpe(e))return e;e=e.firstChild}return null}function yE(t,e,n){const r=la[e];if(n!==null&&(t&r)==(n&r))return t;let i=t^r;return e==="subscript"?i&=~la.superscript:e==="superscript"&&(i&=~la.subscript),i}function Cj(t){return ye(t)||jl(t)||Pt(t)}function bj(t,e){if(e!=null)return void(t.__key=e);hi(),Xj();const n=yn(),r=Da(),i=""+upe++;r._nodeMap.set(i,t),oe(t)?n._dirtyElements.set(i,!0):n._dirtyLeaves.add(i),n._cloneNotNeeded.add(i),n._dirtyType=gj,t.__key=i}function nu(t){const e=t.getParent();if(e!==null){const n=t.getWritable(),r=e.getWritable(),i=t.getPreviousSibling(),o=t.getNextSibling();if(i===null)if(o!==null){const s=o.getWritable();r.__first=o.__key,s.__prev=null}else r.__first=null;else{const s=i.getWritable();if(o!==null){const a=o.getWritable();a.__prev=s.__key,s.__next=a.__key}else s.__next=null;n.__prev=null}if(o===null)if(i!==null){const s=i.getWritable();r.__last=i.__key,s.__next=null}else r.__last=null;else{const s=o.getWritable();if(i!==null){const a=i.getWritable();a.__next=s.__key,s.__prev=a.__key}else s.__prev=null;n.__next=null}r.__size--,n.__parent=null}}function vv(t){Xj();const e=t.getLatest(),n=e.__parent,r=Da(),i=yn(),o=r._nodeMap,s=i._dirtyElements;n!==null&&function(l,c,u){let h=l;for(;h!==null;){if(u.has(h))return;const d=c.get(h);if(d===void 0)break;u.set(h,!1),h=d.__parent}}(n,o,s);const a=e.__key;i._dirtyType=gj,oe(t)?s.set(a,!0):i._dirtyLeaves.add(a)}function ur(t){hi();const e=yn(),n=e._compositionKey;if(t!==n){if(e._compositionKey=t,n!==null){const r=Wn(n);r!==null&&r.getWritable()}if(t!==null){const r=Wn(t);r!==null&&r.getWritable()}}}function _l(){return jm()?null:yn()._compositionKey}function Wn(t,e){const n=(e||Da())._nodeMap.get(t);return n===void 0?null:n}function Ej(t,e){const n=t[`__lexicalKey_${yn()._key}`];return n!==void 0?Wn(n,e):null}function Rs(t,e){let n=t;for(;n!=null;){const r=Ej(n,e);if(r!==null)return r;n=b_(n)}return null}function Sj(t){const e=t._decorators,n=Object.assign({},e);return t._pendingDecorators=n,n}function H6(t){return t.read(()=>It().getTextContent())}function It(){return kj(Da())}function kj(t){return t._nodeMap.get("root")}function $i(t){hi();const e=Da();t!==null&&(t.dirty=!0,t.setCachedNodes(null)),e._selection=t}function Fh(t){const e=yn(),n=function(r,i){let o=r;for(;o!=null;){const s=o[`__lexicalKey_${i._key}`];if(s!==void 0)return s;o=b_(o)}return null}(t,e);return n===null?t===e.getRootElement()?Wn("root"):null:Wn(n)}function U6(t,e){return e?t.getTextContentSize():0}function Tj(t){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(t)}function cA(t){const e=[];let n=t;for(;n!==null;)e.push(n),n=n._parentEditor;return e}function Aj(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function Ij(t){return t.nodeType===xc?t.nodeValue:null}function uA(t,e,n){const r=Ps(e._window);if(r===null)return;const i=r.anchorNode;let{anchorOffset:o,focusOffset:s}=r;if(i!==null){let a=Ij(i);const l=Rs(i);if(a!==null&&ye(l)){if(a===__&&n){const c=n.length;a=n,o=c,s=c}a!==null&&hA(l,a,o,s,t)}}}function hA(t,e,n,r,i){let o=t;if(o.isAttached()&&(i||!o.isDirty())){const s=o.isComposing();let a=e;(s||i)&&e[e.length-1]===__&&(a=e.slice(0,-1));const l=o.getTextContent();if(i||a!==l){if(a===""){if(ur(null),J5||y_||Q5)o.remove();else{const m=yn();setTimeout(()=>{m.update(()=>{o.isAttached()&&o.remove()})},20)}return}const c=o.getParent(),u=nf(),h=o.getTextContentSize(),d=_l(),f=o.getKey();if(o.isToken()||d!==null&&f===d&&!s||me(u)&&(c!==null&&!c.canInsertTextBefore()&&u.anchor.offset===0||u.anchor.key===t.__key&&u.anchor.offset===0&&!o.canInsertTextBefore()&&!s||u.focus.key===t.__key&&u.focus.offset===h&&!o.canInsertTextAfter()&&!s))return void o.markDirty();const p=Se();if(!me(p)||n===null||r===null)return void o.setTextContent(a);if(p.setTextNodeRange(o,n,o,r),o.isSegmented()){const m=jn(o.getTextContent());o.replace(m),o=m}o.setTextContent(a)}}}function fpe(t,e){if(e.isSegmented())return!0;if(!t.isCollapsed())return!1;const n=t.anchor.offset,r=e.getParentOrThrow(),i=e.isToken();return n===0?!e.canInsertTextBefore()||!r.canInsertTextBefore()&&!e.isComposing()||i||function(o){const s=o.getPreviousSibling();return(ye(s)||oe(s)&&s.isInline())&&!s.canInsertTextAfter()}(e):n===e.getTextContentSize()&&(!e.canInsertTextAfter()||!r.canInsertTextAfter()&&!e.isComposing()||i)}function W6(t){return t==="ArrowLeft"}function q6(t){return t==="ArrowRight"}function ap(t,e){return So?t:e}function K6(t){return t==="Enter"}function Lf(t){return t==="Backspace"}function Ff(t){return t==="Delete"}function G6(t,e,n){return t.toLowerCase()==="a"&&ap(e,n)}function ppe(){const t=It();$i(oA(t.select(0,t.getChildrenSize())))}function Pp(t,e){t.__lexicalClassNameCache===void 0&&(t.__lexicalClassNameCache={});const n=t.__lexicalClassNameCache,r=n[e];if(r!==void 0)return r;const i=t[e];if(typeof i=="string"){const o=gv(i);return n[e]=o,o}return i}function dA(t,e,n,r,i){if(n.size===0)return;const o=r.__type,s=r.__key,a=e.get(o);a===void 0&&we(33,o);const l=a.klass;let c=t.get(l);c===void 0&&(c=new Map,t.set(l,c));const u=c.get(s),h=u==="destroyed"&&i==="created";(u===void 0||h)&&c.set(s,h?"updated":i)}function J6(t,e,n){const r=t.getParent();let i=n,o=t;return r!==null&&(e&&n===0?(i=o.getIndexWithinParent(),o=r):e||n!==o.getChildrenSize()||(i=o.getIndexWithinParent()+1,o=r)),o.getChildAtIndex(e?i-1:i)}function P0(t,e){const n=t.offset;if(t.type==="element")return J6(t.getNode(),e,n);{const r=t.getNode();if(e&&n===0||!e&&n===r.getTextContentSize()){const i=e?r.getPreviousSibling():r.getNextSibling();return i===null?J6(r.getParentOrThrow(),e,r.getIndexWithinParent()+(e?0:1)):i}}return null}function Rj(t){const e=E_(t).event,n=e&&e.inputType;return n==="insertFromPaste"||n==="insertFromPasteAsQuotation"}function Te(t,e,n){return Zj(t,e,n)}function C_(t){return!gr(t)&&!t.isLastChild()&&!t.isInline()}function yv(t,e){const n=t._keyToDOMMap.get(e);return n===void 0&&we(75,e),n}function b_(t){const e=t.assignedSlot||t.parentElement;return e!==null&&e.nodeType===11?e.host:e}function _E(t,e){let n=t.getParent();for(;n!==null;){if(n.is(e))return!0;n=n.getParent()}return!1}function E_(t){const e=t._window;return e===null&&we(78),e}function mpe(t){let e=t.getParentOrThrow();for(;e!==null;){if(jr(e))return e;e=e.getParentOrThrow()}return e}function jr(t){return gr(t)||oe(t)&&t.isShadowRoot()}function gpe(t){const e=t.constructor.clone(t);return bj(e,null),e}function Os(t){const e=yn(),n=t.constructor.getType(),r=e._nodes.get(n);r===void 0&&we(97);const i=r.replace;if(i!==null){const o=i(t);return o instanceof t.constructor||we(98),o}return t}function K2(t,e){!gr(t.getParent())||oe(e)||Pt(e)||we(99)}function G2(t){return(Pt(t)||oe(t)&&!t.canBeEmpty())&&!t.isInline()}function fA(t,e,n){n.style.removeProperty("caret-color"),e._blockCursorElement=null;const r=t.parentElement;r!==null&&r.removeChild(t)}function xpe(t,e,n){let r=t._blockCursorElement;if(me(n)&&n.isCollapsed()&&n.anchor.type==="element"&&e.contains(document.activeElement)){const i=n.anchor,o=i.getNode(),s=i.offset;let a=!1,l=null;if(s===o.getChildrenSize())G2(o.getChildAtIndex(s-1))&&(a=!0);else{const c=o.getChildAtIndex(s);if(G2(c)){const u=c.getPreviousSibling();(u===null||G2(u))&&(a=!0,l=t.getElementByKey(c.__key))}}if(a){const c=t.getElementByKey(o.__key);return r===null&&(t._blockCursorElement=r=function(u){const h=u.theme,d=document.createElement("div");d.contentEditable="false",d.setAttribute("data-lexical-cursor","true");let f=h.blockCursor;if(f!==void 0){if(typeof f=="string"){const p=gv(f);f=h.blockCursor=p}f!==void 0&&d.classList.add(...f)}return d}(t._config)),e.style.caretColor="transparent",void(l===null?c.appendChild(r):c.insertBefore(r,l))}}r!==null&&fA(r,t,e)}function Ps(t){return Jo?(t||window).getSelection():null}function vpe(t,e){let n=t.getChildAtIndex(e);n==null&&(n=t),jr(t)&&we(102);const r=s=>{const a=s.getParentOrThrow(),l=jr(a),c=s!==n||l?gpe(s):s;if(l)return oe(s)&&oe(c)||we(133),s.insertAfter(c),[s,c,c];{const[u,h,d]=r(a),f=s.getNextSiblings();return d.append(c,...f),[u,h,c]}},[i,o]=r(n);return[i,o]}function ba(t){return t.nodeType===1}function wE(t){const e=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return t.nodeName.match(e)!==null}function _v(t){const e=new RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return t.nodeName.match(e)!==null}function vh(t){if(gr(t)||Pt(t)&&!t.isInline())return!0;if(!oe(t)||jr(t))return!1;const e=t.getFirstChild(),n=e===null||jl(e)||ye(e)||e.isInline();return!t.isInline()&&t.canBeEmpty()!==!1&&n}function J2(t,e){let n=t;for(;n!==null&&n.getParent()!==null&&!e(n);)n=n.getParentOrThrow();return e(n)?n:null}function ype(){return yn()}const Q6=new WeakMap,_pe=new Map;function wpe(t){if(!t._readOnly&&t.isEmpty())return _pe;t._readOnly||we(192);let e=Q6.get(t);if(!e){e=new Map,Q6.set(t,e);for(const[n,r]of t._nodeMap){const i=r.__type;let o=e.get(i);o||(o=new Map,e.set(i,o)),o.set(n,r)}}return e}function pA(t){const e=t.constructor.clone(t);return e.afterCloneFrom(t),e}function Pj(t,e,n,r,i,o){let s=t.getFirstChild();for(;s!==null;){const a=s.__key;s.__parent===e&&(oe(s)&&Pj(s,a,n,r,i,o),n.has(a)||o.delete(a),i.push(a)),s=s.getNextSibling()}}let ec,Xr,D0,S_,CE,bE,_u,Bo,EE,M0,Hn="",Gr="",os=null,ko="",Xs="",Dj=!1,N0=!1,tx=null;function wv(t,e){const n=_u.get(t);if(e!==null){const r=TE(t);r.parentNode===e&&e.removeChild(r)}if(Bo.has(t)||Xr._keyToDOMMap.delete(t),oe(n)){const r=bv(n,_u);SE(r,0,r.length-1,null)}n!==void 0&&dA(M0,D0,S_,n,"destroyed")}function SE(t,e,n,r){let i=e;for(;i<=n;++i){const o=t[i];o!==void 0&&wv(o,r)}}function Pc(t,e){t.setProperty("text-align",e)}const Cpe="40px";function Mj(t,e){const n=ec.theme.indent;if(typeof n=="string"){const i=t.classList.contains(n);e>0&&!i?t.classList.add(n):e<1&&i&&t.classList.remove(n)}const r=getComputedStyle(t).getPropertyValue("--lexical-indent-base-value")||Cpe;t.style.setProperty("padding-inline-start",e===0?"":`calc(${e} * ${r})`)}function Nj(t,e){const n=t.style;e===0?Pc(n,""):e===Y5?Pc(n,"left"):e===Z5?Pc(n,"center"):e===eA?Pc(n,"right"):e===tA?Pc(n,"justify"):e===nA?Pc(n,"start"):e===rA&&Pc(n,"end")}function Cv(t,e,n){const r=Bo.get(t);r===void 0&&we(60);const i=r.createDOM(ec,Xr);if(function(o,s,a){const l=a._keyToDOMMap;s["__lexicalKey_"+a._key]=o,l.set(o,s)}(t,i,Xr),ye(r)?i.setAttribute("data-lexical-text","true"):Pt(r)&&i.setAttribute("data-lexical-decorator","true"),oe(r)){const o=r.__indent,s=r.__size;if(o!==0&&Mj(i,o),s!==0){const l=s-1;(function(c,u,h,d){const f=Gr;Gr="",kE(c,h,0,u,d,null),Lj(h,d),Gr=f})(bv(r,Bo),l,r,i)}const a=r.__format;a!==0&&Nj(i,a),r.isInline()||Oj(null,r,i),C_(r)&&(Hn+=Ca,Xs+=Ca)}else{const o=r.getTextContent();if(Pt(r)){const s=r.decorate(Xr,ec);s!==null&&Fj(t,s),i.contentEditable="false"}else ye(r)&&(r.isDirectionless()||(Gr+=o));Hn+=o,Xs+=o}if(e!==null)if(n!=null)e.insertBefore(i,n);else{const o=e.__lexicalLineBreak;o!=null?e.insertBefore(i,o):e.appendChild(i)}return dA(M0,D0,S_,r,"created"),i}function kE(t,e,n,r,i,o){const s=Hn;Hn="";let a=n;for(;a<=r;++a){Cv(t[a],i,o);const l=Bo.get(t[a]);l!==null&&ye(l)&&(os===null&&(os=l.getFormat()),ko===""&&(ko=l.getStyle()))}C_(e)&&(Hn+=Ca),i.__lexicalTextContent=Hn,Hn=s+Hn}function X6(t,e){const n=e.get(t);return jl(n)||Pt(n)&&n.isInline()}function Oj(t,e,n){const r=t!==null&&(t.__size===0||X6(t.__last,_u)),i=e.__size===0||X6(e.__last,Bo);if(r){if(!i){const o=n.__lexicalLineBreak;if(o!=null)try{n.removeChild(o)}catch(s){if(typeof s=="object"&&s!=null){const a=`${s.toString()} Parent: ${n.tagName}, child: ${o.tagName}.`;throw new Error(a)}throw s}n.__lexicalLineBreak=null}}else if(i){const o=document.createElement("br");n.__lexicalLineBreak=o,n.appendChild(o)}}function Lj(t,e){const n=e.__lexicalDirTextContent,r=e.__lexicalDir;if(n!==Gr||r!==tx){const o=Gr==="",s=o?tx:(i=Gr,Zfe.test(i)?"rtl":epe.test(i)?"ltr":null);if(s!==r){const a=e.classList,l=ec.theme;let c=r!==null?l[r]:void 0,u=s!==null?l[s]:void 0;if(c!==void 0){if(typeof c=="string"){const h=gv(c);c=l[r]=h}a.remove(...c)}if(s===null||o&&s==="ltr")e.removeAttribute("dir");else{if(u!==void 0){if(typeof u=="string"){const h=gv(u);u=l[s]=h}u!==void 0&&a.add(...u)}e.dir=s}N0||(t.getWritable().__dir=s)}tx=s,e.__lexicalDirTextContent=Gr,e.__lexicalDir=s}var i}function bpe(t,e,n){const r=Gr;var i;Gr="",os=null,ko="",function(o,s,a){const l=Hn,c=o.__size,u=s.__size;if(Hn="",c===1&&u===1){const h=o.__first,d=s.__first;if(h===d)lp(h,a);else{const p=TE(h),m=Cv(d,null,null);try{a.replaceChild(m,p)}catch(x){if(typeof x=="object"&&x!=null){const v=`${x.toString()} Parent: ${a.tagName}, new child: {tag: ${m.tagName} key: ${d}}, old child: {tag: ${p.tagName}, key: ${h}}.`;throw new Error(v)}throw x}wv(h,null)}const f=Bo.get(d);ye(f)&&(os===null&&(os=f.getFormat()),ko===""&&(ko=f.getStyle()))}else{const h=bv(o,_u),d=bv(s,Bo);if(c===0)u!==0&&kE(d,s,0,u-1,a,null);else if(u===0){if(c!==0){const f=a.__lexicalLineBreak==null;SE(h,0,c-1,f?null:a),f&&(a.textContent="")}}else(function(f,p,m,x,v,y){const _=x-1,C=v-1;let S,k,b=(E=y,E.firstChild),w=0,A=0;for(var E;w<=_&&A<=C;){const N=p[w],j=m[A];if(N===j)b=Q2(lp(j,y)),w++,A++;else{S===void 0&&(S=new Set(p)),k===void 0&&(k=new Set(m));const Q=k.has(N),X=S.has(j);if(Q)if(X){const q=yv(Xr,j);q===b?b=Q2(lp(j,y)):(b!=null?y.insertBefore(q,b):y.appendChild(q),lp(j,y)),w++,A++}else Cv(j,y,b),A++;else b=Q2(TE(N)),wv(N,y),w++}const $=Bo.get(j);$!==null&&ye($)&&(os===null&&(os=$.getFormat()),ko===""&&(ko=$.getStyle()))}const R=w>_,D=A>C;if(R&&!D){const N=m[C+1];kE(m,f,A,C,y,N===void 0?null:Xr.getElementByKey(N))}else D&&!R&&SE(p,w,_,y)})(s,h,d,c,u,a)}C_(s)&&(Hn+=Ca),a.__lexicalTextContent=Hn,Hn=l+Hn}(t,e,n),Lj(e,n),Pd(i=e)&&os!=null&&os!==i.__textFormat&&!N0&&(i.setTextFormat(os),i.setTextStyle(ko)),function(o){Pd(o)&&ko!==""&&ko!==o.__textStyle&&!N0&&o.setTextStyle(ko)}(e),Gr=r}function bv(t,e){const n=[];let r=t.__first;for(;r!==null;){const i=e.get(r);i===void 0&&we(101),n.push(r),r=i.__next}return n}function lp(t,e){const n=_u.get(t);let r=Bo.get(t);n!==void 0&&r!==void 0||we(61);const i=Dj||bE.has(t)||CE.has(t),o=yv(Xr,t);if(n===r&&!i){if(oe(n)){const s=o.__lexicalTextContent;s!==void 0&&(Hn+=s,Xs+=s);const a=o.__lexicalDirTextContent;a!==void 0&&(Gr+=a)}else{const s=n.getTextContent();ye(n)&&!n.isDirectionless()&&(Gr+=s),Xs+=s,Hn+=s}return o}if(n!==r&&i&&dA(M0,D0,S_,r,"updated"),r.updateDOM(n,o,ec)){const s=Cv(t,null,null);return e===null&&we(62),e.replaceChild(s,o),wv(t,null),s}if(oe(n)&&oe(r)){const s=r.__indent;s!==n.__indent&&Mj(o,s);const a=r.__format;a!==n.__format&&Nj(o,a),i&&(bpe(n,r,o),gr(r)||r.isInline()||Oj(n,r,o)),C_(r)&&(Hn+=Ca,Xs+=Ca)}else{const s=r.getTextContent();if(Pt(r)){const a=r.decorate(Xr,ec);a!==null&&Fj(t,a)}else ye(r)&&!r.isDirectionless()&&(Gr+=s);Hn+=s,Xs+=s}if(!N0&&gr(r)&&r.__cachedText!==Xs){const s=r.getWritable();s.__cachedText=Xs,r=s}return o}function Fj(t,e){let n=Xr._pendingDecorators;const r=Xr._decorators;if(n===null){if(r[t]===e)return;n=Sj(Xr)}n[t]=e}function Q2(t){let e=t.nextSibling;return e!==null&&e===Xr._blockCursorElement&&(e=e.nextSibling),e}function Epe(t,e,n,r,i,o){Hn="",Xs="",Gr="",Dj=r===Rd,tx=null,Xr=n,ec=n._config,D0=n._nodes,S_=Xr._listeners.mutation,CE=i,bE=o,_u=t._nodeMap,Bo=e._nodeMap,N0=e._readOnly,EE=new Map(n._keyToDOMMap);const s=new Map;return M0=s,lp("root",null),Xr=void 0,D0=void 0,CE=void 0,bE=void 0,_u=void 0,Bo=void 0,ec=void 0,EE=void 0,M0=void 0,s}function TE(t){const e=EE.get(t);return e===void 0&&we(75,t),e}const qs=Object.freeze({}),AE=30,IE=[["keydown",function(t,e){if(Dp=t.timeStamp,Bj=t.key,e.isComposing())return;const{key:n,shiftKey:r,ctrlKey:i,metaKey:o,altKey:s}=t;Te(e,F5,t)||n!=null&&(function(a,l,c,u){return q6(a)&&!l&&!u&&!c}(n,i,s,o)?Te(e,cj,t):function(a,l,c,u,h){return q6(a)&&!u&&!c&&(l||h)}(n,i,r,s,o)?Te(e,Bfe,t):function(a,l,c,u){return W6(a)&&!l&&!u&&!c}(n,i,s,o)?Te(e,B5,t):function(a,l,c,u,h){return W6(a)&&!u&&!c&&(l||h)}(n,i,r,s,o)?Te(e,Vfe,t):function(a,l,c){return function(u){return u==="ArrowUp"}(a)&&!l&&!c}(n,i,o)?Te(e,V5,t):function(a,l,c){return function(u){return u==="ArrowDown"}(a)&&!l&&!c}(n,i,o)?Te(e,j5,t):function(a,l){return K6(a)&&l}(n,r)?(Mp=!0,Te(e,R0,t)):function(a){return a===" "}(n)?Te(e,uj,t):function(a,l){return So&&l&&a.toLowerCase()==="o"}(n,i)?(t.preventDefault(),Mp=!0,Te(e,td,!0)):function(a,l){return K6(a)&&!l}(n,r)?(Mp=!1,Te(e,R0,t)):function(a,l,c,u){return So?!l&&!c&&(Lf(a)||a.toLowerCase()==="h"&&u):!(u||l||c)&&Lf(a)}(n,s,o,i)?Lf(n)?Te(e,z5,t):(t.preventDefault(),Te(e,tu,!0)):function(a){return a==="Escape"}(n)?Te(e,$5,t):function(a,l,c,u,h){return So?!(c||u||h)&&(Ff(a)||a.toLowerCase()==="d"&&l):!(l||u||h)&&Ff(a)}(n,i,r,s,o)?Ff(n)?Te(e,H5,t):(t.preventDefault(),Te(e,tu,!1)):function(a,l,c){return Lf(a)&&(So?l:c)}(n,s,i)?(t.preventDefault(),Te(e,A0,!0)):function(a,l,c){return Ff(a)&&(So?l:c)}(n,s,i)?(t.preventDefault(),Te(e,A0,!1)):function(a,l){return So&&l&&Lf(a)}(n,o)?(t.preventDefault(),Te(e,I0,!0)):function(a,l){return So&&l&&Ff(a)}(n,o)?(t.preventDefault(),Te(e,I0,!1)):function(a,l,c,u){return a.toLowerCase()==="b"&&!l&&ap(c,u)}(n,s,o,i)?(t.preventDefault(),Te(e,ia,"bold")):function(a,l,c,u){return a.toLowerCase()==="u"&&!l&&ap(c,u)}(n,s,o,i)?(t.preventDefault(),Te(e,ia,"underline")):function(a,l,c,u){return a.toLowerCase()==="i"&&!l&&ap(c,u)}(n,s,o,i)?(t.preventDefault(),Te(e,ia,"italic")):function(a,l,c,u){return a==="Tab"&&!l&&!c&&!u}(n,s,i,o)?Te(e,U5,t):function(a,l,c,u){return a.toLowerCase()==="z"&&!l&&ap(c,u)}(n,r,o,i)?(t.preventDefault(),Te(e,g_,void 0)):function(a,l,c,u){return So?a.toLowerCase()==="z"&&c&&l:a.toLowerCase()==="y"&&u||a.toLowerCase()==="z"&&u&&l}(n,r,o,i)?(t.preventDefault(),Te(e,x_,void 0)):qr(e._editorState._selection)?function(a,l,c,u){return!l&&a.toLowerCase()==="c"&&(So?c:u)}(n,r,o,i)?(t.preventDefault(),Te(e,v_,t)):function(a,l,c,u){return!l&&a.toLowerCase()==="x"&&(So?c:u)}(n,r,o,i)?(t.preventDefault(),Te(e,q5,t)):G6(n,o,i)&&(t.preventDefault(),Te(e,xE,t)):!Vl&&G6(n,o,i)&&(t.preventDefault(),Te(e,xE,t)),function(a,l,c,u){return a||l||c||u}(i,r,s,o)&&Te(e,Ufe,t))}],["pointerdown",function(t,e){const n=t.target,r=t.pointerType;n instanceof Node&&r!=="touch"&&Di(e,()=>{Pt(Rs(n))||(PE=!0)})}],["compositionstart",function(t,e){Di(e,()=>{const n=Se();if(me(n)&&!e.isComposing()){const r=n.anchor,i=n.anchor.getNode();ur(r.key),(t.timeStamp<Dp+AE||r.type==="element"||!n.isCollapsed()||i.getFormat()!==n.format||ye(i)&&i.getStyle()!==n.style)&&Te(e,nd,Yfe)}})}],["compositionend",function(t,e){Vl?Bf=!0:Di(e,()=>{X2(e,t.data)})}],["input",function(t,e){t.stopPropagation(),Di(e,()=>{const n=Se(),r=t.data,i=$j(t);if(r!=null&&me(n)&&zj(n,i,r,t.timeStamp,!1)){Bf&&(X2(e,r),Bf=!1);const o=n.anchor.getNode(),s=Ps(e._window);if(s===null)return;const a=n.isBackward(),l=a?n.anchor.offset:n.focus.offset,c=a?n.focus.offset:n.anchor.offset;fv&&!n.isCollapsed()&&ye(o)&&s.anchorNode!==null&&o.getTextContent().slice(0,l)+r+o.getTextContent().slice(l+c)===Ij(s.anchorNode)||Te(e,nd,r);const u=r.length;Vl&&u>1&&t.inputType==="insertCompositionText"&&!e.isComposing()&&(n.anchor.offset-=u),J5||y_||Q5||!e.isComposing()||(Dp=0,ur(null))}else uA(!1,e,r!==null?r:void 0),Bf&&(X2(e,r||void 0),Bf=!1);hi(),_j(yn())}),yh=null}],["click",function(t,e){Di(e,()=>{const n=Se(),r=Ps(e._window),i=nf();if(r){if(me(n)){const o=n.anchor,s=o.getNode();o.type==="element"&&o.offset===0&&n.isCollapsed()&&!gr(s)&&It().getChildrenSize()===1&&s.getTopLevelElementOrThrow().isEmpty()&&i!==null&&n.is(i)?(r.removeAllRanges(),n.dirty=!0):t.detail===3&&!n.isCollapsed()&&s!==n.focus.getNode()&&(oe(s)?s.select(0):s.getParentOrThrow().select(0))}else if(t.pointerType==="touch"){const o=r.anchorNode;if(o!==null){const s=o.nodeType;(s===Om||s===xc)&&$i(gA(i,r,e,t))}}}Te(e,O5,t)})}],["cut",qs],["copy",qs],["dragstart",qs],["dragover",qs],["dragend",qs],["paste",qs],["focus",qs],["blur",qs],["drop",qs]];fv&&IE.push(["beforeinput",(t,e)=>function(n,r){const i=n.inputType,o=$j(n);i==="deleteCompositionText"||Vl&&Rj(r)||i!=="insertCompositionText"&&Di(r,()=>{const s=Se();if(i==="deleteContentBackward"){if(s===null){const f=nf();if(!me(f))return;$i(f.clone())}if(me(s)){const f=s.anchor.key===s.focus.key;if(a=n.timeStamp,Bj==="MediaLast"&&a<Dp+AE&&r.isComposing()&&f){if(ur(null),Dp=0,setTimeout(()=>{Di(r,()=>{ur(null)})},AE),me(s)){const p=s.anchor.getNode();p.markDirty(),s.format=p.getFormat(),ye(p)||we(142),s.style=p.getStyle()}}else{ur(null),n.preventDefault();const p=s.anchor.getNode().getTextContent(),m=s.anchor.offset===0&&s.focus.offset===p.length;Kfe&&f&&!m||Te(r,tu,!0)}return}}var a;if(!me(s))return;const l=n.data;yh!==null&&uA(!1,r,yh),s.dirty&&yh===null||!s.isCollapsed()||gr(s.anchor.getNode())||o===null||s.applyDOMRange(o),yh=null;const c=s.anchor,u=s.focus,h=c.getNode(),d=u.getNode();if(i!=="insertText"&&i!=="insertTranspose")switch(n.preventDefault(),i){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":Te(r,nd,n);break;case"insertFromComposition":ur(null),Te(r,nd,n);break;case"insertLineBreak":ur(null),Te(r,td,!1);break;case"insertParagraph":ur(null),Mp&&!y_?(Mp=!1,Te(r,td,!1)):Te(r,T0,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":Te(r,L5,n);break;case"deleteByComposition":(function(f,p){return f!==p||oe(f)||oe(p)||!f.isToken()||!p.isToken()})(h,d)&&Te(r,mE,n);break;case"deleteByDrag":case"deleteByCut":Te(r,mE,n);break;case"deleteContent":Te(r,tu,!1);break;case"deleteWordBackward":Te(r,A0,!0);break;case"deleteWordForward":Te(r,A0,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":Te(r,I0,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":Te(r,I0,!1);break;case"formatStrikeThrough":Te(r,ia,"strikethrough");break;case"formatBold":Te(r,ia,"bold");break;case"formatItalic":Te(r,ia,"italic");break;case"formatUnderline":Te(r,ia,"underline");break;case"historyUndo":Te(r,g_,void 0);break;case"historyRedo":Te(r,x_,void 0)}else{if(l===`
`)n.preventDefault(),Te(r,td,!1);else if(l===Ca)n.preventDefault(),Te(r,T0,void 0);else if(l==null&&n.dataTransfer){const f=n.dataTransfer.getData("text/plain");n.preventDefault(),s.insertRawText(f)}else l!=null&&zj(s,o,l,n.timeStamp,!0)?(n.preventDefault(),Te(r,nd,l)):yh=l;Vj=n.timeStamp}})}(t,e)]);let Dp=0,Bj=null,Vj=0,yh=null;const Ev=new WeakMap;let RE=!1,PE=!1,Mp=!1,Bf=!1,jj=[0,"",0,"root",0];function zj(t,e,n,r,i){const o=t.anchor,s=t.focus,a=o.getNode(),l=yn(),c=Ps(l._window),u=c!==null?c.anchorNode:null,h=o.key,d=l.getElementByKey(h),f=n.length;return h!==s.key||!ye(a)||(!i&&(!fv||Vj<r+50)||a.isDirty()&&f<2||Tj(n))&&o.offset!==s.offset&&!a.isComposing()||xh(a)||a.isDirty()&&f>1||(i||!fv)&&d!==null&&!a.isComposing()&&u!==xv(d)||c!==null&&e!==null&&(!e.collapsed||e.startContainer!==c.anchorNode||e.startOffset!==c.anchorOffset)||a.getFormat()!==t.format||a.getStyle()!==t.style||fpe(t,a)}function Y6(t,e){return t!==null&&t.nodeValue!==null&&t.nodeType===xc&&e!==0&&e!==t.nodeValue.length}function Z6(t,e,n){const{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:s}=t;RE&&(RE=!1,Y6(r,i)&&Y6(o,s))||Di(e,()=>{if(!n)return void $i(null);if(!Lm(e,r,o))return;const a=Se();if(me(a)){const l=a.anchor,c=l.getNode();if(a.isCollapsed()){t.type==="Range"&&t.anchorNode===t.focusNode&&(a.dirty=!0);const u=E_(e).event,h=u?u.timeStamp:performance.now(),[d,f,p,m,x]=jj,v=It(),y=e.isComposing()===!1&&v.getTextContent()==="";if(h<x+200&&l.offset===p&&l.key===m)a.format=d,a.style=f;else if(l.type==="text")ye(c)||we(141),a.format=c.getFormat(),a.style=c.getStyle();else if(l.type==="element"&&!y){const _=l.getNode();a.style="",_ instanceof Ku&&_.getChildrenSize()===0?(a.format=_.getTextFormat(),a.style=_.getTextStyle()):a.format=0}}else{const u=l.key,h=a.focus.key,d=a.getNodes(),f=d.length,p=a.isBackward(),m=p?s:i,x=p?i:s,v=p?h:u,y=p?u:h;let _=Xfe,C=!1;for(let S=0;S<f;S++){const k=d[S],b=k.getTextContentSize();if(ye(k)&&b!==0&&!(S===0&&k.__key===v&&m===b||S===f-1&&k.__key===y&&x===0)&&(C=!0,_&=k.getFormat(),_===0))break}a.format=C?_:0}}Te(e,m_,void 0)})}function $j(t){if(!t.getTargetRanges)return null;const e=t.getTargetRanges();return e.length===0?null:e[0]}function X2(t,e){const n=t._compositionKey;if(ur(null),n!==null&&e!=null){if(e===""){const r=Wn(n),i=xv(t.getElementByKey(n));return void(i!==null&&i.nodeValue!==null&&ye(r)&&hA(r,i.nodeValue,null,null,!0))}if(e[e.length-1]===`
`){const r=Se();if(me(r)){const i=r.focus;return r.anchor.set(i.key,i.offset,i.type),void Te(t,R0,null)}}}uA(!0,t,e)}function Hj(t){let e=t.__lexicalEventHandles;return e===void 0&&(e=[],t.__lexicalEventHandles=e),e}const rd=new Map;function Uj(t){const e=t.target,n=Ps(e==null?null:e.nodeType===9?e.defaultView:e.ownerDocument.defaultView);if(n===null)return;const r=lA(n.anchorNode);if(r===null)return;PE&&(PE=!1,Di(r,()=>{const c=nf(),u=n.anchorNode;if(u===null)return;const h=u.nodeType;h!==Om&&h!==xc||$i(gA(c,n,r,t))}));const i=cA(r),o=i[i.length-1],s=o._key,a=rd.get(s),l=a||o;l!==r&&Z6(n,l,!1),Z6(n,r,!0),r!==o?rd.set(s,r):a&&rd.delete(s)}function eR(t){t._lexicalHandled=!0}function tR(t){return t._lexicalHandled===!0}function Spe(t){const e=t.ownerDocument,n=Ev.get(e);n===void 0&&we(162);const r=n-1;r>=0||we(164),Ev.set(e,r),r===0&&e.removeEventListener("selectionchange",Uj);const i=w_(t);aA(i)?(function(s){if(s._parentEditor!==null){const a=cA(s),l=a[a.length-1]._key;rd.get(l)===s&&rd.delete(l)}else rd.delete(s._key)}(i),t.__lexicalEditor=null):i&&we(198);const o=Hj(t);for(let s=0;s<o.length;s++)o[s]();t.__lexicalEventHandles=[]}function DE(t,e,n){hi();const r=t.__key,i=t.getParent();if(i===null)return;const o=function(a){const l=Se();if(!me(l)||!oe(a))return l;const{anchor:c,focus:u}=l,h=c.getNode(),d=u.getNode();return _E(h,a)&&c.set(a.__key,0,"element"),_E(d,a)&&u.set(a.__key,0,"element"),l}(t);let s=!1;if(me(o)&&e){const a=o.anchor,l=o.focus;a.key===r&&(Tv(a,t,i,t.getPreviousSibling(),t.getNextSibling()),s=!0),l.key===r&&(Tv(l,t,i,t.getPreviousSibling(),t.getNextSibling()),s=!0)}else qr(o)&&e&&t.isSelected()&&t.selectPrevious();if(me(o)&&e&&!s){const a=t.getIndexWithinParent();nu(t),kv(o,i,a,-1)}else nu(t);n||jr(i)||i.canBeEmpty()||!i.isEmpty()||DE(i,e),e&&gr(i)&&i.isEmpty()&&i.selectEnd()}class k_{static getType(){we(64,this.name)}static clone(e){we(65,this.name)}afterCloneFrom(e){this.__parent=e.__parent,this.__next=e.__next,this.__prev=e.__prev}constructor(e){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,bj(this,e)}getType(){return this.__type}isInline(){we(137,this.constructor.name)}isAttached(){let e=this.__key;for(;e!==null;){if(e==="root")return!0;const n=Wn(e);if(n===null)break;e=n.__parent}return!1}isSelected(e){const n=e||Se();if(n==null)return!1;const r=n.getNodes().some(i=>i.__key===this.__key);if(ye(this))return r;if(me(n)&&n.anchor.type==="element"&&n.focus.type==="element"){if(n.isCollapsed())return!1;const i=this.getParent();if(Pt(this)&&this.isInline()&&i){const o=n.isBackward()?n.focus:n.anchor,s=o.getNode();if(o.offset===s.getChildrenSize()&&s.is(i)&&s.getLastChildOrThrow().is(this))return!1}}return r}getKey(){return this.__key}getIndexWithinParent(){const e=this.getParent();if(e===null)return-1;let n=e.getFirstChild(),r=0;for(;n!==null;){if(this.is(n))return r;r++,n=n.getNextSibling()}return-1}getParent(){const e=this.getLatest().__parent;return e===null?null:Wn(e)}getParentOrThrow(){const e=this.getParent();return e===null&&we(66,this.__key),e}getTopLevelElement(){let e=this;for(;e!==null;){const n=e.getParent();if(jr(n))return oe(e)||e===this&&Pt(e)||we(194),e;e=n}return null}getTopLevelElementOrThrow(){const e=this.getTopLevelElement();return e===null&&we(67,this.__key),e}getParents(){const e=[];let n=this.getParent();for(;n!==null;)e.push(n),n=n.getParent();return e}getParentKeys(){const e=[];let n=this.getParent();for(;n!==null;)e.push(n.__key),n=n.getParent();return e}getPreviousSibling(){const e=this.getLatest().__prev;return e===null?null:Wn(e)}getPreviousSiblings(){const e=[],n=this.getParent();if(n===null)return e;let r=n.getFirstChild();for(;r!==null&&!r.is(this);)e.push(r),r=r.getNextSibling();return e}getNextSibling(){const e=this.getLatest().__next;return e===null?null:Wn(e)}getNextSiblings(){const e=[];let n=this.getNextSibling();for(;n!==null;)e.push(n),n=n.getNextSibling();return e}getCommonAncestor(e){const n=this.getParents(),r=e.getParents();oe(this)&&n.unshift(this),oe(e)&&r.unshift(e);const i=n.length,o=r.length;if(i===0||o===0||n[i-1]!==r[o-1])return null;const s=new Set(r);for(let a=0;a<i;a++){const l=n[a];if(s.has(l))return l}return null}is(e){return e!=null&&this.__key===e.__key}isBefore(e){if(this===e)return!1;if(e.isParentOf(this))return!0;if(this.isParentOf(e))return!1;const n=this.getCommonAncestor(e);let r=0,i=0,o=this;for(;;){const s=o.getParentOrThrow();if(s===n){r=o.getIndexWithinParent();break}o=s}for(o=e;;){const s=o.getParentOrThrow();if(s===n){i=o.getIndexWithinParent();break}o=s}return r<i}isParentOf(e){const n=this.__key;if(n===e.__key)return!1;let r=e;for(;r!==null;){if(r.__key===n)return!0;r=r.getParent()}return!1}getNodesBetween(e){const n=this.isBefore(e),r=[],i=new Set;let o=this;for(;o!==null;){const s=o.__key;if(i.has(s)||(i.add(s),r.push(o)),o===e)break;const a=oe(o)?n?o.getFirstChild():o.getLastChild():null;if(a!==null){o=a;continue}const l=n?o.getNextSibling():o.getPreviousSibling();if(l!==null){o=l;continue}const c=o.getParentOrThrow();if(i.has(c.__key)||r.push(c),c===e)break;let u=null,h=c;do{if(h===null&&we(68),u=n?h.getNextSibling():h.getPreviousSibling(),h=h.getParent(),h===null)break;u!==null||i.has(h.__key)||r.push(h)}while(u===null);o=u}return n||r.reverse(),r}isDirty(){const e=yn()._dirtyLeaves;return e!==null&&e.has(this.__key)}getLatest(){const e=Wn(this.__key);return e===null&&we(113),e}getWritable(){hi();const e=Da(),n=yn(),r=e._nodeMap,i=this.__key,o=this.getLatest(),s=n._cloneNotNeeded,a=Se();if(a!==null&&a.setCachedNodes(null),s.has(i))return vv(o),o;const l=pA(o);return s.add(i),vv(l),r.set(i,l),l}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(e,n){we(70)}updateDOM(e,n,r){we(71)}exportDOM(e){return{element:this.createDOM(e._config,e)}}exportJSON(){we(72)}static importJSON(e){we(18,this.name)}static transform(){return null}remove(e){DE(this,!0,e)}replace(e,n){hi();let r=Se();r!==null&&(r=r.clone()),K2(this,e);const i=this.getLatest(),o=this.__key,s=e.__key,a=e.getWritable(),l=this.getParentOrThrow().getWritable(),c=l.__size;nu(a);const u=i.getPreviousSibling(),h=i.getNextSibling(),d=i.__prev,f=i.__next,p=i.__parent;if(DE(i,!1,!0),u===null?l.__first=s:u.getWritable().__next=s,a.__prev=d,h===null?l.__last=s:h.getWritable().__prev=s,a.__next=f,a.__parent=p,l.__size=c,n&&(oe(this)&&oe(a)||we(139),this.getChildren().forEach(m=>{a.append(m)})),me(r)){$i(r);const m=r.anchor,x=r.focus;m.key===o&&oR(m,a),x.key===o&&oR(x,a)}return _l()===o&&ur(s),a}insertAfter(e,n=!0){hi(),K2(this,e);const r=this.getWritable(),i=e.getWritable(),o=i.getParent(),s=Se();let a=!1,l=!1;if(o!==null){const f=e.getIndexWithinParent();if(nu(i),me(s)){const p=o.__key,m=s.anchor,x=s.focus;a=m.type==="element"&&m.key===p&&m.offset===f+1,l=x.type==="element"&&x.key===p&&x.offset===f+1}}const c=this.getNextSibling(),u=this.getParentOrThrow().getWritable(),h=i.__key,d=r.__next;if(c===null?u.__last=h:c.getWritable().__prev=h,u.__size++,r.__next=h,i.__next=d,i.__prev=r.__key,i.__parent=r.__parent,n&&me(s)){const f=this.getIndexWithinParent();kv(s,u,f+1);const p=u.__key;a&&s.anchor.set(p,f+2,"element"),l&&s.focus.set(p,f+2,"element")}return e}insertBefore(e,n=!0){hi(),K2(this,e);const r=this.getWritable(),i=e.getWritable(),o=i.__key;nu(i);const s=this.getPreviousSibling(),a=this.getParentOrThrow().getWritable(),l=r.__prev,c=this.getIndexWithinParent();s===null?a.__first=o:s.getWritable().__next=o,a.__size++,r.__prev=o,i.__prev=l,i.__next=r.__key,i.__parent=r.__parent;const u=Se();return n&&me(u)&&kv(u,this.getParentOrThrow(),c),e}isParentRequired(){return!1}createParentElementNode(){return Zt()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(e,n){hi();const r=this.getPreviousSibling(),i=this.getParentOrThrow();if(r===null)return i.select(0,0);if(oe(r))return r.select();if(!ye(r)){const o=r.getIndexWithinParent()+1;return i.select(o,o)}return r.select(e,n)}selectNext(e,n){hi();const r=this.getNextSibling(),i=this.getParentOrThrow();if(r===null)return i.select();if(oe(r))return r.select(0,0);if(!ye(r)){const o=r.getIndexWithinParent();return i.select(o,o)}return r.select(e,n)}markDirty(){this.getWritable()}}class Fm extends k_{static getType(){return"linebreak"}static clone(e){return new Fm(e.__key)}constructor(e){super(e)}getTextContent(){return`
`}createDOM(){return document.createElement("br")}updateDOM(){return!1}static importDOM(){return{br:e=>function(n){const r=n.parentElement;if(r!==null&&_v(r)){const i=r.firstChild;if(i===n||i.nextSibling===n&&Xg(i)){const o=r.lastChild;if(o===n||o.previousSibling===n&&Xg(o))return!0}}return!1}(e)||function(n){const r=n.parentElement;if(r!==null&&_v(r)){const i=r.firstChild;if(i===n||i.nextSibling===n&&Xg(i))return!1;const o=r.lastChild;if(o===n||o.previousSibling===n&&Xg(o))return!0}return!1}(e)?null:{conversion:kpe,priority:0}}}static importJSON(e){return tc()}exportJSON(){return{type:"linebreak",version:1}}}function kpe(t){return{node:tc()}}function tc(){return Os(new Fm)}function jl(t){return t instanceof Fm}function Xg(t){return t.nodeType===xc&&/^( |\t|\r?\n)+$/.test(t.textContent||"")}function Y2(t,e){return 16&e?"code":e&X5?"mark":32&e?"sub":64&e?"sup":null}function Z2(t,e){return 1&e?"strong":2&e?"em":"span"}function Wj(t,e,n,r,i){const o=r.classList;let s=Pp(i,"base");s!==void 0&&o.add(...s),s=Pp(i,"underlineStrikethrough");let a=!1;const l=e&mv&&e&pv;s!==void 0&&(n&mv&&n&pv?(a=!0,l||o.add(...s)):l&&o.remove(...s));for(const c in la){const u=la[c];if(s=Pp(i,c),s!==void 0)if(n&u){if(a&&(c==="underline"||c==="strikethrough")){e&u&&o.remove(...s);continue}e&u&&(!l||c!=="underline")&&c!=="strikethrough"||o.add(...s)}else e&u&&o.remove(...s)}}function qj(t,e,n){const r=e.firstChild,i=n.isComposing(),o=t+(i?__:"");if(r==null)e.textContent=o;else{const s=r.nodeValue;if(s!==o)if(i||Vl){const[a,l,c]=function(u,h){const d=u.length,f=h.length;let p=0,m=0;for(;p<d&&p<f&&u[p]===h[p];)p++;for(;m+p<d&&m+p<f&&u[d-m-1]===h[f-m-1];)m++;return[p,d-p-m,h.slice(p,f-m)]}(s,o);l!==0&&r.deleteData(a,l),r.insertData(a,c)}else r.nodeValue=o}}function nR(t,e,n,r,i,o){qj(i,t,e);const s=o.theme.text;s!==void 0&&Wj(0,0,r,t,s)}function Yg(t,e){const n=document.createElement(e);return n.appendChild(t),n}class qu extends k_{static getType(){return"text"}static clone(e){return new qu(e.__text,e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__format=e.__format,this.__style=e.__style,this.__mode=e.__mode,this.__detail=e.__detail}constructor(e,n){super(n),this.__text=e,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){const e=this.getLatest();return ipe[e.__mode]}getStyle(){return this.getLatest().__style}isToken(){return this.getLatest().__mode===1}isComposing(){return this.__key===_l()}isSegmented(){return this.getLatest().__mode===2}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(e){const n=la[e];return!!(this.getFormat()&n)}isSimpleText(){return this.__type==="text"&&this.__mode===0}getTextContent(){return this.getLatest().__text}getFormatFlags(e,n){return yE(this.getLatest().__format,e,n)}canHaveFormat(){return!0}createDOM(e,n){const r=this.__format,i=Y2(0,r),o=Z2(0,r),s=i===null?o:i,a=document.createElement(s);let l=a;this.hasFormat("code")&&a.setAttribute("spellcheck","false"),i!==null&&(l=document.createElement(o),a.appendChild(l)),nR(l,this,0,r,this.__text,e);const c=this.__style;return c!==""&&(a.style.cssText=c),a}updateDOM(e,n,r){const i=this.__text,o=e.__format,s=this.__format,a=Y2(0,o),l=Y2(0,s),c=Z2(0,o),u=Z2(0,s);if((a===null?c:a)!==(l===null?u:l))return!0;if(a===l&&c!==u){const m=n.firstChild;m==null&&we(48);const x=document.createElement(u);return nR(x,this,0,s,i,r),n.replaceChild(x,m),!1}let h=n;l!==null&&a!==null&&(h=n.firstChild,h==null&&we(49)),qj(i,h,this);const d=r.theme.text;d!==void 0&&o!==s&&Wj(0,o,s,h,d);const f=e.__style,p=this.__style;return f!==p&&(n.style.cssText=p),!1}static importDOM(){return{"#text":()=>({conversion:Rpe,priority:0}),b:()=>({conversion:Ape,priority:0}),code:()=>({conversion:Ga,priority:0}),em:()=>({conversion:Ga,priority:0}),i:()=>({conversion:Ga,priority:0}),s:()=>({conversion:Ga,priority:0}),span:()=>({conversion:Tpe,priority:0}),strong:()=>({conversion:Ga,priority:0}),sub:()=>({conversion:Ga,priority:0}),sup:()=>({conversion:Ga,priority:0}),u:()=>({conversion:Ga,priority:0})}}static importJSON(e){const n=jn(e.text);return n.setFormat(e.format),n.setDetail(e.detail),n.setMode(e.mode),n.setStyle(e.style),n}exportDOM(e){let{element:n}=super.exportDOM(e);return n!==null&&ba(n)||we(132),n.style.whiteSpace="pre-wrap",this.hasFormat("bold")&&(n=Yg(n,"b")),this.hasFormat("italic")&&(n=Yg(n,"i")),this.hasFormat("strikethrough")&&(n=Yg(n,"s")),this.hasFormat("underline")&&(n=Yg(n,"u")),{element:n}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),type:"text",version:1}}selectionTransform(e,n){}setFormat(e){const n=this.getWritable();return n.__format=typeof e=="string"?la[e]:e,n}setDetail(e){const n=this.getWritable();return n.__detail=typeof e=="string"?tpe[e]:e,n}setStyle(e){const n=this.getWritable();return n.__style=e,n}toggleFormat(e){const n=yE(this.getFormat(),e,null);return this.setFormat(n)}toggleDirectionless(){const e=this.getWritable();return e.__detail^=1,e}toggleUnmergeable(){const e=this.getWritable();return e.__detail^=2,e}setMode(e){const n=rpe[e];if(this.__mode===n)return this;const r=this.getWritable();return r.__mode=n,r}setTextContent(e){if(this.__text===e)return this;const n=this.getWritable();return n.__text=e,n}select(e,n){hi();let r=e,i=n;const o=Se(),s=this.getTextContent(),a=this.__key;if(typeof s=="string"){const l=s.length;r===void 0&&(r=l),i===void 0&&(i=l)}else r=0,i=0;if(!me(o))return Jj(a,r,a,i,"text","text");{const l=_l();l!==o.anchor.key&&l!==o.focus.key||ur(a),o.setTextNodeRange(this,r,this,i)}return o}selectStart(){return this.select(0,0)}selectEnd(){const e=this.getTextContentSize();return this.select(e,e)}spliceText(e,n,r,i){const o=this.getWritable(),s=o.__text,a=r.length;let l=e;l<0&&(l=a+l,l<0&&(l=0));const c=Se();if(i&&me(c)){const h=e+a;c.setTextNodeRange(o,h,o,h)}const u=s.slice(0,l)+r+s.slice(l+n);return o.__text=u,o}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...e){hi();const n=this.getLatest(),r=n.getTextContent(),i=n.__key,o=_l(),s=new Set(e),a=[],l=r.length;let c="";for(let S=0;S<l;S++)c!==""&&s.has(S)&&(a.push(c),c=""),c+=r[S];c!==""&&a.push(c);const u=a.length;if(u===0)return[];if(a[0]===r)return[n];const h=a[0],d=n.getParent();let f;const p=n.getFormat(),m=n.getStyle(),x=n.__detail;let v=!1;n.isSegmented()?(f=jn(h),f.__format=p,f.__style=m,f.__detail=x,v=!0):(f=n.getWritable(),f.__text=h);const y=Se(),_=[f];let C=h.length;for(let S=1;S<u;S++){const k=a[S],b=k.length,w=jn(k).getWritable();w.__format=p,w.__style=m,w.__detail=x;const A=w.__key,E=C+b;if(me(y)){const R=y.anchor,D=y.focus;R.key===i&&R.type==="text"&&R.offset>C&&R.offset<=E&&(R.key=A,R.offset-=C,y.dirty=!0),D.key===i&&D.type==="text"&&D.offset>C&&D.offset<=E&&(D.key=A,D.offset-=C,y.dirty=!0)}o===i&&ur(A),C=E,_.push(w)}if(d!==null){(function(b){const w=b.getPreviousSibling(),A=b.getNextSibling();w!==null&&vv(w),A!==null&&vv(A)})(this);const S=d.getWritable(),k=this.getIndexWithinParent();v?(S.splice(k,0,_),this.remove()):S.splice(k,1,_),me(y)&&kv(y,d,k,u-1)}return _}mergeWithSibling(e){const n=e===this.getPreviousSibling();n||e===this.getNextSibling()||we(50);const r=this.__key,i=e.__key,o=this.__text,s=o.length;_l()===i&&ur(r);const a=Se();if(me(a)){const h=a.anchor,d=a.focus;h!==null&&h.key===i&&(hR(h,n,r,e,s),a.dirty=!0),d!==null&&d.key===i&&(hR(d,n,r,e,s),a.dirty=!0)}const l=e.__text,c=n?l+o:o+l;this.setTextContent(c);const u=this.getWritable();return e.remove(),u}isTextEntity(){return!1}}function Tpe(t){return{forChild:mA(t.style),node:null}}function Ape(t){const e=t,n=e.style.fontWeight==="normal";return{forChild:mA(e.style,n?void 0:"bold"),node:null}}const rR=new WeakMap;function Ipe(t){return t.nodeName==="PRE"||t.nodeType===Om&&t.style!==void 0&&t.style.whiteSpace!==void 0&&t.style.whiteSpace.startsWith("pre")}function Rpe(t){const e=t;t.parentElement===null&&we(129);let n=e.textContent||"";if(function(r){let i,o=r.parentNode;const s=[r];for(;o!==null&&(i=rR.get(o))===void 0&&!Ipe(o);)s.push(o),o=o.parentNode;const a=i===void 0?o:i;for(let l=0;l<s.length;l++)rR.set(s[l],a);return a}(e)!==null){const r=n.split(/(\r?\n|\t)/),i=[],o=r.length;for(let s=0;s<o;s++){const a=r[s];a===`
`||a===`\r
`?i.push(tc()):a==="	"?i.push(Vm()):a!==""&&i.push(jn(a))}return{node:i}}if(n=n.replace(/\r/g,"").replace(/[ \t\n]+/g," "),n==="")return{node:null};if(n[0]===" "){let r=e,i=!0;for(;r!==null&&(r=iR(r,!1))!==null;){const o=r.textContent||"";if(o.length>0){/[ \t\n]$/.test(o)&&(n=n.slice(1)),i=!1;break}}i&&(n=n.slice(1))}if(n[n.length-1]===" "){let r=e,i=!0;for(;r!==null&&(r=iR(r,!0))!==null;)if((r.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){i=!1;break}i&&(n=n.slice(0,n.length-1))}return n===""?{node:null}:{node:jn(n)}}function iR(t,e){let n=t;for(;;){let r;for(;(r=e?n.nextSibling:n.previousSibling)===null;){const o=n.parentElement;if(o===null)return null;n=o}if(n=r,n.nodeType===Om){const o=n.style.display;if(o===""&&!wE(n)||o!==""&&!o.startsWith("inline"))return null}let i=n;for(;(i=e?n.firstChild:n.lastChild)!==null;)n=i;if(n.nodeType===xc)return n;if(n.nodeName==="BR")return null}}const Ppe={code:"code",em:"italic",i:"italic",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function Ga(t){const e=Ppe[t.nodeName.toLowerCase()];return e===void 0?{node:null}:{forChild:mA(t.style,e),node:null}}function jn(t=""){return Os(new qu(t))}function ye(t){return t instanceof qu}function mA(t,e){const n=t.fontWeight,r=t.textDecoration.split(" "),i=n==="700"||n==="bold",o=r.includes("line-through"),s=t.fontStyle==="italic",a=r.includes("underline"),l=t.verticalAlign;return c=>(ye(c)&&(i&&!c.hasFormat("bold")&&c.toggleFormat("bold"),o&&!c.hasFormat("strikethrough")&&c.toggleFormat("strikethrough"),s&&!c.hasFormat("italic")&&c.toggleFormat("italic"),a&&!c.hasFormat("underline")&&c.toggleFormat("underline"),l!=="sub"||c.hasFormat("subscript")||c.toggleFormat("subscript"),l!=="super"||c.hasFormat("superscript")||c.toggleFormat("superscript"),e&&!c.hasFormat(e)&&c.toggleFormat(e)),c)}class Bm extends qu{static getType(){return"tab"}static clone(e){return new Bm(e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__text=e.__text}constructor(e){super("	",e),this.__detail=2}static importDOM(){return null}static importJSON(e){const n=Vm();return n.setFormat(e.format),n.setStyle(e.style),n}exportJSON(){return{...super.exportJSON(),type:"tab",version:1}}setTextContent(e){we(126)}setDetail(e){we(127)}setMode(e){we(128)}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function Vm(){return Os(new Bm)}function Dpe(t){return t instanceof Bm}class Mpe{constructor(e,n,r){this._selection=null,this.key=e,this.offset=n,this.type=r}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){let n=this.getNode(),r=e.getNode();const i=this.offset,o=e.offset;if(oe(n)){const s=n.getDescendantByIndex(i);n=s??n}if(oe(r)){const s=r.getDescendantByIndex(o);r=s??r}return n===r?i<o:n.isBefore(r)}getNode(){const e=Wn(this.key);return e===null&&we(20),e}set(e,n,r){const i=this._selection,o=this.key;this.key=e,this.offset=n,this.type=r,jm()||(_l()===o&&ur(e),i!==null&&(i.setCachedNodes(null),i.dirty=!0))}}function Ds(t,e,n){return new Mpe(t,e,n)}function eC(t,e){let n=e.__key,r=t.offset,i="element";if(ye(e)){i="text";const o=e.getTextContentSize();r>o&&(r=o)}else if(!oe(e)){const o=e.getNextSibling();if(ye(o))n=o.__key,r=0,i="text";else{const s=e.getParent();s&&(n=s.__key,r=e.getIndexWithinParent()+1)}}t.set(n,r,i)}function oR(t,e){if(oe(e)){const n=e.getLastDescendant();oe(n)||ye(n)?eC(t,n):eC(t,e)}else eC(t,e)}function il(t,e,n,r){t.key=e,t.offset=n,t.type=r}class T_{constructor(e){this._cachedNodes=null,this._nodes=e,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){if(!qr(e))return!1;const n=this._nodes,r=e._nodes;return n.size===r.size&&Array.from(n).every(i=>r.has(i))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}delete(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(e){return this._nodes.has(e)}clone(){return new T_(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(e){}insertText(){}insertNodes(e){const n=this.getNodes(),r=n.length,i=n[r-1];let o;if(ye(i))o=i.select();else{const s=i.getIndexWithinParent()+1;o=i.getParentOrThrow().select(s,s)}o.insertNodes(e);for(let s=0;s<r;s++)n[s].remove()}getNodes(){const e=this._cachedNodes;if(e!==null)return e;const n=this._nodes,r=[];for(const i of n){const o=Wn(i);o!==null&&r.push(o)}return jm()||(this._cachedNodes=r),r}getTextContent(){const e=this.getNodes();let n="";for(let r=0;r<e.length;r++)n+=e[r].getTextContent();return n}}function me(t){return t instanceof vc}class vc{constructor(e,n,r,i){this.anchor=e,this.focus=n,e._selection=this,n._selection=this,this._cachedNodes=null,this.format=r,this.style=i,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return!!me(e)&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){const e=this._cachedNodes;if(e!==null)return e;const n=this.anchor,r=this.focus,i=n.isBefore(r),o=i?n:r,s=i?r:n;let a=o.getNode(),l=s.getNode();const c=o.offset,u=s.offset;if(oe(a)){const d=a.getDescendantByIndex(c);a=d??a}if(oe(l)){let d=l.getDescendantByIndex(u);d!==null&&d!==a&&l.getChildAtIndex(u)===d&&(d=d.getPreviousSibling()),l=d??l}let h;return h=a.is(l)?oe(a)&&a.getChildrenSize()>0?[]:[a]:a.getNodesBetween(l),jm()||(this._cachedNodes=h),h}setTextNodeRange(e,n,r,i){il(this.anchor,e.__key,n,"text"),il(this.focus,r.__key,i,"text"),this._cachedNodes=null,this.dirty=!0}getTextContent(){const e=this.getNodes();if(e.length===0)return"";const n=e[0],r=e[e.length-1],i=this.anchor,o=this.focus,s=i.isBefore(o),[a,l]=ME(this);let c="",u=!0;for(let h=0;h<e.length;h++){const d=e[h];if(oe(d)&&!d.isInline())u||(c+=`
`),u=!d.isEmpty();else if(u=!1,ye(d)){let f=d.getTextContent();d===n?d===r?i.type==="element"&&o.type==="element"&&o.offset!==i.offset||(f=a<l?f.slice(a,l):f.slice(l,a)):f=s?f.slice(a):f.slice(l):d===r&&(f=s?f.slice(0,l):f.slice(0,a)),c+=f}else!Pt(d)&&!jl(d)||d===r&&this.isCollapsed()||(c+=d.getTextContent())}return c}applyDOMRange(e){const n=yn(),r=n.getEditorState()._selection,i=Gj(e.startContainer,e.startOffset,e.endContainer,e.endOffset,n,r);if(i===null)return;const[o,s]=i;il(this.anchor,o.key,o.offset,o.type),il(this.focus,s.key,s.offset,s.type),this._cachedNodes=null}clone(){const e=this.anchor,n=this.focus;return new vc(Ds(e.key,e.offset,e.type),Ds(n.key,n.offset,n.type),this.format,this.style)}toggleFormat(e){this.format=yE(this.format,e,null),this.dirty=!0}setStyle(e){this.style=e,this.dirty=!0}hasFormat(e){const n=la[e];return!!(this.format&n)}insertRawText(e){const n=e.split(/(\r?\n|\t)/),r=[],i=n.length;for(let o=0;o<i;o++){const s=n[o];s===`
`||s===`\r
`?r.push(tc()):s==="	"?r.push(Vm()):r.push(jn(s))}this.insertNodes(r)}insertText(e){const n=this.anchor,r=this.focus,i=this.format,o=this.style;let s=n,a=r;!this.isCollapsed()&&r.isBefore(n)&&(s=r,a=n),s.type==="element"&&function(x,v,y,_){const C=x.getNode(),S=C.getChildAtIndex(x.offset),k=jn(),b=gr(C)?Zt().append(k):k;k.setFormat(y),k.setStyle(_),S===null?C.append(b):S.insertBefore(b),x.is(v)&&v.set(k.__key,0,"text"),x.set(k.__key,0,"text")}(s,a,i,o);const l=s.offset;let c=a.offset;const u=this.getNodes(),h=u.length;let d=u[0];ye(d)||we(26);const f=d.getTextContent().length,p=d.getParentOrThrow();let m=u[h-1];if(h===1&&a.type==="element"&&(c=f,a.set(s.key,c,"text")),this.isCollapsed()&&l===f&&(d.isSegmented()||d.isToken()||!d.canInsertTextAfter()||!p.canInsertTextAfter()&&d.getNextSibling()===null)){let x=d.getNextSibling();if(ye(x)&&x.canInsertTextBefore()&&!xh(x)||(x=jn(),x.setFormat(i),x.setStyle(o),p.canInsertTextAfter()?d.insertAfter(x):p.insertAfter(x)),x.select(0,0),d=x,e!=="")return void this.insertText(e)}else if(this.isCollapsed()&&l===0&&(d.isSegmented()||d.isToken()||!d.canInsertTextBefore()||!p.canInsertTextBefore()&&d.getPreviousSibling()===null)){let x=d.getPreviousSibling();if(ye(x)&&!xh(x)||(x=jn(),x.setFormat(i),p.canInsertTextBefore()?d.insertBefore(x):p.insertBefore(x)),x.select(),d=x,e!=="")return void this.insertText(e)}else if(d.isSegmented()&&l!==f){const x=jn(d.getTextContent());x.setFormat(i),d.replace(x),d=x}else if(!this.isCollapsed()&&e!==""){const x=m.getParent();if(!p.canInsertTextBefore()||!p.canInsertTextAfter()||oe(x)&&(!x.canInsertTextBefore()||!x.canInsertTextAfter()))return this.insertText(""),Kj(this.anchor,this.focus,null),void this.insertText(e)}if(h===1){if(d.isToken()){const _=jn(e);return _.select(),void d.replace(_)}const x=d.getFormat(),v=d.getStyle();if(l!==c||x===i&&v===o){if(Dpe(d)){const _=jn(e);return _.setFormat(i),_.setStyle(o),_.select(),void d.replace(_)}}else{if(d.getTextContent()!==""){const _=jn(e);if(_.setFormat(i),_.setStyle(o),_.select(),l===0)d.insertBefore(_,!1);else{const[C]=d.splitText(l);C.insertAfter(_,!1)}return void(_.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length))}d.setFormat(i),d.setStyle(o)}const y=c-l;d=d.spliceText(l,y,e,!0),d.getTextContent()===""?d.remove():this.anchor.type==="text"&&(d.isComposing()?this.anchor.offset-=e.length:(this.format=x,this.style=v))}else{const x=new Set([...d.getParentKeys(),...m.getParentKeys()]),v=oe(d)?d:d.getParentOrThrow();let y=oe(m)?m:m.getParentOrThrow(),_=m;if(!v.is(y)&&y.isInline())do _=y,y=y.getParentOrThrow();while(y.isInline());if(a.type==="text"&&(c!==0||m.getTextContent()==="")||a.type==="element"&&m.getIndexWithinParent()<c)if(ye(m)&&!m.isToken()&&c!==m.getTextContentSize()){if(m.isSegmented()){const w=jn(m.getTextContent());m.replace(w),m=w}gr(a.getNode())||a.type!=="text"||(m=m.spliceText(0,c,"")),x.add(m.__key)}else{const w=m.getParentOrThrow();w.canBeEmpty()||w.getChildrenSize()!==1?m.remove():w.remove()}else x.add(m.__key);const C=y.getChildren(),S=new Set(u),k=v.is(y),b=v.isInline()&&d.getNextSibling()===null?v:d;for(let w=C.length-1;w>=0;w--){const A=C[w];if(A.is(d)||oe(A)&&A.isParentOf(d))break;A.isAttached()&&(!S.has(A)||A.is(_)?k||b.insertAfter(A,!1):A.remove())}if(!k){let w=y,A=null;for(;w!==null;){const E=w.getChildren(),R=E.length;(R===0||E[R-1].is(A))&&(x.delete(w.__key),A=w),w=w.getParent()}}if(d.isToken())if(l===f)d.select();else{const w=jn(e);w.select(),d.replace(w)}else d=d.spliceText(l,f-l,e,!0),d.getTextContent()===""?d.remove():d.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length);for(let w=1;w<h;w++){const A=u[w],E=A.__key;x.has(E)||A.remove()}}}removeText(){this.insertText("")}formatText(e){if(this.isCollapsed())return this.toggleFormat(e),void ur(null);const n=this.getNodes(),r=[];for(const y of n)ye(y)&&r.push(y);const i=r.length;if(i===0)return this.toggleFormat(e),void ur(null);const o=this.anchor,s=this.focus,a=this.isBackward(),l=a?s:o,c=a?o:s;let u=0,h=r[0],d=l.type==="element"?0:l.offset;if(l.type==="text"&&d===h.getTextContentSize()&&(u=1,h=r[1],d=0),h==null)return;const f=h.getFormatFlags(e,null),p=i-1;let m=r[p];const x=c.type==="text"?c.offset:m.getTextContentSize();if(h.is(m)){if(d===x)return;if(xh(h)||d===0&&x===h.getTextContentSize())h.setFormat(f);else{const y=h.splitText(d,x),_=d===0?y[0]:y[1];_.setFormat(f),l.type==="text"&&l.set(_.__key,0,"text"),c.type==="text"&&c.set(_.__key,x-d,"text")}return void(this.format=f)}d===0||xh(h)||([,h]=h.splitText(d),d=0),h.setFormat(f);const v=m.getFormatFlags(e,f);x>0&&(x===m.getTextContentSize()||xh(m)||([m]=m.splitText(x)),m.setFormat(v));for(let y=u+1;y<p;y++){const _=r[y],C=_.getFormatFlags(e,v);_.setFormat(C)}l.type==="text"&&l.set(h.__key,d,"text"),c.type==="text"&&c.set(m.__key,x,"text"),this.format=f|v}insertNodes(e){if(e.length===0)return;if(this.anchor.key==="root"){this.insertParagraph();const f=Se();return me(f)||we(134),f.insertNodes(e)}const n=J2((this.isBackward()?this.focus:this.anchor).getNode(),vh),r=e[e.length-1];if("__language"in n&&oe(n)){if("__language"in e[0])this.insertText(e[0].getTextContent());else{const f=tC(this);n.splice(f,0,e),r.selectEnd()}return}if(!e.some(f=>(oe(f)||Pt(f))&&!f.isInline())){oe(n)||we(135);const f=tC(this);return n.splice(f,0,e),void r.selectEnd()}const i=function(f){const p=Zt();let m=null;for(let x=0;x<f.length;x++){const v=f[x],y=jl(v);if(y||Pt(v)&&v.isInline()||oe(v)&&v.isInline()||ye(v)||v.isParentRequired()){if(m===null&&(m=v.createParentElementNode(),p.append(m),y))continue;m!==null&&m.append(v)}else p.append(v),m=null}return p}(e),o=i.getLastDescendant(),s=i.getChildren(),a=!oe(n)||!n.isEmpty()?this.insertParagraph():null,l=s[s.length-1];let c=s[0];var u;oe(u=c)&&vh(u)&&!u.isEmpty()&&oe(n)&&(!n.isEmpty()||n.canMergeWhenEmpty())&&(oe(n)||we(135),n.append(...c.getChildren()),c=s[1]),c&&function(f,p,m){const x=p.getParentOrThrow().getLastChild();let v=p;const y=[p];for(;v!==x;)v.getNextSibling()||we(140),v=v.getNextSibling(),y.push(v);let _=f;for(const C of y)_=_.insertAfter(C)}(n,c);const h=J2(o,vh);a&&oe(h)&&(a.canMergeWhenEmpty()||vh(l))&&(h.append(...a.getChildren()),a.remove()),oe(n)&&n.isEmpty()&&n.remove(),o.selectEnd();const d=oe(n)?n.getLastChild():null;jl(d)&&h!==n&&d.remove()}insertParagraph(){if(this.anchor.key==="root"){const s=Zt();return It().splice(this.anchor.offset,0,[s]),s.select(),s}const e=tC(this),n=J2(this.anchor.getNode(),vh);oe(n)||we(136);const r=n.getChildAtIndex(e),i=r?[r,...r.getNextSiblings()]:[],o=n.insertNewAfter(this,!1);return o?(o.append(...i),o.selectStart(),o):null}insertLineBreak(e){const n=tc();if(this.insertNodes([n]),e){const r=n.getParentOrThrow(),i=n.getIndexWithinParent();r.select(i,i)}}extract(){const e=this.getNodes(),n=e.length,r=n-1,i=this.anchor,o=this.focus;let s=e[0],a=e[r];const[l,c]=ME(this);if(n===0)return[];if(n===1){if(ye(s)&&!this.isCollapsed()){const h=l>c?c:l,d=l>c?l:c,f=s.splitText(h,d),p=h===0?f[0]:f[1];return p!=null?[p]:[]}return[s]}const u=i.isBefore(o);if(ye(s)){const h=u?l:c;h===s.getTextContentSize()?e.shift():h!==0&&([,s]=s.splitText(h),e[0]=s)}if(ye(a)){const h=a.getTextContent().length,d=u?c:l;d===0?e.pop():d!==h&&([a]=a.splitText(d),e[r]=a)}return e}modify(e,n,r){const i=this.focus,o=this.anchor,s=e==="move",a=P0(i,n);if(Pt(a)&&!a.isIsolated()){if(s&&a.isKeyboardSelectable()){const f=NE();return f.add(a.__key),void $i(f)}const d=n?a.getPreviousSibling():a.getNextSibling();if(ye(d)){const f=d.__key,p=n?d.getTextContent().length:0;return i.set(f,p,"text"),void(s&&o.set(f,p,"text"))}{const f=a.getParentOrThrow();let p,m;return oe(d)?(m=d.__key,p=n?d.getChildrenSize():0):(p=a.getIndexWithinParent(),m=f.__key,n||p++),i.set(m,p,"element"),void(s&&o.set(m,p,"element"))}}const l=yn(),c=Ps(l._window);if(!c)return;const u=l._blockCursorElement,h=l._rootElement;if(h===null||u===null||!oe(a)||a.isInline()||a.canBeEmpty()||fA(u,l,h),function(d,f,p,m){d.modify(f,p,m)}(c,e,n?"backward":"forward",r),c.rangeCount>0){const d=c.getRangeAt(0),f=this.anchor.getNode(),p=gr(f)?f:mpe(f);if(this.applyDOMRange(d),this.dirty=!0,!s){const m=this.getNodes(),x=[];let v=!1;for(let y=0;y<m.length;y++){const _=m[y];_E(_,p)?x.push(_):v=!0}if(v&&x.length>0)if(n){const y=x[0];oe(y)?y.selectStart():y.getParentOrThrow().selectStart()}else{const y=x[x.length-1];oe(y)?y.selectEnd():y.getParentOrThrow().selectEnd()}c.anchorNode===d.startContainer&&c.anchorOffset===d.startOffset||function(y){const _=y.focus,C=y.anchor,S=C.key,k=C.offset,b=C.type;il(C,_.key,_.offset,_.type),il(_,S,k,b),y._cachedNodes=null}(this)}}}forwardDeletion(e,n,r){if(!r&&(e.type==="element"&&oe(n)&&e.offset===n.getChildrenSize()||e.type==="text"&&e.offset===n.getTextContentSize())){const i=n.getParent(),o=n.getNextSibling()||(i===null?null:i.getNextSibling());if(oe(o)&&o.isShadowRoot())return!0}return!1}deleteCharacter(e){const n=this.isCollapsed();if(this.isCollapsed()){const r=this.anchor;let i=r.getNode();if(this.forwardDeletion(r,i,e))return;const o=this.focus,s=P0(o,e);if(Pt(s)&&!s.isIsolated()){if(s.isKeyboardSelectable()&&oe(i)&&i.getChildrenSize()===0){i.remove();const a=NE();a.add(s.__key),$i(a)}else s.remove(),yn().dispatchCommand(m_,void 0);return}if(!e&&oe(s)&&oe(i)&&i.isEmpty())return i.remove(),void s.selectStart();if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&r.offset===0&&(r.type==="element"?r.getNode():r.getNode().getParentOrThrow()).collapseAtStart(this))return}else{const a=o.type==="text"?o.getNode():null;if(i=r.type==="text"?r.getNode():null,a!==null&&a.isSegmented()){const l=o.offset,c=a.getTextContentSize();if(a.is(i)||e&&l!==c||!e&&l!==0)return void aR(a,e,l)}else if(i!==null&&i.isSegmented()){const l=r.offset,c=i.getTextContentSize();if(i.is(a)||e&&l!==0||!e&&l!==c)return void aR(i,e,l)}(function(l,c){const u=l.anchor,h=l.focus,d=u.getNode(),f=h.getNode();if(d===f&&u.type==="text"&&h.type==="text"){const p=u.offset,m=h.offset,x=p<m,v=x?p:m,y=x?m:p,_=y-1;v!==_&&(Tj(d.getTextContent().slice(v,y))||(c?h.offset=_:u.offset=_))}})(this,e)}}if(this.removeText(),e&&!n&&this.isCollapsed()&&this.anchor.type==="element"&&this.anchor.offset===0){const r=this.anchor.getNode();r.isEmpty()&&gr(r.getParent())&&r.getIndexWithinParent()===0&&r.collapseAtStart(this)}}deleteLine(e){if(this.isCollapsed()){const n=this.anchor.type==="element";if(n&&this.insertText(" "),this.modify("extend",e,"lineboundary"),(e?this.focus:this.anchor).offset===0&&this.modify("extend",e,"character"),n){const r=e?this.anchor:this.focus;r.set(r.key,r.offset+1,r.type)}}this.removeText()}deleteWord(e){if(this.isCollapsed()){const n=this.anchor,r=n.getNode();if(this.forwardDeletion(n,r,e))return;this.modify("extend",e,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}}function qr(t){return t instanceof T_}function sR(t){const e=t.offset;if(t.type==="text")return e;const n=t.getNode();return e===n.getChildrenSize()?n.getTextContent().length:0}function ME(t){const e=t.getStartEndPoints();if(e===null)return[0,0];const[n,r]=e;return n.type==="element"&&r.type==="element"&&n.key===r.key&&n.offset===r.offset?[0,0]:[sR(n),sR(r)]}function aR(t,e,n){const r=t,i=r.getTextContent().split(/(?=\s)/g),o=i.length;let s=0,a=0;for(let c=0;c<o;c++){const u=c===o-1;if(a=s,s+=i[c].length,e&&s===n||s>n||u){i.splice(c,1),u&&(a=void 0);break}}const l=i.join("").trim();l===""?r.remove():(r.setTextContent(l),r.select(a,a))}function lR(t,e,n,r){let i,o=e;if(t.nodeType===Om){let s=!1;const a=t.childNodes,l=a.length,c=r._blockCursorElement;o===l&&(s=!0,o=l-1);let u=a[o],h=!1;if(u===c)u=a[o+1],h=!0;else if(c!==null){const d=c.parentNode;t===d&&e>Array.prototype.indexOf.call(d.children,c)&&o--}if(i=Fh(u),ye(i))o=U6(i,s);else{let d=Fh(t);if(d===null)return null;if(oe(d)){o=Math.min(d.getChildrenSize(),o);let f=d.getChildAtIndex(o);if(oe(f)&&function(p,m,x){const v=p.getParent();return x===null||v===null||!v.canBeEmpty()||v!==x.getNode()}(f,0,n)){const p=s?f.getLastDescendant():f.getFirstDescendant();p===null?d=f:(f=p,d=oe(f)?f:f.getParentOrThrow()),o=0}ye(f)?(i=f,d=null,o=U6(f,s)):f!==d&&s&&!h&&o++}else{const f=d.getIndexWithinParent();o=e===0&&Pt(d)&&Fh(t)===d?f:f+1,d=d.getParentOrThrow()}if(oe(d))return Ds(d.__key,o,"element")}}else i=Fh(t);return ye(i)?Ds(i.__key,o,"text"):null}function cR(t,e,n){const r=t.offset,i=t.getNode();if(r===0){const o=i.getPreviousSibling(),s=i.getParent();if(e){if((n||!e)&&o===null&&oe(s)&&s.isInline()){const a=s.getPreviousSibling();ye(a)&&(t.key=a.__key,t.offset=a.getTextContent().length)}}else oe(o)&&!n&&o.isInline()?(t.key=o.__key,t.offset=o.getChildrenSize(),t.type="element"):ye(o)&&(t.key=o.__key,t.offset=o.getTextContent().length)}else if(r===i.getTextContent().length){const o=i.getNextSibling(),s=i.getParent();if(e&&oe(o)&&o.isInline())t.key=o.__key,t.offset=0,t.type="element";else if((n||e)&&o===null&&oe(s)&&s.isInline()&&!s.canInsertTextAfter()){const a=s.getNextSibling();ye(a)&&(t.key=a.__key,t.offset=0)}}}function Kj(t,e,n){if(t.type==="text"&&e.type==="text"){const r=t.isBefore(e),i=t.is(e);cR(t,r,i),cR(e,!r,i),i&&(e.key=t.key,e.offset=t.offset,e.type=t.type);const o=yn();if(o.isComposing()&&o._compositionKey!==t.key&&me(n)){const s=n.anchor,a=n.focus;il(t,s.key,s.offset,s.type),il(e,a.key,a.offset,a.type)}}}function Gj(t,e,n,r,i,o){if(t===null||n===null||!Lm(i,t,n))return null;const s=lR(t,e,me(o)?o.anchor:null,i);if(s===null)return null;const a=lR(n,r,me(o)?o.focus:null,i);if(a===null)return null;if(s.type==="element"&&a.type==="element"){const l=Fh(t),c=Fh(n);if(Pt(l)&&Pt(c))return null}return Kj(s,a,o),[s,a]}function Sv(t){return oe(t)&&!t.isInline()}function Jj(t,e,n,r,i,o){const s=Da(),a=new vc(Ds(t,e,i),Ds(n,r,o),0,"");return a.dirty=!0,s._selection=a,a}function Qj(){const t=Ds("root",0,"element"),e=Ds("root",0,"element");return new vc(t,e,0,"")}function NE(){return new T_(new Set)}function gA(t,e,n,r){const i=n._window;if(i===null)return null;const o=r||i.event,s=o?o.type:void 0,a=s==="selectionchange",l=!vE&&(a||s==="beforeinput"||s==="compositionstart"||s==="compositionend"||s==="click"&&o&&o.detail===3||s==="drop"||s===void 0);let c,u,h,d;if(me(t)&&!l)return t.clone();if(e===null)return null;if(c=e.anchorNode,u=e.focusNode,h=e.anchorOffset,d=e.focusOffset,a&&me(t)&&!Lm(n,c,u))return t.clone();const f=Gj(c,h,u,d,n,t);if(f===null)return null;const[p,m]=f;return new vc(p,m,me(t)?t.format:0,me(t)?t.style:"")}function Se(){return Da()._selection}function nf(){return yn()._editorState._selection}function kv(t,e,n,r=1){const i=t.anchor,o=t.focus,s=i.getNode(),a=o.getNode();if(!e.is(s)&&!e.is(a))return;const l=e.__key;if(t.isCollapsed()){const c=i.offset;if(n<=c&&r>0||n<c&&r<0){const u=Math.max(0,c+r);i.set(l,u,"element"),o.set(l,u,"element"),uR(t)}}else{const c=t.isBackward(),u=c?o:i,h=u.getNode(),d=c?i:o,f=d.getNode();if(e.is(h)){const p=u.offset;(n<=p&&r>0||n<p&&r<0)&&u.set(l,Math.max(0,p+r),"element")}if(e.is(f)){const p=d.offset;(n<=p&&r>0||n<p&&r<0)&&d.set(l,Math.max(0,p+r),"element")}}uR(t)}function uR(t){const e=t.anchor,n=e.offset,r=t.focus,i=r.offset,o=e.getNode(),s=r.getNode();if(t.isCollapsed()){if(!oe(o))return;const a=o.getChildrenSize(),l=n>=a,c=l?o.getChildAtIndex(a-1):o.getChildAtIndex(n);if(ye(c)){let u=0;l&&(u=c.getTextContentSize()),e.set(c.__key,u,"text"),r.set(c.__key,u,"text")}}else{if(oe(o)){const a=o.getChildrenSize(),l=n>=a,c=l?o.getChildAtIndex(a-1):o.getChildAtIndex(n);if(ye(c)){let u=0;l&&(u=c.getTextContentSize()),e.set(c.__key,u,"text")}}if(oe(s)){const a=s.getChildrenSize(),l=i>=a,c=l?s.getChildAtIndex(a-1):s.getChildAtIndex(i);if(ye(c)){let u=0;l&&(u=c.getTextContentSize()),r.set(c.__key,u,"text")}}}}function Tv(t,e,n,r,i){let o=null,s=0,a=null;r!==null?(o=r.__key,ye(r)?(s=r.getTextContentSize(),a="text"):oe(r)&&(s=r.getChildrenSize(),a="element")):i!==null&&(o=i.__key,ye(i)?a="text":oe(i)&&(a="element")),o!==null&&a!==null?t.set(o,s,a):(s=e.getIndexWithinParent(),s===-1&&(s=n.getChildrenSize()),t.set(n.__key,s,"element"))}function hR(t,e,n,r,i){t.type==="text"?(t.key=n,e||(t.offset+=i)):t.offset>r.getIndexWithinParent()&&(t.offset-=1)}function Npe(t,e,n,r,i,o,s){const a=r.anchorNode,l=r.focusNode,c=r.anchorOffset,u=r.focusOffset,h=document.activeElement;if(i.has("collaboration")&&h!==o||h!==null&&sA(h))return;if(!me(e))return void(t!==null&&Lm(n,a,l)&&r.removeAllRanges());const d=e.anchor,f=e.focus,p=d.key,m=f.key,x=yv(n,p),v=yv(n,m),y=d.offset,_=f.offset,C=e.format,S=e.style,k=e.isCollapsed();let b=x,w=v,A=!1;if(d.type==="text"){b=xv(x);const $=d.getNode();A=$.getFormat()!==C||$.getStyle()!==S}else me(t)&&t.anchor.type==="text"&&(A=!0);var E,R,D,N,j;if(f.type==="text"&&(w=xv(v)),b!==null&&w!==null&&(k&&(t===null||A||me(t)&&(t.format!==C||t.style!==S))&&(E=C,R=S,D=y,N=p,j=performance.now(),jj=[E,R,D,N,j]),c!==y||u!==_||a!==b||l!==w||r.type==="Range"&&k||(h!==null&&o.contains(h)||o.focus({preventScroll:!0}),d.type==="element"))){try{r.setBaseAndExtent(b,y,w,_)}catch{}if(!i.has("skip-scroll-into-view")&&e.isCollapsed()&&o!==null&&o===document.activeElement){const $=e instanceof vc&&e.anchor.type==="element"?b.childNodes[y]||null:r.rangeCount>0?r.getRangeAt(0):null;if($!==null){let Q;if($ instanceof Text){const X=document.createRange();X.selectNode($),Q=X.getBoundingClientRect()}else Q=$.getBoundingClientRect();(function(X,q,H){const L=H.ownerDocument,U=L.defaultView;if(U===null)return;let{top:K,bottom:O}=q,J=0,Ee=0,fe=H;for(;fe!==null;){const ue=fe===L.body;if(ue)J=0,Ee=E_(X).innerHeight;else{const ze=fe.getBoundingClientRect();J=ze.top,Ee=ze.bottom}let de=0;if(K<J?de=-(J-K):O>Ee&&(de=O-Ee),de!==0)if(ue)U.scrollBy(0,de);else{const ze=fe.scrollTop;fe.scrollTop+=de;const Oe=fe.scrollTop-ze;K-=Oe,O-=Oe}if(ue)break;fe=b_(fe)}})(n,Q,o)}}RE=!0}}function xA(t){let e=Se()||nf();e===null&&(e=It().selectEnd()),e.insertNodes(t)}function tC(t){let e=t;t.isCollapsed()||e.removeText();const n=Se();me(n)&&(e=n),me(e)||we(161);const r=e.anchor;let i=r.getNode(),o=r.offset;for(;!vh(i);)[i,o]=Ope(i,o);return o}function Ope(t,e){const n=t.getParent();if(!n){const i=Zt();return It().append(i),i.select(),[It(),0]}if(ye(t)){const i=t.splitText(e);if(i.length===0)return[n,t.getIndexWithinParent()];const o=e===0?0:1;return[n,i[0].getIndexWithinParent()+o]}if(!oe(t)||e===0)return[n,t.getIndexWithinParent()];const r=t.getChildAtIndex(e);if(r){const i=new vc(Ds(t.__key,e,"element"),Ds(t.__key,e,"element"),0,""),o=t.insertNewAfter(i);o&&o.append(r,...r.getNextSiblings())}return[n,t.getIndexWithinParent()+1]}let Zn=null,er=null,_i=!1,nC=!1,nx=0;const dR={characterData:!0,childList:!0,subtree:!0};function jm(){return _i||Zn!==null&&Zn._readOnly}function hi(){_i&&we(13)}function Xj(){nx>99&&we(14)}function Da(){return Zn===null&&we(195,Yj()),Zn}function yn(){return er===null&&we(196,Yj()),er}function Yj(){let t=0;const e=new Set,n=I_.version;if(typeof window<"u")for(const i of document.querySelectorAll("[contenteditable]")){const o=w_(i);if(aA(o))t++;else if(o){let s=String(o.constructor.version||"<0.17.1");s===n&&(s+=" (separately built, likely a bundler configuration issue)"),e.add(s)}}let r=` Detected on the page: ${t} compatible editor(s) with version ${n}`;return e.size&&(r+=` and incompatible editors with versions ${Array.from(e).join(", ")}`),r}function Lpe(){return er}function fR(t,e,n){const r=e.__type,i=function(a,l){const c=a._nodes.get(l);return c===void 0&&we(30,l),c}(t,r);let o=n.get(r);o===void 0&&(o=Array.from(i.transforms),n.set(r,o));const s=o.length;for(let a=0;a<s&&(o[a](e),e.isAttached());a++);}function pR(t,e){return t!==void 0&&t.__key!==e&&t.isAttached()}function Fpe(t){return vA(t,yn()._nodes)}function vA(t,e){const n=t.type,r=e.get(n);r===void 0&&we(17,n);const i=r.klass;t.type!==i.getType()&&we(18,i.name);const o=i.importJSON(t),s=t.children;if(oe(o)&&Array.isArray(s))for(let a=0;a<s.length;a++){const l=vA(s[a],e);o.append(l)}return o}function mR(t,e,n){const r=Zn,i=_i,o=er;Zn=e,_i=!0,er=t;try{return n()}finally{Zn=r,_i=i,er=o}}function wl(t,e){const n=t._pendingEditorState,r=t._rootElement,i=t._headless||r===null;if(n===null)return;const o=t._editorState,s=o._selection,a=n._selection,l=t._dirtyType!==yu,c=Zn,u=_i,h=er,d=t._updating,f=t._observer;let p=null;if(t._pendingEditorState=null,t._editorState=n,!i&&l&&f!==null){er=t,Zn=n,_i=!1,t._updating=!0;try{const k=t._dirtyType,b=t._dirtyElements,w=t._dirtyLeaves;f.disconnect(),p=Epe(o,n,t,k,b,w)}catch(k){if(k instanceof Error&&t._onError(k),nC)throw k;return nz(t,null,r,n),wj(t),t._dirtyType=Rd,nC=!0,wl(t,o),void(nC=!1)}finally{f.observe(r,dR),t._updating=d,Zn=c,_i=u,er=h}}n._readOnly||(n._readOnly=!0);const m=t._dirtyLeaves,x=t._dirtyElements,v=t._normalizedNodes,y=t._updateTags,_=t._deferred;l&&(t._dirtyType=yu,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements=new Map,t._normalizedNodes=new Set,t._updateTags=new Set),function(k,b){const w=k._decorators;let A=k._pendingDecorators||w;const E=b._nodeMap;let R;for(R in A)E.has(R)||(A===w&&(A=Sj(k)),delete A[R])}(t,n);const C=i?null:Ps(t._window);if(t._editable&&C!==null&&(l||a===null||a.dirty)){er=t,Zn=n;try{if(f!==null&&f.disconnect(),l||a===null||a.dirty){const k=t._blockCursorElement;k!==null&&fA(k,t,r),Npe(s,a,t,C,y,r)}xpe(t,r,a),f!==null&&f.observe(r,dR)}finally{er=h,Zn=c}}p!==null&&function(k,b,w,A,E){const R=Array.from(k._listeners.mutation),D=R.length;for(let N=0;N<D;N++){const[j,$]=R[N],Q=b.get($);Q!==void 0&&j(Q,{dirtyLeaves:A,prevEditorState:E,updateTags:w})}}(t,p,y,m,o),me(a)||a===null||s!==null&&s.is(a)||t.dispatchCommand(m_,void 0);const S=t._pendingDecorators;S!==null&&(t._decorators=S,t._pendingDecorators=null,Np("decorator",t,!0,S)),function(k,b,w){const A=H6(b),E=H6(w);A!==E&&Np("textcontent",k,!0,E)}(t,e||o,n),Np("update",t,!0,{dirtyElements:x,dirtyLeaves:m,editorState:n,normalizedNodes:v,prevEditorState:e||o,tags:y}),function(k,b){if(k._deferred=[],b.length!==0){const w=k._updating;k._updating=!0;try{for(let A=0;A<b.length;A++)b[A]()}finally{k._updating=w}}}(t,_),function(k){const b=k._updates;if(b.length!==0){const w=b.shift();if(w){const[A,E]=w;ez(k,A,E)}}}(t)}function Np(t,e,n,...r){const i=e._updating;e._updating=n;try{const o=Array.from(e._listeners[t]);for(let s=0;s<o.length;s++)o[s].apply(null,r)}finally{e._updating=i}}function Zj(t,e,n){if(t._updating===!1||er!==t){let i=!1;return t.update(()=>{i=Zj(t,e,n)}),i}const r=cA(t);for(let i=4;i>=0;i--)for(let o=0;o<r.length;o++){const s=r[o]._commands.get(e);if(s!==void 0){const a=s[i];if(a!==void 0){const l=Array.from(a),c=l.length;for(let u=0;u<c;u++)if(l[u](n,t)===!0)return!0}}}return!1}function gR(t,e){const n=t._updates;let r=e||!1;for(;n.length!==0;){const i=n.shift();if(i){const[o,s]=i;let a,l;if(s!==void 0){if(a=s.onUpdate,l=s.tag,s.skipTransforms&&(r=!0),s.discrete){const c=t._pendingEditorState;c===null&&we(191),c._flushSync=!0}a&&t._deferred.push(a),l&&t._updateTags.add(l)}o()}}return r}function ez(t,e,n){const r=t._updateTags;let i,o,s=!1,a=!1;n!==void 0&&(i=n.onUpdate,o=n.tag,o!=null&&r.add(o),s=n.skipTransforms||!1,a=n.discrete||!1),i&&t._deferred.push(i);const l=t._editorState;let c=t._pendingEditorState,u=!1;(c===null||c._readOnly)&&(c=t._pendingEditorState=new A_(new Map((c||l)._nodeMap)),u=!0),c._flushSync=a;const h=Zn,d=_i,f=er,p=t._updating;Zn=c,_i=!1,t._updating=!0,er=t;try{u&&(t._headless?l._selection!==null&&(c._selection=l._selection.clone()):c._selection=function(y){const _=y.getEditorState()._selection,C=Ps(y._window);return me(_)||_==null?gA(_,C,y,null):_.clone()}(t));const x=t._compositionKey;e(),s=gR(t,s),function(y,_){const C=_.getEditorState()._selection,S=y._selection;if(me(S)){const k=S.anchor,b=S.focus;let w;if(k.type==="text"&&(w=k.getNode(),w.selectionTransform(C,S)),b.type==="text"){const A=b.getNode();w!==A&&A.selectionTransform(C,S)}}}(c,t),t._dirtyType!==yu&&(s?function(y,_){const C=_._dirtyLeaves,S=y._nodeMap;for(const k of C){const b=S.get(k);ye(b)&&b.isAttached()&&b.isSimpleText()&&!b.isUnmergeable()&&z6(b)}}(c,t):function(y,_){const C=_._dirtyLeaves,S=_._dirtyElements,k=y._nodeMap,b=_l(),w=new Map;let A=C,E=A.size,R=S,D=R.size;for(;E>0||D>0;){if(E>0){_._dirtyLeaves=new Set;for(const N of A){const j=k.get(N);ye(j)&&j.isAttached()&&j.isSimpleText()&&!j.isUnmergeable()&&z6(j),j!==void 0&&pR(j,b)&&fR(_,j,w),C.add(N)}if(A=_._dirtyLeaves,E=A.size,E>0){nx++;continue}}_._dirtyLeaves=new Set,_._dirtyElements=new Map;for(const N of R){const j=N[0],$=N[1];if(j!=="root"&&!$)continue;const Q=k.get(j);Q!==void 0&&pR(Q,b)&&fR(_,Q,w),S.set(j,$)}A=_._dirtyLeaves,E=A.size,R=_._dirtyElements,D=R.size,nx++}_._dirtyLeaves=C,_._dirtyElements=S}(c,t),gR(t),function(y,_,C,S){const k=y._nodeMap,b=_._nodeMap,w=[];for(const[A]of S){const E=b.get(A);E!==void 0&&(E.isAttached()||(oe(E)&&Pj(E,A,k,b,w,S),k.has(A)||S.delete(A),w.push(A)))}for(const A of w)b.delete(A);for(const A of C){const E=b.get(A);E===void 0||E.isAttached()||(k.has(A)||C.delete(A),b.delete(A))}}(l,c,t._dirtyLeaves,t._dirtyElements)),x!==t._compositionKey&&(c._flushSync=!0);const v=c._selection;if(me(v)){const y=c._nodeMap,_=v.anchor.key,C=v.focus.key;y.get(_)!==void 0&&y.get(C)!==void 0||we(19)}else qr(v)&&v._nodes.size===0&&(c._selection=null)}catch(x){return x instanceof Error&&t._onError(x),t._pendingEditorState=l,t._dirtyType=Rd,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements.clear(),void wl(t)}finally{Zn=h,_i=d,er=f,t._updating=p,nx=0}t._dirtyType!==yu||function(x,v){const y=v.getEditorState()._selection,_=x._selection;if(_!==null){if(_.dirty||!_.is(y))return!0}else if(y!==null)return!0;return!1}(c,t)?c._flushSync?(c._flushSync=!1,wl(t)):u&&hpe(()=>{wl(t)}):(c._flushSync=!1,u&&(r.clear(),t._deferred=[],t._pendingEditorState=null))}function Di(t,e,n){t._updating?t._updates.push([e,n]):ez(t,e,n)}class Ma extends k_{constructor(e){super(e),this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__style="",this.__indent=0,this.__dir=null}afterCloneFrom(e){super.afterCloneFrom(e),this.__first=e.__first,this.__last=e.__last,this.__size=e.__size,this.__indent=e.__indent,this.__format=e.__format,this.__style=e.__style,this.__dir=e.__dir}getFormat(){return this.getLatest().__format}getFormatType(){const e=this.getFormat();return npe[e]||""}getStyle(){return this.getLatest().__style}getIndent(){return this.getLatest().__indent}getChildren(){const e=[];let n=this.getFirstChild();for(;n!==null;)e.push(n),n=n.getNextSibling();return e}getChildrenKeys(){const e=[];let n=this.getFirstChild();for(;n!==null;)e.push(n.__key),n=n.getNextSibling();return e}getChildrenSize(){return this.getLatest().__size}isEmpty(){return this.getChildrenSize()===0}isDirty(){const e=yn()._dirtyElements;return e!==null&&e.has(this.__key)}isLastChild(){const e=this.getLatest(),n=this.getParentOrThrow().getLastChild();return n!==null&&n.is(e)}getAllTextNodes(){const e=[];let n=this.getFirstChild();for(;n!==null;){if(ye(n)&&e.push(n),oe(n)){const r=n.getAllTextNodes();e.push(...r)}n=n.getNextSibling()}return e}getFirstDescendant(){let e=this.getFirstChild();for(;oe(e);){const n=e.getFirstChild();if(n===null)break;e=n}return e}getLastDescendant(){let e=this.getLastChild();for(;oe(e);){const n=e.getLastChild();if(n===null)break;e=n}return e}getDescendantByIndex(e){const n=this.getChildren(),r=n.length;if(e>=r){const o=n[r-1];return oe(o)&&o.getLastDescendant()||o||null}const i=n[e];return oe(i)&&i.getFirstDescendant()||i||null}getFirstChild(){const e=this.getLatest().__first;return e===null?null:Wn(e)}getFirstChildOrThrow(){const e=this.getFirstChild();return e===null&&we(45,this.__key),e}getLastChild(){const e=this.getLatest().__last;return e===null?null:Wn(e)}getLastChildOrThrow(){const e=this.getLastChild();return e===null&&we(96,this.__key),e}getChildAtIndex(e){const n=this.getChildrenSize();let r,i;if(e<n/2){for(r=this.getFirstChild(),i=0;r!==null&&i<=e;){if(i===e)return r;r=r.getNextSibling(),i++}return null}for(r=this.getLastChild(),i=n-1;r!==null&&i>=e;){if(i===e)return r;r=r.getPreviousSibling(),i--}return null}getTextContent(){let e="";const n=this.getChildren(),r=n.length;for(let i=0;i<r;i++){const o=n[i];e+=o.getTextContent(),oe(o)&&i!==r-1&&!o.isInline()&&(e+=Ca)}return e}getTextContentSize(){let e=0;const n=this.getChildren(),r=n.length;for(let i=0;i<r;i++){const o=n[i];e+=o.getTextContentSize(),oe(o)&&i!==r-1&&!o.isInline()&&(e+=Ca.length)}return e}getDirection(){return this.getLatest().__dir}hasFormat(e){if(e!==""){const n=B6[e];return!!(this.getFormat()&n)}return!1}select(e,n){hi();const r=Se();let i=e,o=n;const s=this.getChildrenSize();if(!this.canBeEmpty()){if(e===0&&n===0){const l=this.getFirstChild();if(ye(l)||oe(l))return l.select(0,0)}else if(!(e!==void 0&&e!==s||n!==void 0&&n!==s)){const l=this.getLastChild();if(ye(l)||oe(l))return l.select()}}i===void 0&&(i=s),o===void 0&&(o=s);const a=this.__key;return me(r)?(r.anchor.set(a,i,"element"),r.focus.set(a,o,"element"),r.dirty=!0,r):Jj(a,i,a,o,"element","element")}selectStart(){const e=this.getFirstDescendant();return e?e.selectStart():this.select()}selectEnd(){const e=this.getLastDescendant();return e?e.selectEnd():this.select()}clear(){const e=this.getWritable();return this.getChildren().forEach(n=>n.remove()),e}append(...e){return this.splice(this.getChildrenSize(),0,e)}setDirection(e){const n=this.getWritable();return n.__dir=e,n}setFormat(e){return this.getWritable().__format=e!==""?B6[e]:0,this}setStyle(e){return this.getWritable().__style=e||"",this}setIndent(e){return this.getWritable().__indent=e,this}splice(e,n,r){const i=r.length,o=this.getChildrenSize(),s=this.getWritable(),a=s.__key,l=[],c=[],u=this.getChildAtIndex(e+n);let h=null,d=o-n+i;if(e!==0)if(e===o)h=this.getLastChild();else{const p=this.getChildAtIndex(e);p!==null&&(h=p.getPreviousSibling())}if(n>0){let p=h===null?this.getFirstChild():h.getNextSibling();for(let m=0;m<n;m++){p===null&&we(100);const x=p.getNextSibling(),v=p.__key;nu(p.getWritable()),c.push(v),p=x}}let f=h;for(let p=0;p<i;p++){const m=r[p];f!==null&&m.is(f)&&(h=f=f.getPreviousSibling());const x=m.getWritable();x.__parent===a&&d--,nu(x);const v=m.__key;if(f===null)s.__first=v,x.__prev=null;else{const y=f.getWritable();y.__next=v,x.__prev=y.__key}m.__key===a&&we(76),x.__parent=a,l.push(v),f=m}if(e+n===o)f!==null&&(f.getWritable().__next=null,s.__last=f.__key);else if(u!==null){const p=u.getWritable();if(f!==null){const m=f.getWritable();p.__prev=f.__key,m.__next=u.__key}else p.__prev=null}if(s.__size=d,c.length){const p=Se();if(me(p)){const m=new Set(c),x=new Set(l),{anchor:v,focus:y}=p;xR(v,m,x)&&Tv(v,v.getNode(),this,h,u),xR(y,m,x)&&Tv(y,y.getNode(),this,h,u),d!==0||this.canBeEmpty()||jr(this)||this.remove()}}return s}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"element",version:1}}insertNewAfter(e,n){return null}canIndent(){return!0}collapseAtStart(e){return!1}excludeFromCopy(e){return!1}canReplaceWith(e){return!0}canInsertAfter(e){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(e){return!1}extractWithChild(e,n,r){return!1}canMergeWhenEmpty(){return!1}}function oe(t){return t instanceof Ma}function xR(t,e,n){let r=t.getNode();for(;r;){const i=r.__key;if(e.has(i)&&!n.has(i))return!0;r=r.getParent()}return!1}class zm extends k_{constructor(e){super(e)}decorate(e,n){we(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function Pt(t){return t instanceof zm}class $m extends Ma{static getType(){return"root"}static clone(){return new $m}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){we(51)}getTextContent(){const e=this.__cachedText;return!jm()&&yn()._dirtyType!==yu||e===null?super.getTextContent():e}remove(){we(52)}replace(e){we(53)}insertBefore(e){we(54)}insertAfter(e){we(55)}updateDOM(e,n){return!1}append(...e){for(let n=0;n<e.length;n++){const r=e[n];oe(r)||Pt(r)||we(56)}return super.append(...e)}static importJSON(e){const n=It();return n.setFormat(e.format),n.setIndent(e.indent),n.setDirection(e.direction),n}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"root",version:1}}collapseAtStart(){return!0}}function gr(t){return t instanceof $m}function yA(){return new A_(new Map([["root",new $m]]))}function tz(t){const e=t.exportJSON(),n=t.constructor;if(e.type!==n.getType()&&we(130,n.name),oe(t)){const r=e.children;Array.isArray(r)||we(59,n.name);const i=t.getChildren();for(let o=0;o<i.length;o++){const s=tz(i[o]);r.push(s)}}return e}class A_{constructor(e,n){this._nodeMap=e,this._selection=n||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return this._nodeMap.size===1&&this._selection===null}read(e,n){return mR(n&&n.editor||null,this,e)}clone(e){const n=new A_(this._nodeMap,e===void 0?this._selection:e);return n._readOnly=!0,n}toJSON(){return mR(null,this,()=>({root:tz(It())}))}}class _A extends Ma{static getType(){return"artificial"}createDOM(e){return document.createElement("div")}}class Ku extends Ma{constructor(e){super(e),this.__textFormat=0,this.__textStyle=""}static getType(){return"paragraph"}getTextFormat(){return this.getLatest().__textFormat}setTextFormat(e){const n=this.getWritable();return n.__textFormat=e,n}hasTextFormat(e){const n=la[e];return!!(this.getTextFormat()&n)}getTextStyle(){return this.getLatest().__textStyle}setTextStyle(e){const n=this.getWritable();return n.__textStyle=e,n}static clone(e){return new Ku(e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__textFormat=e.__textFormat,this.__textStyle=e.__textStyle}createDOM(e){const n=document.createElement("p"),r=Pp(e.theme,"paragraph");return r!==void 0&&n.classList.add(...r),n}updateDOM(e,n,r){return!1}static importDOM(){return{p:e=>({conversion:Bpe,priority:0})}}exportDOM(e){const{element:n}=super.exportDOM(e);if(n&&ba(n)){this.isEmpty()&&n.append(document.createElement("br"));const r=this.getFormatType();n.style.textAlign=r;const i=this.getDirection();i&&(n.dir=i);const o=this.getIndent();o>0&&(n.style.textIndent=20*o+"px")}return{element:n}}static importJSON(e){const n=Zt();return n.setFormat(e.format),n.setIndent(e.indent),n.setDirection(e.direction),n.setTextFormat(e.textFormat),n}exportJSON(){return{...super.exportJSON(),textFormat:this.getTextFormat(),textStyle:this.getTextStyle(),type:"paragraph",version:1}}insertNewAfter(e,n){const r=Zt();r.setTextFormat(e.format),r.setTextStyle(e.style);const i=this.getDirection();return r.setDirection(i),r.setFormat(this.getFormatType()),r.setStyle(this.getTextStyle()),this.insertAfter(r,n),r}collapseAtStart(){const e=this.getChildren();if(e.length===0||ye(e[0])&&e[0].getTextContent().trim()===""){if(this.getNextSibling()!==null)return this.selectNext(),this.remove(),!0;if(this.getPreviousSibling()!==null)return this.selectPrevious(),this.remove(),!0}return!1}}function Bpe(t){const e=Zt();if(t.style){e.setFormat(t.style.textAlign);const n=parseInt(t.style.textIndent,10)/20;n>0&&e.setIndent(n)}return{node:e}}function Zt(){return Os(new Ku)}function Pd(t){return t instanceof Ku}const pt=0,Kr=1,Ss=4;function nz(t,e,n,r){const i=t._keyToDOMMap;i.clear(),t._editorState=yA(),t._pendingEditorState=r,t._compositionKey=null,t._dirtyType=yu,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements.clear(),t._normalizedNodes=new Set,t._updateTags=new Set,t._updates=[],t._blockCursorElement=null;const o=t._observer;o!==null&&(o.disconnect(),t._observer=null),e!==null&&(e.textContent=""),n!==null&&(n.textContent="",i.set("root",n))}function rz(t){const e=t||{},n=Lpe(),r=e.theme||{},i=t===void 0?n:e.parentEditor||null,o=e.disableEvents||!1,s=yA(),a=e.namespace||(i!==null?i._config.namespace:Aj()),l=e.editorState,c=[$m,qu,Fm,Bm,Ku,_A,...e.nodes||[]],{onError:u,html:h}=e,d=e.editable===void 0||e.editable;let f;if(t===void 0&&n!==null)f=n._nodes;else{f=new Map;for(let m=0;m<c.length;m++){let x=c[m],v=null,y=null;if(typeof x!="function"){const k=x;x=k.replace,v=k.with,y=k.withKlass||null}const _=x.getType(),C=x.transform(),S=new Set;C!==null&&S.add(C),f.set(_,{exportDOM:h&&h.export?h.export.get(x):void 0,klass:x,replace:v,replaceWithKlass:y,transforms:S})}}const p=new I_(s,i,f,{disableEvents:o,namespace:a,theme:r},u||console.error,function(m,x){const v=new Map,y=new Set,_=C=>{Object.keys(C).forEach(S=>{let k=v.get(S);k===void 0&&(k=[],v.set(S,k)),k.push(C[S])})};return m.forEach(C=>{const S=C.klass.importDOM;if(S==null||y.has(S))return;y.add(S);const k=S.call(C.klass);k!==null&&_(k)}),x&&_(x),v}(f,h?h.import:void 0),d);return l!==void 0&&(p._pendingEditorState=l,p._dirtyType=Rd),p}class I_{constructor(e,n,r,i,o,s,a){this._parentEditor=n,this._rootElement=null,this._editorState=e,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=i,this._nodes=r,this._decorators={},this._pendingDecorators=null,this._dirtyType=yu,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=Aj(),this._onError=o,this._htmlConversions=s,this._editable=a,this._headless=n!==null&&n._headless,this._window=null,this._blockCursorElement=null}isComposing(){return this._compositionKey!=null}registerUpdateListener(e){const n=this._listeners.update;return n.add(e),()=>{n.delete(e)}}registerEditableListener(e){const n=this._listeners.editable;return n.add(e),()=>{n.delete(e)}}registerDecoratorListener(e){const n=this._listeners.decorator;return n.add(e),()=>{n.delete(e)}}registerTextContentListener(e){const n=this._listeners.textcontent;return n.add(e),()=>{n.delete(e)}}registerRootListener(e){const n=this._listeners.root;return e(this._rootElement,null),n.add(e),()=>{e(null,this._rootElement),n.delete(e)}}registerCommand(e,n,r){r===void 0&&we(35);const i=this._commands;i.has(e)||i.set(e,[new Set,new Set,new Set,new Set,new Set]);const o=i.get(e);o===void 0&&we(36,String(e));const s=o[r];return s.add(n),()=>{s.delete(n),o.every(a=>a.size===0)&&i.delete(e)}}registerMutationListener(e,n,r){const i=this.resolveRegisteredNodeAfterReplacements(this.getRegisteredNode(e)).klass,o=this._listeners.mutation;o.set(n,i);const s=r&&r.skipInitialization;return s===void 0||s||this.initializeMutationListener(n,i),()=>{o.delete(n)}}getRegisteredNode(e){const n=this._nodes.get(e.getType());return n===void 0&&we(37,e.name),n}resolveRegisteredNodeAfterReplacements(e){for(;e.replaceWithKlass;)e=this.getRegisteredNode(e.replaceWithKlass);return e}initializeMutationListener(e,n){const r=this._editorState,i=wpe(r).get(n.getType());if(!i)return;const o=new Map;for(const s of i.keys())o.set(s,"created");o.size>0&&e(o,{dirtyLeaves:new Set,prevEditorState:r,updateTags:new Set(["registerMutationListener"])})}registerNodeTransformToKlass(e,n){const r=this.getRegisteredNode(e);return r.transforms.add(n),r}registerNodeTransform(e,n){const r=this.registerNodeTransformToKlass(e,n),i=[r],o=r.replaceWithKlass;if(o!=null){const l=this.registerNodeTransformToKlass(o,n);i.push(l)}var s,a;return s=this,a=e.getType(),Di(s,()=>{const l=Da();if(l.isEmpty())return;if(a==="root")return void It().markDirty();const c=l._nodeMap;for(const[,u]of c)u.markDirty()},s._pendingEditorState===null?{tag:"history-merge"}:void 0),()=>{i.forEach(l=>l.transforms.delete(n))}}hasNode(e){return this._nodes.has(e.getType())}hasNodes(e){return e.every(this.hasNode.bind(this))}dispatchCommand(e,n){return Te(this,e,n)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){const n=this._rootElement;if(e!==n){const r=Pp(this._config.theme,"root"),i=this._pendingEditorState||this._editorState;if(this._rootElement=e,nz(this,n,e,i),n!==null&&(this._config.disableEvents||Spe(n),r!=null&&n.classList.remove(...r)),e!==null){const o=function(a){const l=a.ownerDocument;return l&&l.defaultView||null}(e),s=e.style;s.userSelect="text",s.whiteSpace="pre-wrap",s.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=o,this._dirtyType=Rd,wj(this),this._updateTags.add("history-merge"),wl(this),this._config.disableEvents||function(a,l){const c=a.ownerDocument,u=Ev.get(c);(u===void 0||u<1)&&c.addEventListener("selectionchange",Uj),Ev.set(c,(u||0)+1),a.__lexicalEditor=l;const h=Hj(a);for(let d=0;d<IE.length;d++){const[f,p]=IE[d],m=typeof p=="function"?x=>{tR(x)||(eR(x),(l.isEditable()||f==="click")&&p(x,l))}:x=>{if(tR(x))return;eR(x);const v=l.isEditable();switch(f){case"cut":return v&&Te(l,q5,x);case"copy":return Te(l,v_,x);case"paste":return v&&Te(l,L5,x);case"dragstart":return v&&Te(l,fj,x);case"dragover":return v&&Te(l,pj,x);case"dragend":return v&&Te(l,zfe,x);case"focus":return v&&Te(l,K5,x);case"blur":return v&&Te(l,G5,x);case"drop":return v&&Te(l,dj,x)}};a.addEventListener(f,m),h.push(()=>{a.removeEventListener(f,m)})}}(e,this),r!=null&&e.classList.add(...r)}else this._editorState=i,this._pendingEditorState=null,this._window=null;Np("root",this,!1,e,n)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,n){e.isEmpty()&&we(38),_j(this);const r=this._pendingEditorState,i=this._updateTags,o=n!==void 0?n.tag:null;r===null||r.isEmpty()||(o!=null&&i.add(o),wl(this)),this._pendingEditorState=e,this._dirtyType=Rd,this._dirtyElements.set("root",!1),this._compositionKey=null,o!=null&&i.add(o),wl(this)}parseEditorState(e,n){return function(r,i,o){const s=yA(),a=Zn,l=_i,c=er,u=i._dirtyElements,h=i._dirtyLeaves,d=i._cloneNotNeeded,f=i._dirtyType;i._dirtyElements=new Map,i._dirtyLeaves=new Set,i._cloneNotNeeded=new Set,i._dirtyType=0,Zn=s,_i=!1,er=i;try{const p=i._nodes;vA(r.root,p),o&&o(),s._readOnly=!0}catch(p){p instanceof Error&&i._onError(p)}finally{i._dirtyElements=u,i._dirtyLeaves=h,i._cloneNotNeeded=d,i._dirtyType=f,Zn=a,_i=l,er=c}return s}(typeof e=="string"?JSON.parse(e):e,this,n)}read(e){return wl(this),this.getEditorState().read(e,{editor:this})}update(e,n){Di(this,e,n)}focus(e,n={}){const r=this._rootElement;r!==null&&(r.setAttribute("autocapitalize","off"),Di(this,()=>{const i=Se(),o=It();i!==null?i.dirty=!0:o.getChildrenSize()!==0&&(n.defaultSelection==="rootStart"?o.selectStart():o.selectEnd())},{onUpdate:()=>{r.removeAttribute("autocapitalize"),e&&e()},tag:"focus"}),this._pendingEditorState===null&&r.removeAttribute("autocapitalize"))}blur(){const e=this._rootElement;e!==null&&e.blur();const n=Ps(this._window);n!==null&&n.removeAllRanges()}isEditable(){return this._editable}setEditable(e){this._editable!==e&&(this._editable=e,Np("editable",this,!0,e))}toJSON(){return{editorState:this._editorState.toJSON()}}}I_.version="0.17.1+prod.esm";function Vpe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jpe=Vpe(function(t){const e=new URLSearchParams;e.append("code",t);for(let n=1;n<arguments.length;n++)e.append("v",arguments[n]);throw Error(`Minified Lexical error #${t}; visit https://lexical.dev/docs/error?${e} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});const zpe=new Map;function $pe(t){const e={},n=t.split(";");for(const r of n)if(r!==""){const[i,o]=r.split(/:([^]+)/);i&&o&&(e[i.trim()]=o.trim())}return e}function iz(t,e){const n=t.getStartEndPoints();if(e.isSelected(t)&&!e.isSegmented()&&!e.isToken()&&n!==null){const[r,i]=n,o=t.isBackward(),s=r.getNode(),a=i.getNode(),l=e.is(s),c=e.is(a);if(l||c){const[u,h]=ME(t),d=s.is(a),f=e.is(o?a:s),p=e.is(o?s:a);let m,x=0;return d?(x=u>h?h:u,m=u>h?u:h):f?(x=o?h:u,m=void 0):p&&(x=0,m=o?u:h),e.__text=e.__text.slice(x,m),e}}return e}function Hpe(t){const e=t.getStyle(),n=$pe(e);zpe.set(e,n)}function Upe(t,e){if(t===null)return;const n=t.getStartEndPoints(),r=n?n[0]:null;if(r!==null&&r.key==="root"){const s=e(),a=It(),l=a.getFirstChild();return void(l?l.replace(s,!0):a.append(s))}const i=t.getNodes(),o=r!==null&&function(s,a){let l=s;for(;l!==null&&l.getParent()!==null&&!a(l);)l=l.getParentOrThrow();return a(l)?l:null}(r.getNode(),_R);o&&i.indexOf(o)===-1&&i.push(o);for(let s=0;s<i.length;s++){const a=i[s];if(!_R(a))continue;oe(a)||jpe(178);const l=e();l.setFormat(a.getFormatType()),l.setIndent(a.getIndent()),a.replace(l,!0)}}function vR(t,e){const n=P0(t.focus,e);return Pt(n)&&!n.isIsolated()||oe(n)&&!n.isInline()&&!n.canBeEmpty()}function Wpe(t,e,n,r){t.modify(e?"extend":"move",n,r)}function qpe(t){const e=t.anchor.getNode();return(gr(e)?e:e.getParentOrThrow()).getDirection()==="rtl"}function yR(t,e,n){const r=qpe(t);Wpe(t,e,n?!r:r,"character")}function _R(t){if(Pt(t)||!oe(t)||jr(t))return!1;const e=t.getFirstChild(),n=e===null||jl(e)||ye(e)||e.isInline();return!t.isInline()&&t.canBeEmpty()!==!1&&n}function Kpe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Gpe=Kpe(function(t){const e=new URLSearchParams;e.append("code",t);for(let n=1;n<arguments.length;n++)e.append("v",arguments[n]);throw Error(`Minified Lexical error #${t}; visit https://lexical.dev/docs/error?${e} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});const wA=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,Jpe=wA&&"documentMode"in document?document.documentMode:null,Qpe=wA&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);!(!wA||!("InputEvent"in window)||Jpe)&&"getTargetRanges"in new window.InputEvent("input");function oz(...t){const e=[];for(const n of t)if(n&&typeof n=="string")for(const[r]of n.matchAll(/\S+/g))e.push(r);return e}function Ls(...t){return()=>{for(let e=t.length-1;e>=0;e--)t[e]();t.length=0}}const Xpe=Qpe;function rf(t,...e){const n=oz(...e);n.length>0&&t.classList.add(...n)}function CA(t,...e){const n=oz(...e);n.length>0&&t.classList.remove(...n)}function sz(t,e){let n=t;for(;n!=null;){if(n instanceof e)return n;n=n.getParent()}return null}function az(t){const e=of(t,n=>oe(n)&&!n.isInline());return oe(e)||Gpe(4,t.__key),e}const of=(t,e)=>{let n=t;for(;n!==It()&&n!=null;){if(e(n))return n;n=n.getParent()}return null};function lz(t){const e=Se()||nf();if(me(e)){const{focus:n}=e,r=n.getNode(),i=n.offset;if(jr(r)){const o=r.getChildAtIndex(i);o==null?r.append(t):o.insertBefore(t),t.selectNext()}else{let o,s;ye(r)?(o=r.getParentOrThrow(),s=r.getIndexWithinParent(),i>0&&(s+=1,r.splitText(i))):(o=r,s=i);const[,a]=vpe(o,s);a.insertBefore(t),a.selectStart()}}else{if(e!=null){const r=e.getNodes();r[r.length-1].getTopLevelElementOrThrow().insertAfter(t)}else It().append(t);const n=Zt();t.insertAfter(n),n.select()}return t.getLatest()}function Ype(t,e){const n=e();return t.replace(n),n.append(t),n}function qc(t,e){return t!==null&&Object.getPrototypeOf(t).constructor.name===e.name}function Zpe(t,e){const n=[];for(let r=0;r<t.length;r++){const i=e(t[r]);i!==null&&n.push(i)}return n}function e0e(t){if(Xpe)return 1;let e=1;for(;t;)e*=Number(window.getComputedStyle(t).getPropertyValue("zoom")),t=t.parentElement;return e}const Zg=0,OE=1,LE=2,Ao=0,t0e=1,wR=2,n0e=3,r0e=4;function i0e(t,e,n,r,i){if(t===null||n.size===0&&r.size===0&&!i)return Ao;const o=e._selection,s=t._selection;if(i)return t0e;if(!(me(o)&&me(s)&&s.isCollapsed()&&o.isCollapsed()))return Ao;const a=function(v,y,_){const C=v._nodeMap,S=[];for(const k of y){const b=C.get(k);b!==void 0&&S.push(b)}for(const[k,b]of _){if(!b)continue;const w=C.get(k);w===void 0||gr(w)||S.push(w)}return S}(e,n,r);if(a.length===0)return Ao;if(a.length>1){const v=e._nodeMap,y=v.get(o.anchor.key),_=v.get(s.anchor.key);return y&&_&&!t._nodeMap.has(y.__key)&&ye(y)&&y.__text.length===1&&o.anchor.offset===1?wR:Ao}const l=a[0],c=t._nodeMap.get(l.__key);if(!ye(c)||!ye(l)||c.__mode!==l.__mode)return Ao;const u=c.__text,h=l.__text;if(u===h)return Ao;const d=o.anchor,f=s.anchor;if(d.key!==f.key||d.type!=="text")return Ao;const p=d.offset,m=f.offset,x=h.length-u.length;return x===1&&m===p-1?wR:x===-1&&m===p+1?n0e:x===-1&&m===p?r0e:Ao}function o0e(t,e){let n=Date.now(),r=Ao;return(i,o,s,a,l,c)=>{const u=Date.now();if(c.has("historic"))return r=Ao,n=u,LE;const h=i0e(i,o,a,l,t.isComposing()),d=(()=>{const f=s===null||s.editor===t,p=c.has("history-push");if(!p&&f&&c.has("history-merge"))return Zg;if(i===null)return OE;const m=o._selection;return a.size>0||l.size>0?p===!1&&h!==Ao&&h===r&&u<n+e&&f||a.size===1&&function(x,v,y){const _=v._nodeMap.get(x),C=y._nodeMap.get(x),S=v._selection,k=y._selection;return!(me(S)&&me(k)&&S.anchor.type==="element"&&S.focus.type==="element"&&k.anchor.type==="text"&&k.focus.type==="text"||!ye(_)||!ye(C)||_.__parent!==C.__parent)&&JSON.stringify(v.read(()=>_.exportJSON()))===JSON.stringify(y.read(()=>C.exportJSON()))}(Array.from(a)[0],i,o)?Zg:OE:m!==null?Zg:LE})();return n=u,r=h,d}}function CR(t){t.undoStack=[],t.redoStack=[],t.current=null}function s0e(t,e,n){const r=o0e(t,n);return Ls(t.registerCommand(g_,()=>(function(o,s){const a=s.redoStack,l=s.undoStack;if(l.length!==0){const c=s.current,u=l.pop();c!==null&&(a.push(c),o.dispatchCommand(op,!0)),l.length===0&&o.dispatchCommand(sp,!1),s.current=u||null,u&&u.editor.setEditorState(u.editorState,{tag:"historic"})}}(t,e),!0),pt),t.registerCommand(x_,()=>(function(o,s){const a=s.redoStack,l=s.undoStack;if(a.length!==0){const c=s.current;c!==null&&(l.push(c),o.dispatchCommand(sp,!0));const u=a.pop();a.length===0&&o.dispatchCommand(op,!1),s.current=u||null,u&&u.editor.setEditorState(u.editorState,{tag:"historic"})}}(t,e),!0),pt),t.registerCommand($fe,()=>(CR(e),!1),pt),t.registerCommand(Hfe,()=>(CR(e),t.dispatchCommand(op,!1),t.dispatchCommand(sp,!1),!0),pt),t.registerUpdateListener(({editorState:o,prevEditorState:s,dirtyLeaves:a,dirtyElements:l,tags:c})=>{const u=e.current,h=e.redoStack,d=e.undoStack,f=u===null?null:u.editorState;if(u!==null&&o===f)return;const p=r(s,o,u,a,l,c);if(p===OE)h.length!==0&&(e.redoStack=[],t.dispatchCommand(op,!1)),u!==null&&(d.push({...u}),t.dispatchCommand(sp,!0));else if(p===LE)return;e.current={editor:t,editorState:o}}))}function cz(){return{current:null,redoStack:[],undoStack:[]}}function uz({delay:t,externalHistoryState:e}){const[n]=Go();return function(r,i,o=1e3){const s=T.useMemo(()=>i||cz(),[i]);T.useEffect(()=>s0e(r,s,o),[o,r,s])}(n,e,t),null}function a0e(t,e){const n=e.body?e.body.childNodes:[];let r=[];const i=[];for(let o=0;o<n.length;o++){const s=n[o];if(!dz.has(s.nodeName)){const a=fz(s,t,i,!1);a!==null&&(r=r.concat(a))}}return function(o){for(const s of o)s.getNextSibling()instanceof _A&&s.insertAfter(tc());for(const s of o){const a=s.getChildren();for(const l of a)s.insertBefore(l);s.remove()}}(i),r}function l0e(t,e){if(typeof document>"u"||typeof window>"u"&&global.window===void 0)throw new Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");const n=document.createElement("div"),r=It().getChildren();for(let i=0;i<r.length;i++)hz(t,r[i],n,e);return n.innerHTML}function hz(t,e,n,r=null){let i=r===null||e.isSelected(r);const o=oe(e)&&e.excludeFromCopy("html");let s=e;if(r!==null){let f=pA(e);f=ye(f)&&r!==null?iz(r,f):f,s=f}const a=oe(s)?s.getChildren():[],l=t._nodes.get(s.getType());let c;c=l&&l.exportDOM!==void 0?l.exportDOM(t,s):s.exportDOM(t);const{element:u,after:h}=c;if(!u)return!1;const d=document.createDocumentFragment();for(let f=0;f<a.length;f++){const p=a[f],m=hz(t,p,d,r);!i&&oe(e)&&m&&e.extractWithChild(p,r,"html")&&(i=!0)}if(i&&!o){if(ba(u)&&u.append(d),n.append(u),h){const f=h.call(s,u);f&&u.replaceWith(f)}}else n.append(d);return i}const dz=new Set(["STYLE","SCRIPT"]);function fz(t,e,n,r,i=new Map,o){let s=[];if(dz.has(t.nodeName))return s;let a=null;const l=function(p,m){const{nodeName:x}=p,v=m._htmlConversions.get(x.toLowerCase());let y=null;if(v!==void 0)for(const _ of v){const C=_(p);C!==null&&(y===null||(y.priority||0)<(C.priority||0))&&(y=C)}return y!==null?y.conversion:null}(t,e),c=l?l(t):null;let u=null;if(c!==null){u=c.after;const p=c.node;if(a=Array.isArray(p)?p[p.length-1]:p,a!==null){for(const[,m]of i)if(a=m(a,o),!a)break;a&&s.push(...Array.isArray(p)?p:[a])}c.forChild!=null&&i.set(t.nodeName,c.forChild)}const h=t.childNodes;let d=[];const f=(a==null||!jr(a))&&(a!=null&&Sv(a)||r);for(let p=0;p<h.length;p++)d.push(...fz(h[p],e,n,f,new Map(i),a));return u!=null&&(d=u(d)),_v(t)&&(d=c0e(t,d,f?()=>{const p=new _A;return n.push(p),p}:Zt)),a==null?d.length>0?s=s.concat(d):_v(t)&&function(p){return p.nextSibling==null||p.previousSibling==null?!1:wE(p.nextSibling)&&wE(p.previousSibling)}(t)&&(s=s.concat(tc())):oe(a)&&a.append(...d),s}function c0e(t,e,n){const r=t.style.textAlign,i=[];let o=[];for(let s=0;s<e.length;s++){const a=e[s];if(Sv(a))r&&!a.getFormat()&&a.setFormat(r),i.push(a);else if(o.push(a),s===e.length-1||s<e.length-1&&Sv(e[s+1])){const l=n();l.setFormat(r),l.append(...o),i.push(l),o=[]}}return i}function u0e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Av=u0e(function(t){const e=new URLSearchParams;e.append("code",t);for(let n=1;n<arguments.length;n++)e.append("v",arguments[n]);throw Error(`Minified Lexical error #${t}; visit https://lexical.dev/docs/error?${e} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});const h0e=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,pz=t=>h0e?(t||window).getSelection():null;function d0e(t,e=Se()){return e==null&&Av(166),me(e)&&e.isCollapsed()||e.getNodes().length===0?"":l0e(t,e)}function f0e(t,e=Se()){return e==null&&Av(166),me(e)&&e.isCollapsed()||e.getNodes().length===0?null:JSON.stringify(p0e(t,e))}function bR(t,e,n){const r=t.getData("application/x-lexical-editor");if(r)try{const s=JSON.parse(r);if(s.namespace===n._config.namespace&&Array.isArray(s.nodes))return ER(n,m0e(s.nodes),e)}catch{}const i=t.getData("text/html");if(i)try{const s=new DOMParser().parseFromString(i,"text/html");return ER(n,a0e(n,s),e)}catch{}const o=t.getData("text/plain")||t.getData("text/uri-list");if(o!=null)if(me(e)){const s=o.split(/(\r?\n|\t)/);s[s.length-1]===""&&s.pop();for(let a=0;a<s.length;a++){const l=Se();if(me(l)){const c=s[a];c===`
`||c===`\r
`?l.insertParagraph():c==="	"?l.insertNodes([Vm()]):l.insertText(c)}}}else e.insertRawText(o)}function ER(t,e,n){t.dispatchCommand(Ffe,{nodes:e,selection:n})||n.insertNodes(e)}function mz(t,e,n,r=[]){let i=e===null||n.isSelected(e);const o=oe(n)&&n.excludeFromCopy("html");let s=n;if(e!==null){let c=pA(n);c=ye(c)&&e!==null?iz(e,c):c,s=c}const a=oe(s)?s.getChildren():[],l=function(c){const u=c.exportJSON(),h=c.constructor;if(u.type!==h.getType()&&Av(58,h.name),oe(c)){const d=u.children;Array.isArray(d)||Av(59,h.name)}return u}(s);if(ye(s)){const c=s.__text;c.length>0?l.text=c:i=!1}for(let c=0;c<a.length;c++){const u=a[c],h=mz(t,e,u,l.children);!i&&oe(n)&&h&&n.extractWithChild(u,e,"clone")&&(i=!0)}if(i&&!o)r.push(l);else if(Array.isArray(l.children))for(let c=0;c<l.children.length;c++){const u=l.children[c];r.push(u)}return i}function p0e(t,e){const n=[],r=It().getChildren();for(let i=0;i<r.length;i++)mz(t,e,r[i],n);return{namespace:t._config.namespace,nodes:n}}function m0e(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n],i=Fpe(r);ye(i)&&Hpe(i),e.push(i)}return e}let lh=null;async function SR(t,e,n){if(lh!==null)return!1;if(e!==null)return new Promise((l,c)=>{t.update(()=>{l(kR(t,e,n))})});const r=t.getRootElement(),i=t._window==null?window.document:t._window.document,o=pz(t._window);if(r===null||o===null)return!1;const s=i.createElement("span");s.style.cssText="position: fixed; top: -1000px;",s.append(i.createTextNode("#")),r.append(s);const a=new Range;return a.setStart(s,0),a.setEnd(s,1),o.removeAllRanges(),o.addRange(a),new Promise((l,c)=>{const u=t.registerCommand(v_,h=>(qc(h,ClipboardEvent)&&(u(),lh!==null&&(window.clearTimeout(lh),lh=null),l(kR(t,h,n))),!0),Ss);lh=window.setTimeout(()=>{u(),lh=null,l(!1)},50),i.execCommand("copy"),s.remove()})}function kR(t,e,n){if(n===void 0){const i=pz(t._window);if(!i)return!1;const o=i.anchorNode,s=i.focusNode;if(o!==null&&s!==null&&!Lm(t,o,s))return!1;const a=Se();if(a===null)return!1;n=x0e(a)}e.preventDefault();const r=e.clipboardData;return r!==null&&(v0e(r,n),!0)}const g0e=[["text/html",d0e],["application/x-lexical-editor",f0e]];function x0e(t=Se()){const e={"text/plain":t?t.getTextContent():""};if(t){const n=ype();for(const[r,i]of g0e){const o=i(n,t);o!==null&&(e[r]=o)}}return e}function v0e(t,e){for(const n in e){const r=e[n];r!==void 0&&t.setData(n,r)}}function TR(t,e){if(document.caretRangeFromPoint!==void 0){const n=document.caretRangeFromPoint(t,e);return n===null?null:{node:n.startContainer,offset:n.startOffset}}if(document.caretPositionFromPoint!=="undefined"){const n=document.caretPositionFromPoint(t,e);return n===null?null:{node:n.offsetNode,offset:n.offset}}return null}const sf=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,y0e=sf&&"documentMode"in document?document.documentMode:null,_0e=!(!sf||!("InputEvent"in window)||y0e)&&"getTargetRanges"in new window.InputEvent("input"),w0e=sf&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),C0e=sf&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,b0e=sf&&/^(?=.*Chrome).*/i.test(navigator.userAgent),E0e=sf&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!b0e,AR=Wu();class Hm extends Ma{static getType(){return"quote"}static clone(e){return new Hm(e.__key)}constructor(e){super(e)}createDOM(e){const n=document.createElement("blockquote");return rf(n,e.theme.quote),n}updateDOM(e,n){return!1}static importDOM(){return{blockquote:e=>({conversion:k0e,priority:0})}}exportDOM(e){const{element:n}=super.exportDOM(e);if(n&&ba(n)){this.isEmpty()&&n.append(document.createElement("br"));const r=this.getFormatType();n.style.textAlign=r;const i=this.getDirection();i&&(n.dir=i)}return{element:n}}static importJSON(e){const n=R_();return n.setFormat(e.format),n.setIndent(e.indent),n.setDirection(e.direction),n}exportJSON(){return{...super.exportJSON(),type:"quote"}}insertNewAfter(e,n){const r=Zt(),i=this.getDirection();return r.setDirection(i),this.insertAfter(r,n),r}collapseAtStart(){const e=Zt();return this.getChildren().forEach(n=>e.append(n)),this.replace(e),!0}canMergeWhenEmpty(){return!0}}function R_(){return Os(new Hm)}function S0e(t){return t instanceof Hm}class Um extends Ma{static getType(){return"heading"}static clone(e){return new Um(e.__tag,e.__key)}constructor(e,n){super(n),this.__tag=e}getTag(){return this.__tag}createDOM(e){const n=this.__tag,r=document.createElement(n),i=e.theme.heading;if(i!==void 0){const o=i[n];rf(r,o)}return r}updateDOM(e,n){return!1}static importDOM(){return{h1:e=>({conversion:ch,priority:0}),h2:e=>({conversion:ch,priority:0}),h3:e=>({conversion:ch,priority:0}),h4:e=>({conversion:ch,priority:0}),h5:e=>({conversion:ch,priority:0}),h6:e=>({conversion:ch,priority:0}),p:e=>{const n=e.firstChild;return n!==null&&IR(n)?{conversion:()=>({node:null}),priority:3}:null},span:e=>IR(e)?{conversion:n=>({node:Cl("h1")}),priority:3}:null}}exportDOM(e){const{element:n}=super.exportDOM(e);if(n&&ba(n)){this.isEmpty()&&n.append(document.createElement("br"));const r=this.getFormatType();n.style.textAlign=r;const i=this.getDirection();i&&(n.dir=i)}return{element:n}}static importJSON(e){const n=Cl(e.tag);return n.setFormat(e.format),n.setIndent(e.indent),n.setDirection(e.direction),n}exportJSON(){return{...super.exportJSON(),tag:this.getTag(),type:"heading",version:1}}insertNewAfter(e,n=!0){const r=e?e.anchor.offset:0,i=this.getLastDescendant(),o=!i||e&&e.anchor.key===i.getKey()&&r===i.getTextContentSize()||!e?Zt():Cl(this.getTag()),s=this.getDirection();if(o.setDirection(s),this.insertAfter(o,n),r===0&&!this.isEmpty()&&e){const a=Zt();a.select(),this.replace(a,!0)}return o}collapseAtStart(){const e=this.isEmpty()?Zt():Cl(this.getTag());return this.getChildren().forEach(n=>e.append(n)),this.replace(e),!0}extractWithChild(){return!0}}function IR(t){return t.nodeName.toLowerCase()==="span"&&t.style.fontSize==="26pt"}function ch(t){const e=t.nodeName.toLowerCase();let n=null;return e!=="h1"&&e!=="h2"&&e!=="h3"&&e!=="h4"&&e!=="h5"&&e!=="h6"||(n=Cl(e),t.style!==null&&n.setFormat(t.style.textAlign)),{node:n}}function k0e(t){const e=R_();return t.style!==null&&e.setFormat(t.style.textAlign),{node:e}}function Cl(t){return Os(new Um(t))}function gz(t){return t instanceof Um}function e1(t){let e=null;if(qc(t,DragEvent)?e=t.dataTransfer:qc(t,ClipboardEvent)&&(e=t.clipboardData),e===null)return[!1,[],!1];const n=e.types,r=n.includes("Files"),i=n.includes("text/html")||n.includes("text/plain");return[r,Array.from(e.files),i]}function RR(t){const e=Se();if(!me(e))return!1;const n=new Set,r=e.getNodes();for(let i=0;i<r.length;i++){const o=r[i],s=o.getKey();if(n.has(s))continue;const a=of(o,c=>oe(c)&&!c.isInline());if(a===null)continue;const l=a.getKey();a.canIndent()&&!n.has(l)&&(n.add(l),t(a))}return n.size>0}function t1(t){const e=Rs(t);return Pt(e)}function T0e(t){return Ls(t.registerCommand(O5,e=>{const n=Se();return!!qr(n)&&(n.clear(),!0)},0),t.registerCommand(tu,e=>{const n=Se();return!!me(n)&&(n.deleteCharacter(e),!0)},pt),t.registerCommand(A0,e=>{const n=Se();return!!me(n)&&(n.deleteWord(e),!0)},pt),t.registerCommand(I0,e=>{const n=Se();return!!me(n)&&(n.deleteLine(e),!0)},pt),t.registerCommand(nd,e=>{const n=Se();if(typeof e=="string")n!==null&&n.insertText(e);else{if(n===null)return!1;const r=e.dataTransfer;if(r!=null)bR(r,n,t);else if(me(n)){const i=e.data;return i&&n.insertText(i),!0}}return!0},pt),t.registerCommand(mE,()=>{const e=Se();return!!me(e)&&(e.removeText(),!0)},pt),t.registerCommand(ia,e=>{const n=Se();return!!me(n)&&(n.formatText(e),!0)},pt),t.registerCommand(jfe,e=>{const n=Se();if(!me(n)&&!qr(n))return!1;const r=n.getNodes();for(const i of r){const o=of(i,s=>oe(s)&&!s.isInline());o!==null&&o.setFormat(e)}return!0},pt),t.registerCommand(td,e=>{const n=Se();return!!me(n)&&(n.insertLineBreak(e),!0)},pt),t.registerCommand(T0,()=>{const e=Se();return!!me(e)&&(e.insertParagraph(),!0)},pt),t.registerCommand(hj,()=>(xA([Vm()]),!0),pt),t.registerCommand(W5,()=>RR(e=>{const n=e.getIndent();e.setIndent(n+1)}),pt),t.registerCommand(gE,()=>RR(e=>{const n=e.getIndent();n>0&&e.setIndent(n-1)}),pt),t.registerCommand(V5,e=>{const n=Se();if(qr(n)&&!t1(e.target)){const r=n.getNodes();if(r.length>0)return r[0].selectPrevious(),!0}else if(me(n)){const r=P0(n.focus,!0);if(!e.shiftKey&&Pt(r)&&!r.isIsolated()&&!r.isInline())return r.selectPrevious(),e.preventDefault(),!0}return!1},pt),t.registerCommand(j5,e=>{const n=Se();if(qr(n)){const r=n.getNodes();if(r.length>0)return r[0].selectNext(0,0),!0}else if(me(n)){if(function(i){const o=i.focus;return o.key==="root"&&o.offset===It().getChildrenSize()}(n))return e.preventDefault(),!0;const r=P0(n.focus,!1);if(!e.shiftKey&&Pt(r)&&!r.isIsolated()&&!r.isInline())return r.selectNext(),e.preventDefault(),!0}return!1},pt),t.registerCommand(B5,e=>{const n=Se();if(qr(n)){const r=n.getNodes();if(r.length>0)return e.preventDefault(),r[0].selectPrevious(),!0}if(!me(n))return!1;if(vR(n,!0)){const r=e.shiftKey;return e.preventDefault(),yR(n,r,!0),!0}return!1},pt),t.registerCommand(cj,e=>{const n=Se();if(qr(n)&&!t1(e.target)){const i=n.getNodes();if(i.length>0)return e.preventDefault(),i[0].selectNext(0,0),!0}if(!me(n))return!1;const r=e.shiftKey;return!!vR(n,!1)&&(e.preventDefault(),yR(n,r,!1),!0)},pt),t.registerCommand(z5,e=>{if(t1(e.target))return!1;const n=Se();if(!me(n))return!1;e.preventDefault();const{anchor:r}=n,i=r.getNode();return n.isCollapsed()&&r.offset===0&&!gr(i)&&az(i).getIndent()>0?t.dispatchCommand(gE,void 0):t.dispatchCommand(tu,!0)},pt),t.registerCommand(H5,e=>{if(t1(e.target))return!1;const n=Se();return!!me(n)&&(e.preventDefault(),t.dispatchCommand(tu,!1))},pt),t.registerCommand(R0,e=>{const n=Se();if(!me(n))return!1;if(e!==null){if((C0e||w0e||E0e)&&_0e)return!1;if(e.preventDefault(),e.shiftKey)return t.dispatchCommand(td,!1)}return t.dispatchCommand(T0,void 0)},pt),t.registerCommand($5,()=>{const e=Se();return!!me(e)&&(t.blur(),!0)},pt),t.registerCommand(dj,e=>{const[,n]=e1(e);if(n.length>0){const i=TR(e.clientX,e.clientY);if(i!==null){const{offset:o,node:s}=i,a=Rs(s);if(a!==null){const l=Qj();if(ye(a))l.anchor.set(a.getKey(),o,"text"),l.focus.set(a.getKey(),o,"text");else{const u=a.getParentOrThrow().getKey(),h=a.getIndexWithinParent()+1;l.anchor.set(u,h,"element"),l.focus.set(u,h,"element")}const c=oA(l);$i(c)}t.dispatchCommand(AR,n)}return e.preventDefault(),!0}const r=Se();return!!me(r)},pt),t.registerCommand(fj,e=>{const[n]=e1(e),r=Se();return!(n&&!me(r))},pt),t.registerCommand(pj,e=>{const[n]=e1(e),r=Se();if(n&&!me(r))return!1;const i=TR(e.clientX,e.clientY);if(i!==null){const o=Rs(i.node);Pt(o)&&e.preventDefault()}return!0},pt),t.registerCommand(xE,()=>(ppe(),!0),pt),t.registerCommand(v_,e=>(SR(t,qc(e,ClipboardEvent)?e:null),!0),pt),t.registerCommand(q5,e=>(async function(n,r){await SR(r,qc(n,ClipboardEvent)?n:null),r.update(()=>{const i=Se();me(i)?i.removeText():qr(i)&&i.getNodes().forEach(o=>o.remove())})}(e,t),!0),pt),t.registerCommand(L5,e=>{const[,n,r]=e1(e);return n.length>0&&!r?(t.dispatchCommand(AR,n),!0):sA(e.target)?!1:Se()!==null&&(function(i,o){i.preventDefault(),o.update(()=>{const s=Se(),a=qc(i,InputEvent)||qc(i,KeyboardEvent)?null:i.clipboardData;a!=null&&s!==null&&bR(a,s,o)},{tag:"paste"})}(e,t),!0)},pt))}function co(t,e,n,r){const i=t.length;let o=0,s;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(e,n),t.splice(...s);else for(n&&t.splice(e,n);o<r.length;)s=r.slice(o,o+1e4),s.unshift(e,0),t.splice(...s),o+=1e4,e+=1e4}function Zi(t,e){return t.length>0?(co(t,t.length,0,e),t):e}const ls=yc(/[A-Za-z]/),Mo=yc(/[\dA-Za-z]/),A0e=yc(/[#-'*+\--9=?A-Z^-~]/);function FE(t){return t!==null&&(t<32||t===127)}const BE=yc(/\d/),I0e=yc(/[\dA-Fa-f]/),R0e=yc(/[!-/:-@[-`{-~]/);function De(t){return t!==null&&t<-2}function en(t){return t!==null&&(t<0||t===32)}function rt(t){return t===-2||t===-1||t===32}const P0e=yc(new RegExp("\\p{P}|\\p{S}","u")),Ks=yc(/\s/);function yc(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function Iv(t){if(t===null||en(t)||Ks(t))return 1;if(P0e(t))return 2}function P_(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const o=t[i].resolveAll;o&&!r.includes(o)&&(e=o(e,n),r.push(o))}return e}function D0e(t){let n={}.singleTilde;const r={name:"strikethrough",tokenize:o,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(s,a){let l=-1;for(;++l<s.length;)if(s[l][0]==="enter"&&s[l][1].type==="strikethroughSequenceTemporary"&&s[l][1]._close){let c=l;for(;c--;)if(s[c][0]==="exit"&&s[c][1].type==="strikethroughSequenceTemporary"&&s[c][1]._open&&s[l][1].end.offset-s[l][1].start.offset===s[c][1].end.offset-s[c][1].start.offset){s[l][1].type="strikethroughSequence",s[c][1].type="strikethroughSequence";const u={type:"strikethrough",start:Object.assign({},s[c][1].start),end:Object.assign({},s[l][1].end)},h={type:"strikethroughText",start:Object.assign({},s[c][1].end),end:Object.assign({},s[l][1].start)},d=[["enter",u,a],["enter",s[c][1],a],["exit",s[c][1],a],["enter",h,a]],f=a.parser.constructs.insideSpan.null;f&&co(d,d.length,0,P_(f,s.slice(c+1,l),a)),co(d,d.length,0,[["exit",h,a],["enter",s[l][1],a],["exit",s[l][1],a],["exit",u,a]]),co(s,c-1,l-c+3,d),l=c+d.length-2;break}}for(l=-1;++l<s.length;)s[l][1].type==="strikethroughSequenceTemporary"&&(s[l][1].type="data");return s}function o(s,a,l){const c=this.previous,u=this.events;let h=0;return d;function d(p){return c===126&&u[u.length-1][1].type!=="characterEscape"?l(p):(s.enter("strikethroughSequenceTemporary"),f(p))}function f(p){const m=Iv(c);if(p===126)return h>1?l(p):(s.consume(p),h++,f);if(h<2&&!n)return l(p);const x=s.exit("strikethroughSequenceTemporary"),v=Iv(p);return x._open=!v||v===2&&!!m,x._close=!m||m===2&&!!v,a(p)}}}const M0e=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];xz.peek=B0e;function N0e(){return{canContainEols:["delete"],enter:{strikethrough:L0e},exit:{strikethrough:F0e}}}function O0e(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:M0e}],handlers:{delete:xz}}}function L0e(t){this.enter({type:"delete",children:[]},t)}function F0e(t){this.exit(t)}function xz(t,e,n,r){const i=n.createTracker(r),o=n.enter("strikethrough");let s=i.move("~~");return s+=n.containerPhrasing(t,{...i.current(),before:s,after:"~"}),s+=i.move("~~"),o(),s}function B0e(){return"~"}function PR(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}const V0e=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],DR={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};function vz(t){const e=typeof t=="string"?t.charCodeAt(0):t;return e>=48&&e<=57}function j0e(t){const e=typeof t=="string"?t.charCodeAt(0):t;return e>=97&&e<=102||e>=65&&e<=70||e>=48&&e<=57}function z0e(t){const e=typeof t=="string"?t.charCodeAt(0):t;return e>=97&&e<=122||e>=65&&e<=90}function MR(t){return z0e(t)||vz(t)}const NR=document.createElement("i");function O0(t){const e="&"+t+";";NR.innerHTML=e;const n=NR.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}const uh=String.fromCharCode,$0e=["","Named character references must be terminated by a semicolon","Numeric character references must be terminated by a semicolon","Named character references cannot be empty","Numeric character references cannot be empty","Named character references must be known","Numeric character references cannot be disallowed","Numeric character references cannot be outside the permissible Unicode range"];function H0e(t,e={}){const n=typeof e.additional=="string"?e.additional.charCodeAt(0):e.additional,r=[];let i=0,o=-1,s="",a,l;e.position&&("start"in e.position||"indent"in e.position?(l=e.position.indent,a=e.position.start):a=e.position);let c=(a?a.line:0)||1,u=(a?a.column:0)||1,h=f(),d;for(i--;++i<=t.length;)if(d===10&&(u=(l?l[o]:0)||1),d=t.charCodeAt(i),d===38){const x=t.charCodeAt(i+1);if(x===9||x===10||x===12||x===32||x===38||x===60||Number.isNaN(x)||n&&x===n){s+=uh(d),u++;continue}const v=i+1;let y=v,_=v,C;if(x===35){_=++y;const D=t.charCodeAt(_);D===88||D===120?(C="hexadecimal",_=++y):C="decimal"}else C="named";let S="",k="",b="";const w=C==="named"?MR:C==="decimal"?vz:j0e;for(_--;++_<=t.length;){const D=t.charCodeAt(_);if(!w(D))break;b+=uh(D),C==="named"&&V0e.includes(b)&&(S=b,k=O0(b))}let A=t.charCodeAt(_)===59;if(A){_++;const D=C==="named"?O0(b):!1;D&&(S=b,k=D)}let E=1+_-v,R="";if(!(!A&&e.nonTerminated===!1))if(!b)C!=="named"&&p(4,E);else if(C==="named"){if(A&&!k)p(5,1);else if(S!==b&&(_=y+S.length,E=1+_-y,A=!1),!A){const D=S?1:3;if(e.attribute){const N=t.charCodeAt(_);N===61?(p(D,E),k=""):MR(N)?k="":p(D,E)}else p(D,E)}R=k}else{A||p(2,E);let D=Number.parseInt(b,C==="hexadecimal"?16:10);if(U0e(D))p(7,E),R=uh(65533);else if(D in DR)p(6,E),R=DR[D];else{let N="";W0e(D)&&p(6,E),D>65535&&(D-=65536,N+=uh(D>>>10|55296),D=56320|D&1023),R=N+uh(D)}}if(R){m(),h=f(),i=_-1,u+=_-v+1,r.push(R);const D=f();D.offset++,e.reference&&e.reference.call(e.referenceContext,R,{start:h,end:D},t.slice(v-1,_)),h=D}else b=t.slice(v-1,_),s+=b,u+=b.length,i=_-1}else d===10&&(c++,o++,u=0),Number.isNaN(d)?m():(s+=uh(d),u++);return r.join("");function f(){return{line:c,column:u,offset:i+((a?a.offset:0)||0)}}function p(x,v){let y;e.warning&&(y=f(),y.column+=v,y.offset+=v,e.warning.call(e.warningContext,$0e[x],y,x))}function m(){s&&(r.push(s),e.text&&e.text.call(e.textContext,s,{start:h,end:f()}),s="")}}function U0e(t){return t>=55296&&t<=57343||t>1114111}function W0e(t){return t>=1&&t<=8||t===11||t>=13&&t<=31||t>=127&&t<=159||t>=64976&&t<=65007||(t&65535)===65535||(t&65535)===65534}const q0e=/["&'<>`]/g,K0e=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,G0e=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,J0e=/[|\\{}()[\]^$+*?.]/g,OR=new WeakMap;function Q0e(t,e){if(t=t.replace(e.subset?X0e(e.subset):q0e,r),e.subset||e.escapeOnly)return t;return t.replace(K0e,n).replace(G0e,r);function n(i,o,s){return e.format((i.charCodeAt(0)-55296)*1024+i.charCodeAt(1)-56320+65536,s.charCodeAt(o+2),e)}function r(i,o,s){return e.format(i.charCodeAt(0),s.charCodeAt(o+1),e)}}function X0e(t){let e=OR.get(t);return e||(e=Y0e(t),OR.set(t,e)),e}function Y0e(t){const e=[];let n=-1;for(;++n<t.length;)e.push(t[n].replace(J0e,"\\$&"));return new RegExp("(?:"+e.join("|")+")","g")}function Z0e(t){return"&#x"+t.toString(16).toUpperCase()+";"}function eme(t,e){return Q0e(t,Object.assign({format:Z0e},e))}function oa(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?LR(t.position):"start"in t||"end"in t?LR(t):"line"in t||"column"in t?VE(t):""}function VE(t){return FR(t&&t.line)+":"+FR(t&&t.column)}function LR(t){return VE(t&&t.start)+"-"+VE(t&&t.end)}function FR(t){return t&&typeof t=="number"?t:1}class Ot extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},s=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?i=e:!o.cause&&e&&(s=!0,i=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?o.ruleId=r:(o.source=r.slice(0,l),o.ruleId=r.slice(l+1))}if(!o.place&&o.ancestors&&o.ancestors){const l=o.ancestors[o.ancestors.length-1];l&&(o.place=l.position)}const a=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=oa(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=s&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}Ot.prototype.file="";Ot.prototype.name="";Ot.prototype.reason="";Ot.prototype.message="";Ot.prototype.stack="";Ot.prototype.column=void 0;Ot.prototype.line=void 0;Ot.prototype.ancestors=void 0;Ot.prototype.cause=void 0;Ot.prototype.fatal=void 0;Ot.prototype.place=void 0;Ot.prototype.ruleId=void 0;Ot.prototype.source=void 0;const yz="  ";function tme(){return{canContainEols:["mdxJsxTextElement"],enter:{mdxJsxFlowTag:r,mdxJsxFlowTagClosingMarker:i,mdxJsxFlowTagAttribute:h,mdxJsxFlowTagExpressionAttribute:d,mdxJsxFlowTagAttributeValueLiteral:t,mdxJsxFlowTagAttributeValueExpression:t,mdxJsxFlowTagSelfClosingMarker:s,mdxJsxTextTag:r,mdxJsxTextTagClosingMarker:i,mdxJsxTextTagAttribute:h,mdxJsxTextTagExpressionAttribute:d,mdxJsxTextTagAttributeValueLiteral:t,mdxJsxTextTagAttributeValueExpression:t,mdxJsxTextTagSelfClosingMarker:s},exit:{mdxJsxFlowTagClosingMarker:a,mdxJsxFlowTagNamePrimary:l,mdxJsxFlowTagNameMember:c,mdxJsxFlowTagNameLocal:u,mdxJsxFlowTagExpressionAttribute:f,mdxJsxFlowTagExpressionAttributeValue:n,mdxJsxFlowTagAttributeNamePrimary:p,mdxJsxFlowTagAttributeNameLocal:m,mdxJsxFlowTagAttributeValueLiteral:x,mdxJsxFlowTagAttributeValueLiteralValue:n,mdxJsxFlowTagAttributeValueExpression:v,mdxJsxFlowTagAttributeValueExpressionValue:n,mdxJsxFlowTagSelfClosingMarker:y,mdxJsxFlowTag:_,mdxJsxTextTagClosingMarker:a,mdxJsxTextTagNamePrimary:l,mdxJsxTextTagNameMember:c,mdxJsxTextTagNameLocal:u,mdxJsxTextTagExpressionAttribute:f,mdxJsxTextTagExpressionAttributeValue:n,mdxJsxTextTagAttributeNamePrimary:p,mdxJsxTextTagAttributeNameLocal:m,mdxJsxTextTagAttributeValueLiteral:x,mdxJsxTextTagAttributeValueLiteralValue:n,mdxJsxTextTagAttributeValueExpression:v,mdxJsxTextTagAttributeValueExpressionValue:n,mdxJsxTextTagSelfClosingMarker:y,mdxJsxTextTag:_}};function t(){this.buffer()}function e(b){return{line:b.line,column:b.column,offset:b.offset}}function n(b){this.config.enter.data.call(this,b),this.config.exit.data.call(this,b)}function r(b){const w={name:void 0,attributes:[],close:!1,selfClosing:!1,start:b.start,end:b.end};this.data.mdxJsxTagStack||(this.data.mdxJsxTagStack=[]),this.data.mdxJsxTag=w,this.buffer()}function i(b){if(this.data.mdxJsxTagStack.length===0)throw new Ot("Unexpected closing slash `/` in tag, expected an open tag first",{start:b.start,end:b.end},"mdast-util-mdx-jsx:unexpected-closing-slash")}function o(b){if(this.data.mdxJsxTag.close)throw new Ot("Unexpected attribute in closing tag, expected the end of the tag",{start:b.start,end:b.end},"mdast-util-mdx-jsx:unexpected-attribute")}function s(b){if(this.data.mdxJsxTag.close)throw new Ot("Unexpected self-closing slash `/` in closing tag, expected the end of the tag",{start:b.start,end:b.end},"mdast-util-mdx-jsx:unexpected-self-closing-slash")}function a(){const b=this.data.mdxJsxTag;b.close=!0}function l(b){const w=this.data.mdxJsxTag;w.name=this.sliceSerialize(b)}function c(b){const w=this.data.mdxJsxTag;w.name+="."+this.sliceSerialize(b)}function u(b){const w=this.data.mdxJsxTag;w.name+=":"+this.sliceSerialize(b)}function h(b){const w=this.data.mdxJsxTag;o.call(this,b),w.attributes.push({type:"mdxJsxAttribute",name:"",value:null,position:{start:e(b.start),end:void 0}})}function d(b){const w=this.data.mdxJsxTag;o.call(this,b),w.attributes.push({type:"mdxJsxExpressionAttribute",value:""}),this.buffer()}function f(b){const w=this.data.mdxJsxTag,A=w.attributes[w.attributes.length-1];A.type;const E=b.estree;A.value=this.resume(),E&&(A.data={estree:E})}function p(b){const w=this.data.mdxJsxTag,A=w.attributes[w.attributes.length-1];A.type,A.name=this.sliceSerialize(b),A.position,A.position.end=e(b.end)}function m(b){const w=this.data.mdxJsxTag,A=w.attributes[w.attributes.length-1];A.type,A.name+=":"+this.sliceSerialize(b),A.position,A.position.end=e(b.end)}function x(b){const w=this.data.mdxJsxTag,A=w.attributes[w.attributes.length-1];A.value=H0e(this.resume(),{nonTerminated:!1}),A.position,A.position.end=e(b.end)}function v(b){const w=this.data.mdxJsxTag,A=w.attributes[w.attributes.length-1];A.type;const E={type:"mdxJsxAttributeValueExpression",value:this.resume()},R=b.estree;R&&(E.data={estree:R}),A.value=E,A.position,A.position.end=e(b.end)}function y(){const b=this.data.mdxJsxTag;b.selfClosing=!0}function _(b){const w=this.data.mdxJsxTag,A=this.data.mdxJsxTagStack,E=A[A.length-1];if(w.close&&E.name!==w.name)throw new Ot("Unexpected closing tag `"+k(w)+"`, expected corresponding closing tag for `"+k(E)+"` ("+oa(E)+")",{start:b.start,end:b.end},"mdast-util-mdx-jsx:end-tag-mismatch");this.resume(),w.close?A.pop():this.enter({type:b.type==="mdxJsxTextTag"?"mdxJsxTextElement":"mdxJsxFlowElement",name:w.name||null,attributes:w.attributes,children:[]},b,C),w.selfClosing||w.close?this.exit(b,S):A.push(w)}function C(b,w){const A=this.data.mdxJsxTagStack,E=A[A.length-1],R=b?" before the end of `"+b.type+"`":"",D=b?{start:b.start,end:b.end}:void 0;throw new Ot("Expected a closing tag for `"+k(E)+"` ("+oa({start:w.start,end:w.end})+")"+R,D,"mdast-util-mdx-jsx:end-tag-mismatch")}function S(b,w){const A=this.data.mdxJsxTag;throw new Ot("Expected the closing tag `"+k(A)+"` either after the end of `"+w.type+"` ("+oa(w.end)+") or another opening tag after the start of `"+w.type+"` ("+oa(w.start)+")",{start:b.start,end:b.end},"mdast-util-mdx-jsx:end-tag-mismatch")}function k(b){return"<"+(b.close?"/":"")+(b.name||"")+">"}}function nme(t){const e={},n=e.quote||'"',r=e.quoteSmart||!1,i=e.tightSelfClosing||!1,o=e.printWidth||Number.POSITIVE_INFINITY,s=n==='"'?"'":'"';if(n!=='"'&&n!=="'")throw new Error("Cannot serialize attribute values with `"+n+"` for `options.quote`, expected `\"`, or `'`");return a.peek=ime,{handlers:{mdxJsxFlowElement:a,mdxJsxTextElement:a},unsafe:[{character:"<",inConstruct:["phrasing"]},{atBreak:!0,character:"<"}],fences:!0,resourceLink:!0};function a(l,c,u,h){const d=l.type==="mdxJsxFlowElement",f=l.name?!l.children||l.children.length===0:!1,p=_z(u),m=wz(p),x=u.createTracker(h),v=u.createTracker(h),y=[],_=(d?m:"")+"<"+(l.name||""),C=u.enter(l.type);if(x.move(_),v.move(_),l.attributes&&l.attributes.length>0){if(!l.name)throw new Error("Cannot serialize fragment w/ attributes");let A=-1;for(;++A<l.attributes.length;){const E=l.attributes[A];let R;if(E.type==="mdxJsxExpressionAttribute")R="{"+(E.value||"")+"}";else{if(!E.name)throw new Error("Cannot serialize attribute w/o name");const D=E.value,N=E.name;let j="";if(D!=null)if(typeof D=="object")j="{"+(D.value||"")+"}";else{const $=r&&PR(D,n)>PR(D,s)?s:n;j=$+eme(D,{subset:[$]})+$}R=N+(j?"=":"")+j}y.push(R)}}let S=!1;const k=y.join(" ");d&&(/\r?\n|\r/.test(k)||x.current().now.column+k.length+(f?i?2:3:1)>o)&&(S=!0);let b=x,w=_;if(S){b=v;let A=-1;for(;++A<y.length;)y[A]=m+yz+y[A];w+=b.move(`
`+y.join(`
`)+`
`+m)}else k&&(w+=b.move(" "+k));return f&&(w+=b.move((i||S?"":" ")+"/")),w+=b.move(">"),l.children&&l.children.length>0&&(l.type==="mdxJsxTextElement"?w+=b.move(u.containerPhrasing(l,{...b.current(),before:">",after:"<"})):(b.shift(2),w+=b.move(`
`),w+=b.move(rme(l,u,b.current())),w+=b.move(`
`))),f||(w+=b.move((d?m:"")+"</"+(l.name||"")+">")),C(),w}}function rme(t,e,n){const r=e.indexStack,i=t.children,o=e.createTracker(n),s=wz(_z(e)),a=[];let l=-1;for(r.push(-1);++l<i.length;){const c=i[l];r[r.length-1]=l;const u={before:`
`,after:`
`,...o.current()},h=e.handle(c,t,e,u),d=c.type==="mdxJsxFlowElement"?h:e.indentLines(h,function(f,p,m){return(m?"":s)+f});a.push(o.move(d)),c.type!=="list"&&(e.bulletLastUsed=void 0),l<i.length-1&&a.push(o.move(`

`))}return r.pop(),a.join("")}function _z(t){let e=0,n=t.stack.length;for(;--n>-1;){const r=t.stack[n];if(r==="blockquote"||r==="listItem")break;r==="mdxJsxFlowElement"&&e++}return e}function wz(t){return yz.repeat(t)}function ime(){return"<"}const ome=/[$_\p{ID_Start}]/u,sme=/[$_\u{200C}\u{200D}\p{ID_Continue}]/u,ame=/[-$_\u{200C}\u{200D}\p{ID_Continue}]/u,lme={};function Co(t){return t?ome.test(String.fromCodePoint(t)):!1}function Vf(t,e){const r=(e||lme).jsx?ame:sme;return t?r.test(String.fromCodePoint(t)):!1}function gt(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return s;function s(l){return rt(l)?(t.enter(n),a(l)):e(l)}function a(l){return rt(l)&&o++<i?(t.consume(l),a):(t.exit(n),e(l))}}const cme={}.hasOwnProperty,ume=Symbol("continue"),rC=Symbol("exit"),hme=Symbol("skip");function dme(t,e){let n,r;typeof e=="function"?n=e:e&&typeof e=="object"&&(e.enter&&(n=e.enter),e.leave&&(r=e.leave)),i(t,void 0,void 0,[])();function i(o,s,a,l){return iC(o)&&(c.displayName="node ("+o.type+")"),c;function c(){const u=n?BR(n(o,s,a,l)):[];if(u[0]===rC)return u;if(u[0]!==hme){let h;for(h in o)if(cme.call(o,h)&&o[h]&&typeof o[h]=="object"&&h!=="data"&&h!=="position"){const d=l.concat(o),f=o[h];if(Array.isArray(f)){const p=f;let m=0;for(;m>-1&&m<p.length;){const x=p[m];if(iC(x)){const v=i(x,h,m,d)();if(v[0]===rC)return v;m=typeof v[1]=="number"?v[1]:m+1}else m++}}else if(iC(f)){const p=i(f,h,void 0,d)();if(p[0]===rC)return p}}}return r?BR(r(o,s,a,l)):u}}}function BR(t){return Array.isArray(t)?t:typeof t=="number"?[ume,t]:[t]}function iC(t){return!!(t&&typeof t=="object"&&"type"in t&&typeof t.type=="string"&&t.type.length>0)}function fme(t,e){const n=e.prefix||"",r=e.suffix||"",i=Object.assign({},e.acornOptions),o=[],s=[],a=i.onComment,l=i.onToken;let c=!1,u,h;const d=Object.assign({},i,{onComment:o,preserveParens:!0});l&&(d.onToken=s);const f=pme(t,e.tokenTypes),p=f.value,m=n+p+r,x=VR(p);if(x&&!e.allowEmpty)throw new Ot("Unexpected empty expression",{place:y(0),ruleId:"unexpected-empty-expression",source:"micromark-extension-mdx-expression"});try{u=e.expression&&!x?e.acorn.parseExpressionAt(m,0,d):e.acorn.parse(m,d)}catch(_){const C=_,S=y(C.pos);C.message=String(C.message).replace(/ \(\d+:\d+\)$/,""),C.pos=S.offset,C.loc={line:S.line,column:S.column-1},h=C,c=C.raisedAt>=n.length+p.length||C.message==="Unterminated comment"}if(u&&e.expression&&!x)if(VR(m.slice(u.end,m.length-r.length)))u={type:"Program",start:0,end:n.length+p.length,body:[{type:"ExpressionStatement",expression:u,start:0,end:n.length+p.length}],sourceType:"module",comments:[]};else{const _=y(u.end),C=new Error("Unexpected content after expression");C.pos=_.offset,C.loc={line:_.line,column:_.column-1},h=C,u=void 0}if(u){if(u.comments=o,dme(u,function(_,C,S,k){let b=k[k.length-1],w=C;_.type==="ParenthesizedExpression"&&b&&w&&(typeof S=="number"&&(b=b[w],w=S),b[w]=_.expression),v(_)}),Array.isArray(a))a.push(...o);else if(typeof a=="function")for(const _ of o)a(_.type==="Block",_.value,_.start,_.end,_.loc.start,_.loc.end);for(const _ of s)_.end<=n.length||_.start-n.length>=p.length||(v(_),Array.isArray(l)?l.push(_):l(_))}return{estree:u,error:h,swallow:c};function v(_){const C=y(_.start),S=y(_.end);_.start=C.offset,_.end=S.offset,_.loc={start:{line:C.line,column:C.column-1,offset:C.offset},end:{line:S.line,column:S.column-1,offset:S.offset}},_.range=[_.start,_.end]}function y(_){let C=_-n.length;C<0?C=0:C>p.length&&(C=p.length);let S=mme(f.stops,C);return S||(S={line:e.start.line,column:e.start.column,offset:e.start.offset}),S}}function VR(t){return/^\s*$/.test(t.replace(/\/\*[\s\S]*?\*\//g,"").replace(/\/\/[^\r\n]*(\r\n|\n|\r)/g,""))}function pme(t,e){const n={value:"",stops:[]};let r=-1;for(;++r<t.length;){const i=t[r];if(i[0]==="enter"){const o=i[1].type;if(o==="lineEnding"||e.includes(o)){const s=i[2].sliceStream(i[1]);for(;s.length>0&&s[0]===-1;)s.shift();const a=gme(s);n.stops.push([n.value.length,i[1].start]),n.value+=a,n.stops.push([n.value.length,i[1].end])}}}return n}function mme(t,e){let n=0;for(;n<t.length&&t[n][0]<=e;)n+=1;if(n===0)return;const[r,i]=t[n-1],o=e-r;return{line:i.line,column:i.column+o,offset:i.offset+o}}function gme(t){let e=-1;const n=[];let r;for(;++e<t.length;){const i=t[e];let o;if(typeof i=="string")o=i;else switch(i){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o="	";break}case-1:{if(r)continue;o=" ";break}default:o=String.fromCharCode(i)}r=i===-2,n.push(o)}return n.join("")}function oC(t){const e=t||{},n=e.loc||{},r=e.range||[void 0,void 0],i=jR(n.start,r[0]||e.start),o=jR(n.end,r[1]||e.end);if(i&&o)return{start:i,end:o}}function jR(t,e){if(t&&typeof t=="object"){const n="line"in t?sC(t.line):void 0,r="column"in t?sC(t.column):void 0;if(n&&r!==void 0)return{line:n,column:r+1,offset:sC(e)}}}function sC(t){return typeof t=="number"&&t>-1?t:void 0}const xme=2,Bh="https://github.com/micromark/micromark-extension-mdx-expression/tree/main/packages/micromark-extension-mdx-expression",vme="#unexpected-end-of-file-in-expression-expected-a-corresponding-closing-brace-for-",yme="#unexpected-lazy-line-in-expression-in-container-expected-line-to-be-prefixed",zR="#unexpected-type-in-code-expected-an-object-spread-spread",_me="#unexpected-extra-content-in-spread-only-a-single-spread-is-supported",wme="#could-not-parse-expression-with-acorn";function $R(t,e,n,r,i,o,s,a,l,c,u){const h=this,d=this.events.length+3;let f=0,p,m;return x;function x(C){return t.enter(n),t.enter(r),t.consume(C),t.exit(r),p=h.now(),v}function v(C){if(C===null){if(m)throw m;const S=new Ot("Unexpected end of file in expression, expected a corresponding closing brace for `{`",{place:h.now(),ruleId:"unexpected-eof",source:"micromark-extension-mdx-expression"});throw S.url=Bh+vme,S}if(De(C))return t.enter("lineEnding"),t.consume(C),t.exit("lineEnding"),_;if(C===125&&f===0){const S=o?Cme.call(h,o,s,i,d,p,c||!1,l||!1):{type:"ok",estree:void 0};if(S.type==="ok"){t.enter(r),t.consume(C),t.exit(r);const k=t.exit(n);return a&&S.estree&&Object.assign(k,{estree:S.estree}),e}return m=S.message,t.enter(i),t.consume(C),y}return t.enter(i),y(C)}function y(C){return C===125&&f===0||C===null||De(C)?(t.exit(i),v(C)):(C===123&&!o?f+=1:C===125&&(f-=1),t.consume(C),y)}function _(C){const S=h.now();if(S.line!==p.line&&!u&&h.parser.lazy[S.line]){const k=new Ot("Unexpected lazy line in expression in container, expected line to be prefixed with `>` when in a block quote, whitespace when in a list, etc",{place:h.now(),ruleId:"unexpected-lazy",source:"micromark-extension-mdx-expression"});throw k.url=Bh+yme,k}return rt(C)?gt(t,v,"linePrefix",xme+1)(C):v(C)}}function Cme(t,e,n,r,i,o,s){const a=fme(this.events.slice(r),{acorn:t,tokenTypes:[n],acornOptions:e,start:i,expression:!0,allowEmpty:o,prefix:s?"({":"",suffix:s?"})":""}),l=a.estree;if(s&&l){const c=l.body[0];if(c.type!=="ExpressionStatement"||c.expression.type!=="ObjectExpression"){const u=oC(c),h=new Ot("Unexpected `"+c.type+"` in code: expected an object spread (`{...spread}`)",{place:u.start,ruleId:"non-spread",source:"micromark-extension-mdx-expression"});throw h.url=Bh+zR,h}if(c.expression.properties[1]){const u=oC(c.expression.properties[1]),h=new Ot("Unexpected extra content in spread: only a single spread is supported",{place:u.start,ruleId:"spread-extra",source:"micromark-extension-mdx-expression"});throw h.url=Bh+_me,h}if(c.expression.properties[0]&&c.expression.properties[0].type!=="SpreadElement"){const u=oC(c.expression.properties[0]),h=new Ot("Unexpected `"+c.expression.properties[0].type+"` in code: only spread elements are supported",{place:u.start,ruleId:"non-spread",source:"micromark-extension-mdx-expression"});throw h.url=Bh+zR,h}}if(a.error){const c=new Ot("Could not parse expression with acorn",{cause:a.error,place:{line:a.error.loc.line,column:a.error.loc.column+1,offset:a.error.pos},ruleId:"acorn",source:"micromark-extension-mdx-expression"});return c.url=Bh+wme,{type:"nok",message:c}}return{type:"ok",estree:l}}const HR="https://github.com/micromark/micromark-extension-mdx-jsx";function Cz(t,e,n,r,i,o,s,a,l,c,u,h,d,f,p,m,x,v,y,_,C,S,k,b,w,A,E,R,D,N,j,$){const Q=this;let X,q;return H;function H(V){return t.enter(a),t.enter(l),t.consume(V),t.exit(l),L}function L(V){return en(V)?n(V):(X=U,vt(V))}function U(V){if(V===47)return t.enter(c),t.consume(V),t.exit(c),X=K,vt;if(V===62)return wn(V);if(V!==null&&V>=0&&Co(V))return t.enter(h),t.enter(d),t.consume(V),O;ie(V,"before name","a character that can start a name, such as a letter, `$`, or `_`"+(V===33?" (note: to create a comment in MDX, use `{/* text */}`)":""))}function K(V){if(V===62)return wn(V);if(V!==null&&V>=0&&Co(V))return t.enter(h),t.enter(d),t.consume(V),O;ie(V,"before name","a character that can start a name, such as a letter, `$`, or `_`"+(V===42||V===47?" (note: JS comments in JSX tags are not supported in MDX)":""))}function O(V){if(V!==null&&V>=0&&Vf(V,{jsx:!0}))return t.consume(V),O;if(V===46||V===47||V===58||V===62||V===123||en(V)||Ks(V))return t.exit(d),X=J,vt(V);ie(V,"in name","a name character such as letters, digits, `$`, or `_`; whitespace before attributes; or the end of the tag"+(V===64?" (note: to create a link in MDX, use `[text](url)`)":""))}function J(V){if(V===46)return t.enter(f),t.consume(V),t.exit(f),X=Ee,vt;if(V===58)return t.enter(m),t.consume(V),t.exit(m),X=de,vt;if(V===47||V===62||V===123||V!==null&&V>=0&&Co(V))return t.exit(h),Be(V);ie(V,"after name","a character that can start an attribute name, such as a letter, `$`, or `_`; whitespace before attributes; or the end of the tag")}function Ee(V){if(V!==null&&V>=0&&Co(V))return t.enter(p),t.consume(V),fe;ie(V,"before member name","a character that can start an attribute name, such as a letter, `$`, or `_`; whitespace before attributes; or the end of the tag")}function fe(V){if(V!==null&&V>=0&&Vf(V,{jsx:!0}))return t.consume(V),fe;if(V===46||V===47||V===62||V===123||en(V)||Ks(V))return t.exit(p),X=ue,vt(V);ie(V,"in member name","a name character such as letters, digits, `$`, or `_`; whitespace before attributes; or the end of the tag"+(V===64?" (note: to create a link in MDX, use `[text](url)`)":""))}function ue(V){if(V===46)return t.enter(f),t.consume(V),t.exit(f),X=Ee,vt;if(V===47||V===62||V===123||V!==null&&V>=0&&Co(V))return t.exit(h),Be(V);ie(V,"after member name","a character that can start an attribute name, such as a letter, `$`, or `_`; whitespace before attributes; or the end of the tag")}function de(V){if(V!==null&&V>=0&&Co(V))return t.enter(x),t.consume(V),ze;ie(V,"before local name","a character that can start a name, such as a letter, `$`, or `_`"+(V===43||V!==null&&V>46&&V<58?" (note: to create a link in MDX, use `[text](url)`)":""))}function ze(V){if(V!==null&&V>=0&&Vf(V,{jsx:!0}))return t.consume(V),ze;if(V===47||V===62||V===123||en(V)||Ks(V))return t.exit(x),X=Oe,vt(V);ie(V,"in local name","a name character such as letters, digits, `$`, or `_`; whitespace before attributes; or the end of the tag")}function Oe(V){if(V===47||V===62||V===123||V!==null&&V>=0&&Co(V))return t.exit(h),Be(V);ie(V,"after local name","a character that can start an attribute name, such as a letter, `$`, or `_`; whitespace before attributes; or the end of the tag")}function Be(V){if(V===47)return t.enter(u),t.consume(V),t.exit(u),X=An,vt;if(V===62)return wn(V);if(V===123)return $R.call(Q,t,Qe,v,y,_,r,i,o,!0,!1,s)(V);if(V!==null&&V>=0&&Co(V))return t.enter(C),t.enter(S),t.enter(k),t.consume(V),ct;ie(V,"before attribute name","a character that can start an attribute name, such as a letter, `$`, or `_`; whitespace before attributes; or the end of the tag")}function Qe(V){return X=Be,vt(V)}function ct(V){if(V!==null&&V>=0&&Vf(V,{jsx:!0}))return t.consume(V),ct;if(V===47||V===58||V===61||V===62||V===123||en(V)||Ks(V))return t.exit(k),X=We,vt(V);ie(V,"in attribute name","an attribute name character such as letters, digits, `$`, or `_`; `=` to initialize a value; whitespace before attributes; or the end of the tag")}function We(V){if(V===58)return t.enter(b),t.consume(V),t.exit(b),X=jt,vt;if(V===61)return t.exit(S),t.enter(A),t.consume(V),t.exit(A),X=dn,vt;if(V===47||V===62||V===123||en(V)||Ks(V)||V!==null&&V>=0&&Co(V))return t.exit(S),t.exit(C),X=Be,vt(V);ie(V,"after attribute name","a character that can start an attribute name, such as a letter, `$`, or `_`; `=` to initialize a value; or the end of the tag")}function jt(V){if(V!==null&&V>=0&&Co(V))return t.enter(w),t.consume(V),on;ie(V,"before local attribute name","a character that can start an attribute name, such as a letter, `$`, or `_`; `=` to initialize a value; or the end of the tag")}function on(V){if(V!==null&&V>=0&&Vf(V,{jsx:!0}))return t.consume(V),on;if(V===47||V===61||V===62||V===123||en(V)||Ks(V))return t.exit(w),t.exit(S),X=Fn,vt(V);ie(V,"in local attribute name","an attribute name character such as letters, digits, `$`, or `_`; `=` to initialize a value; whitespace before attributes; or the end of the tag")}function Fn(V){if(V===61)return t.enter(A),t.consume(V),t.exit(A),X=dn,vt;if(V===47||V===62||V===123||V!==null&&V>=0&&Co(V))return t.exit(C),Be(V);ie(V,"after local attribute name","a character that can start an attribute name, such as a letter, `$`, or `_`; `=` to initialize a value; or the end of the tag")}function dn(V){if(V===34||V===39)return t.enter(E),t.enter(R),t.consume(V),t.exit(R),q=V,Qn;if(V===123)return $R.call(Q,t,Jn,N,j,$,r,i,o,!1,!1,s)(V);ie(V,"before attribute value","a character that can start an attribute value, such as `\"`, `'`, or `{`"+(V===60?" (note: to use an element or fragment as a prop value in MDX, use `{<element />}`)":""))}function Jn(V){return t.exit(C),X=Be,vt(V)}function Qn(V){return V===null&&ie(V,"in attribute value","a corresponding closing quote `"+String.fromCodePoint(q)+"`"),V===q?(t.enter(R),t.consume(V),t.exit(R),t.exit(E),t.exit(C),q=void 0,X=Be,vt):De(V)?(X=Qn,vt(V)):(t.enter(D),fn(V))}function fn(V){return V===null||V===q||De(V)?(t.exit(D),Qn(V)):(t.consume(V),fn)}function An(V){if(V===62)return wn(V);ie(V,"after self-closing slash","`>` to end the tag"+(V===42||V===47?" (note: JS comments in JSX tags are not supported in MDX)":""))}function wn(V){return t.enter(l),t.consume(V),t.exit(l),t.exit(a),e}function vt(V){return De(V)?(t.enter("lineEnding"),t.consume(V),t.exit("lineEnding"),Y):rt(V)||Ks(V)?(t.enter("esWhitespace"),Gi(V)):X(V)}function Gi(V){return De(V)?(t.exit("esWhitespace"),vt(V)):rt(V)||Ks(V)?(t.consume(V),Gi):(t.exit("esWhitespace"),X(V))}function Y(V){if(!s&&Q.parser.lazy[Q.now().line]){const $e=new Ot("Unexpected lazy line in container, expected line to be prefixed with `>` when in a block quote, whitespace when in a list, etc",Q.now(),"micromark-extension-mdx-jsx:unexpected-lazy");throw $e.url=HR+"#unexpected-lazy-line-in-container-expected-line-to-be",$e}return vt(V)}function ie(V,$e,Xe){const wt=new Ot("Unexpected "+(V===null?"end of file":"character `"+(V===96?"` ` `":String.fromCodePoint(V))+"` ("+bme(V)+")")+" "+$e+", expected "+Xe,Q.now(),"micromark-extension-mdx-jsx:unexpected-"+(V===null?"eof":"character"));throw wt.url=HR+(V===null?"#unexpected-end-of-file-at-expected-expect":"#unexpected-character-at-expected-expect"),wt}}function bme(t){return"U+"+t.toString(16).toUpperCase().padStart(4,"0")}function Eme(t,e){return{name:"mdxJsxTextTag",tokenize:n};function n(r,i,o){return Cz.call(this,r,i,o,t,e.acornOptions,e.addResult,!0,"mdxJsxTextTag","mdxJsxTextTagMarker","mdxJsxTextTagClosingMarker","mdxJsxTextTagSelfClosingMarker","mdxJsxTextTagName","mdxJsxTextTagNamePrimary","mdxJsxTextTagNameMemberMarker","mdxJsxTextTagNameMember","mdxJsxTextTagNamePrefixMarker","mdxJsxTextTagNameLocal","mdxJsxTextTagExpressionAttribute","mdxJsxTextTagExpressionAttributeMarker","mdxJsxTextTagExpressionAttributeValue","mdxJsxTextTagAttribute","mdxJsxTextTagAttributeName","mdxJsxTextTagAttributeNamePrimary","mdxJsxTextTagAttributeNamePrefixMarker","mdxJsxTextTagAttributeNameLocal","mdxJsxTextTagAttributeInitializerMarker","mdxJsxTextTagAttributeValueLiteral","mdxJsxTextTagAttributeValueLiteralMarker","mdxJsxTextTagAttributeValueLiteralValue","mdxJsxTextTagAttributeValueExpression","mdxJsxTextTagAttributeValueExpressionMarker","mdxJsxTextTagAttributeValueExpressionValue")}}function Sme(t,e){return{name:"mdxJsxFlowTag",tokenize:n,concrete:!0};function n(r,i,o){const s=this;return a;function a(h){return l(h)}function l(h){return Cz.call(s,r,c,o,t,e.acornOptions,e.addResult,!1,"mdxJsxFlowTag","mdxJsxFlowTagMarker","mdxJsxFlowTagClosingMarker","mdxJsxFlowTagSelfClosingMarker","mdxJsxFlowTagName","mdxJsxFlowTagNamePrimary","mdxJsxFlowTagNameMemberMarker","mdxJsxFlowTagNameMember","mdxJsxFlowTagNamePrefixMarker","mdxJsxFlowTagNameLocal","mdxJsxFlowTagExpressionAttribute","mdxJsxFlowTagExpressionAttributeMarker","mdxJsxFlowTagExpressionAttributeValue","mdxJsxFlowTagAttribute","mdxJsxFlowTagAttributeName","mdxJsxFlowTagAttributeNamePrimary","mdxJsxFlowTagAttributeNamePrefixMarker","mdxJsxFlowTagAttributeNameLocal","mdxJsxFlowTagAttributeInitializerMarker","mdxJsxFlowTagAttributeValueLiteral","mdxJsxFlowTagAttributeValueLiteralMarker","mdxJsxFlowTagAttributeValueLiteralValue","mdxJsxFlowTagAttributeValueExpression","mdxJsxFlowTagAttributeValueExpressionMarker","mdxJsxFlowTagAttributeValueExpressionValue")(h)}function c(h){return rt(h)?gt(r,u,"whitespace")(h):u(h)}function u(h){const d=s.parser.constructs.flow[123],p=(Array.isArray(d)?d:d?[d]:[]).find(m=>m.name==="mdxFlowExpression");return h===60?a(h):h===123&&p?r.attempt(p,u,o)(h):h===null||De(h)?i(h):o(h)}}}function kme(t){const e={},n=e.acorn;let r;if(n){if(!n.parse||!n.parseExpressionAt)throw new Error("Expected a proper `acorn` instance passed in as `options.acorn`");r=Object.assign({ecmaVersion:2024,sourceType:"module"},e.acornOptions,{locations:!0})}else if(e.acornOptions||e.addResult)throw new Error("Expected an `acorn` instance passed in as `options.acorn`");return{flow:{60:Sme(n||void 0,{acornOptions:r,addResult:e.addResult||void 0})},text:{60:Eme(n||void 0,{acornOptions:r,addResult:e.addResult||void 0})}}}function Tme(){return{disable:{null:["autolink","codeIndented","htmlFlow","htmlText"]}}}const UR={}.hasOwnProperty;function Ame(t,e){const n=e||{};function r(i,...o){let s=r.invalid;const a=r.handlers;if(i&&UR.call(i,t)){const l=String(i[t]);s=UR.call(a,l)?a[l]:r.unknown}if(s)return s.call(this,i,...o)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const Ime={}.hasOwnProperty;function bz(t,e){let n=-1,r;if(e.extensions)for(;++n<e.extensions.length;)bz(t,e.extensions[n]);for(r in e)if(Ime.call(e,r))switch(r){case"extensions":break;case"unsafe":{WR(t[r],e[r]);break}case"join":{WR(t[r],e[r]);break}case"handlers":{Rme(t[r],e[r]);break}default:t.options[r]=e[r]}return t}function WR(t,e){e&&t.push(...e)}function Rme(t,e){e&&Object.assign(t,e)}function Pme(t,e,n,r){const i=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);const s=n.indentLines(n.containerFlow(t,o.current()),Dme);return i(),s}function Dme(t,e,n){return">"+(n?"":" ")+t}function Ez(t,e){return qR(t,e.inConstruct,!0)&&!qR(t,e.notInConstruct,!1)}function qR(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function KR(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&Ez(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function Mme(t,e){const n=String(t);let r=n.indexOf(e),i=r,o=0,s=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++o>s&&(s=o):o=1,i=r+e.length,r=n.indexOf(e,i);return s}function jE(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function Nme(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function Ome(t,e,n,r){const i=Nme(n),o=t.value||"",s=i==="`"?"GraveAccent":"Tilde";if(jE(t,n)){const h=n.enter("codeIndented"),d=n.indentLines(o,Lme);return h(),d}const a=n.createTracker(r),l=i.repeat(Math.max(Mme(o,i)+1,3)),c=n.enter("codeFenced");let u=a.move(l);if(t.lang){const h=n.enter(`codeFencedLang${s}`);u+=a.move(n.safe(t.lang,{before:u,after:" ",encode:["`"],...a.current()})),h()}if(t.lang&&t.meta){const h=n.enter(`codeFencedMeta${s}`);u+=a.move(" "),u+=a.move(n.safe(t.meta,{before:u,after:`
`,encode:["`"],...a.current()})),h()}return u+=a.move(`
`),o&&(u+=a.move(o+`
`)),u+=a.move(l),c(),u}function Lme(t,e,n){return(n?"":"    ")+t}function bA(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function Fme(t,e,n,r){const i=bA(n),o=i==='"'?"Quote":"Apostrophe",s=n.enter("definition");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(t),{before:c,after:"]",...l.current()})),c+=l.move("]: "),a(),!t.url||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(t.url,{before:c,after:t.title?" ":`
`,...l.current()}))),a(),t.title&&(a=n.enter(`title${o}`),c+=l.move(" "+i),c+=l.move(n.safe(t.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),s(),c}function Bme(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}Sz.peek=Vme;function Sz(t,e,n,r){const i=Bme(n),o=n.enter("emphasis"),s=n.createTracker(r);let a=s.move(i);return a+=s.move(n.containerPhrasing(t,{before:a,after:i,...s.current()})),a+=s.move(i),o(),a}function Vme(t,e,n){return n.options.emphasis||"*"}const EA=function(t){if(t==null)return Hme;if(typeof t=="function")return D_(t);if(typeof t=="object")return Array.isArray(t)?jme(t):zme(t);if(typeof t=="string")return $me(t);throw new Error("Expected function, string, or object as test")};function jme(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=EA(t[n]);return D_(r);function r(...i){let o=-1;for(;++o<e.length;)if(e[o].apply(this,i))return!0;return!1}}function zme(t){const e=t;return D_(n);function n(r){const i=r;let o;for(o in t)if(i[o]!==e[o])return!1;return!0}}function $me(t){return D_(e);function e(n){return n&&n.type===t}}function D_(t){return e;function e(n,r,i){return!!(Ume(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Hme(){return!0}function Ume(t){return t!==null&&typeof t=="object"&&"type"in t}const kz=[],Wme=!0,zE=!1,qme="skip";function Kme(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const o=EA(i),s=r?-1:1;a(t,void 0,[])();function a(l,c,u){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const f=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(d,"name",{value:"node ("+(l.type+(f?"<"+f+">":""))+")"})}return d;function d(){let f=kz,p,m,x;if((!e||o(l,c,u[u.length-1]||void 0))&&(f=Gme(n(l,u)),f[0]===zE))return f;if("children"in l&&l.children){const v=l;if(v.children&&f[0]!==qme)for(m=(r?v.children.length:-1)+s,x=u.concat(v);m>-1&&m<v.children.length;){const y=v.children[m];if(p=a(y,m,x)(),p[0]===zE)return p;m=typeof p[1]=="number"?p[1]:m+s}}return f}}}function Gme(t){return Array.isArray(t)?t:typeof t=="number"?[Wme,t]:t==null?kz:[t]}function Jme(t,e,n,r){let i,o,s;typeof e=="function"&&typeof n!="function"?(o=void 0,s=e,i=n):(o=e,s=n,i=r),Kme(t,o,a,i);function a(l,c){const u=c[c.length-1],h=u?u.children.indexOf(l):void 0;return s(l,h,u)}}const Qme={};function SA(t,e){const n=Qme,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Tz(t,r,i)}function Tz(t,e,n){if(Xme(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return GR(t.children,e,n)}return Array.isArray(t)?GR(t,e,n):""}function GR(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=Tz(t[i],e,n);return r.join("")}function Xme(t){return!!(t&&typeof t=="object")}function Az(t,e){let n=!1;return Jme(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,zE}),!!((!t.depth||t.depth<3)&&SA(t)&&(e.options.setext||n))}function Yme(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),o=n.createTracker(r);if(Az(t,n)){const u=n.enter("headingSetext"),h=n.enter("phrasing"),d=n.containerPhrasing(t,{...o.current(),before:`
`,after:`
`});return h(),u(),d+`
`+(i===1?"=":"-").repeat(d.length-(Math.max(d.lastIndexOf("\r"),d.lastIndexOf(`
`))+1))}const s="#".repeat(i),a=n.enter("headingAtx"),l=n.enter("phrasing");o.move(s+" ");let c=n.containerPhrasing(t,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(c)&&(c="&#x"+c.charCodeAt(0).toString(16).toUpperCase()+";"+c.slice(1)),c=c?s+" "+c:s,n.options.closeAtx&&(c+=" "+s),l(),a(),c}Iz.peek=Zme;function Iz(t){return t.value||""}function Zme(){return"<"}Rz.peek=ege;function Rz(t,e,n,r){const i=bA(n),o=i==='"'?"Quote":"Apostrophe",s=n.enter("image");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(t.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),a(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(t.url,{before:c,after:t.title?" ":")",...l.current()}))),a(),t.title&&(a=n.enter(`title${o}`),c+=l.move(" "+i),c+=l.move(n.safe(t.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),c+=l.move(")"),s(),c}function ege(){return"!"}Pz.peek=tge;function Pz(t,e,n,r){const i=t.referenceType,o=n.enter("imageReference");let s=n.enter("label");const a=n.createTracker(r);let l=a.move("![");const c=n.safe(t.alt,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),s();const u=n.stack;n.stack=[],s=n.enter("reference");const h=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return s(),n.stack=u,o(),i==="full"||!c||c!==h?l+=a.move(h+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function tge(){return"!"}Dz.peek=nge;function Dz(t,e,n){let r=t.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const s=n.unsafe[o],a=n.compilePattern(s);let l;if(s.atBreak)for(;l=a.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function nge(){return"`"}function Mz(t,e){const n=SA(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}Nz.peek=rge;function Nz(t,e,n,r){const i=bA(n),o=i==='"'?"Quote":"Apostrophe",s=n.createTracker(r);let a,l;if(Mz(t,n)){const u=n.stack;n.stack=[],a=n.enter("autolink");let h=s.move("<");return h+=s.move(n.containerPhrasing(t,{before:h,after:">",...s.current()})),h+=s.move(">"),a(),n.stack=u,h}a=n.enter("link"),l=n.enter("label");let c=s.move("[");return c+=s.move(n.containerPhrasing(t,{before:c,after:"](",...s.current()})),c+=s.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),c+=s.move("<"),c+=s.move(n.safe(t.url,{before:c,after:">",...s.current()})),c+=s.move(">")):(l=n.enter("destinationRaw"),c+=s.move(n.safe(t.url,{before:c,after:t.title?" ":")",...s.current()}))),l(),t.title&&(l=n.enter(`title${o}`),c+=s.move(" "+i),c+=s.move(n.safe(t.title,{before:c,after:i,...s.current()})),c+=s.move(i),l()),c+=s.move(")"),a(),c}function rge(t,e,n){return Mz(t,n)?"<":"["}Oz.peek=ige;function Oz(t,e,n,r){const i=t.referenceType,o=n.enter("linkReference");let s=n.enter("label");const a=n.createTracker(r);let l=a.move("[");const c=n.containerPhrasing(t,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),s();const u=n.stack;n.stack=[],s=n.enter("reference");const h=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return s(),n.stack=u,o(),i==="full"||!c||c!==h?l+=a.move(h+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function ige(){return"["}function kA(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function oge(t){const e=kA(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function sge(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function Lz(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function age(t,e,n,r){const i=n.enter("list"),o=n.bulletCurrent;let s=t.ordered?sge(n):kA(n);const a=t.ordered?s==="."?")":".":oge(n);let l=e&&n.bulletLastUsed?s===n.bulletLastUsed:!1;if(!t.ordered){const u=t.children?t.children[0]:void 0;if((s==="*"||s==="-")&&u&&(!u.children||!u.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),Lz(n)===s&&u){let h=-1;for(;++h<t.children.length;){const d=t.children[h];if(d&&d.type==="listItem"&&d.children&&d.children[0]&&d.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(s=a),n.bulletCurrent=s;const c=n.containerFlow(t,r);return n.bulletLastUsed=s,n.bulletCurrent=o,i(),c}function lge(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function cge(t,e,n,r){const i=lge(n);let o=n.bulletCurrent||kA(n);e&&e.type==="list"&&e.ordered&&(o=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+o);let s=o.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(s=Math.ceil(s/4)*4);const a=n.createTracker(r);a.move(o+" ".repeat(s-o.length)),a.shift(s);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(t,a.current()),u);return l(),c;function u(h,d,f){return d?(f?"":" ".repeat(s))+h:(f?o:o+" ".repeat(s-o.length))+h}}function uge(t,e,n,r){const i=n.enter("paragraph"),o=n.enter("phrasing"),s=n.containerPhrasing(t,r);return o(),i(),s}const hge=EA(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function dge(t,e,n,r){return(t.children.some(function(s){return hge(s)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function fge(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}Fz.peek=pge;function Fz(t,e,n,r){const i=fge(n),o=n.enter("strong"),s=n.createTracker(r);let a=s.move(i+i);return a+=s.move(n.containerPhrasing(t,{before:a,after:i,...s.current()})),a+=s.move(i+i),o(),a}function pge(t,e,n){return n.options.strong||"*"}function mge(t,e,n,r){return n.safe(t.value,r)}function gge(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function xge(t,e,n){const r=(Lz(n)+(n.options.ruleSpaces?" ":"")).repeat(gge(n));return n.options.ruleSpaces?r.slice(0,-1):r}const TA={blockquote:Pme,break:KR,code:Ome,definition:Fme,emphasis:Sz,hardBreak:KR,heading:Yme,html:Iz,image:Rz,imageReference:Pz,inlineCode:Dz,link:Nz,linkReference:Oz,list:age,listItem:cge,paragraph:uge,root:dge,strong:Fz,text:mge,thematicBreak:xge},vge=[yge];function yge(t,e,n,r){if(e.type==="code"&&jE(e,r)&&(t.type==="list"||t.type===e.type&&jE(t,r)))return!1;if("spread"in n&&typeof n.spread=="boolean")return t.type==="paragraph"&&(t.type===e.type||e.type==="definition"||e.type==="heading"&&Az(e,r))?void 0:n.spread?1:0}const Dc=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],_ge=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:Dc},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:Dc},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:Dc},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:Dc},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:Dc},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:Dc},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:Dc},{atBreak:!0,character:"~"}];function Bz(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCodePoint(n)}const wge=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Vz(t){return t.replace(wge,Cge)}function Cge(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return Bz(n.slice(o?2:1),o?16:10)}return O0(n)||t}function bge(t){return t.label||!t.identifier?t.label||"":Vz(t.identifier)}function Ege(t){if(!t._compiled){const e=(t.atBreak?"[\\r\\n][\\t ]*":"")+(t.before?"(?:"+t.before+")":"");t._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(t.character)?"\\":"")+t.character+(t.after?"(?:"+t.after+")":""),"g")}return t._compiled}function Sge(t,e,n){const r=e.indexStack,i=t.children||[],o=[];let s=-1,a=n.before;r.push(-1);let l=e.createTracker(n);for(;++s<i.length;){const c=i[s];let u;if(r[r.length-1]=s,s+1<i.length){let h=e.handle.handlers[i[s+1].type];h&&h.peek&&(h=h.peek),u=h?h(i[s+1],t,e,{before:"",after:"",...l.current()}).charAt(0):""}else u=n.after;o.length>0&&(a==="\r"||a===`
`)&&c.type==="html"&&(o[o.length-1]=o[o.length-1].replace(/(\r?\n|\r)$/," "),a=" ",l=e.createTracker(n),l.move(o.join(""))),o.push(l.move(e.handle(c,t,e,{...l.current(),before:a,after:u}))),a=o[o.length-1].slice(-1)}return r.pop(),o.join("")}function kge(t,e,n){const r=e.indexStack,i=t.children||[],o=e.createTracker(n),s=[];let a=-1;for(r.push(-1);++a<i.length;){const l=i[a];r[r.length-1]=a,s.push(o.move(e.handle(l,t,e,{before:`
`,after:`
`,...o.current()}))),l.type!=="list"&&(e.bulletLastUsed=void 0),a<i.length-1&&s.push(o.move(Tge(l,i[a+1],t,e)))}return r.pop(),s.join("")}function Tge(t,e,n,r){let i=r.join.length;for(;i--;){const o=r.join[i](t,e,n,r);if(o===!0||o===1)break;if(typeof o=="number")return`
`.repeat(1+o);if(o===!1)return`

<!---->

`}return`

`}const Age=/\r?\n|\r/g;function Ige(t,e){const n=[];let r=0,i=0,o;for(;o=Age.exec(t);)s(t.slice(r,o.index)),n.push(o[0]),r=o.index+o[0].length,i++;return s(t.slice(r)),n.join("");function s(a){n.push(e(a,i,!a))}}function Rge(t,e,n){const r=(n.before||"")+(e||"")+(n.after||""),i=[],o=[],s={};let a=-1;for(;++a<t.unsafe.length;){const u=t.unsafe[a];if(!Ez(t.stack,u))continue;const h=t.compilePattern(u);let d;for(;d=h.exec(r);){const f="before"in u||!!u.atBreak,p="after"in u,m=d.index+(f?d[1].length:0);i.includes(m)?(s[m].before&&!f&&(s[m].before=!1),s[m].after&&!p&&(s[m].after=!1)):(i.push(m),s[m]={before:f,after:p})}}i.sort(Pge);let l=n.before?n.before.length:0;const c=r.length-(n.after?n.after.length:0);for(a=-1;++a<i.length;){const u=i[a];u<l||u>=c||u+1<c&&i[a+1]===u+1&&s[u].after&&!s[u+1].before&&!s[u+1].after||i[a-1]===u-1&&s[u].before&&!s[u-1].before&&!s[u-1].after||(l!==u&&o.push(JR(r.slice(l,u),"\\")),l=u,/[!-/:-@[-`{-~]/.test(r.charAt(u))&&(!n.encode||!n.encode.includes(r.charAt(u)))?o.push("\\"):(o.push("&#x"+r.charCodeAt(u).toString(16).toUpperCase()+";"),l++))}return o.push(JR(r.slice(l,c),n.after)),o.join("")}function Pge(t,e){return t-e}function JR(t,e){const n=/\\(?=[!-/:-@[-`{-~])/g,r=[],i=[],o=t+e;let s=-1,a=0,l;for(;l=n.exec(o);)r.push(l.index);for(;++s<r.length;)a!==r[s]&&i.push(t.slice(a,r[s])),i.push("\\"),a=r[s];return i.push(t.slice(a)),i.join("")}function Dge(t){const e=t||{},n=e.now||{};let r=e.lineShift||0,i=n.line||1,o=n.column||1;return{move:l,current:s,shift:a};function s(){return{now:{line:i,column:o},lineShift:r}}function a(c){r+=c}function l(c){const u=c||"",h=u.split(/\r?\n|\r/g),d=h[h.length-1];return i+=h.length-1,o=h.length===1?o+d.length:1+d.length+r,u}}function jz(t,e={}){const n={enter:i,indentLines:Ige,associationId:bge,containerPhrasing:Lge,containerFlow:Fge,createTracker:Dge,compilePattern:Ege,safe:Bge,stack:[],unsafe:[..._ge],join:[...vge],handlers:{...TA},options:{},indexStack:[],handle:void 0};bz(n,e),n.options.tightDefinitions&&n.join.push(Oge),n.handle=Ame("type",{invalid:Mge,unknown:Nge,handlers:n.handlers});let r=n.handle(t,void 0,n,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return r&&r.charCodeAt(r.length-1)!==10&&r.charCodeAt(r.length-1)!==13&&(r+=`
`),r;function i(o){return n.stack.push(o),s;function s(){n.stack.pop()}}}function Mge(t){throw new Error("Cannot handle value `"+t+"`, expected node")}function Nge(t){const e=t;throw new Error("Cannot handle unknown node `"+e.type+"`")}function Oge(t,e){if(t.type==="definition"&&t.type===e.type)return 0}function Lge(t,e){return Sge(t,this,e)}function Fge(t,e){return kge(t,this,e)}function Bge(t,e){return Rge(this,t,e)}const Vge=["mdxJsxTextElement","mdxJsxFlowElement"];function zz(t){return Vge.includes(t.type)&&jge.includes(t.name.toLowerCase())}const jge=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","input","ins","kbd","label","legend","li","link","main","map","mark","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function zge(t,e){const n=QR(t),r=QR(e),i={...n,...r};return $ge(i)}function QR(t){const e={};return t.split(";").filter(r=>r.trim()!=="").forEach(r=>{const[i,o]=r.split(":").map(s=>s.trim());e[i]=o}),e}function $ge(t){return Object.entries(t).map(([e,n])=>`${e}: ${n}`).join("; ")}function Hge(t){return t.children instanceof Array}function $z({root:t,visitors:e,jsxComponentDescriptors:n,jsxIsAvailable:r,addImportStatements:i=!0}){let o=null;const s=new Set;e=e.sort((x,v)=>(v.priority??0)-(x.priority??0)),u(t,null);function a(x){s.add(x)}function l(x,v){if(o===null)return o=v,o;if(!Hge(x))throw new Error("Attempting to append children to a non-parent");const y=x.children,_=y.at(-1);if(_){const C=e.find(S=>{var k;return(k=S.shouldJoin)==null?void 0:k.call(S,_,v)});if(C){const S=C.join(_,v);return y.splice(y.length-1,1,S),S}}return y.push(v),v}function c(x,v){x.getChildren().forEach(y=>{u(y,v)})}function u(x,v){var y;const _=e.find(C=>{var S;return(S=C.testLexicalNode)==null?void 0:S.call(C,x)});if(!_)throw new Error(`no lexical visitor found for ${x.getType()}`,{cause:x});(y=_.visitLexicalNode)==null||y.call(_,{lexicalNode:x,mdastParent:v,actions:{addAndStepInto(C,S={},k=!0){const b={type:C,...S,...k?{children:[]}:{}};l(v,b),oe(x)&&k&&c(x,b)},appendToParent:l,visitChildren:c,registerReferredComponent:a}})}if(o===null)throw new Error("traversal ended with no root element");const h=new Map,d=new Map;for(const x of s){const v=n.find(y=>y.name===x);if(!v)throw new Error(`Component ${x} is used but not imported`);if(v.source)if(v.defaultExport)d.set(x,v.source);else{const{source:y}=v,_=h.get(y);_?_.push(x):h.set(y,[x])}}const f=Array.from(h).map(([x,v])=>({type:"mdxjsEsm",value:`import { ${v.join(", ")} } from '${x}'`}));f.push(...Array.from(d).map(([x,v])=>({type:"mdxjsEsm",value:`import ${x} from '${v}'`})));const p=o,m=p.children.find(x=>x.type==="yaml");return i&&(m?p.children.splice(p.children.indexOf(m)+1,0,...f):p.children.unshift(...f)),rx(p,[]),Hz(p),r||Uz(p),p}function Hz(t){if("children"in t&&t.children.length>0){if(zz(t)&&t.children.length===1){const e=t.children[0];e.type==="mdxJsxTextElement"&&e.name==="span"&&(e.attributes.forEach(n=>{if(n.type==="mdxJsxAttribute"){const r=t.attributes.find(i=>i.type==="mdxJsxAttribute"&&i.name===n.name);if(r)if(n.name==="className"){const i=new Set([...r.value.split(" "),...n.value.split(" ")]);r.value=Array.from(i).join(" ")}else n.name==="style"&&(r.value=zge(r.value,n.value));else t.attributes.push(n)}}),t.children=e.children)}t.children.forEach(e=>{Hz(e)})}}function Uz(t){if(Object.hasOwn(t,"children")){const e=t,n=[];e.children.forEach(r=>{r.type==="mdxJsxTextElement"&&r.name==="u"?n.push({type:"html",value:"<u>"},...r.children,{type:"html",value:"</u>"}):(n.push(r),Uz(r))}),e.children=n}}const XR=/\s+$/,YR=/^\s+/;function rx(t,e){if(t.type==="strong"||t.type==="emphasis"){const n=t.children.at(-1);if((n==null?void 0:n.type)==="text"){const i=n.value.match(XR);if(i){n.value=n.value.replace(XR,"");const o=e.at(-1);o&&(o.children.splice(o.children.indexOf(t)+1,0,{type:"text",value:i[0]}),rx(o,e.slice(0,-1)))}}const r=t.children.at(0);if((r==null?void 0:r.type)==="text"){const i=r.value.match(YR);if(i){r.value=r.value.replace(YR,"");const o=e.at(-1);o&&(o.children.splice(o.children.indexOf(t),0,{type:"text",value:i[0]}),rx(o,e.slice(0,-1)))}}}if("children"in t&&t.children.length>0){const n=t;n.children.forEach(r=>{rx(r,[...e,n])})}}function Uge({root:t,toMarkdownOptions:e,toMarkdownExtensions:n,visitors:r,jsxComponentDescriptors:i,jsxIsAvailable:o}){return jz($z({root:t,visitors:r,jsxComponentDescriptors:i,jsxIsAvailable:o}),{extensions:n,...e})+`
`}const ZR={}.hasOwnProperty;function Wge(t){const e={};let n=-1;for(;++n<t.length;)qge(e,t[n]);return e}function qge(t,e){let n;for(n in e){const i=(ZR.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let s;if(o)for(s in o){ZR.call(i,s)||(i[s]=[]);const a=o[s];Kge(i[s],Array.isArray(a)?a:a?[a]:[])}}}function Kge(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);co(t,0,0,r)}function id(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Gge={tokenize:Jge};function Jge(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),gt(t,e,"linePrefix")}function i(a){return t.enter("paragraph"),o(a)}function o(a){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(a)}function s(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return De(a)?(t.consume(a),t.exit("chunkText"),o):(t.consume(a),s)}}const Qge={tokenize:Xge},eP={tokenize:Yge};function Xge(t){const e=this,n=[];let r=0,i,o,s;return a;function a(_){if(r<n.length){const C=n[r];return e.containerState=C[1],t.attempt(C[0].continuation,l,c)(_)}return c(_)}function l(_){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&y();const C=e.events.length;let S=C,k;for(;S--;)if(e.events[S][0]==="exit"&&e.events[S][1].type==="chunkFlow"){k=e.events[S][1].end;break}v(r);let b=C;for(;b<e.events.length;)e.events[b][1].end=Object.assign({},k),b++;return co(e.events,S+1,0,e.events.slice(C)),e.events.length=b,c(_)}return a(_)}function c(_){if(r===n.length){if(!i)return d(_);if(i.currentConstruct&&i.currentConstruct.concrete)return p(_);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(eP,u,h)(_)}function u(_){return i&&y(),v(r),d(_)}function h(_){return e.parser.lazy[e.now().line]=r!==n.length,s=e.now().offset,p(_)}function d(_){return e.containerState={},t.attempt(eP,f,p)(_)}function f(_){return r++,n.push([e.currentConstruct,e.containerState]),d(_)}function p(_){if(_===null){i&&y(),v(0),t.consume(_);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{contentType:"flow",previous:o,_tokenizer:i}),m(_)}function m(_){if(_===null){x(t.exit("chunkFlow"),!0),v(0),t.consume(_);return}return De(_)?(t.consume(_),x(t.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(t.consume(_),m)}function x(_,C){const S=e.sliceStream(_);if(C&&S.push(null),_.previous=o,o&&(o.next=_),o=_,i.defineSkip(_.start),i.write(S),e.parser.lazy[_.start.line]){let k=i.events.length;for(;k--;)if(i.events[k][1].start.offset<s&&(!i.events[k][1].end||i.events[k][1].end.offset>s))return;const b=e.events.length;let w=b,A,E;for(;w--;)if(e.events[w][0]==="exit"&&e.events[w][1].type==="chunkFlow"){if(A){E=e.events[w][1].end;break}A=!0}for(v(r),k=b;k<e.events.length;)e.events[k][1].end=Object.assign({},E),k++;co(e.events,w+1,0,e.events.slice(b)),e.events.length=k}}function v(_){let C=n.length;for(;C-- >_;){const S=n[C];e.containerState=S[1],S[0].exit.call(e,t)}n.length=_}function y(){i.write([null]),o=void 0,i=void 0,e.containerState._closeFlow=void 0}}function Yge(t,e,n){return gt(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}const $E={name:"attention",tokenize:e1e,resolveAll:Zge};function Zge(t,e){let n=-1,r,i,o,s,a,l,c,u;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const h=Object.assign({},t[r][1].end),d=Object.assign({},t[n][1].start);tP(h,-l),tP(d,l),s={type:l>1?"strongSequence":"emphasisSequence",start:h,end:Object.assign({},t[r][1].end)},a={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[n][1].start),end:d},o={type:l>1?"strongText":"emphasisText",start:Object.assign({},t[r][1].end),end:Object.assign({},t[n][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},s.start),end:Object.assign({},a.end)},t[r][1].end=Object.assign({},s.start),t[n][1].start=Object.assign({},a.end),c=[],t[r][1].end.offset-t[r][1].start.offset&&(c=Zi(c,[["enter",t[r][1],e],["exit",t[r][1],e]])),c=Zi(c,[["enter",i,e],["enter",s,e],["exit",s,e],["enter",o,e]]),c=Zi(c,P_(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),c=Zi(c,[["exit",o,e],["enter",a,e],["exit",a,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(u=2,c=Zi(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):u=0,co(t,r-1,n-r+3,c),n=r+c.length-u-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function e1e(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Iv(r);let o;return s;function s(l){return o=l,t.enter("attentionSequence"),a(l)}function a(l){if(l===o)return t.consume(l),a;const c=t.exit("attentionSequence"),u=Iv(l),h=!u||u===2&&i||n.includes(l),d=!i||i===2&&u||n.includes(r);return c._open=!!(o===42?h:h&&(i||!d)),c._close=!!(o===42?d:d&&(u||!h)),e(l)}}function tP(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const t1e={name:"autolink",tokenize:n1e};function n1e(t,e,n){let r=0;return i;function i(f){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(f),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(f){return ls(f)?(t.consume(f),s):f===64?n(f):c(f)}function s(f){return f===43||f===45||f===46||Mo(f)?(r=1,a(f)):c(f)}function a(f){return f===58?(t.consume(f),r=0,l):(f===43||f===45||f===46||Mo(f))&&r++<32?(t.consume(f),a):(r=0,c(f))}function l(f){return f===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(f),t.exit("autolinkMarker"),t.exit("autolink"),e):f===null||f===32||f===60||FE(f)?n(f):(t.consume(f),l)}function c(f){return f===64?(t.consume(f),u):A0e(f)?(t.consume(f),c):n(f)}function u(f){return Mo(f)?h(f):n(f)}function h(f){return f===46?(t.consume(f),r=0,u):f===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(f),t.exit("autolinkMarker"),t.exit("autolink"),e):d(f)}function d(f){if((f===45||Mo(f))&&r++<63){const p=f===45?d:h;return t.consume(f),p}return n(f)}}const M_={tokenize:r1e,partial:!0};function r1e(t,e,n){return r;function r(o){return rt(o)?gt(t,i,"linePrefix")(o):i(o)}function i(o){return o===null||De(o)?e(o):n(o)}}const Wz={name:"blockQuote",tokenize:i1e,continuation:{tokenize:o1e},exit:s1e};function i1e(t,e,n){const r=this;return i;function i(s){if(s===62){const a=r.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(s),t.exit("blockQuoteMarker"),o}return n(s)}function o(s){return rt(s)?(t.enter("blockQuotePrefixWhitespace"),t.consume(s),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(s))}}function o1e(t,e,n){const r=this;return i;function i(s){return rt(s)?gt(t,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):o(s)}function o(s){return t.attempt(Wz,e,n)(s)}}function s1e(t){t.exit("blockQuote")}const qz={name:"characterEscape",tokenize:a1e};function a1e(t,e,n){return r;function r(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),i}function i(o){return R0e(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const Kz={name:"characterReference",tokenize:l1e};function l1e(t,e,n){const r=this;let i=0,o,s;return a;function a(h){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),l}function l(h){return h===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(h),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),o=31,s=Mo,u(h))}function c(h){return h===88||h===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(h),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,s=I0e,u):(t.enter("characterReferenceValue"),o=7,s=BE,u(h))}function u(h){if(h===59&&i){const d=t.exit("characterReferenceValue");return s===Mo&&!O0(r.sliceSerialize(d))?n(h):(t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return s(h)&&i++<o?(t.consume(h),u):n(h)}}const nP={tokenize:u1e,partial:!0},rP={name:"codeFenced",tokenize:c1e,concrete:!0};function c1e(t,e,n){const r=this,i={tokenize:S,partial:!0};let o=0,s=0,a;return l;function l(k){return c(k)}function c(k){const b=r.events[r.events.length-1];return o=b&&b[1].type==="linePrefix"?b[2].sliceSerialize(b[1],!0).length:0,a=k,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),u(k)}function u(k){return k===a?(s++,t.consume(k),u):s<3?n(k):(t.exit("codeFencedFenceSequence"),rt(k)?gt(t,h,"whitespace")(k):h(k))}function h(k){return k===null||De(k)?(t.exit("codeFencedFence"),r.interrupt?e(k):t.check(nP,m,C)(k)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),d(k))}function d(k){return k===null||De(k)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),h(k)):rt(k)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),gt(t,f,"whitespace")(k)):k===96&&k===a?n(k):(t.consume(k),d)}function f(k){return k===null||De(k)?h(k):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),p(k))}function p(k){return k===null||De(k)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),h(k)):k===96&&k===a?n(k):(t.consume(k),p)}function m(k){return t.attempt(i,C,x)(k)}function x(k){return t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),v}function v(k){return o>0&&rt(k)?gt(t,y,"linePrefix",o+1)(k):y(k)}function y(k){return k===null||De(k)?t.check(nP,m,C)(k):(t.enter("codeFlowValue"),_(k))}function _(k){return k===null||De(k)?(t.exit("codeFlowValue"),y(k)):(t.consume(k),_)}function C(k){return t.exit("codeFenced"),e(k)}function S(k,b,w){let A=0;return E;function E($){return k.enter("lineEnding"),k.consume($),k.exit("lineEnding"),R}function R($){return k.enter("codeFencedFence"),rt($)?gt(k,D,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):D($)}function D($){return $===a?(k.enter("codeFencedFenceSequence"),N($)):w($)}function N($){return $===a?(A++,k.consume($),N):A>=s?(k.exit("codeFencedFenceSequence"),rt($)?gt(k,j,"whitespace")($):j($)):w($)}function j($){return $===null||De($)?(k.exit("codeFencedFence"),b($)):w($)}}}function u1e(t,e,n){const r=this;return i;function i(s){return s===null?n(s):(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),o)}function o(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}const aC={name:"codeIndented",tokenize:d1e},h1e={tokenize:f1e,partial:!0};function d1e(t,e,n){const r=this;return i;function i(c){return t.enter("codeIndented"),gt(t,o,"linePrefix",5)(c)}function o(c){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?s(c):n(c)}function s(c){return c===null?l(c):De(c)?t.attempt(h1e,s,l)(c):(t.enter("codeFlowValue"),a(c))}function a(c){return c===null||De(c)?(t.exit("codeFlowValue"),s(c)):(t.consume(c),a)}function l(c){return t.exit("codeIndented"),e(c)}}function f1e(t,e,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):De(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),i):gt(t,o,"linePrefix",5)(s)}function o(s){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(s):De(s)?i(s):n(s)}}const p1e={name:"codeText",tokenize:x1e,resolve:m1e,previous:g1e};function m1e(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function g1e(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function x1e(t,e,n){let r=0,i,o;return s;function s(h){return t.enter("codeText"),t.enter("codeTextSequence"),a(h)}function a(h){return h===96?(t.consume(h),r++,a):(t.exit("codeTextSequence"),l(h))}function l(h){return h===null?n(h):h===32?(t.enter("space"),t.consume(h),t.exit("space"),l):h===96?(o=t.enter("codeTextSequence"),i=0,u(h)):De(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(h))}function c(h){return h===null||h===32||h===96||De(h)?(t.exit("codeTextData"),l(h)):(t.consume(h),c)}function u(h){return h===96?(t.consume(h),i++,u):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(h)):(o.type="codeTextData",c(h))}}class v1e{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&jf(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),jf(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),jf(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);jf(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);jf(this.left,n.reverse())}}}function jf(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function Gz(t){const e={};let n=-1,r,i,o,s,a,l,c;const u=new v1e(t);for(;++n<u.length;){for(;n in e;)n=e[n];if(r=u.get(n),n&&r[1].type==="chunkFlow"&&u.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,o=0,o<l.length&&l[o][1].type==="lineEndingBlank"&&(o+=2),o<l.length&&l[o][1].type==="content"))for(;++o<l.length&&l[o][1].type!=="content";)l[o][1].type==="chunkText"&&(l[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,y1e(u,n)),n=e[n],c=!0);else if(r[1]._container){for(o=n,i=void 0;o--&&(s=u.get(o),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank");)s[0]==="enter"&&(i&&(u.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=o);i&&(r[1].end=Object.assign({},u.get(i)[1].start),a=u.slice(i,n),a.unshift(r),u.splice(i,n-i+1,a))}}return co(t,0,Number.POSITIVE_INFINITY,u.slice(0)),!c}function y1e(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const o=[],s=n._tokenizer||r.parser[n.contentType](n.start),a=s.events,l=[],c={};let u,h,d=-1,f=n,p=0,m=0;const x=[m];for(;f;){for(;t.get(++i)[1]!==f;);o.push(i),f._tokenizer||(u=r.sliceStream(f),f.next||u.push(null),h&&s.defineSkip(f.start),f._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(u),f._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),h=f,f=f.next}for(f=n;++d<a.length;)a[d][0]==="exit"&&a[d-1][0]==="enter"&&a[d][1].type===a[d-1][1].type&&a[d][1].start.line!==a[d][1].end.line&&(m=d+1,x.push(m),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(s.events=[],f?(f._tokenizer=void 0,f.previous=void 0):x.pop(),d=x.length;d--;){const v=a.slice(x[d],x[d+1]),y=o.pop();l.push([y,y+v.length-1]),t.splice(y,2,v)}for(l.reverse(),d=-1;++d<l.length;)c[p+l[d][0]]=p+l[d][1],p+=l[d][1]-l[d][0]-1;return c}const _1e={tokenize:b1e,resolve:C1e},w1e={tokenize:E1e,partial:!0};function C1e(t){return Gz(t),t}function b1e(t,e){let n;return r;function r(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?o(a):De(a)?t.check(w1e,s,o)(a):(t.consume(a),i)}function o(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function s(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function E1e(t,e,n){const r=this;return i;function i(s){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),gt(t,o,"linePrefix")}function o(s){if(s===null||De(s))return n(s);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(s):t.interrupt(r.parser.constructs.flow,n,e)(s)}}function Jz(t,e,n,r,i,o,s,a,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return h;function h(v){return v===60?(t.enter(r),t.enter(i),t.enter(o),t.consume(v),t.exit(o),d):v===null||v===32||v===41||FE(v)?n(v):(t.enter(r),t.enter(s),t.enter(a),t.enter("chunkString",{contentType:"string"}),m(v))}function d(v){return v===62?(t.enter(o),t.consume(v),t.exit(o),t.exit(i),t.exit(r),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),f(v))}function f(v){return v===62?(t.exit("chunkString"),t.exit(a),d(v)):v===null||v===60||De(v)?n(v):(t.consume(v),v===92?p:f)}function p(v){return v===60||v===62||v===92?(t.consume(v),f):f(v)}function m(v){return!u&&(v===null||v===41||en(v))?(t.exit("chunkString"),t.exit(a),t.exit(s),t.exit(r),e(v)):u<c&&v===40?(t.consume(v),u++,m):v===41?(t.consume(v),u--,m):v===null||v===32||v===40||FE(v)?n(v):(t.consume(v),v===92?x:m)}function x(v){return v===40||v===41||v===92?(t.consume(v),m):m(v)}}function Qz(t,e,n,r,i,o){const s=this;let a=0,l;return c;function c(f){return t.enter(r),t.enter(i),t.consume(f),t.exit(i),t.enter(o),u}function u(f){return a>999||f===null||f===91||f===93&&!l||f===94&&!a&&"_hiddenFootnoteSupport"in s.parser.constructs?n(f):f===93?(t.exit(o),t.enter(i),t.consume(f),t.exit(i),t.exit(r),e):De(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),u):(t.enter("chunkString",{contentType:"string"}),h(f))}function h(f){return f===null||f===91||f===93||De(f)||a++>999?(t.exit("chunkString"),u(f)):(t.consume(f),l||(l=!rt(f)),f===92?d:h)}function d(f){return f===91||f===92||f===93?(t.consume(f),a++,h):h(f)}}function Xz(t,e,n,r,i,o){let s;return a;function a(d){return d===34||d===39||d===40?(t.enter(r),t.enter(i),t.consume(d),t.exit(i),s=d===40?41:d,l):n(d)}function l(d){return d===s?(t.enter(i),t.consume(d),t.exit(i),t.exit(r),e):(t.enter(o),c(d))}function c(d){return d===s?(t.exit(o),l(s)):d===null?n(d):De(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),gt(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),u(d))}function u(d){return d===s||d===null||De(d)?(t.exit("chunkString"),c(d)):(t.consume(d),d===92?h:u)}function h(d){return d===s||d===92?(t.consume(d),u):u(d)}}function Op(t,e){let n;return r;function r(i){return De(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):rt(i)?gt(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const S1e={name:"definition",tokenize:T1e},k1e={tokenize:A1e,partial:!0};function T1e(t,e,n){const r=this;let i;return o;function o(f){return t.enter("definition"),s(f)}function s(f){return Qz.call(r,t,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(f)}function a(f){return i=id(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),f===58?(t.enter("definitionMarker"),t.consume(f),t.exit("definitionMarker"),l):n(f)}function l(f){return en(f)?Op(t,c)(f):c(f)}function c(f){return Jz(t,u,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(f)}function u(f){return t.attempt(k1e,h,h)(f)}function h(f){return rt(f)?gt(t,d,"whitespace")(f):d(f)}function d(f){return f===null||De(f)?(t.exit("definition"),r.parser.defined.push(i),e(f)):n(f)}}function A1e(t,e,n){return r;function r(a){return en(a)?Op(t,i)(a):n(a)}function i(a){return Xz(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function o(a){return rt(a)?gt(t,s,"whitespace")(a):s(a)}function s(a){return a===null||De(a)?e(a):n(a)}}const I1e={name:"hardBreakEscape",tokenize:R1e};function R1e(t,e,n){return r;function r(o){return t.enter("hardBreakEscape"),t.consume(o),i}function i(o){return De(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const P1e={name:"headingAtx",tokenize:M1e,resolve:D1e};function D1e(t,e){let n=t.length-2,r=3,i,o;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},o={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},co(t,r,n-r+1,[["enter",i,e],["enter",o,e],["exit",o,e],["exit",i,e]])),t}function M1e(t,e,n){let r=0;return i;function i(u){return t.enter("atxHeading"),o(u)}function o(u){return t.enter("atxHeadingSequence"),s(u)}function s(u){return u===35&&r++<6?(t.consume(u),s):u===null||en(u)?(t.exit("atxHeadingSequence"),a(u)):n(u)}function a(u){return u===35?(t.enter("atxHeadingSequence"),l(u)):u===null||De(u)?(t.exit("atxHeading"),e(u)):rt(u)?gt(t,a,"whitespace")(u):(t.enter("atxHeadingText"),c(u))}function l(u){return u===35?(t.consume(u),l):(t.exit("atxHeadingSequence"),a(u))}function c(u){return u===null||u===35||en(u)?(t.exit("atxHeadingText"),a(u)):(t.consume(u),c)}}const N1e=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],iP=["pre","script","style","textarea"],O1e={name:"htmlFlow",tokenize:V1e,resolveTo:B1e,concrete:!0},L1e={tokenize:z1e,partial:!0},F1e={tokenize:j1e,partial:!0};function B1e(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function V1e(t,e,n){const r=this;let i,o,s,a,l;return c;function c(O){return u(O)}function u(O){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(O),h}function h(O){return O===33?(t.consume(O),d):O===47?(t.consume(O),o=!0,m):O===63?(t.consume(O),i=3,r.interrupt?e:L):ls(O)?(t.consume(O),s=String.fromCharCode(O),x):n(O)}function d(O){return O===45?(t.consume(O),i=2,f):O===91?(t.consume(O),i=5,a=0,p):ls(O)?(t.consume(O),i=4,r.interrupt?e:L):n(O)}function f(O){return O===45?(t.consume(O),r.interrupt?e:L):n(O)}function p(O){const J="CDATA[";return O===J.charCodeAt(a++)?(t.consume(O),a===J.length?r.interrupt?e:D:p):n(O)}function m(O){return ls(O)?(t.consume(O),s=String.fromCharCode(O),x):n(O)}function x(O){if(O===null||O===47||O===62||en(O)){const J=O===47,Ee=s.toLowerCase();return!J&&!o&&iP.includes(Ee)?(i=1,r.interrupt?e(O):D(O)):N1e.includes(s.toLowerCase())?(i=6,J?(t.consume(O),v):r.interrupt?e(O):D(O)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(O):o?y(O):_(O))}return O===45||Mo(O)?(t.consume(O),s+=String.fromCharCode(O),x):n(O)}function v(O){return O===62?(t.consume(O),r.interrupt?e:D):n(O)}function y(O){return rt(O)?(t.consume(O),y):E(O)}function _(O){return O===47?(t.consume(O),E):O===58||O===95||ls(O)?(t.consume(O),C):rt(O)?(t.consume(O),_):E(O)}function C(O){return O===45||O===46||O===58||O===95||Mo(O)?(t.consume(O),C):S(O)}function S(O){return O===61?(t.consume(O),k):rt(O)?(t.consume(O),S):_(O)}function k(O){return O===null||O===60||O===61||O===62||O===96?n(O):O===34||O===39?(t.consume(O),l=O,b):rt(O)?(t.consume(O),k):w(O)}function b(O){return O===l?(t.consume(O),l=null,A):O===null||De(O)?n(O):(t.consume(O),b)}function w(O){return O===null||O===34||O===39||O===47||O===60||O===61||O===62||O===96||en(O)?S(O):(t.consume(O),w)}function A(O){return O===47||O===62||rt(O)?_(O):n(O)}function E(O){return O===62?(t.consume(O),R):n(O)}function R(O){return O===null||De(O)?D(O):rt(O)?(t.consume(O),R):n(O)}function D(O){return O===45&&i===2?(t.consume(O),Q):O===60&&i===1?(t.consume(O),X):O===62&&i===4?(t.consume(O),U):O===63&&i===3?(t.consume(O),L):O===93&&i===5?(t.consume(O),H):De(O)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(L1e,K,N)(O)):O===null||De(O)?(t.exit("htmlFlowData"),N(O)):(t.consume(O),D)}function N(O){return t.check(F1e,j,K)(O)}function j(O){return t.enter("lineEnding"),t.consume(O),t.exit("lineEnding"),$}function $(O){return O===null||De(O)?N(O):(t.enter("htmlFlowData"),D(O))}function Q(O){return O===45?(t.consume(O),L):D(O)}function X(O){return O===47?(t.consume(O),s="",q):D(O)}function q(O){if(O===62){const J=s.toLowerCase();return iP.includes(J)?(t.consume(O),U):D(O)}return ls(O)&&s.length<8?(t.consume(O),s+=String.fromCharCode(O),q):D(O)}function H(O){return O===93?(t.consume(O),L):D(O)}function L(O){return O===62?(t.consume(O),U):O===45&&i===2?(t.consume(O),L):D(O)}function U(O){return O===null||De(O)?(t.exit("htmlFlowData"),K(O)):(t.consume(O),U)}function K(O){return t.exit("htmlFlow"),e(O)}}function j1e(t,e,n){const r=this;return i;function i(s){return De(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),o):n(s)}function o(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}function z1e(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(M_,e,n)}}const $1e={name:"htmlText",tokenize:H1e};function H1e(t,e,n){const r=this;let i,o,s;return a;function a(L){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(L),l}function l(L){return L===33?(t.consume(L),c):L===47?(t.consume(L),S):L===63?(t.consume(L),_):ls(L)?(t.consume(L),w):n(L)}function c(L){return L===45?(t.consume(L),u):L===91?(t.consume(L),o=0,p):ls(L)?(t.consume(L),y):n(L)}function u(L){return L===45?(t.consume(L),f):n(L)}function h(L){return L===null?n(L):L===45?(t.consume(L),d):De(L)?(s=h,X(L)):(t.consume(L),h)}function d(L){return L===45?(t.consume(L),f):h(L)}function f(L){return L===62?Q(L):L===45?d(L):h(L)}function p(L){const U="CDATA[";return L===U.charCodeAt(o++)?(t.consume(L),o===U.length?m:p):n(L)}function m(L){return L===null?n(L):L===93?(t.consume(L),x):De(L)?(s=m,X(L)):(t.consume(L),m)}function x(L){return L===93?(t.consume(L),v):m(L)}function v(L){return L===62?Q(L):L===93?(t.consume(L),v):m(L)}function y(L){return L===null||L===62?Q(L):De(L)?(s=y,X(L)):(t.consume(L),y)}function _(L){return L===null?n(L):L===63?(t.consume(L),C):De(L)?(s=_,X(L)):(t.consume(L),_)}function C(L){return L===62?Q(L):_(L)}function S(L){return ls(L)?(t.consume(L),k):n(L)}function k(L){return L===45||Mo(L)?(t.consume(L),k):b(L)}function b(L){return De(L)?(s=b,X(L)):rt(L)?(t.consume(L),b):Q(L)}function w(L){return L===45||Mo(L)?(t.consume(L),w):L===47||L===62||en(L)?A(L):n(L)}function A(L){return L===47?(t.consume(L),Q):L===58||L===95||ls(L)?(t.consume(L),E):De(L)?(s=A,X(L)):rt(L)?(t.consume(L),A):Q(L)}function E(L){return L===45||L===46||L===58||L===95||Mo(L)?(t.consume(L),E):R(L)}function R(L){return L===61?(t.consume(L),D):De(L)?(s=R,X(L)):rt(L)?(t.consume(L),R):A(L)}function D(L){return L===null||L===60||L===61||L===62||L===96?n(L):L===34||L===39?(t.consume(L),i=L,N):De(L)?(s=D,X(L)):rt(L)?(t.consume(L),D):(t.consume(L),j)}function N(L){return L===i?(t.consume(L),i=void 0,$):L===null?n(L):De(L)?(s=N,X(L)):(t.consume(L),N)}function j(L){return L===null||L===34||L===39||L===60||L===61||L===96?n(L):L===47||L===62||en(L)?A(L):(t.consume(L),j)}function $(L){return L===47||L===62||en(L)?A(L):n(L)}function Q(L){return L===62?(t.consume(L),t.exit("htmlTextData"),t.exit("htmlText"),e):n(L)}function X(L){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(L),t.exit("lineEnding"),q}function q(L){return rt(L)?gt(t,H,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):H(L)}function H(L){return t.enter("htmlTextData"),s(L)}}const AA={name:"labelEnd",tokenize:J1e,resolveTo:G1e,resolveAll:K1e},U1e={tokenize:Q1e},W1e={tokenize:X1e},q1e={tokenize:Y1e};function K1e(t){let e=-1;for(;++e<t.length;){const n=t[e][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(t.splice(e+1,n.type==="labelImage"?4:2),n.type="data",e++)}return t}function G1e(t,e){let n=t.length,r=0,i,o,s,a;for(;n--;)if(i=t[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:t[o][1].type==="labelLink"?"link":"image",start:Object.assign({},t[o][1].start),end:Object.assign({},t[t.length-1][1].end)},c={type:"label",start:Object.assign({},t[o][1].start),end:Object.assign({},t[s][1].end)},u={type:"labelText",start:Object.assign({},t[o+r+2][1].end),end:Object.assign({},t[s-2][1].start)};return a=[["enter",l,e],["enter",c,e]],a=Zi(a,t.slice(o+1,o+r+3)),a=Zi(a,[["enter",u,e]]),a=Zi(a,P_(e.parser.constructs.insideSpan.null,t.slice(o+r+4,s-3),e)),a=Zi(a,[["exit",u,e],t[s-2],t[s-1],["exit",c,e]]),a=Zi(a,t.slice(s+1)),a=Zi(a,[["exit",l,e]]),co(t,o,t.length,a),t}function J1e(t,e,n){const r=this;let i=r.events.length,o,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return a;function a(d){return o?o._inactive?h(d):(s=r.parser.defined.includes(id(r.sliceSerialize({start:o.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(d),t.exit("labelMarker"),t.exit("labelEnd"),l):n(d)}function l(d){return d===40?t.attempt(U1e,u,s?u:h)(d):d===91?t.attempt(W1e,u,s?c:h)(d):s?u(d):h(d)}function c(d){return t.attempt(q1e,u,h)(d)}function u(d){return e(d)}function h(d){return o._balanced=!0,n(d)}}function Q1e(t,e,n){return r;function r(h){return t.enter("resource"),t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),i}function i(h){return en(h)?Op(t,o)(h):o(h)}function o(h){return h===41?u(h):Jz(t,s,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function s(h){return en(h)?Op(t,l)(h):u(h)}function a(h){return n(h)}function l(h){return h===34||h===39||h===40?Xz(t,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):u(h)}function c(h){return en(h)?Op(t,u)(h):u(h)}function u(h){return h===41?(t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),t.exit("resource"),e):n(h)}}function X1e(t,e,n){const r=this;return i;function i(a){return Qz.call(r,t,o,s,"reference","referenceMarker","referenceString")(a)}function o(a){return r.parser.defined.includes(id(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(a):n(a)}function s(a){return n(a)}}function Y1e(t,e,n){return r;function r(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),i}function i(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const Z1e={name:"labelStartImage",tokenize:exe,resolveAll:AA.resolveAll};function exe(t,e,n){const r=this;return i;function i(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),o}function o(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),s):n(a)}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const txe={name:"labelStartLink",tokenize:nxe,resolveAll:AA.resolveAll};function nxe(t,e,n){const r=this;return i;function i(s){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelLink"),o}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const lC={name:"lineEnding",tokenize:rxe};function rxe(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),gt(t,e,"linePrefix")}}const ix={name:"thematicBreak",tokenize:ixe};function ixe(t,e,n){let r=0,i;return o;function o(c){return t.enter("thematicBreak"),s(c)}function s(c){return i=c,a(c)}function a(c){return c===i?(t.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||De(c))?(t.exit("thematicBreak"),e(c)):n(c)}function l(c){return c===i?(t.consume(c),r++,l):(t.exit("thematicBreakSequence"),rt(c)?gt(t,a,"whitespace")(c):a(c))}}const ci={name:"list",tokenize:axe,continuation:{tokenize:lxe},exit:uxe},oxe={tokenize:hxe,partial:!0},sxe={tokenize:cxe,partial:!0};function axe(t,e,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return a;function a(f){const p=r.containerState.type||(f===42||f===43||f===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||f===r.containerState.marker:BE(f)){if(r.containerState.type||(r.containerState.type=p,t.enter(p,{_container:!0})),p==="listUnordered")return t.enter("listItemPrefix"),f===42||f===45?t.check(ix,n,c)(f):c(f);if(!r.interrupt||f===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(f)}return n(f)}function l(f){return BE(f)&&++s<10?(t.consume(f),l):(!r.interrupt||s<2)&&(r.containerState.marker?f===r.containerState.marker:f===41||f===46)?(t.exit("listItemValue"),c(f)):n(f)}function c(f){return t.enter("listItemMarker"),t.consume(f),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||f,t.check(M_,r.interrupt?n:u,t.attempt(oxe,d,h))}function u(f){return r.containerState.initialBlankLine=!0,o++,d(f)}function h(f){return rt(f)?(t.enter("listItemPrefixWhitespace"),t.consume(f),t.exit("listItemPrefixWhitespace"),d):n(f)}function d(f){return r.containerState.size=o+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(f)}}function lxe(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(M_,i,o);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,gt(t,e,"listItemIndent",r.containerState.size+1)(a)}function o(a){return r.containerState.furtherBlankLines||!rt(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(sxe,e,s)(a))}function s(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,gt(t,t.attempt(ci,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function cxe(t,e,n){const r=this;return gt(t,i,"listItemIndent",r.containerState.size+1);function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?e(o):n(o)}}function uxe(t){t.exit(this.containerState.type)}function hxe(t,e,n){const r=this;return gt(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const s=r.events[r.events.length-1];return!rt(o)&&s&&s[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const oP={name:"setextUnderline",tokenize:fxe,resolveTo:dxe};function dxe(t,e){let n=t.length,r,i,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const s={type:"setextHeading",start:Object.assign({},t[i][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[i][1].type="setextHeadingText",o?(t.splice(i,0,["enter",s,e]),t.splice(o+1,0,["exit",t[r][1],e]),t[r][1].end=Object.assign({},t[o][1].end)):t[r][1]=s,t.push(["exit",s,e]),t}function fxe(t,e,n){const r=this;let i;return o;function o(c){let u=r.events.length,h;for(;u--;)if(r.events[u][1].type!=="lineEnding"&&r.events[u][1].type!=="linePrefix"&&r.events[u][1].type!=="content"){h=r.events[u][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(t.enter("setextHeadingLine"),i=c,s(c)):n(c)}function s(c){return t.enter("setextHeadingLineSequence"),a(c)}function a(c){return c===i?(t.consume(c),a):(t.exit("setextHeadingLineSequence"),rt(c)?gt(t,l,"lineSuffix")(c):l(c))}function l(c){return c===null||De(c)?(t.exit("setextHeadingLine"),e(c)):n(c)}}const pxe={tokenize:mxe};function mxe(t){const e=this,n=t.attempt(M_,r,t.attempt(this.parser.constructs.flowInitial,i,gt(t,t.attempt(this.parser.constructs.flow,i,t.attempt(_1e,i)),"linePrefix")));return n;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const gxe={resolveAll:Zz()},xxe=Yz("string"),vxe=Yz("text");function Yz(t){return{tokenize:e,resolveAll:Zz(t==="text"?yxe:void 0)};function e(n){const r=this,i=this.parser.constructs[t],o=n.attempt(i,s,a);return s;function s(u){return c(u)?o(u):a(u)}function a(u){if(u===null){n.consume(u);return}return n.enter("data"),n.consume(u),l}function l(u){return c(u)?(n.exit("data"),o(u)):(n.consume(u),l)}function c(u){if(u===null)return!0;const h=i[u];let d=-1;if(h)for(;++d<h.length;){const f=h[d];if(!f.previous||f.previous.call(r,r.previous))return!0}return!1}}}function Zz(t){return e;function e(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return t?t(n,r):n}}function yxe(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let o=i.length,s=-1,a=0,l;for(;o--;){const c=i[o];if(typeof c=="string"){for(s=c.length;c.charCodeAt(s-1)===32;)a++,s--;if(s)break;s=-1}else if(c===-2)l=!0,a++;else if(c!==-1){o++;break}}if(a){const c={type:n===t.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+o,_bufferIndex:o?s:r.start._bufferIndex+s},end:Object.assign({},r.end)};r.end=Object.assign({},c.start),r.start.offset===r.end.offset?Object.assign(r,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}function _xe(t,e,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},o=[];let s=[],a=[];const l={consume:y,enter:_,exit:C,attempt:b(S),check:b(k),interrupt:b(k,{interrupt:!0})},c={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:f,sliceSerialize:d,now:p,defineSkip:m,write:h};let u=e.tokenize.call(c,l);return e.resolveAll&&o.push(e),c;function h(R){return s=Zi(s,R),x(),s[s.length-1]!==null?[]:(w(e,0),c.events=P_(o,c.events,c),c.events)}function d(R,D){return Cxe(f(R),D)}function f(R){return wxe(s,R)}function p(){const{line:R,column:D,offset:N,_index:j,_bufferIndex:$}=r;return{line:R,column:D,offset:N,_index:j,_bufferIndex:$}}function m(R){i[R.line]=R.column,E()}function x(){let R;for(;r._index<s.length;){const D=s[r._index];if(typeof D=="string")for(R=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===R&&r._bufferIndex<D.length;)v(D.charCodeAt(r._bufferIndex));else v(D)}}function v(R){u=u(R)}function y(R){De(R)?(r.line++,r.column=1,r.offset+=R===-3?2:1,E()):R!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=R}function _(R,D){const N=D||{};return N.type=R,N.start=p(),c.events.push(["enter",N,c]),a.push(N),N}function C(R){const D=a.pop();return D.end=p(),c.events.push(["exit",D,c]),D}function S(R,D){w(R,D.from)}function k(R,D){D.restore()}function b(R,D){return N;function N(j,$,Q){let X,q,H,L;return Array.isArray(j)?K(j):"tokenize"in j?K([j]):U(j);function U(fe){return ue;function ue(de){const ze=de!==null&&fe[de],Oe=de!==null&&fe.null,Be=[...Array.isArray(ze)?ze:ze?[ze]:[],...Array.isArray(Oe)?Oe:Oe?[Oe]:[]];return K(Be)(de)}}function K(fe){return X=fe,q=0,fe.length===0?Q:O(fe[q])}function O(fe){return ue;function ue(de){return L=A(),H=fe,fe.partial||(c.currentConstruct=fe),fe.name&&c.parser.constructs.disable.null.includes(fe.name)?Ee():fe.tokenize.call(D?Object.assign(Object.create(c),D):c,l,J,Ee)(de)}}function J(fe){return R(H,L),$}function Ee(fe){return L.restore(),++q<X.length?O(X[q]):Q}}}function w(R,D){R.resolveAll&&!o.includes(R)&&o.push(R),R.resolve&&co(c.events,D,c.events.length-D,R.resolve(c.events.slice(D),c)),R.resolveTo&&(c.events=R.resolveTo(c.events,c))}function A(){const R=p(),D=c.previous,N=c.currentConstruct,j=c.events.length,$=Array.from(a);return{restore:Q,from:j};function Q(){r=R,c.previous=D,c.currentConstruct=N,c.events.length=j,a=$,E()}}function E(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function wxe(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,o=e.end._bufferIndex;let s;if(n===i)s=[t[n].slice(r,o)];else{if(s=t.slice(n,i),r>-1){const a=s[0];typeof a=="string"?s[0]=a.slice(r):s.shift()}o>0&&s.push(t[i].slice(0,o))}return s}function Cxe(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const o=t[n];let s;if(typeof o=="string")s=o;else switch(o){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&i)continue;s=" ";break}default:s=String.fromCharCode(o)}i=o===-2,r.push(s)}return r.join("")}const bxe={42:ci,43:ci,45:ci,48:ci,49:ci,50:ci,51:ci,52:ci,53:ci,54:ci,55:ci,56:ci,57:ci,62:Wz},Exe={91:S1e},Sxe={[-2]:aC,[-1]:aC,32:aC},kxe={35:P1e,42:ix,45:[oP,ix],60:O1e,61:oP,95:ix,96:rP,126:rP},Txe={38:Kz,92:qz},Axe={[-5]:lC,[-4]:lC,[-3]:lC,33:Z1e,38:Kz,42:$E,60:[t1e,$1e],91:txe,92:[I1e,qz],93:AA,95:$E,96:p1e},Ixe={null:[$E,gxe]},Rxe={null:[42,95]},Pxe={null:[]},Dxe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Rxe,contentInitial:Exe,disable:Pxe,document:bxe,flow:kxe,flowInitial:Sxe,insideSpan:Ixe,string:Txe,text:Axe},Symbol.toStringTag,{value:"Module"}));function Mxe(t){const n=Wge([Dxe,...(t||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i(Gge),document:i(Qge),flow:i(pxe),string:i(xxe),text:i(vxe)};return r;function i(o){return s;function s(a){return _xe(r,o,a)}}}function Nxe(t){for(;!Gz(t););return t}const sP=/[\0\t\n\r]/g;function Oxe(){let t=1,e="",n=!0,r;return i;function i(o,s,a){const l=[];let c,u,h,d,f;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(s||void 0).decode(o)),h=0,e="",n&&(o.charCodeAt(0)===65279&&h++,n=void 0);h<o.length;){if(sP.lastIndex=h,c=sP.exec(o),d=c&&c.index!==void 0?c.index:o.length,f=o.charCodeAt(d),!c){e=o.slice(h);break}if(f===10&&h===d&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),h<d&&(l.push(o.slice(h,d)),t+=d-h),f){case 0:{l.push(65533),t++;break}case 9:{for(u=Math.ceil(t/4)*4,l.push(-2);t++<u;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}h=d+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const e$={}.hasOwnProperty;function Lxe(t,e,n){return typeof e!="string"&&(n=e,e=void 0),Fxe(n)(Nxe(Mxe(n).document().write(Oxe()(t,e,!0))))}function Fxe(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Jn),autolinkProtocol:A,autolinkEmail:A,atxHeading:o(jt),blockQuote:o(Oe),characterEscape:A,characterReference:A,codeFenced:o(Be),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:o(Be,s),codeText:o(Qe,s),codeTextData:A,data:A,codeFlowValue:A,definition:o(ct),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:o(We),hardBreakEscape:o(on),hardBreakTrailing:o(on),htmlFlow:o(Fn,s),htmlFlowData:A,htmlText:o(Fn,s),htmlTextData:A,image:o(dn),label:s,link:o(Jn),listItem:o(fn),listItemValue:d,listOrdered:o(Qn,h),listUnordered:o(Qn),paragraph:o(An),reference:O,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:o(jt),strong:o(wn),thematicBreak:o(Gi)},exit:{atxHeading:l(),atxHeadingSequence:S,autolink:l(),autolinkEmail:ze,autolinkProtocol:de,blockQuote:l(),characterEscapeValue:E,characterReferenceMarkerHexadecimal:Ee,characterReferenceMarkerNumeric:Ee,characterReferenceValue:fe,characterReference:ue,codeFenced:l(x),codeFencedFence:m,codeFencedFenceInfo:f,codeFencedFenceMeta:p,codeFlowValue:E,codeIndented:l(v),codeText:l($),codeTextData:E,data:E,definition:l(),definitionDestinationString:C,definitionLabelString:y,definitionTitleString:_,emphasis:l(),hardBreakEscape:l(D),hardBreakTrailing:l(D),htmlFlow:l(N),htmlFlowData:E,htmlText:l(j),htmlTextData:E,image:l(X),label:H,labelText:q,lineEnding:R,link:l(Q),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:J,resourceDestinationString:L,resourceTitleString:U,resource:K,setextHeading:l(w),setextHeadingLineSequence:b,setextHeadingText:k,strong:l(),thematicBreak:l()}};t$(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(Y){let ie={type:"root",children:[]};const V={stack:[ie],tokenStack:[],config:e,enter:a,exit:c,buffer:s,resume:u,data:n},$e=[];let Xe=-1;for(;++Xe<Y.length;)if(Y[Xe][1].type==="listOrdered"||Y[Xe][1].type==="listUnordered")if(Y[Xe][0]==="enter")$e.push(Xe);else{const wt=$e.pop();Xe=i(Y,wt,Xe)}for(Xe=-1;++Xe<Y.length;){const wt=e[Y[Xe][0]];e$.call(wt,Y[Xe][1].type)&&wt[Y[Xe][1].type].call(Object.assign({sliceSerialize:Y[Xe][2].sliceSerialize},V),Y[Xe][1])}if(V.tokenStack.length>0){const wt=V.tokenStack[V.tokenStack.length-1];(wt[1]||aP).call(V,void 0,wt[0])}for(ie.position={start:Ja(Y.length>0?Y[0][1].start:{line:1,column:1,offset:0}),end:Ja(Y.length>0?Y[Y.length-2][1].end:{line:1,column:1,offset:0})},Xe=-1;++Xe<e.transforms.length;)ie=e.transforms[Xe](ie)||ie;return ie}function i(Y,ie,V){let $e=ie-1,Xe=-1,wt=!1,pn,Bn,bi,Cn;for(;++$e<=V;){const In=Y[$e];switch(In[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{In[0]==="enter"?Xe++:Xe--,Cn=void 0;break}case"lineEndingBlank":{In[0]==="enter"&&(pn&&!Cn&&!Xe&&!bi&&(bi=$e),Cn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Cn=void 0}if(!Xe&&In[0]==="enter"&&In[1].type==="listItemPrefix"||Xe===-1&&In[0]==="exit"&&(In[1].type==="listUnordered"||In[1].type==="listOrdered")){if(pn){let Ei=$e;for(Bn=void 0;Ei--;){const Vn=Y[Ei];if(Vn[1].type==="lineEnding"||Vn[1].type==="lineEndingBlank"){if(Vn[0]==="exit")continue;Bn&&(Y[Bn][1].type="lineEndingBlank",wt=!0),Vn[1].type="lineEnding",Bn=Ei}else if(!(Vn[1].type==="linePrefix"||Vn[1].type==="blockQuotePrefix"||Vn[1].type==="blockQuotePrefixWhitespace"||Vn[1].type==="blockQuoteMarker"||Vn[1].type==="listItemIndent"))break}bi&&(!Bn||bi<Bn)&&(pn._spread=!0),pn.end=Object.assign({},Bn?Y[Bn][1].start:In[1].end),Y.splice(Bn||$e,0,["exit",pn,In[2]]),$e++,V++}if(In[1].type==="listItemPrefix"){const Ei={type:"listItem",_spread:!1,start:Object.assign({},In[1].start),end:void 0};pn=Ei,Y.splice($e,0,["enter",Ei,In[2]]),$e++,V++,bi=void 0,Cn=!0}}}return Y[ie][1]._spread=wt,V}function o(Y,ie){return V;function V($e){a.call(this,Y($e),$e),ie&&ie.call(this,$e)}}function s(){this.stack.push({type:"fragment",children:[]})}function a(Y,ie,V){this.stack[this.stack.length-1].children.push(Y),this.stack.push(Y),this.tokenStack.push([ie,V]),Y.position={start:Ja(ie.start),end:void 0}}function l(Y){return ie;function ie(V){Y&&Y.call(this,V),c.call(this,V)}}function c(Y,ie){const V=this.stack.pop(),$e=this.tokenStack.pop();if($e)$e[0].type!==Y.type&&(ie?ie.call(this,Y,$e[0]):($e[1]||aP).call(this,Y,$e[0]));else throw new Error("Cannot close `"+Y.type+"` ("+oa({start:Y.start,end:Y.end})+"): it’s not open");V.position.end=Ja(Y.end)}function u(){return SA(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function d(Y){if(this.data.expectingFirstListItemValue){const ie=this.stack[this.stack.length-2];ie.start=Number.parseInt(this.sliceSerialize(Y),10),this.data.expectingFirstListItemValue=void 0}}function f(){const Y=this.resume(),ie=this.stack[this.stack.length-1];ie.lang=Y}function p(){const Y=this.resume(),ie=this.stack[this.stack.length-1];ie.meta=Y}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){const Y=this.resume(),ie=this.stack[this.stack.length-1];ie.value=Y.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const Y=this.resume(),ie=this.stack[this.stack.length-1];ie.value=Y.replace(/(\r?\n|\r)$/g,"")}function y(Y){const ie=this.resume(),V=this.stack[this.stack.length-1];V.label=ie,V.identifier=id(this.sliceSerialize(Y)).toLowerCase()}function _(){const Y=this.resume(),ie=this.stack[this.stack.length-1];ie.title=Y}function C(){const Y=this.resume(),ie=this.stack[this.stack.length-1];ie.url=Y}function S(Y){const ie=this.stack[this.stack.length-1];if(!ie.depth){const V=this.sliceSerialize(Y).length;ie.depth=V}}function k(){this.data.setextHeadingSlurpLineEnding=!0}function b(Y){const ie=this.stack[this.stack.length-1];ie.depth=this.sliceSerialize(Y).codePointAt(0)===61?1:2}function w(){this.data.setextHeadingSlurpLineEnding=void 0}function A(Y){const V=this.stack[this.stack.length-1].children;let $e=V[V.length-1];(!$e||$e.type!=="text")&&($e=vt(),$e.position={start:Ja(Y.start),end:void 0},V.push($e)),this.stack.push($e)}function E(Y){const ie=this.stack.pop();ie.value+=this.sliceSerialize(Y),ie.position.end=Ja(Y.end)}function R(Y){const ie=this.stack[this.stack.length-1];if(this.data.atHardBreak){const V=ie.children[ie.children.length-1];V.position.end=Ja(Y.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(ie.type)&&(A.call(this,Y),E.call(this,Y))}function D(){this.data.atHardBreak=!0}function N(){const Y=this.resume(),ie=this.stack[this.stack.length-1];ie.value=Y}function j(){const Y=this.resume(),ie=this.stack[this.stack.length-1];ie.value=Y}function $(){const Y=this.resume(),ie=this.stack[this.stack.length-1];ie.value=Y}function Q(){const Y=this.stack[this.stack.length-1];if(this.data.inReference){const ie=this.data.referenceType||"shortcut";Y.type+="Reference",Y.referenceType=ie,delete Y.url,delete Y.title}else delete Y.identifier,delete Y.label;this.data.referenceType=void 0}function X(){const Y=this.stack[this.stack.length-1];if(this.data.inReference){const ie=this.data.referenceType||"shortcut";Y.type+="Reference",Y.referenceType=ie,delete Y.url,delete Y.title}else delete Y.identifier,delete Y.label;this.data.referenceType=void 0}function q(Y){const ie=this.sliceSerialize(Y),V=this.stack[this.stack.length-2];V.label=Vz(ie),V.identifier=id(ie).toLowerCase()}function H(){const Y=this.stack[this.stack.length-1],ie=this.resume(),V=this.stack[this.stack.length-1];if(this.data.inReference=!0,V.type==="link"){const $e=Y.children;V.children=$e}else V.alt=ie}function L(){const Y=this.resume(),ie=this.stack[this.stack.length-1];ie.url=Y}function U(){const Y=this.resume(),ie=this.stack[this.stack.length-1];ie.title=Y}function K(){this.data.inReference=void 0}function O(){this.data.referenceType="collapsed"}function J(Y){const ie=this.resume(),V=this.stack[this.stack.length-1];V.label=ie,V.identifier=id(this.sliceSerialize(Y)).toLowerCase(),this.data.referenceType="full"}function Ee(Y){this.data.characterReferenceType=Y.type}function fe(Y){const ie=this.sliceSerialize(Y),V=this.data.characterReferenceType;let $e;V?($e=Bz(ie,V==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):$e=O0(ie);const Xe=this.stack[this.stack.length-1];Xe.value+=$e}function ue(Y){const ie=this.stack.pop();ie.position.end=Ja(Y.end)}function de(Y){E.call(this,Y);const ie=this.stack[this.stack.length-1];ie.url=this.sliceSerialize(Y)}function ze(Y){E.call(this,Y);const ie=this.stack[this.stack.length-1];ie.url="mailto:"+this.sliceSerialize(Y)}function Oe(){return{type:"blockquote",children:[]}}function Be(){return{type:"code",lang:null,meta:null,value:""}}function Qe(){return{type:"inlineCode",value:""}}function ct(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function We(){return{type:"emphasis",children:[]}}function jt(){return{type:"heading",depth:0,children:[]}}function on(){return{type:"break"}}function Fn(){return{type:"html",value:""}}function dn(){return{type:"image",title:null,url:"",alt:null}}function Jn(){return{type:"link",title:null,url:"",children:[]}}function Qn(Y){return{type:"list",ordered:Y.type==="listOrdered",start:null,spread:Y._spread,children:[]}}function fn(Y){return{type:"listItem",spread:Y._spread,checked:null,children:[]}}function An(){return{type:"paragraph",children:[]}}function wn(){return{type:"strong",children:[]}}function vt(){return{type:"text",value:""}}function Gi(){return{type:"thematicBreak"}}}function Ja(t){return{line:t.line,column:t.column,offset:t.offset}}function t$(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?t$(t,r):Bxe(t,r)}}function Bxe(t,e){let n;for(n in e)if(e$.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function aP(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+oa({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+oa({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+oa({start:e.start,end:e.end})+") is still open")}function n1(t){return t.children instanceof Array}class HE extends Error{constructor(e,n){super(e),this.name="MarkdownParseError",this.cause=n}}class UE extends Error{constructor(e){super(e),this.name="UnrecognizedMarkdownConstructError"}}function Vxe({root:t,markdown:e,visitors:n,syntaxExtensions:r,mdastExtensions:i,...o}){var s;let a;try{a=Lxe(e,{extensions:r,mdastExtensions:i})}catch(l){throw l instanceof Error?new HE(`Error parsing markdown: ${l.message}`,l):new HE(`Error parsing markdown: ${l}`,l)}a.children.length===0&&a.children.push({type:"paragraph",children:[]}),((s=a.children.at(-1))==null?void 0:s.type)!=="paragraph"&&a.children.push({type:"paragraph",children:[]}),n$({root:t,mdastRoot:a,visitors:n,...o})}function n$({root:t,mdastRoot:e,visitors:n,...r}){const i=new WeakMap;n=n.sort((a,l)=>(l.priority??0)-(a.priority??0));function o(a,l){if(!n1(a))throw new Error("Attempting to visit children of a non-parent");a.children.forEach(c=>{s(c,l,a)})}function s(a,l,c){const u=n.find(h=>typeof h.testNode=="string"?h.testNode===a.type:h.testNode(a,r));if(!u)try{throw new UE(`Unsupported markdown syntax: ${jz(a)}`)}catch{throw new UE(`Parsing of the following markdown structure failed: ${JSON.stringify({type:a.type,name:"name"in a?a.name:"N/A"})}`)}u.visitNode({mdastNode:a,lexicalParent:l,mdastParent:c,actions:{visitChildren:o,addAndStepInto(h){l.append(h),n1(a)&&o(a,h)},addFormatting(h,d){d||n1(a)&&(d=a),d&&i.set(d,h|(i.get(c)??0))},removeFormatting(h,d){d||n1(a)&&(d=a),d&&i.set(d,h^(i.get(c)??0))},getParentFormatting(){return i.get(c)??0}}})}s(e,t,null)}const jxe=typeof window<"u"&&typeof window.document.createElement<"u",WE=jxe&&/Mac|iPod|iPhone|iPad/.test(navigator.platform);function r$(t,e){return WE?t:e}var zxe=Object.defineProperty,$xe=(t,e,n)=>e in t?zxe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,cC=(t,e,n)=>($xe(t,typeof e!="symbol"?e+"":e,n),n);const lP="generic-html";class Wm extends Ma{constructor(e,n,r,i){super(i),cC(this,"__tag"),cC(this,"__nodeType"),cC(this,"__attributes"),this.__tag=e,this.__nodeType=n,this.__attributes=r}static getType(){return lP}static clone(e){return new Wm(e.__tag,e.__nodeType,e.__attributes,e.__key)}getTag(){return this.__tag}getNodeType(){return this.__nodeType}getAttributes(){return this.__attributes}updateAttributes(e){const n=this.getWritable();n.__attributes=e}getStyle(){var e;return(e=this.__attributes.find(n=>n.name==="style"))==null?void 0:e.value}createDOM(){const e=this.__tag,n=document.createElement(e);return this.__attributes.forEach(r=>{n.setAttribute(r.name,r.value)}),n}updateDOM(){return!1}static importDOM(){return{}}exportDOM(e){const{element:n}=super.exportDOM(e);return{element:n}}static importJSON(e){const n=i$(e.tag,e.mdxType,e.attributes);return n.setFormat(e.format),n.setIndent(e.indent),n.setDirection(e.direction),n}exportJSON(){return{...super.exportJSON(),tag:this.getTag(),attributes:this.__attributes,mdxType:this.__nodeType,type:lP,version:1}}extractWithChild(){return!0}isInline(){return this.__nodeType==="mdxJsxTextElement"}}function i$(t,e,n){return Os(new Wm(t,e,n))}function Hxe(t){return t instanceof Wm}const Uxe={testLexicalNode:Hxe,visitLexicalNode({actions:t,lexicalNode:e}){t.addAndStepInto("mdxJsxTextElement",{name:e.getTag(),type:e.getNodeType(),attributes:e.getAttributes()})},priority:-100},Wxe={testLexicalNode:jl,visitLexicalNode:({mdastParent:t,actions:e})=>{e.appendToParent(t,{type:"text",value:`
`})}},qxe={testLexicalNode:Pd,visitLexicalNode:({actions:t})=>{t.addAndStepInto("paragraph")}},Kxe={testLexicalNode:gr,visitLexicalNode:({actions:t})=>{t.addAndStepInto("root")}},Lp=1,Fp=2,Bp=4,Vp=8,N_=16,jp=32,zp=64;function cP(t){return t.type==="text"}const Gxe=["u","span","sub","sup"],Jxe={shouldJoin:(t,e)=>{if(["text","emphasis","strong"].includes(t.type))return t.type===e.type;if(t.type==="mdxJsxTextElement"&&e.type==="mdxJsxTextElement"&&Gxe.includes(e.name)){const n=e;return t.name===n.name&&JSON.stringify(t.attributes)===JSON.stringify(n.attributes)}return!1},join(t,e){return cP(t)&&cP(e)?{type:"text",value:t.value+e.value}:{...t,children:[...t.children,...e.children]}},testLexicalNode:ye,visitLexicalNode:({lexicalNode:t,mdastParent:e,actions:n})=>{const r=t.getPreviousSibling(),i=ye(r)?r.getFormat():0,o=t.getTextContent(),s=t.getFormat(),a=t.getStyle();let l=e;if(a&&(l=n.appendToParent(l,{type:"mdxJsxTextElement",name:"span",children:[],attributes:[{type:"mdxJsxAttribute",name:"style",value:a}]})),i&s&Fp&&(l=n.appendToParent(l,{type:"emphasis",children:[]})),i&s&Lp&&(l=n.appendToParent(l,{type:"strong",children:[]})),i&s&Vp&&(l=n.appendToParent(l,{type:"mdxJsxTextElement",name:"u",children:[],attributes:[]})),i&s&Bp&&(l=n.appendToParent(l,{type:"delete",children:[]})),i&s&zp&&(l=n.appendToParent(l,{type:"mdxJsxTextElement",name:"sup",children:[],attributes:[]})),i&s&jp&&(l=n.appendToParent(l,{type:"mdxJsxTextElement",name:"sub",children:[],attributes:[]})),s&Fp&&!(i&Fp)&&(l=n.appendToParent(l,{type:"emphasis",children:[]})),s&Lp&&!(i&Lp)&&(l=n.appendToParent(l,{type:"strong",children:[]})),s&Vp&&!(i&Vp)&&(l=n.appendToParent(l,{type:"mdxJsxTextElement",name:"u",children:[],attributes:[]})),s&Bp&&!(i&Bp)&&(l=n.appendToParent(l,{type:"delete",children:[]})),s&zp&&!(i&zp)&&(l=n.appendToParent(l,{type:"mdxJsxTextElement",name:"sup",children:[],attributes:[]})),s&jp&&!(i&jp)&&(l=n.appendToParent(l,{type:"mdxJsxTextElement",name:"sub",children:[],attributes:[]})),s&N_){n.appendToParent(l,{type:"inlineCode",value:o});return}n.appendToParent(l,{type:"text",value:o})}},Qxe={testNode:"break",visitNode:function({lexicalParent:t}){t.append(tc())}};function r1(t,e){return[{testNode:n=>n.type==="mdxJsxTextElement"&&n.name===t,visitNode({actions:n,mdastNode:r,lexicalParent:i}){n.addFormatting(e),n.visitChildren(r,i)}},{testNode:n=>n.type==="html"&&n.value===`<${t}>`,visitNode({actions:n,mdastParent:r}){n.addFormatting(e,r)}},{testNode:n=>n.type==="html"&&n.value===`</${t}>`,visitNode({actions:n,mdastParent:r}){n.removeFormatting(e,r)}}]}const Xxe={testNode:"delete",visitNode({mdastNode:t,actions:e,lexicalParent:n}){e.addFormatting(Bp),e.visitChildren(t,n)}},Yxe={testNode:"inlineCode",visitNode({mdastNode:t,actions:e}){e.addAndStepInto(jn(t.value).setFormat(e.getParentFormatting()|N_))}},Zxe={testNode:"emphasis",visitNode({mdastNode:t,actions:e,lexicalParent:n}){e.addFormatting(Fp),e.visitChildren(t,n)}},eve={testNode:"strong",visitNode({mdastNode:t,actions:e,lexicalParent:n}){e.addFormatting(Lp),e.visitChildren(t,n)}},tve=[Zxe,eve,...r1("u",Vp),...r1("code",N_),Yxe,Xxe,...r1("sup",zp),...r1("sub",jp)],nve={testNode:zz,visitNode:function({mdastNode:t,actions:e}){e.addAndStepInto(i$(t.name,t.type,t.attributes))},priority:-100},rve=["listitem","quote","admonition"],ive={testNode:"paragraph",visitNode:function({mdastNode:t,lexicalParent:e,actions:n}){rve.includes(e.getType())?n.visitChildren(t,e):n.addAndStepInto(Zt())}},ove={testNode:"root",visitNode({actions:t,mdastNode:e,lexicalParent:n}){t.visitChildren(e,n)}},sve={testNode:"text",visitNode({mdastNode:t,actions:e}){e.addAndStepInto(jn(t.value).setFormat(e.getParentFormatting()))}},ave=()=>F.createElement(uz,{externalHistoryState:Qr(Lve)}),bo={carriageReturn:-5,lineFeed:-4,carriageReturnLineFeed:-3,horizontalTab:-2,virtualSpace:-1,eof:null,nul:0,soh:1,stx:2,etx:3,eot:4,enq:5,ack:6,bel:7,bs:8,ht:9,lf:10,vt:11,ff:12,cr:13,so:14,si:15,dle:16,dc1:17,dc2:18,dc3:19,dc4:20,nak:21,syn:22,etb:23,can:24,em:25,sub:26,esc:27,fs:28,gs:29,rs:30,us:31,space:32,exclamationMark:33,quotationMark:34,numberSign:35,dollarSign:36,percentSign:37,ampersand:38,apostrophe:39,leftParenthesis:40,rightParenthesis:41,asterisk:42,plusSign:43,comma:44,dash:45,dot:46,slash:47,digit0:48,digit1:49,digit2:50,digit3:51,digit4:52,digit5:53,digit6:54,digit7:55,digit8:56,digit9:57,colon:58,semicolon:59,lessThan:60,equalsTo:61,greaterThan:62,questionMark:63,atSign:64,uppercaseA:65,uppercaseB:66,uppercaseC:67,uppercaseD:68,uppercaseE:69,uppercaseF:70,uppercaseG:71,uppercaseH:72,uppercaseI:73,uppercaseJ:74,uppercaseK:75,uppercaseL:76,uppercaseM:77,uppercaseN:78,uppercaseO:79,uppercaseP:80,uppercaseQ:81,uppercaseR:82,uppercaseS:83,uppercaseT:84,uppercaseU:85,uppercaseV:86,uppercaseW:87,uppercaseX:88,uppercaseY:89,uppercaseZ:90,leftSquareBracket:91,backslash:92,rightSquareBracket:93,caret:94,underscore:95,graveAccent:96,lowercaseA:97,lowercaseB:98,lowercaseC:99,lowercaseD:100,lowercaseE:101,lowercaseF:102,lowercaseG:103,lowercaseH:104,lowercaseI:105,lowercaseJ:106,lowercaseK:107,lowercaseL:108,lowercaseM:109,lowercaseN:110,lowercaseO:111,lowercaseP:112,lowercaseQ:113,lowercaseR:114,lowercaseS:115,lowercaseT:116,lowercaseU:117,lowercaseV:118,lowercaseW:119,lowercaseX:120,lowercaseY:121,lowercaseZ:122,leftCurlyBrace:123,verticalBar:124,rightCurlyBrace:125,tilde:126,del:127,byteOrderMarker:65279,replacementCharacter:65533},Mc={data:"data",whitespace:"whitespace",lineEnding:"lineEnding",lineEndingBlank:"lineEndingBlank",linePrefix:"linePrefix",lineSuffix:"lineSuffix",atxHeading:"atxHeading",atxHeadingSequence:"atxHeadingSequence",atxHeadingText:"atxHeadingText",autolink:"autolink",autolinkEmail:"autolinkEmail",autolinkMarker:"autolinkMarker",autolinkProtocol:"autolinkProtocol",characterEscape:"characterEscape",characterEscapeValue:"characterEscapeValue",characterReference:"characterReference",characterReferenceMarker:"characterReferenceMarker",characterReferenceMarkerNumeric:"characterReferenceMarkerNumeric",characterReferenceMarkerHexadecimal:"characterReferenceMarkerHexadecimal",characterReferenceValue:"characterReferenceValue",codeFenced:"codeFenced",codeFencedFence:"codeFencedFence",codeFencedFenceSequence:"codeFencedFenceSequence",codeFencedFenceInfo:"codeFencedFenceInfo",codeFencedFenceMeta:"codeFencedFenceMeta",codeFlowValue:"codeFlowValue",codeIndented:"codeIndented",codeText:"codeText",codeTextData:"codeTextData",codeTextPadding:"codeTextPadding",codeTextSequence:"codeTextSequence",content:"content",definition:"definition",definitionDestination:"definitionDestination",definitionDestinationLiteral:"definitionDestinationLiteral",definitionDestinationLiteralMarker:"definitionDestinationLiteralMarker",definitionDestinationRaw:"definitionDestinationRaw",definitionDestinationString:"definitionDestinationString",definitionLabel:"definitionLabel",definitionLabelMarker:"definitionLabelMarker",definitionLabelString:"definitionLabelString",definitionMarker:"definitionMarker",definitionTitle:"definitionTitle",definitionTitleMarker:"definitionTitleMarker",definitionTitleString:"definitionTitleString",emphasis:"emphasis",emphasisSequence:"emphasisSequence",emphasisText:"emphasisText",escapeMarker:"escapeMarker",hardBreakEscape:"hardBreakEscape",hardBreakTrailing:"hardBreakTrailing",htmlFlow:"htmlFlow",htmlFlowData:"htmlFlowData",htmlText:"htmlText",htmlTextData:"htmlTextData",image:"image",label:"label",labelText:"labelText",labelLink:"labelLink",labelImage:"labelImage",labelMarker:"labelMarker",labelImageMarker:"labelImageMarker",labelEnd:"labelEnd",link:"link",paragraph:"paragraph",reference:"reference",referenceMarker:"referenceMarker",referenceString:"referenceString",resource:"resource",resourceDestination:"resourceDestination",resourceDestinationLiteral:"resourceDestinationLiteral",resourceDestinationLiteralMarker:"resourceDestinationLiteralMarker",resourceDestinationRaw:"resourceDestinationRaw",resourceDestinationString:"resourceDestinationString",resourceMarker:"resourceMarker",resourceTitle:"resourceTitle",resourceTitleMarker:"resourceTitleMarker",resourceTitleString:"resourceTitleString",setextHeading:"setextHeading",setextHeadingText:"setextHeadingText",setextHeadingLine:"setextHeadingLine",setextHeadingLineSequence:"setextHeadingLineSequence",strong:"strong",strongSequence:"strongSequence",strongText:"strongText",thematicBreak:"thematicBreak",thematicBreakSequence:"thematicBreakSequence",blockQuote:"blockQuote",blockQuotePrefix:"blockQuotePrefix",blockQuoteMarker:"blockQuoteMarker",blockQuotePrefixWhitespace:"blockQuotePrefixWhitespace",listOrdered:"listOrdered",listUnordered:"listUnordered",listItemIndent:"listItemIndent",listItemMarker:"listItemMarker",listItemPrefix:"listItemPrefix",listItemPrefixWhitespace:"listItemPrefixWhitespace",listItemValue:"listItemValue",chunkDocument:"chunkDocument",chunkContent:"chunkContent",chunkFlow:"chunkFlow",chunkText:"chunkText",chunkString:"chunkString"};function lve(t){return{canContainEols:["comment"],enter:{comment(e){this.buffer()}},exit:{comment(e){this.resume()}}}}const uP=(t,e,n)=>{return r;function r(p){return t.enter("comment"),t.consume(p),i}function i(p){return p===bo.exclamationMark?(t.consume(p),o):n(p)}function o(p){return p===bo.dash?(t.consume(p),s):n(p)}function s(p){return p===bo.dash?(t.consume(p),a):n(p)}function a(p){return p===bo.greaterThan?n(p):De(p)?u(p):(t.enter(Mc.data),p===bo.dash?(t.consume(p),l):c(p))}function l(p){return p===bo.greaterThan?n(p):c(p)}function c(p){return p===bo.eof?n(p):p===bo.dash?(t.consume(p),d):De(p)?(t.exit(Mc.data),u(p)):(t.consume(p),c)}function u(p){return t.enter(Mc.lineEnding),t.consume(p),t.exit(Mc.lineEnding),gt(t,h,Mc.linePrefix)}function h(p){return De(p)?u(p):(t.enter(Mc.data),c(p))}function d(p){return p===bo.dash?(t.consume(p),f):c(p)}function f(p){return p===bo.greaterThan?(t.exit(Mc.data),t.enter("commentEnd"),t.consume(p),t.exit("commentEnd"),t.exit("comment"),e(p)):p===bo.dash?(t.consume(p),f):c(p)}},cve={flow:{60:{tokenize:uP,concrete:!0}},text:{60:{tokenize:uP}}},uve="_light_1tncs_1",hve="_light-theme_1tncs_1",dve="_dark_1tncs_1",fve="_dark-theme_1tncs_1",pve="_bold_1tncs_10",mve="_italic_1tncs_14",gve="_underline_1tncs_18",xve="_strikethrough_1tncs_34",vve="_underlineStrikethrough_1tncs_38",yve="_subscript_1tncs_42",_ve="_superscript_1tncs_47",wve="_code_1tncs_52",Cve="_nestedListItem_1tncs_59",bve="_listitem_1tncs_69",Eve="_listItemChecked_1tncs_73",Sve="_listItemUnchecked_1tncs_74",kve="_admonitionDanger_1tncs_151",Tve="_admonitionInfo_1tncs_152",Ave="_admonitionNote_1tncs_153",Ive="_admonitionTip_1tncs_154",Rve="_admonitionCaution_1tncs_155",Pve="_mdxExpression_1tncs_188",sr={light:uve,lightTheme:hve,dark:dve,darkTheme:fve,bold:pve,italic:mve,underline:gve,strikethrough:xve,underlineStrikethrough:vve,subscript:yve,superscript:_ve,code:wve,nestedListItem:Cve,listitem:bve,listItemChecked:Eve,listItemUnchecked:Sve,admonitionDanger:kve,admonitionInfo:Tve,admonitionNote:Ave,admonitionTip:Ive,admonitionCaution:Rve,mdxExpression:Pve},IA={text:{bold:sr.bold,italic:sr.italic,underline:sr.underline,code:sr.code,strikethrough:sr.strikethrough,subscript:sr.subscript,superscript:sr.superscript,underlineStrikethrough:sr.underlineStrikethrough},list:{listitem:sr.listitem,listitemChecked:sr.listItemChecked,listitemUnchecked:sr.listItemUnchecked,nested:{listitem:sr.nestedListItem}},admonition:{danger:sr.admonitionDanger,info:sr.admonitionInfo,note:sr.admonitionNote,tip:sr.admonitionTip,caution:sr.admonitionCaution}},L0=Wu(),Na=Ge(null),ai=Ge(null),qE=Ge(""),wu=Ge(!1,t=>{t.sub(t.pipe(wu,wi(Na)),([e,n])=>{n==null||n.setEditable(!e)})}),KE=Ge(""),hP=Ge(!1),F0=Ge(!1),RA=Ge(0),Rv=Ge(null),GE=si(t=>{t.link(t.pipe(Rv,p_(e=>e!==null)),GE)}),PA=si(t=>{t.sub(t.pipe(PA,wi(ai)),([e,n])=>{n==null||n.dispatchCommand(ia,e)})}),DA=Ge(null,t=>{t.sub(t.pipe(DA,wi(ai)),([e,n])=>{if(!e||!n)return;const r=e.anchor.getNode();let i=r.getKey()==="root"?r:of(r,a=>{const l=a.getParent();return l!==null&&jr(l)});i===null&&(i=r.getTopLevelElementOrThrow());const o=i.getKey();if(n.getElementByKey(o)!==null){const a=gz(i)?i.getTag():i.getType();t.pub(_$,a)}})}),o$=Ge(""),Cu=Ge(""),O_=si(t=>{t.link(Cu,O_),t.link(o$,Cu)}),JE=si(t=>{t.link(t.pipe(O_,wi(XE),p_(([,e])=>!e),f_(([e])=>e)),JE)}),MA=Ge([]),NA=Ge([]),s$=Ge([]),a$=Ge([]),OA=Ge([]),l$=Ge([]),QE=Ge({}),c$=Ge(!1),LA=Ge([]),u$=Ge([]),qm=Ge([]),Km=Ge(null),Gu=Ci(NA),nc=Ci(MA),Pv=Ci(s$),Dv=Ci(a$),Ju=Ci(OA),FA=Ci(l$),XE=Ge(!1),BA=si(t=>{t.sub(t.pipe(BA,wi(Cu,Na,F0),p_(([e,n])=>e.trim()!==n.trim())),([e,,n,r])=>{t.pub(XE,!0),n==null||n.update(()=>{It().clear(),VA(t,It(),e),r?n.focus():$i(null)},{onUpdate:()=>{t.pub(XE,!1)}})})}),h$=si(t=>{t.sub(t.pipe(h$,wi(ai,F0)),([e,n,r])=>{n==null||n.update(()=>{const i=Se();if(i!==null){const o={children:[],append(s){this.children.push(s)},getType(){return i.getNodes()[0].getType()}};VA(t,o,e),xA(o.children)}r?n.focus():$i(null)})})});function d$(){return aj((t,[e,n])=>(t.forEach(r=>{if(!r)throw new Error("You have a subscription that does not return a teardown");r()}),n?e.map(r=>r(n)):[]),[])}const f$=Ge([],t=>{t.pipe(t.combine(f$,ai),d$())}),p$=Ge([],t=>{t.pipe(t.combine(p$,Na),d$())}),L_=Ge(null),YE=si(),Ki=Ge(t=>{throw new Error(`No icon component for ${t}`)});function Ci(t,e){return si((n,r)=>{n.changeWith(t,r,(i,o)=>{Array.isArray(o)||(o=[o]);let s=i;for(const a of o)i.includes(a)||(s=[...s,a]);return s}),e==null||e(n,r)})}function m$(t){const e=Se();me(e)&&t.pubIn({[DA]:e,[RA]:e.format})}const g$=Ci(p$,(t,e)=>{t.pub(e,[n=>n.registerCommand(m_,(r,i)=>(t.pubIn({[ai]:i,[F0]:!0}),i._parentEditor===null&&i.getEditorState().read(()=>{t.pub(L_,{rootNode:It(),editorType:"lexical"})}),m$(t),!1),Ss),n=>n.registerUpdateListener(({dirtyElements:r,dirtyLeaves:i,editorState:o})=>{if(t.getValue(Rv)!==null||r.size===0&&i.size===0)return;let a;o.read(()=>{It().getLastChild()instanceof zm&&n.update(()=>{It().append(Zt())},{discrete:!0}),a=Uge({root:It(),visitors:t.getValue(OA),jsxComponentDescriptors:t.getValue(LA),toMarkdownExtensions:t.getValue(l$),toMarkdownOptions:t.getValue(QE),jsxIsAvailable:t.getValue(c$)})}),t.pub(Cu,a.trim())}),n=>n.registerCommand(K5,()=>(t.pub(F0,!0),!1),Ss),n=>n.registerCommand(F5,r=>{const{keyCode:i,ctrlKey:o,metaKey:s}=r;if(i===65&&r$(s,o)){let a=!1;if(n.getEditorState().read(()=>{a=Pt(It().getFirstChild())||Pt(It().getLastChild())}),a)return r.preventDefault(),r.stopImmediatePropagation(),n.update(()=>{var l;const c=n.getRootElement();(l=window.getSelection())==null||l.selectAllChildren(c),c.focus({preventScroll:!0})}),!0}return!1},Ss)])}),Dve=Ci(f$,(t,e)=>{t.pub(e,[n=>n.registerUpdateListener(({editorState:r})=>{r.read(()=>{m$(t)})}),n=>n.registerCommand(G5,r=>{var i;const o=t.getValue(Na);return o&&!((i=o.getRootElement())!=null&&i.contains(r.relatedTarget))&&t.pubIn({[F0]:!1,[YE]:r}),!1},Ss)])});function VA(t,e,n){try{Vxe({root:e,visitors:t.getValue(MA),mdastExtensions:t.getValue(a$),markdown:n,syntaxExtensions:t.getValue(s$),jsxComponentDescriptors:t.getValue(LA),directiveDescriptors:t.getValue(u$),codeBlockEditorDescriptors:t.getValue(qm)}),t.pub(Rv,null)}catch(r){if(r instanceof HE||r instanceof UE)t.pubIn({[Cu]:n,[Rv]:{error:r.message,source:n}});else throw r}}const x$=Ge([]),jA=Ci(x$),v$=Ge([]),Mve=Ci(v$),y$=Ge([]);Ci(y$);const Nve=Ge([]),Ove=Ci(Nve),Lve=Ge(cz()),_$=Ge("");si();const Mv=si(t=>{t.sub(t.pipe(Mv,wi(ai)),([e,n])=>{n==null||n.update(()=>{const r=Se();me(r)&&(Upe(r,e),setTimeout(()=>{n.focus()}))})})}),zA=si(t=>{t.sub(t.pipe(zA,wi(ai)),([e,n])=>{n==null||n.focus(()=>{n.getEditorState().read(()=>{const r=Se();me(r)&&(n.update(()=>{const i=e();i.isInline()?(xA([i]),jr(i.getParentOrThrow())&&Ype(i,Zt).selectEnd()):lz(i),setTimeout(()=>{"select"in i&&typeof i.select=="function"&&i.select()})}),setTimeout(()=>{n.dispatchCommand(L0,void 0)}))})},{defaultSelection:"rootEnd"})})}),ZE=Ge("rich-text",t=>{function e(){return aj((n,r)=>({current:n.next,next:r}),{current:"rich-text",next:"rich-text"})}t.sub(t.pipe(ZE,e(),wi(Nv)),([{current:n},r])=>{(n==="source"||n==="diff")&&t.pub(BA,r)}),t.sub(t.pipe(ZE,e(),p_(n=>n.current==="rich-text"),wi(ai)),([,n])=>{n==null||n.dispatchCommand(L0,void 0)})}),Nv=Ge("",t=>{t.link(Cu,Nv),t.link(Nv,O_)}),w$=Ge([]),F_=Ci(w$),C$=Ge(()=>{throw new Error("No translation function provided")}),Fve=Pa({init(t,e){t.register(g$),t.register(Dve),t.register(O_),t.pubIn({[o$]:e==null?void 0:e.initialMarkdown.trim(),[Ki]:e==null?void 0:e.iconComponentFor,[nc]:[ove,ive,sve,Qxe,...tve],[Gu]:[Ku,qu,Wm],[Ju]:[Kxe,qxe,Jxe,Wxe,Uxe],[jA]:ave,[qE]:e==null?void 0:e.contentEditableClassName,[QE]:e==null?void 0:e.toMarkdownOptions,[hP]:e==null?void 0:e.autoFocus,[KE]:e==null?void 0:e.placeholder,[wu]:e==null?void 0:e.readOnly,[C$]:e==null?void 0:e.translation,[Dv]:N0e(),[Pv]:D0e(),[FA]:[nme(),O0e()]}),t.singletonSub(GE,e==null?void 0:e.onError),t.singletonSub(JE,e==null?void 0:e.onChange),t.singletonSub(YE,e==null?void 0:e.onBlur),e!=null&&e.suppressHtmlProcessing||t.pubIn({[Dv]:[tme(),lve()],[Pv]:[kme(),Tme(),cve],[nc]:nve})},postInit(t,e){const n=rz({editable:(e==null?void 0:e.readOnly)!==!0,namespace:"MDXEditor",nodes:t.getValue(NA),onError:r=>{throw r},theme:IA});n.update(()=>{const r=(e==null?void 0:e.initialMarkdown.trim())??"";VA(t,It(),r);const i=e==null?void 0:e.autoFocus;if(i){if(i===!0){setTimeout(()=>{n.focus(eu,{defaultSelection:"rootStart"})});return}setTimeout(()=>{n.focus(eu,{defaultSelection:i.defaultSelection??"rootStart"})})}}),t.pub(Na,n),t.pub(ai,n)},update(t,e){t.pubIn({[qE]:e==null?void 0:e.contentEditableClassName,[QE]:e==null?void 0:e.toMarkdownOptions,[hP]:e==null?void 0:e.autoFocus,[KE]:e==null?void 0:e.placeholder,[wu]:e==null?void 0:e.readOnly}),t.singletonSub(JE,e==null?void 0:e.onChange),t.singletonSub(YE,e==null?void 0:e.onBlur),t.singletonSub(GE,e==null?void 0:e.onError)}});function zr(){return Qr(C$)}function Bve(){return It().getTextContent()}function Vve(t,e=!0){if(t)return!1;let n=Bve();return e&&(n=n.trim()),n===""}function jve(t){if(!Vve(t,!1))return!1;const e=It().getChildren(),n=e.length;if(n>1)return!1;for(let r=0;r<n;r++){const i=e[r];if(Pt(i))return!1;if(oe(i)){if(!Pd(i)||i.__indent!==0)return!1;const o=i.getChildren(),s=o.length;for(let a=0;a<s;a++){const l=o[r];if(!ye(l))return!1}}}return!0}function b$(t){return()=>jve(t)}function zve(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}zve(function(t){const e=new URLSearchParams;e.append("code",t);for(let n=1;n<arguments.length;n++)e.append("v",arguments[n]);throw Error(`Minified Lexical error #${t}; visit https://lexical.dev/docs/error?${e} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});const E$=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?T.useLayoutEffect:T.useEffect;function $ve({editor:t,ariaActiveDescendant:e,ariaAutoComplete:n,ariaControls:r,ariaDescribedBy:i,ariaExpanded:o,ariaLabel:s,ariaLabelledBy:a,ariaMultiline:l,ariaOwns:c,ariaRequired:u,autoCapitalize:h,className:d,id:f,role:p="textbox",spellCheck:m=!0,style:x,tabIndex:v,"data-testid":y,..._},C){const[S,k]=T.useState(t.isEditable()),b=T.useCallback(A=>{A&&A.ownerDocument&&A.ownerDocument.defaultView?t.setRootElement(A):t.setRootElement(null)},[t]),w=T.useMemo(()=>function(...A){return E=>{A.forEach(R=>{typeof R=="function"?R(E):R!=null&&(R.current=E)})}}(C,b),[b,C]);return E$(()=>(k(t.isEditable()),t.registerEditableListener(A=>{k(A)})),[t]),P.jsx("div",{..._,"aria-activedescendant":S?e:void 0,"aria-autocomplete":S?n:"none","aria-controls":S?r:void 0,"aria-describedby":i,"aria-expanded":S&&p==="combobox"?!!o:void 0,"aria-label":s,"aria-labelledby":a,"aria-multiline":l,"aria-owns":S?c:void 0,"aria-readonly":!S||void 0,"aria-required":u,autoCapitalize:h,className:d,contentEditable:S,"data-testid":y,id:f,ref:w,role:S?p:void 0,spellCheck:m,style:x,tabIndex:v})}const Hve=T.forwardRef($ve);function dP(t){return t.getEditorState().read(b$(t.isComposing()))}const S$=T.forwardRef(Uve);function Uve(t,e){const{placeholder:n,...r}=t,[i]=Go();return P.jsxs(P.Fragment,{children:[P.jsx(Hve,{editor:i,...r,ref:e}),n!=null&&P.jsx(Wve,{editor:i,content:n})]})}function Wve({content:t,editor:e}){const n=function(s){const[a,l]=T.useState(()=>dP(s));return E$(()=>{function c(){const u=dP(s);l(u)}return c(),Ls(s.registerUpdateListener(()=>{c()}),s.registerEditableListener(()=>{c()}))},[s]),a}(e),[r,i]=T.useState(e.isEditable());if(T.useLayoutEffect(()=>(i(e.isEditable()),e.registerEditableListener(s=>{i(s)})),[e]),!n)return null;let o=null;return typeof t=="function"?o=t(r):t!==null&&(o=t),o===null?null:P.jsx("div",{"aria-hidden":!0,children:o})}function eS(t,e){return eS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},eS(t,e)}var fP={error:null},qve=function(t){var e,n;function r(){for(var o,s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return(o=t.call.apply(t,[this].concat(a))||this).state=fP,o.resetErrorBoundary=function(){for(var c,u=arguments.length,h=new Array(u),d=0;d<u;d++)h[d]=arguments[d];o.props.onReset==null||(c=o.props).onReset.apply(c,h),o.reset()},o}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,eS(e,n),r.getDerivedStateFromError=function(o){return{error:o}};var i=r.prototype;return i.reset=function(){this.setState(fP)},i.componentDidCatch=function(o,s){var a,l;(a=(l=this.props).onError)==null||a.call(l,o,s)},i.componentDidUpdate=function(o,s){var a,l,c,u,h=this.state.error,d=this.props.resetKeys;h!==null&&s.error!==null&&((c=o.resetKeys)===void 0&&(c=[]),(u=d)===void 0&&(u=[]),c.length!==u.length||c.some(function(f,p){return!Object.is(f,u[p])}))&&((a=(l=this.props).onResetKeysChange)==null||a.call(l,o.resetKeys,d),this.reset())},i.render=function(){var o=this.state.error,s=this.props,a=s.fallbackRender,l=s.FallbackComponent,c=s.fallback;if(o!==null){var u={error:o,resetErrorBoundary:this.resetErrorBoundary};if(T.isValidElement(c))return c;if(typeof a=="function")return a(u);if(l)return T.createElement(l,u);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},r}(T.Component);function k$({children:t,onError:e}){return P.jsx(qve,{fallback:P.jsx("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"},children:"An error was thrown."}),onError:e,children:t})}const Kve=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?T.useLayoutEffect:T.useEffect;function Gve(t){return{initialValueFn:()=>t.isEditable(),subscribe:e=>t.registerEditableListener(e)}}function Jve(){return function(t){const[e]=Go(),n=T.useMemo(()=>t(e),[e,t]),r=T.useRef(n.initialValueFn()),[i,o]=T.useState(r.current);return Kve(()=>{const{initialValueFn:s,subscribe:a}=n,l=s();return r.current!==l&&(r.current=l,o(l)),a(c=>{r.current=c,o(c)})},[n,t]),i}(Gve)}function Qve(t){const e=window.location.origin,n=r=>{if(r.origin!==e)return;const i=t.getRootElement();if(document.activeElement!==i)return;const o=r.data;if(typeof o=="string"){let s;try{s=JSON.parse(o)}catch{return}if(s&&s.protocol==="nuanria_messaging"&&s.type==="request"){const a=s.payload;if(a&&a.functionId==="makeChanges"){const l=a.args;if(l){const[c,u,h,d,f,p]=l;t.update(()=>{const m=Se();if(me(m)){const x=m.anchor;let v=x.getNode(),y=0,_=0;if(ye(v)&&c>=0&&u>=0&&(y=c,_=c+u,m.setTextNodeRange(v,y,v,_)),y===_&&h===""||(m.insertRawText(h),v=x.getNode()),ye(v)){y=d,_=d+f;const C=v.getTextContentSize();y=y>C?C:y,_=_>C?C:_,m.setTextNodeRange(v,y,v,_)}r.stopImmediatePropagation()}})}}}}};return window.addEventListener("message",n,!0),()=>{window.removeEventListener("message",n,!0)}}const tS=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?T.useLayoutEffect:T.useEffect;function pP(t){return t.getEditorState().read(b$(t.isComposing()))}function T$({contentEditable:t,placeholder:e=null,ErrorBoundary:n}){const[r]=Go(),i=function(o,s){const[a,l]=T.useState(()=>o.getDecorators());return tS(()=>o.registerDecoratorListener(c=>{jo.flushSync(()=>{l(c)})}),[o]),T.useEffect(()=>{l(o.getDecorators())},[o]),T.useMemo(()=>{const c=[],u=Object.keys(a);for(let h=0;h<u.length;h++){const d=u[h],f=P.jsx(s,{onError:m=>o._onError(m),children:P.jsx(T.Suspense,{fallback:null,children:a[d]})}),p=o.getElementByKey(d);p!==null&&c.push(jo.createPortal(f,p,d))}return c},[s,a,o])}(r,n);return function(o){tS(()=>Ls(T0e(o),Qve(o)),[o])}(r),P.jsxs(P.Fragment,{children:[t,P.jsx(Xve,{content:e}),i]})}function Xve({content:t}){const[e]=Go(),n=function(i){const[o,s]=T.useState(()=>pP(i));return tS(()=>{function a(){const l=pP(i);s(l)}return a(),Ls(i.registerUpdateListener(()=>{a()}),i.registerEditableListener(()=>{a()}))},[i]),o}(e),r=Jve();return n?typeof t=="function"?t(r):t:null}var A$={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",s=0;s<arguments.length;s++){var a=arguments[s];a&&(o=i(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var a in o)e.call(o,a)&&o[a]&&(s=i(s,a));return s}function i(o,s){return s?o?o+" "+s:o+s:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(A$);var Yve=A$.exports;const ji=ly(Yve),Zve="_editorRoot_uazmk_53",eye="_editorWrapper_uazmk_154",tye="_nestedListItem_uazmk_156",nye="_toolbarRoot_uazmk_160",rye="_readOnlyToolbarRoot_uazmk_187",iye="_toolbarModeSwitch_uazmk_196",oye="_toolbarToggleItem_uazmk_206",sye="_toolbarGroupOfGroups_uazmk_217",aye="_toolbarToggleSingleGroup_uazmk_222",lye="_toolbarButton_uazmk_237",cye="_activeToolbarButton_uazmk_274",uye="_toolbarNodeKindSelectContainer_uazmk_284",hye="_toolbarButtonDropdownContainer_uazmk_285",dye="_toolbarCodeBlockLanguageSelectContent_uazmk_286",fye="_selectContainer_uazmk_287",pye="_selectItem_uazmk_300",mye="_toolbarNodeKindSelectTrigger_uazmk_305",gye="_toolbarButtonSelectTrigger_uazmk_306",xye="_selectTrigger_uazmk_307",vye="_toolbarCodeBlockLanguageSelectTrigger_uazmk_342",yye="_toolbarNodeKindSelectItem_uazmk_347",_ye="_toolbarNodeKindSelectDropdownArrow_uazmk_372",wye="_selectDropdownArrow_uazmk_373",Cye="_contentEditable_uazmk_379",bye="_codeMirrorWrapper_uazmk_391",Eye="_sandPackWrapper_uazmk_400",Sye="_codeMirrorToolbar_uazmk_408",kye="_frontmatterWrapper_uazmk_412",Tye="_frontmatterToggleButton_uazmk_422",Aye="_propertyPanelTitle_uazmk_430",Iye="_propertyEditorTable_uazmk_438",Rye="_iconButton_uazmk_456",Pye="_readOnlyColumnCell_uazmk_461",Dye="_propertyEditorLabelCell_uazmk_466",Mye="_buttonsFooter_uazmk_474",Nye="_propertyEditorInput_uazmk_480",Oye="_primaryButton_uazmk_506",Lye="_secondaryButton_uazmk_507",Fye="_smallButton_uazmk_522",Bye="_dialogForm_uazmk_534",Vye="_linkDialogEditForm_uazmk_540",jye="_linkDialogInputContainer_uazmk_548",zye="_linkDialogInputWrapper_uazmk_554",$ye="_linkDialogInput_uazmk_548",Hye="_dialogInput_uazmk_575",Uye="_linkDialogAnchor_uazmk_586",Wye="_linkDialogPopoverContent_uazmk_600",qye="_tableColumnEditorPopoverContent_uazmk_601",Kye="_dialogContent_uazmk_602",Gye="_largeDialogContent_uazmk_614",Jye="_dialogTitle_uazmk_624",Qye="_dialogCloseButton_uazmk_630",Xye="_popoverContent_uazmk_637",Yye="_popoverArrow_uazmk_649",Zye="_linkDialogPreviewAnchor_uazmk_653",e_e="_tooltipTrigger_uazmk_676",t_e="_tooltipContent_uazmk_680",n_e="_actionButton_uazmk_694",r_e="_primaryActionButton_uazmk_701",i_e="_tableEditor_uazmk_713",o_e="_toolCell_uazmk_724",s_e="_tableColumnEditorTrigger_uazmk_743",a_e="_tableRowEditorTrigger_uazmk_744",l_e="_addRowButton_uazmk_745",c_e="_addColumnButton_uazmk_746",u_e="_tableColumnEditorToolbar_uazmk_789",h_e="_toggleGroupRoot_uazmk_803",d_e="_tableToolsColumn_uazmk_821",f_e="_leftAlignedCell_uazmk_830",p_e="_rightAlignedCell_uazmk_834",m_e="_centeredCell_uazmk_838",g_e="_dialogOverlay_uazmk_871",x_e="_overlayShow_uazmk_1",v_e="_contentShow_uazmk_1",y_e="_focusedImage_uazmk_918",__e="_imageWrapper_uazmk_922",w_e="_editImageToolbar_uazmk_935",C_e="_editImageButton_uazmk_939",b_e="_inlineEditor_uazmk_945",E_e="_blockEditor_uazmk_954",S_e="_nestedEditor_uazmk_963",k_e="_genericComponentName_uazmk_982",T_e="_diffSourceToggle_uazmk_988",A_e="_selectWithLabel_uazmk_1002",I_e="_toolbarTitleMode_uazmk_1017",R_e="_imageControlWrapperResizing_uazmk_1023",P_e="_imageResizer_uazmk_1027",D_e="_imageResizerN_uazmk_1036",M_e="_imageResizerNe_uazmk_1042",N_e="_imageResizerE_uazmk_1048",O_e="_imageResizerSe_uazmk_1054",L_e="_imageResizerS_uazmk_1054",F_e="_imageResizerSw_uazmk_1066",B_e="_imageResizerW_uazmk_1072",V_e="_imageResizerNw_uazmk_1078",j_e="_placeholder_uazmk_1084",z_e="_rootContentEditableWrapper_uazmk_1097",$_e="_downshiftContainer_uazmk_1103",H_e="_downshiftInputWrapper_uazmk_1109",U_e="_downshiftInput_uazmk_1109",W_e="_downshiftAutocompleteContainer_uazmk_1140",q_e="_textInput_uazmk_1186",K_e="_multiFieldForm_uazmk_1194",G_e="_formField_uazmk_1200",J_e="_markdownParseError_uazmk_1211",Q_e="_popupContainer_uazmk_1220",X_e="_inputSizer_uazmk_1225",Ke={editorRoot:Zve,editorWrapper:eye,nestedListItem:tye,toolbarRoot:nye,readOnlyToolbarRoot:rye,toolbarModeSwitch:iye,toolbarToggleItem:oye,toolbarGroupOfGroups:sye,toolbarToggleSingleGroup:aye,toolbarButton:lye,activeToolbarButton:cye,toolbarNodeKindSelectContainer:uye,toolbarButtonDropdownContainer:hye,toolbarCodeBlockLanguageSelectContent:dye,selectContainer:fye,selectItem:pye,toolbarNodeKindSelectTrigger:mye,toolbarButtonSelectTrigger:gye,selectTrigger:xye,toolbarCodeBlockLanguageSelectTrigger:vye,toolbarNodeKindSelectItem:yye,toolbarNodeKindSelectDropdownArrow:_ye,selectDropdownArrow:wye,contentEditable:Cye,codeMirrorWrapper:bye,sandPackWrapper:Eye,codeMirrorToolbar:Sye,frontmatterWrapper:kye,frontmatterToggleButton:Tye,propertyPanelTitle:Aye,propertyEditorTable:Iye,iconButton:Rye,readOnlyColumnCell:Pye,propertyEditorLabelCell:Dye,buttonsFooter:Mye,propertyEditorInput:Nye,primaryButton:Oye,secondaryButton:Lye,smallButton:Fye,dialogForm:Bye,linkDialogEditForm:Vye,linkDialogInputContainer:jye,linkDialogInputWrapper:zye,linkDialogInput:$ye,dialogInput:Hye,linkDialogAnchor:Uye,linkDialogPopoverContent:Wye,tableColumnEditorPopoverContent:qye,dialogContent:Kye,largeDialogContent:Gye,dialogTitle:Jye,dialogCloseButton:Qye,popoverContent:Xye,popoverArrow:Yye,linkDialogPreviewAnchor:Zye,tooltipTrigger:e_e,tooltipContent:t_e,actionButton:n_e,primaryActionButton:r_e,tableEditor:i_e,toolCell:o_e,tableColumnEditorTrigger:s_e,tableRowEditorTrigger:a_e,addRowButton:l_e,addColumnButton:c_e,tableColumnEditorToolbar:u_e,toggleGroupRoot:h_e,tableToolsColumn:d_e,leftAlignedCell:f_e,rightAlignedCell:p_e,centeredCell:m_e,dialogOverlay:g_e,overlayShow:x_e,contentShow:v_e,focusedImage:y_e,imageWrapper:__e,editImageToolbar:w_e,editImageButton:C_e,inlineEditor:b_e,blockEditor:E_e,nestedEditor:S_e,genericComponentName:k_e,diffSourceToggle:T_e,selectWithLabel:A_e,toolbarTitleMode:I_e,imageControlWrapperResizing:R_e,imageResizer:P_e,imageResizerN:D_e,imageResizerNe:M_e,imageResizerE:N_e,imageResizerSe:O_e,imageResizerS:L_e,imageResizerSw:F_e,imageResizerW:B_e,imageResizerNw:V_e,placeholder:j_e,rootContentEditableWrapper:z_e,downshiftContainer:$_e,downshiftInputWrapper:H_e,downshiftInput:U_e,downshiftAutocompleteContainer:W_e,textInput:q_e,multiFieldForm:K_e,formField:G_e,markdownParseError:J_e,popupContainer:Q_e,inputSizer:X_e},Y_e={undo:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M7.202 18.5V17H14.3788C15.4224 17 16.3205 16.6554 17.073 15.9663C17.8257 15.2773 18.202 14.4263 18.202 13.4135C18.202 12.4007 17.8257 11.5512 17.073 10.8652C16.3205 10.1794 15.4224 9.8365 14.3788 9.8365H7.35775L10.1402 12.6193L9.0865 13.673L4.5 9.0865L9.0865 4.5L10.1402 5.55375L7.35775 8.3365H14.3788C15.8416 8.3365 17.0945 8.82467 18.1375 9.801C19.1805 10.7773 19.702 11.9815 19.702 13.4135C19.702 14.8455 19.1805 16.0513 18.1375 17.0308C17.0945 18.0103 15.8416 18.5 14.3788 18.5H7.202Z",fill:"currentColor"})),redo:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M9.6211 18.5C8.15827 18.5 6.90535 18.0103 5.86235 17.0308C4.81935 16.0513 4.29785 14.8455 4.29785 13.4135C4.29785 11.9815 4.81935 10.7773 5.86235 9.801C6.90535 8.82467 8.15827 8.3365 9.6211 8.3365H16.6421L13.8596 5.55375L14.9134 4.5L19.4999 9.0865L14.9134 13.673L13.8596 12.6193L16.6421 9.8365H9.6211C8.57744 9.8365 7.67935 10.1794 6.92685 10.8652C6.17418 11.5512 5.79785 12.4007 5.79785 13.4135C5.79785 14.4263 6.17418 15.2773 6.92685 15.9663C7.67935 16.6554 8.57744 17 9.6211 17H16.7979V18.5H9.6211Z",fill:"currentColor"})),format_bold:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M7.33838 18.625V5.375H12.1999C13.219 5.375 14.1405 5.69233 14.9644 6.327C15.788 6.9615 16.1999 7.816 16.1999 8.8905C16.1999 9.63783 16.0194 10.2471 15.6584 10.7182C15.2975 11.1894 14.9088 11.5314 14.4921 11.7442C15.005 11.9211 15.4947 12.2708 15.9614 12.7933C16.428 13.3158 16.6614 14.0193 16.6614 14.9038C16.6614 16.1819 16.1902 17.1217 15.2479 17.723C14.3055 18.3243 13.3562 18.625 12.3999 18.625H7.33838ZM9.48838 16.6328H12.3191C13.1063 16.6328 13.6627 16.4142 13.9884 15.977C14.314 15.5398 14.4769 15.1206 14.4769 14.7192C14.4769 14.3179 14.314 13.8987 13.9884 13.4615C13.6627 13.0243 13.0909 12.8058 12.2729 12.8058H9.48838V16.6328ZM9.48838 10.875H12.0826C12.6903 10.875 13.172 10.7013 13.5279 10.3538C13.8835 10.0064 14.0614 9.59042 14.0614 9.10575C14.0614 8.59042 13.8733 8.16925 13.4971 7.84225C13.1208 7.51542 12.6595 7.352 12.1134 7.352H9.48838V10.875Z",fill:"currentColor"})),format_italic:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M5.39404 18.625V16.8173H9.21129L12.4518 7.18275H8.63454V5.375H17.7883V7.18275H14.2785L11.0383 16.8173H14.5478V18.625H5.39404Z",fill:"currentColor"})),format_underlined:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M5.34619 22.125V20.625H18.6537V22.125H5.34619ZM11.9999 18.5287C10.4448 18.5287 9.23102 18.0566 8.35869 17.1125C7.48619 16.1683 7.04994 14.9032 7.04994 13.3172V5.41345H8.90369V13.4095C8.90369 14.4198 9.17228 15.2295 9.70944 15.8385C10.2466 16.4475 11.0101 16.752 11.9999 16.752C12.9898 16.752 13.7533 16.4475 14.2904 15.8385C14.8276 15.2295 15.0962 14.4198 15.0962 13.4095V5.41345H16.9499V13.3172C16.9499 14.9032 16.5137 16.1683 15.6412 17.1125C14.7689 18.0566 13.5551 18.5287 11.9999 18.5287Z",fill:"currentColor"})),code:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M7.99994 17.6537L2.34619 11.9999L7.99994 6.34619L9.06919 7.41544L4.46919 12.0154L9.05369 16.5999L7.99994 17.6537ZM15.9999 17.6537L14.9307 16.5844L19.5307 11.9844L14.9462 7.39994L15.9999 6.34619L21.6537 11.9999L15.9999 17.6537Z",fill:"currentColor"})),strikeThrough:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M12.15 19.6923C10.9732 19.6923 9.9315 19.359 9.025 18.6923C8.11867 18.0256 7.45525 17.1128 7.03475 15.9538L8.6385 15.2635C8.91667 16.0444 9.3545 16.6867 9.952 17.1905C10.5493 17.6944 11.2923 17.9463 12.1808 17.9463C12.9578 17.9463 13.6744 17.7508 14.3307 17.3598C14.9872 16.9686 15.3155 16.3487 15.3155 15.5C15.3155 15.123 15.2555 14.7968 15.1355 14.5213C15.0157 14.2456 14.8462 13.9885 14.627 13.75H16.677C16.7987 13.9705 16.8932 14.2256 16.9605 14.5153C17.0278 14.8051 17.0615 15.1334 17.0615 15.5C17.0615 16.8372 16.5747 17.8702 15.601 18.599C14.6272 19.3279 13.4768 19.6923 12.15 19.6923ZM2.25 11.75V10.25H21.75V11.75H2.25ZM12.05 4.19629C13.0475 4.19629 13.9123 4.42704 14.6443 4.88854C15.3763 5.35004 15.9673 6.05896 16.4173 7.01529L14.823 7.73079C14.6218 7.26029 14.2978 6.84462 13.851 6.48379C13.4042 6.12279 12.8141 5.94229 12.0808 5.94229C11.2244 5.94229 10.5392 6.16221 10.025 6.60204C9.51083 7.04171 9.264 7.59104 9.2845 8.25004H7.5385C7.50133 7.16421 7.89783 6.21712 8.728 5.40879C9.558 4.60046 10.6653 4.19629 12.05 4.19629Z",fill:"currentColor"})),superscript:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M16.6924 8V6.2115C16.6924 5.95383 16.7786 5.73875 16.9511 5.56625C17.1235 5.39392 17.3385 5.30775 17.5961 5.30775H19.5001V4.38475H16.6924V3.5H19.4809C19.7385 3.5 19.9536 3.58625 20.1261 3.75875C20.2985 3.93108 20.3846 4.14617 20.3846 4.404V5.2885C20.3846 5.54617 20.2985 5.76125 20.1261 5.93375C19.9536 6.10608 19.7385 6.19225 19.4809 6.19225H17.5771V7.1155H20.3846V8H16.6924ZM4.44238 18.5L8.84638 11.6287L4.77713 5.30775H6.74438L9.95963 10.404H10.0214L13.2501 5.30775H15.2329L11.1194 11.6287L15.5579 18.5H13.5751L10.0214 12.9308H9.95963L6.42513 18.5H4.44238Z",fill:"currentColor"})),subscript:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M16.6924 20.5V18.7115C16.6924 18.4538 16.7786 18.2387 16.9511 18.0662C17.1235 17.8939 17.3385 17.8077 17.5961 17.8077H19.5001V16.8845H16.6924V16H19.4809C19.7385 16 19.9536 16.0863 20.1261 16.2587C20.2985 16.4311 20.3846 16.6461 20.3846 16.9038V17.7885C20.3846 18.0462 20.2985 18.2612 20.1261 18.4337C19.9536 18.6061 19.7385 18.6923 19.4809 18.6923H17.5771V19.6152H20.3846V20.5H16.6924ZM4.44238 18.6923L8.84638 11.8212L4.77713 5.5H6.74438L9.95963 10.5962H10.0214L13.2501 5.5H15.2329L11.1194 11.8212L15.5579 18.6923H13.5751L10.0214 13.123H9.95963L6.42513 18.6923H4.44238Z",fill:"currentColor"})),format_list_bulleted:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M9.30775 18.75V17.25H20.5V18.75H9.30775ZM9.30775 12.75V11.25H20.5V12.75H9.30775ZM9.30775 6.75005V5.25005H20.5V6.75005H9.30775ZM5.1635 19.6635C4.706 19.6635 4.31442 19.5006 3.98875 19.1748C3.66292 18.8491 3.5 18.4575 3.5 18C3.5 17.5425 3.66292 17.151 3.98875 16.8253C4.31442 16.4995 4.706 16.3365 5.1635 16.3365C5.621 16.3365 6.01258 16.4995 6.33825 16.8253C6.66408 17.151 6.827 17.5425 6.827 18C6.827 18.4575 6.66408 18.8491 6.33825 19.1748C6.01258 19.5006 5.621 19.6635 5.1635 19.6635ZM5.1635 13.6635C4.706 13.6635 4.31442 13.5006 3.98875 13.1748C3.66292 12.8491 3.5 12.4575 3.5 12C3.5 11.5425 3.66292 11.151 3.98875 10.8253C4.31442 10.4995 4.706 10.3365 5.1635 10.3365C5.621 10.3365 6.01258 10.4995 6.33825 10.8253C6.66408 11.151 6.827 11.5425 6.827 12C6.827 12.4575 6.66408 12.8491 6.33825 13.1748C6.01258 13.5006 5.621 13.6635 5.1635 13.6635ZM5.1635 7.66355C4.706 7.66355 4.31442 7.50063 3.98875 7.1748C3.66292 6.84913 3.5 6.45755 3.5 6.00005C3.5 5.54255 3.66292 5.15096 3.98875 4.8253C4.31442 4.49946 4.706 4.33655 5.1635 4.33655C5.621 4.33655 6.01258 4.49946 6.33825 4.8253C6.66408 5.15096 6.827 5.54255 6.827 6.00005C6.827 6.45755 6.66408 6.84913 6.33825 7.1748C6.01258 7.50063 5.621 7.66355 5.1635 7.66355Z",fill:"currentColor"})),format_list_numbered:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M3.5 21.5V20.3078H6V19.25H4.5V18.0577H6V17H3.5V15.8077H6.34625C6.58592 15.8077 6.78683 15.8888 6.949 16.051C7.11117 16.2132 7.19225 16.4141 7.19225 16.6538V17.8462C7.19225 18.0859 7.11117 18.2868 6.949 18.449C6.78683 18.6112 6.58592 18.6923 6.34625 18.6923C6.58592 18.6923 6.78683 18.7733 6.949 18.9355C7.11117 19.0977 7.19225 19.2987 7.19225 19.5385V20.6538C7.19225 20.8936 7.11117 21.0946 6.949 21.2568C6.78683 21.4189 6.58592 21.5 6.34625 21.5H3.5ZM3.5 14.8463V12.25C3.5 12.0103 3.58108 11.8093 3.74325 11.647C3.90542 11.4848 4.10642 11.4038 4.34625 11.4038H6V10.3462H3.5V9.15375H6.34625C6.58592 9.15375 6.78683 9.23483 6.949 9.397C7.11117 9.55933 7.19225 9.76033 7.19225 10V11.75C7.19225 11.9897 7.11117 12.1907 6.949 12.353C6.78683 12.5152 6.58592 12.5963 6.34625 12.5963H4.69225V13.6538H7.19225V14.8463H3.5ZM5 8.19225V3.69225H3.5V2.5H6.19225V8.19225H5ZM9.30775 18.75V17.25H20.5V18.75H9.30775ZM9.30775 12.75V11.25H20.5V12.75H9.30775ZM9.30775 6.75V5.25H20.5V6.75H9.30775Z",fill:"currentColor"})),format_list_checked:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M5.69425 18.452L2.5 15.2578L3.54425 14.2135L5.66925 16.3385L9.91925 12.0885L10.9635 13.1578L5.69425 18.452ZM5.69425 10.8365L2.5 7.64227L3.54425 6.59802L5.66925 8.72302L9.91925 4.47302L10.9635 5.54227L5.69425 10.8365ZM13.0095 16.5578V15.0578H21.5095V16.5578H13.0095ZM13.0095 8.94227V7.44227H21.5095V8.94227H13.0095Z",fill:"currentColor"})),link:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M10.8077 16.5385H7.0385C5.78283 16.5385 4.7125 16.096 3.8275 15.211C2.9425 14.3262 2.5 13.256 2.5 12.0005C2.5 10.745 2.9425 9.67471 3.8275 8.78955C4.7125 7.90421 5.78283 7.46155 7.0385 7.46155H10.8077V8.96155H7.0385C6.19867 8.96155 5.48233 9.25805 4.8895 9.85105C4.2965 10.444 4 11.1604 4 12C4 12.8397 4.2965 13.556 4.8895 14.149C5.48233 14.742 6.19867 15.0385 7.0385 15.0385H10.8077V16.5385ZM8.25 12.75V11.25H15.75V12.75H8.25ZM13.1923 16.5385V15.0385H16.9615C17.8013 15.0385 18.5177 14.742 19.1105 14.149C19.7035 13.556 20 12.8397 20 12C20 11.1604 19.7035 10.444 19.1105 9.85105C18.5177 9.25805 17.8013 8.96155 16.9615 8.96155H13.1923V7.46155H16.9615C18.2172 7.46155 19.2875 7.90405 20.1725 8.78905C21.0575 9.67388 21.5 10.744 21.5 11.9995C21.5 13.255 21.0575 14.3254 20.1725 15.2105C19.2875 16.0959 18.2172 16.5385 16.9615 16.5385H13.1923Z",fill:"currentColor"})),add_photo:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M5.11537 20.5C4.6182 20.5 4.19262 20.323 3.83862 19.969C3.48462 19.615 3.30762 19.1894 3.30762 18.6922V5.30773C3.30762 4.81056 3.48462 4.38498 3.83862 4.03098C4.19262 3.67698 4.6182 3.49998 5.11537 3.49998H13.8076V4.99998H5.11537C5.02553 4.99998 4.95178 5.02881 4.89412 5.08648C4.83645 5.14415 4.80762 5.2179 4.80762 5.30773V18.6922C4.80762 18.7821 4.83645 18.8558 4.89412 18.9135C4.95178 18.9711 5.02553 19 5.11537 19H18.4999C18.5895 19 18.6633 18.9711 18.7211 18.9135C18.7788 18.8558 18.8076 18.7821 18.8076 18.6922V9.99998H20.3076V18.6922C20.3076 19.1894 20.1306 19.615 19.7766 19.969C19.4226 20.323 18.997 20.5 18.4999 20.5H5.11537ZM17.1921 8.61523V6.61523H15.1921V5.11548H17.1921V3.11548H18.6921V5.11548H20.6921V6.61523H18.6921V8.61523H17.1921ZM6.55762 16.75H17.1344L13.8459 12.3655L11.0384 16.0192L9.03837 13.4615L6.55762 16.75Z",fill:"currentColor"})),table:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M3.5 18.6923V5.30775C3.5 4.81058 3.677 4.385 4.031 4.031C4.385 3.677 4.81058 3.5 5.30775 3.5H18.6923C19.1894 3.5 19.615 3.677 19.969 4.031C20.323 4.385 20.5 4.81058 20.5 5.30775V18.6923C20.5 19.1894 20.323 19.615 19.969 19.969C19.615 20.323 19.1894 20.5 18.6923 20.5H5.30775C4.81058 20.5 4.385 20.323 4.031 19.969C3.677 19.615 3.5 19.1894 3.5 18.6923ZM5 9.077H19V5.30775C19 5.21792 18.9712 5.14417 18.9135 5.0865C18.8558 5.02883 18.7821 5 18.6923 5H5.30775C5.21792 5 5.14417 5.02883 5.0865 5.0865C5.02883 5.14417 5 5.21792 5 5.30775V9.077ZM10.1615 14.0385H13.8385V10.577H10.1615V14.0385ZM10.1615 19H13.8385V15.5385H10.1615V19ZM5 14.0385H8.6615V10.577H5V14.0385ZM15.3385 14.0385H19V10.577H15.3385V14.0385ZM5.30775 19H8.6615V15.5385H5V18.6923C5 18.7821 5.02883 18.8558 5.0865 18.9135C5.14417 18.9712 5.21792 19 5.30775 19ZM15.3385 19H18.6923C18.7821 19 18.8558 18.9712 18.9135 18.9135C18.9712 18.8558 19 18.7821 19 18.6923V15.5385H15.3385V19Z",fill:"currentColor"})),horizontal_rule:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M4.5 12.75V11.25H19.5V12.75H4.5Z",fill:"currentColor"})),frontmatter:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M4.5 8.75V7.25H8.5V8.75H4.5Z",fill:"currentColor"}),F.createElement("path",{d:"M4.5 14.75V13.25H8.5V14.75H4.5Z",fill:"currentColor"}),F.createElement("path",{d:"M9.5 8.75V7.25H13.5V8.75H9.5Z",fill:"currentColor"}),F.createElement("path",{d:"M9.5 14.75V13.25H13.5V14.75H9.5Z",fill:"currentColor"}),F.createElement("path",{d:"M14.5 8.75V7.25H18.5V8.75H14.5Z",fill:"currentColor"}),F.createElement("path",{d:"M14.5 14.75V13.25H18.5V14.75H14.5Z",fill:"currentColor"})),frame_source:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M8.6 15.2443L5.35575 12L8.6 8.75575L9.64425 9.825L7.46925 12L9.64425 14.175L8.6 15.2443ZM15.4 15.2443L14.3558 14.175L16.5307 12L14.3558 9.825L15.4 8.75575L18.6443 12L15.4 15.2443ZM5.30775 20.5C4.80258 20.5 4.375 20.325 4.025 19.975C3.675 19.625 3.5 19.1974 3.5 18.6923V15H5V18.6923C5 18.7692 5.03208 18.8398 5.09625 18.9038C5.16025 18.9679 5.23075 19 5.30775 19H9V20.5H5.30775ZM15 20.5V19H18.6923C18.7692 19 18.8398 18.9679 18.9038 18.9038C18.9679 18.8398 19 18.7692 19 18.6923V15H20.5V18.6923C20.5 19.1974 20.325 19.625 19.975 19.975C19.625 20.325 19.1974 20.5 18.6923 20.5H15ZM3.5 9V5.30775C3.5 4.80258 3.675 4.375 4.025 4.025C4.375 3.675 4.80258 3.5 5.30775 3.5H9V5H5.30775C5.23075 5 5.16025 5.03208 5.09625 5.09625C5.03208 5.16025 5 5.23075 5 5.30775V9H3.5ZM19 9V5.30775C19 5.23075 18.9679 5.16025 18.9038 5.09625C18.8398 5.03208 18.7692 5 18.6923 5H15V3.5H18.6923C19.1974 3.5 19.625 3.675 19.975 4.025C20.325 4.375 20.5 4.80258 20.5 5.30775V9H19Z",fill:"currentColor"})),arrow_drop_down:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M11.9999 14.6537L7.59619 10.25H16.4037L11.9999 14.6537Z",fill:"currentColor"})),admonition:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M12.0001 21.4C11.7654 21.4 11.5385 21.3548 11.3193 21.2645C11.1002 21.174 10.9002 21.0435 10.7193 20.873L3.1271 13.2807C2.9566 13.0999 2.8261 12.8999 2.7356 12.6807C2.64526 12.4616 2.6001 12.2346 2.6001 12C2.6001 11.7653 2.64526 11.5358 2.7356 11.3115C2.8261 11.0871 2.9566 10.8897 3.1271 10.7192L10.7193 3.12698C10.9002 2.94614 11.1002 2.81314 11.3193 2.72798C11.5385 2.64264 11.7654 2.59998 12.0001 2.59998C12.2348 2.59998 12.4643 2.64264 12.6886 2.72798C12.9129 2.81314 13.1103 2.94614 13.2808 3.12698L20.8731 10.7192C21.0539 10.8897 21.1869 11.0871 21.2721 11.3115C21.3574 11.5358 21.4001 11.7653 21.4001 12C21.4001 12.2346 21.3574 12.4616 21.2721 12.6807C21.1869 12.8999 21.0539 13.0999 20.8731 13.2807L13.2808 20.873C13.1103 21.0435 12.9129 21.174 12.6886 21.2645C12.4643 21.3548 12.2348 21.4 12.0001 21.4ZM12.2213 19.8037L19.8039 12.2212C19.8552 12.1699 19.8808 12.0961 19.8808 12C19.8808 11.9038 19.8552 11.8301 19.8039 11.7787L12.2213 4.19623C12.17 4.14489 12.0963 4.11923 12.0001 4.11923C11.9039 4.11923 11.8302 4.14489 11.7788 4.19623L4.19635 11.7787C4.14501 11.8301 4.11935 11.9038 4.11935 12C4.11935 12.0961 4.14501 12.1699 4.19635 12.2212L11.7788 19.8037C11.8302 19.8551 11.9039 19.8807 12.0001 19.8807C12.0963 19.8807 12.17 19.8551 12.2213 19.8037ZM11.2501 13.0865H12.7501V7.47123H11.2501V13.0865ZM12.0001 15.702C12.2258 15.702 12.4168 15.6237 12.5731 15.4672C12.7296 15.3109 12.8078 15.1199 12.8078 14.8942C12.8078 14.6686 12.7296 14.4776 12.5731 14.3212C12.4168 14.1647 12.2258 14.0865 12.0001 14.0865C11.7744 14.0865 11.5834 14.1647 11.4271 14.3212C11.2706 14.4776 11.1923 14.6686 11.1923 14.8942C11.1923 15.1199 11.2706 15.3109 11.4271 15.4672C11.5834 15.6237 11.7744 15.702 12.0001 15.702Z",fill:"currentColor"})),sandpack:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M12.9999 22.5C12.4947 22.5 12.0671 22.325 11.7171 21.975C11.3671 21.625 11.1921 21.1974 11.1921 20.6922V7.30775C11.1921 6.80258 11.3671 6.375 11.7171 6.025C12.0671 5.675 12.4947 5.5 12.9999 5.5H16.3844C16.8895 5.5 17.3171 5.675 17.6671 6.025C18.0171 6.375 18.1921 6.80258 18.1921 7.30775V20.6922C18.1921 21.1974 18.0171 21.625 17.6671 21.975C17.3171 22.325 16.8895 22.5 16.3844 22.5H12.9999ZM12.6921 7.30775V20.6922C12.6921 20.7692 12.7242 20.8398 12.7884 20.9038C12.8524 20.9679 12.9229 21 12.9999 21H16.3844C16.4614 21 16.5319 20.9679 16.5959 20.9038C16.66 20.8398 16.6921 20.7692 16.6921 20.6922V7.30775C16.6921 7.23075 16.66 7.16025 16.5959 7.09625C16.5319 7.03208 16.4614 7 16.3844 7H12.9999C12.9229 7 12.8524 7.03208 12.7884 7.09625C12.7242 7.16025 12.6921 7.23075 12.6921 7.30775ZM6.61537 18.5C6.1102 18.5 5.68262 18.325 5.33262 17.975C4.98262 17.625 4.80762 17.1974 4.80762 16.6923V3.30775C4.80762 2.80258 4.98262 2.375 5.33262 2.025C5.68262 1.675 6.1102 1.5 6.61537 1.5H9.99987C10.505 1.5 10.9326 1.675 11.2826 2.025C11.6326 2.375 11.8076 2.80258 11.8076 3.30775V16.6923C11.8076 17.1974 11.6326 17.625 11.2826 17.975C10.9326 18.325 10.505 18.5 9.99987 18.5H6.61537ZM6.30762 3.30775V16.6923C6.30762 16.7692 6.3397 16.8398 6.40387 16.9038C6.46787 16.9679 6.53837 17 6.61537 17H9.99987C10.0769 17 10.1474 16.9679 10.2114 16.9038C10.2755 16.8398 10.3076 16.7692 10.3076 16.6923V3.30775C10.3076 3.23075 10.2755 3.16025 10.2114 3.09625C10.1474 3.03208 10.0769 3 9.99987 3H6.61537C6.53837 3 6.46787 3.03208 6.40387 3.09625C6.3397 3.16025 6.30762 3.23075 6.30762 3.30775Z",fill:"currentColor"})),rich_text:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M5.30775 20.5C4.80258 20.5 4.375 20.325 4.025 19.975C3.675 19.625 3.5 19.1974 3.5 18.6923V5.30775C3.5 4.80258 3.675 4.375 4.025 4.025C4.375 3.675 4.80258 3.5 5.30775 3.5H18.6923C19.1974 3.5 19.625 3.675 19.975 4.025C20.325 4.375 20.5 4.80258 20.5 5.30775V18.6923C20.5 19.1974 20.325 19.625 19.975 19.975C19.625 20.325 19.1974 20.5 18.6923 20.5H5.30775ZM5.30775 19H18.6923C18.7692 19 18.8398 18.9679 18.9038 18.9038C18.9679 18.8398 19 18.7692 19 18.6923V5.30775C19 5.23075 18.9679 5.16025 18.9038 5.09625C18.8398 5.03208 18.7692 5 18.6923 5H5.30775C5.23075 5 5.16025 5.03208 5.09625 5.09625C5.03208 5.16025 5 5.23075 5 5.30775V18.6923C5 18.7692 5.03208 18.8398 5.09625 18.9038C5.16025 18.9679 5.23075 19 5.30775 19ZM6.75 17H17.3268L14 12.3655L11.2308 16.0192L9 13.4615L6.75 17Z",fill:"currentColor"}),F.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 12V6.5H9.1925C9.5925 6.5 9.9425 6.65 10.2425 6.95C10.5425 7.25 10.6925 7.6 10.6925 8V8.6925C10.6925 9.03733 10.605 9.32675 10.43 9.56075C10.255 9.79458 10.0168 9.97817 9.7155 10.1115L10.6155 12H9.404L8.504 10.1925H7.1925V12H6ZM9.1925 9H7.1925V7.6925H9.1925C9.26933 7.6925 9.33983 7.7245 9.404 7.7885C9.468 7.85267 9.5 7.92317 9.5 8V8.6925C9.5 8.76933 9.468 8.83983 9.404 8.904C9.33983 8.968 9.26933 9 9.1925 9Z",fill:"currentColor"}),F.createElement("path",{d:"M12.5 7H17.5V8.25H12.5V7Z",fill:"currentColor"}),F.createElement("path",{d:"M12.5 9.25H17.5V10.5H12.5V9.25Z",fill:"currentColor"})),difference:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.30775 20.5C4.80258 20.5 4.375 20.325 4.025 19.975C3.675 19.625 3.5 19.1974 3.5 18.6923V5.30775C3.5 4.80258 3.675 4.375 4.025 4.025C4.375 3.675 4.80258 3.5 5.30775 3.5H18.6923C19.1974 3.5 19.625 3.675 19.975 4.025C20.325 4.375 20.5 4.80258 20.5 5.30775V18.6923C20.5 19.1974 20.325 19.625 19.975 19.975C19.625 20.325 19.1974 20.5 18.6923 20.5H5.30775ZM18.6923 19H5.30775C5.23075 19 5.16025 18.9679 5.09625 18.9038C5.03208 18.8398 5 18.7692 5 18.6923V5.30775C5 5.23075 5.03208 5.16025 5.09625 5.09625C5.16025 5.03208 5.23075 5 5.30775 5H18.6923C18.7692 5 18.8398 5.03208 18.9038 5.09625C18.9679 5.16025 19 5.23075 19 5.30775V18.6923C19 18.7692 18.9679 18.8398 18.9038 18.9038C18.8398 18.9679 18.7692 19 18.6923 19Z",fill:"currentColor"}),F.createElement("rect",{x:"9",y:"10",width:"5.5",height:"1.5",fill:"currentColor"}),F.createElement("rect",{x:"9",y:"15",width:"5.5",height:"1.5",fill:"currentColor"}),F.createElement("rect",{x:"11",y:"8",width:"1.5",height:"5.5",fill:"currentColor"})),markdown:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.30775 20.5C4.80258 20.5 4.375 20.325 4.025 19.975C3.675 19.625 3.5 19.1974 3.5 18.6923V5.30775C3.5 4.80258 3.675 4.375 4.025 4.025C4.375 3.675 4.80258 3.5 5.30775 3.5H18.6923C19.1974 3.5 19.625 3.675 19.975 4.025C20.325 4.375 20.5 4.80258 20.5 5.30775V18.6923C20.5 19.1974 20.325 19.625 19.975 19.975C19.625 20.325 19.1974 20.5 18.6923 20.5H5.30775ZM18.6923 19H5.30775C5.23075 19 5.16025 18.9679 5.09625 18.9038C5.03208 18.8398 5 18.7692 5 18.6923V5.30775C5 5.23075 5.03208 5.16025 5.09625 5.09625C5.16025 5.03208 5.23075 5 5.30775 5H18.6923C18.7692 5 18.8398 5.03208 18.9038 5.09625C18.9679 5.16025 19 5.23075 19 5.30775V18.6923C19 18.7692 18.9679 18.8398 18.9038 18.9038C18.8398 18.9679 18.7692 19 18.6923 19Z",fill:"currentColor"}),F.createElement("path",{d:"M13 15H11.5V11L9.5 14L7.5 11V15H6V8H7.5L9.5 11L11.5 8H13V15Z",fill:"currentColor"}),F.createElement("path",{d:"M15.9921 15.5833L13.2886 12.8797L14.0546 12.1137L15.4504 13.5016V7.99597L16.5336 7.99993V13.5016L17.9296 12.1137L18.6954 12.8797L15.9921 15.5833Z",fill:"currentColor"})),open_in_new:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M5.30775 20.5C4.80258 20.5 4.375 20.325 4.025 19.975C3.675 19.625 3.5 19.1974 3.5 18.6923V5.30775C3.5 4.80258 3.675 4.375 4.025 4.025C4.375 3.675 4.80258 3.5 5.30775 3.5H11.6152V5H5.30775C5.23075 5 5.16025 5.03208 5.09625 5.09625C5.03208 5.16025 5 5.23075 5 5.30775V18.6923C5 18.7692 5.03208 18.8398 5.09625 18.9038C5.16025 18.9679 5.23075 19 5.30775 19H18.6923C18.7692 19 18.8398 18.9679 18.9038 18.9038C18.9679 18.8398 19 18.7692 19 18.6923V12.3848H20.5V18.6923C20.5 19.1974 20.325 19.625 19.975 19.975C19.625 20.325 19.1974 20.5 18.6923 20.5H5.30775ZM9.71925 15.3345L8.6655 14.2808L17.9462 5H14V3.5H20.5V10H19V6.05375L9.71925 15.3345Z",fill:"currentColor"})),link_off:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M18.8843 16.1038L17.7498 14.9385C18.4228 14.7552 18.9661 14.3946 19.3796 13.8568C19.7931 13.319 19.9998 12.7 19.9998 12C19.9998 11.1604 19.705 10.444 19.1153 9.85105C18.5255 9.25805 17.8139 8.96155 16.9806 8.96155H13.1728V7.46155H16.9806C18.2293 7.46155 19.2947 7.90422 20.1768 8.78955C21.0588 9.67472 21.4998 10.7449 21.4998 12C21.4998 12.8859 21.262 13.6951 20.7863 14.4278C20.3107 15.1606 19.6767 15.7193 18.8843 16.1038ZM15.5806 12.75L14.0806 11.25H15.7306V12.75H15.5806ZM20.1461 22.2538L1.74609 3.8538L2.79984 2.80005L21.1998 21.2L20.1461 22.2538ZM10.8268 16.5386H7.03834C5.78318 16.5386 4.71301 16.0959 3.82784 15.2105C2.94251 14.3254 2.49984 13.2552 2.49984 12C2.49984 10.8885 2.85784 9.91322 3.57384 9.07405C4.28984 8.23505 5.18826 7.72838 6.26909 7.55405H6.49984L7.90759 8.96155H7.03834C6.19851 8.96155 5.48218 9.25805 4.88934 9.85105C4.29634 10.444 3.99984 11.1604 3.99984 12C3.99984 12.8397 4.29634 13.556 4.88934 14.149C5.48218 14.742 6.19851 15.0385 7.03834 15.0385H10.8268V16.5386ZM8.26909 12.75V11.25H10.2113L11.6863 12.75H8.26909Z",fill:"currentColor"})),edit:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M5 19H6.2615L16.498 8.7635L15.2365 7.502L5 17.7385V19ZM3.5 20.5V17.1155L16.6905 3.93075C16.8417 3.79342 17.0086 3.68733 17.1913 3.6125C17.3741 3.5375 17.5658 3.5 17.7663 3.5C17.9668 3.5 18.1609 3.53558 18.3488 3.60675C18.5367 3.67792 18.7032 3.79108 18.848 3.94625L20.0693 5.18275C20.2244 5.32758 20.335 5.49425 20.401 5.68275C20.467 5.87125 20.5 6.05975 20.5 6.24825C20.5 6.44942 20.4657 6.64133 20.397 6.824C20.3283 7.00683 20.2191 7.17383 20.0693 7.325L6.8845 20.5H3.5ZM15.8562 8.14375L15.2365 7.502L16.498 8.7635L15.8562 8.14375Z",fill:"currentColor"})),content_copy:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M9.05775 17.5C8.55258 17.5 8.125 17.325 7.775 16.975C7.425 16.625 7.25 16.1974 7.25 15.6923V4.30775C7.25 3.80258 7.425 3.375 7.775 3.025C8.125 2.675 8.55258 2.5 9.05775 2.5H17.4423C17.9474 2.5 18.375 2.675 18.725 3.025C19.075 3.375 19.25 3.80258 19.25 4.30775V15.6923C19.25 16.1974 19.075 16.625 18.725 16.975C18.375 17.325 17.9474 17.5 17.4423 17.5H9.05775ZM9.05775 16H17.4423C17.5192 16 17.5898 15.9679 17.6538 15.9038C17.7179 15.8398 17.75 15.7692 17.75 15.6923V4.30775C17.75 4.23075 17.7179 4.16025 17.6538 4.09625C17.5898 4.03208 17.5192 4 17.4423 4H9.05775C8.98075 4 8.91025 4.03208 8.84625 4.09625C8.78208 4.16025 8.75 4.23075 8.75 4.30775V15.6923C8.75 15.7692 8.78208 15.8398 8.84625 15.9038C8.91025 15.9679 8.98075 16 9.05775 16ZM5.55775 21C5.05258 21 4.625 20.825 4.275 20.475C3.925 20.125 3.75 19.6974 3.75 19.1923V6.30775H5.25V19.1923C5.25 19.2693 5.28208 19.3398 5.34625 19.4038C5.41025 19.4679 5.48075 19.5 5.55775 19.5H15.4423V21H5.55775Z",fill:"currentColor"})),more_horiz:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M6.23096 13.5C5.81846 13.5 5.46537 13.3531 5.17171 13.0592C4.87787 12.7656 4.73096 12.4125 4.73096 12C4.73096 11.5875 4.87787 11.2344 5.17171 10.9408C5.46537 10.6469 5.81846 10.5 6.23096 10.5C6.64346 10.5 6.99662 10.6469 7.29046 10.9408C7.58412 11.2344 7.73096 11.5875 7.73096 12C7.73096 12.4125 7.58412 12.7656 7.29046 13.0592C6.99662 13.3531 6.64346 13.5 6.23096 13.5ZM12.0002 13.5C11.5877 13.5 11.2346 13.3531 10.941 13.0592C10.6471 12.7656 10.5002 12.4125 10.5002 12C10.5002 11.5875 10.6471 11.2344 10.941 10.9408C11.2346 10.6469 11.5877 10.5 12.0002 10.5C12.4127 10.5 12.7658 10.6469 13.0595 10.9408C13.3533 11.2344 13.5002 11.5875 13.5002 12C13.5002 12.4125 13.3533 12.7656 13.0595 13.0592C12.7658 13.3531 12.4127 13.5 12.0002 13.5ZM17.7695 13.5C17.357 13.5 17.0038 13.3531 16.71 13.0592C16.4163 12.7656 16.2695 12.4125 16.2695 12C16.2695 11.5875 16.4163 11.2344 16.71 10.9408C17.0038 10.6469 17.357 10.5 17.7695 10.5C18.182 10.5 18.535 10.6469 18.8287 10.9408C19.1225 11.2344 19.2695 11.5875 19.2695 12C19.2695 12.4125 19.1225 12.7656 18.8287 13.0592C18.535 13.3531 18.182 13.5 17.7695 13.5Z",fill:"currentColor"})),more_vert:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M12 19.2692C11.5875 19.2692 11.2344 19.1223 10.9408 18.8285C10.6469 18.5348 10.5 18.1817 10.5 17.7692C10.5 17.3567 10.6469 17.0035 10.9408 16.7097C11.2344 16.416 11.5875 16.2692 12 16.2692C12.4125 16.2692 12.7656 16.416 13.0592 16.7097C13.3531 17.0035 13.5 17.3567 13.5 17.7692C13.5 18.1817 13.3531 18.5348 13.0592 18.8285C12.7656 19.1223 12.4125 19.2692 12 19.2692ZM12 13.5C11.5875 13.5 11.2344 13.353 10.9408 13.0592C10.6469 12.7655 10.5 12.4125 10.5 12C10.5 11.5875 10.6469 11.2344 10.9408 10.9407C11.2344 10.6469 11.5875 10.5 12 10.5C12.4125 10.5 12.7656 10.6469 13.0592 10.9407C13.3531 11.2344 13.5 11.5875 13.5 12C13.5 12.4125 13.3531 12.7655 13.0592 13.0592C12.7656 13.353 12.4125 13.5 12 13.5ZM12 7.73071C11.5875 7.73071 11.2344 7.58388 10.9408 7.29021C10.6469 6.99638 10.5 6.64321 10.5 6.23071C10.5 5.81821 10.6469 5.46513 10.9408 5.17146C11.2344 4.87763 11.5875 4.73071 12 4.73071C12.4125 4.73071 12.7656 4.87763 13.0592 5.17146C13.3531 5.46513 13.5 5.81821 13.5 6.23071C13.5 6.64321 13.3531 6.99638 13.0592 7.29021C12.7656 7.58388 12.4125 7.73071 12 7.73071Z",fill:"currentColor"})),close:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M6.39994 18.6538L5.34619 17.6L10.9462 12L5.34619 6.4L6.39994 5.34625L11.9999 10.9463L17.5999 5.34625L18.6537 6.4L13.0537 12L18.6537 17.6L17.5999 18.6538L11.9999 13.0538L6.39994 18.6538Z",fill:"currentColor"})),settings:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M9.69225 21.5L9.3115 18.4538C9.04367 18.3641 8.769 18.2385 8.4875 18.077C8.20617 17.9153 7.95459 17.7422 7.73275 17.5577L4.9115 18.75L2.604 14.75L5.04425 12.9058C5.02125 12.7571 5.00492 12.6077 4.99525 12.4578C4.98559 12.3078 4.98075 12.1583 4.98075 12.0095C4.98075 11.8673 4.98559 11.7228 4.99525 11.576C5.00492 11.4292 5.02125 11.2686 5.04425 11.0943L2.604 9.25L4.9115 5.26925L7.723 6.452C7.96417 6.261 8.22159 6.08633 8.49525 5.928C8.76892 5.76967 9.03784 5.64242 9.302 5.54625L9.69225 2.5H14.3078L14.6885 5.55575C14.9885 5.66475 15.2599 5.792 15.5028 5.9375C15.7458 6.083 15.991 6.2545 16.2385 6.452L19.0885 5.26925L21.396 9.25L18.9173 11.123C18.9531 11.2845 18.9727 11.4355 18.976 11.576C18.9792 11.7163 18.9808 11.8577 18.9808 12C18.9808 12.1358 18.9775 12.274 18.971 12.4145C18.9647 12.5548 18.9417 12.7154 18.902 12.8963L21.3615 14.75L19.0538 18.75L16.2385 17.548C15.991 17.7455 15.7384 17.9202 15.4808 18.072C15.2231 18.224 14.959 18.3481 14.6885 18.4443L14.3078 21.5H9.69225ZM11 20H12.9655L13.325 17.3212C13.8353 17.1879 14.3017 16.9985 14.724 16.753C15.1465 16.5073 15.5539 16.1916 15.9463 15.8057L18.4308 16.85L19.4155 15.15L17.2463 13.5155C17.3296 13.2565 17.3863 13.0026 17.4163 12.7537C17.4464 12.5051 17.4615 12.2538 17.4615 12C17.4615 11.7397 17.4464 11.4884 17.4163 11.2463C17.3863 11.0039 17.3296 10.7564 17.2463 10.5038L19.4345 8.85L18.45 7.15L15.9365 8.2095C15.6018 7.85183 15.2009 7.53583 14.7338 7.2615C14.2664 6.98717 13.7937 6.79292 13.3155 6.67875L13 4H11.0155L10.6845 6.66925C10.1743 6.78975 9.70325 6.97433 9.27125 7.223C8.83909 7.47183 8.42684 7.79233 8.0345 8.1845L5.55 7.15L4.5655 8.85L6.725 10.4595C6.64167 10.6968 6.58334 10.9437 6.55 11.2C6.51667 11.4563 6.5 11.7262 6.5 12.0095C6.5 12.2698 6.51667 12.525 6.55 12.775C6.58334 13.025 6.6385 13.2718 6.7155 13.5155L4.5655 15.15L5.55 16.85L8.025 15.8C8.4045 16.1897 8.81025 16.5089 9.24225 16.7578C9.67442 17.0064 10.152 17.1974 10.675 17.3307L11 20ZM12.0115 15C12.8435 15 13.5515 14.708 14.1355 14.124C14.7195 13.54 15.0115 12.832 15.0115 12C15.0115 11.168 14.7195 10.46 14.1355 9.876C13.5515 9.292 12.8435 9 12.0115 9C11.1692 9 10.4586 9.292 9.87975 9.876C9.30092 10.46 9.0115 11.168 9.0115 12C9.0115 12.832 9.30092 13.54 9.87975 14.124C10.4586 14.708 11.1692 15 12.0115 15Z",fill:"currentColor"})),delete_big:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M7.30775 20.5C6.80908 20.5 6.38308 20.3234 6.02975 19.9702C5.67658 19.6169 5.5 19.1909 5.5 18.6922V5.99998H4.5V4.49998H9V3.61548H15V4.49998H19.5V5.99998H18.5V18.6922C18.5 19.1974 18.325 19.625 17.975 19.975C17.625 20.325 17.1974 20.5 16.6923 20.5H7.30775ZM17 5.99998H7V18.6922C7 18.7821 7.02883 18.8558 7.0865 18.9135C7.14417 18.9711 7.21792 19 7.30775 19H16.6923C16.7692 19 16.8398 18.9679 16.9038 18.9037C16.9679 18.8397 17 18.7692 17 18.6922V5.99998ZM9.404 17H10.9037V7.99998H9.404V17ZM13.0962 17H14.596V7.99998H13.0962V17Z",fill:"currentColor"})),delete_small:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M7.30775 20.5C6.80908 20.5 6.38308 20.3234 6.02975 19.9702C5.67658 19.6169 5.5 19.1909 5.5 18.6922V5.99998H4.5V4.49998H9V3.61548H15V4.49998H19.5V5.99998H18.5V18.6922C18.5 19.1974 18.325 19.625 17.975 19.975C17.625 20.325 17.1974 20.5 16.6923 20.5H7.30775ZM17 5.99998H7V18.6922C7 18.7821 7.02883 18.8558 7.0865 18.9135C7.14417 18.9711 7.21792 19 7.30775 19H16.6923C16.7692 19 16.8398 18.9679 16.9038 18.9037C16.9679 18.8397 17 18.7692 17 18.6922V5.99998ZM9.404 17H10.9037V7.99998H9.404V17ZM13.0962 17H14.596V7.99998H13.0962V17Z",fill:"currentColor"})),format_align_center:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M3.5 20.5V19H20.5V20.5H3.5ZM7.5 16.625V15.125H16.5V16.625H7.5ZM3.5 12.75V11.25H20.5V12.75H3.5ZM7.5 8.875V7.375H16.5V8.875H7.5ZM3.5 5V3.5H20.5V5H3.5Z",fill:"currentColor"})),format_align_left:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M3.5 20.5V19H20.5V20.5H3.5ZM3.5 16.625V15.125H14.5V16.625H3.5ZM3.5 12.75V11.25H20.5V12.75H3.5ZM3.5 8.875V7.375H14.5V8.875H3.5ZM3.5 5V3.5H20.5V5H3.5Z",fill:"currentColor"})),format_align_right:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M3.5 5V3.5H20.5V5H3.5ZM9.5 8.875V7.375H20.5V8.875H9.5ZM3.5 12.75V11.25H20.5V12.75H3.5ZM9.5 16.625V15.125H20.5V16.625H9.5ZM3.5 20.5V19H20.5V20.5H3.5Z",fill:"currentColor"})),add_row:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.025 10.2077C4.375 9.85775 4.80258 9.68275 5.30775 9.68275H6.5V11.1827H5.30775C5.21792 11.1827 5.14417 11.2116 5.0865 11.2693C5.02883 11.3269 5 11.4007 5 11.4905V16.1923C5 16.2821 5.02883 16.3558 5.0865 16.4135C5.14417 16.4712 5.21792 16.5 5.30775 16.5H18.6923C18.7821 16.5 18.8558 16.4712 18.9135 16.4135C18.9712 16.3558 19 16.2821 19 16.1923V11.4905C19 11.4007 18.9712 11.3269 18.9135 11.2693C18.8558 11.2116 18.7821 11.1827 18.6923 11.1827H17.6923V9.68275H18.6923C19.1974 9.68275 19.625 9.85775 19.975 10.2077C20.325 10.5577 20.5 10.9853 20.5 11.4905V16.1923C20.5 16.6974 20.325 17.125 19.975 17.475C19.625 17.825 19.1974 18 18.6923 18H5.30775C4.80258 18 4.375 17.825 4.025 17.475C3.675 17.125 3.5 16.6974 3.5 16.1923V11.4905C3.5 10.9853 3.675 10.5577 4.025 10.2077Z",fill:"currentColor"}),F.createElement("path",{d:"M11.3848 9.68275V7.5H12.8848V9.68275H15V11.1827H12.8848V13.2307H11.3848V11.1827H9.26925V9.68275H11.3848Z",fill:"currentColor"})),add_column:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.70775 4.025C9.35775 4.375 9.18275 4.80258 9.18275 5.30775V6.5H10.6827V5.30775C10.6827 5.21792 10.7116 5.14417 10.7693 5.0865C10.8269 5.02883 10.9007 5 10.9905 5H15.6923C15.7821 5 15.8558 5.02883 15.9135 5.0865C15.9712 5.14417 16 5.21792 16 5.30775V18.6923C16 18.7821 15.9712 18.8558 15.9135 18.9135C15.8558 18.9712 15.7821 19 15.6923 19H10.9905C10.9007 19 10.8269 18.9712 10.7693 18.9135C10.7116 18.8558 10.6827 18.7821 10.6827 18.6923V17.6923H9.18275V18.6923C9.18275 19.1974 9.35775 19.625 9.70775 19.975C10.0577 20.325 10.4853 20.5 10.9905 20.5H15.6923C16.1974 20.5 16.625 20.325 16.975 19.975C17.325 19.625 17.5 19.1974 17.5 18.6923V5.30775C17.5 4.80258 17.325 4.375 16.975 4.025C16.625 3.675 16.1974 3.5 15.6923 3.5H10.9905C10.4853 3.5 10.0577 3.675 9.70775 4.025Z",fill:"currentColor"}),F.createElement("path",{d:"M9.18275 11.3848H7V12.8848H9.18275V15H10.6827V12.8848H12.7307V11.3848H10.6827V9.26925H9.18275V11.3848Z",fill:"currentColor"})),insert_col_left:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M13.0001 20.1152H8.67713H8.75388H8.69238H13.0001ZM7.19238 19.8075C7.19238 20.3127 7.36738 20.7402 7.71738 21.0902C8.06738 21.4402 8.49497 21.6152 9.00013 21.6152H12.6924C13.1975 21.6152 13.6251 21.4402 13.9751 21.0902C14.3251 20.7402 14.5001 20.3127 14.5001 19.8075V10.423H13.0001V19.8075C13.0001 19.8973 12.9713 19.9711 12.9136 20.0287C12.856 20.0864 12.7822 20.1152 12.6924 20.1152H9.00013C8.9103 20.1152 8.83655 20.0864 8.77888 20.0287C8.72122 19.9711 8.69238 19.8973 8.69238 19.8075V4.69223C8.26422 4.74357 7.90722 4.93299 7.62138 5.26048C7.33538 5.58798 7.19238 5.97548 7.19238 6.42298V19.8075ZM13.0001 2.49998V4.61523H10.8846V6.11523H13.0001V8.23073H14.5001V6.11523H16.6154V4.61523H14.5001V2.49998H13.0001Z",fill:"currentColor"})),insert_row_above:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M20.1152 9.99987V14.3229V14.2461V14.3076V9.99987ZM19.8075 15.8076C20.3127 15.8076 20.7402 15.6326 21.0902 15.2826C21.4402 14.9326 21.6152 14.505 21.6152 13.9999V10.3076C21.6152 9.80245 21.4402 9.37487 21.0902 9.02487C20.7402 8.67487 20.3127 8.49987 19.8075 8.49987H10.423V9.99987H19.8075C19.8973 9.99987 19.9711 10.0287 20.0287 10.0864C20.0864 10.144 20.1152 10.2178 20.1152 10.3076V13.9999C20.1152 14.0897 20.0864 14.1635 20.0287 14.2211C19.9711 14.2788 19.8973 14.3076 19.8075 14.3076H4.69223C4.74357 14.7358 4.93299 15.0928 5.26048 15.3786C5.58798 15.6646 5.97548 15.8076 6.42298 15.8076H19.8075ZM2.49998 9.99987H4.61523V12.1154H6.11523V9.99987H8.23073V8.49987H6.11523V6.38462H4.61523V8.49987H2.49998V9.99987Z",fill:"currentColor"})),insert_row_below:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M20.1152 14.1924V9.86939V9.94614V9.88464V14.1924ZM19.8075 8.38464C20.3127 8.38464 20.7402 8.55964 21.0902 8.90964C21.4402 9.25964 21.6152 9.68723 21.6152 10.1924V13.8846C21.6152 14.3898 21.4402 14.8174 21.0902 15.1674C20.7402 15.5174 20.3127 15.6924 19.8075 15.6924H10.423V14.1924H19.8075C19.8973 14.1924 19.9711 14.1636 20.0287 14.1059C20.0864 14.0482 20.1152 13.9745 20.1152 13.8846V10.1924C20.1152 10.1026 20.0864 10.0288 20.0287 9.97114C19.9711 9.91348 19.8973 9.88464 19.8075 9.88464H4.69223C4.74357 9.45648 4.93299 9.09948 5.26048 8.81364C5.58798 8.52764 5.97548 8.38464 6.42298 8.38464H19.8075ZM2.49998 14.1924H4.61523V12.0769H6.11523V14.1924H8.23073V15.6924H6.11523V17.8076H4.61523V15.6924H2.49998V14.1924Z",fill:"currentColor"})),insert_col_right:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M10.8075 20.1152H15.1305H15.0537H15.1152H10.8075ZM16.6152 19.8075C16.6152 20.3127 16.4402 20.7402 16.0902 21.0902C15.7402 21.4402 15.3127 21.6152 14.8075 21.6152H11.1152C10.6101 21.6152 10.1825 21.4402 9.83248 21.0902C9.48248 20.7402 9.30748 20.3127 9.30748 19.8075V10.423H10.8075V19.8075C10.8075 19.8973 10.8363 19.9711 10.894 20.0287C10.9517 20.0864 11.0254 20.1152 11.1152 20.1152H14.8075C14.8973 20.1152 14.9711 20.0864 15.0287 20.0287C15.0864 19.9711 15.1152 19.8973 15.1152 19.8075V4.69223C15.5434 4.74357 15.9004 4.93299 16.1862 5.26048C16.4722 5.58798 16.6152 5.97548 16.6152 6.42298V19.8075ZM10.8075 2.49998V4.61523H12.923V6.11523H10.8075V8.23073H9.30748V6.11523H7.19223V4.61523H9.30748V2.49998H10.8075Z",fill:"currentColor"})),check:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M9.54983 17.6537L4.21533 12.3192L5.28433 11.25L9.54983 15.5155L18.7153 6.34998L19.7843 7.41923L9.54983 17.6537Z",fill:"currentColor"}))},Z_e=({children:t})=>{const e=Qr(Na),n=F.useMemo(()=>[e,lj(null,IA)],[e]);return F.createElement(dv.Provider,{value:n},t)},ewe=()=>{const t=zr(),[e,n,r,i,o]=qi(qE,x$,v$,y$,KE);return F.createElement(F.Fragment,null,r.map((s,a)=>F.createElement(s,{key:a})),F.createElement(I$,{wrappers:i},F.createElement("div",{className:ji(Ke.rootContentEditableWrapper,"mdxeditor-root-contenteditable")},F.createElement(T$,{contentEditable:F.createElement(S$,{className:ji(Ke.contentEditable,e),ariaLabel:t("contentArea.editableMarkdown","editable markdown")}),placeholder:F.createElement("div",{className:ji(Ke.contentEditable,Ke.placeholder,e)},F.createElement("p",null,o)),ErrorBoundary:k$}))),n.map((s,a)=>F.createElement(s,{key:a})))},twe={listItemIndent:"one"},nwe=t=>Y_e[t];function rwe(t,e,n={}){let r=e;for(const[i,o]of Object.entries(n))r=r.replaceAll(`{{${i}}}`,String(o));return r}const I$=({wrappers:t,children:e})=>{if(t.length===0)return F.createElement(F.Fragment,null,e);const n=t[0];return F.createElement(n,null,F.createElement(I$,{wrappers:t.slice(1)},e))},iwe=({children:t,className:e})=>{const n=F.useRef(null),r=Ra(Km);return F.useEffect(()=>{const i=document.createElement("div");return i.classList.add("mdxeditor-popup-container",Ke.editorRoot,Ke.popupContainer,...(e??"").trim().split(" ").filter(Boolean)),document.body.appendChild(i),n.current=i,r(n),()=>{i.remove()}},[e,n,r]),F.createElement("div",{className:ji("mdxeditor",Ke.editorRoot,Ke.editorWrapper,e)},t)},owe=({mdxRef:t})=>{const e=d_();return F.useImperativeHandle(t,()=>({getMarkdown:()=>e.getValue(ZE)==="source"?e.getValue(Nv):e.getValue(Cu),setMarkdown:n=>{e.pub(BA,n)},insertMarkdown:n=>{e.pub(h$,n)},focus:(n,r)=>{var i;(i=e.getValue(Na))==null||i.focus(n,r)}}),[e]),null},swe=F.forwardRef((t,e)=>F.createElement(Nfe,{plugins:[Fve({contentEditableClassName:t.contentEditableClassName??"",initialMarkdown:t.markdown,onChange:t.onChange??eu,onBlur:t.onBlur??eu,toMarkdownOptions:t.toMarkdownOptions??twe,autoFocus:t.autoFocus??!1,placeholder:t.placeholder??"",readOnly:!!t.readOnly,iconComponentFor:t.iconComponentFor??nwe,suppressHtmlProcessing:t.suppressHtmlProcessing??!1,onError:t.onError??eu,translation:t.translation??rwe}),...t.plugins??[]]},F.createElement(iwe,{className:t.className},F.createElement(Z_e,null,F.createElement(ewe,null))),F.createElement(owe,{mdxRef:e}))),awe={testLexicalNode:gz,visitLexicalNode:({lexicalNode:t,actions:e})=>{const n=parseInt(t.getTag()[1],10);e.addAndStepInto("heading",{depth:n})}},lwe={testNode:"heading",visitNode:function({mdastNode:t,actions:e}){e.addAndStepInto(Cl(`h${t.depth}`))}},cwe=[48,49,50,51,52,53,54],R$=[1,2,3,4,5,6],uwe={49:1,50:2,51:3,52:4,53:5,54:6},$A=Ge(R$,t=>{t.pub(g$,e=>e.registerCommand(F5,n=>{const{keyCode:r,ctrlKey:i,metaKey:o,altKey:s}=n;return cwe.includes(r)&&r$(o,i)&&s?(n.preventDefault(),e.update(()=>{if(r===48)t.pub(Mv,()=>Zt());else{const a=t.getValue($A),l=uwe[r];a.includes(l)||t.pub(Mv,()=>Cl(`h${l}`))}}),!0):!1},Kr))}),hwe=Pa({init(t){t.pubIn({[F_]:"headings",[nc]:lwe,[Gu]:Um,[Ju]:awe})},update(t,e){t.pub($A,(e==null?void 0:e.allowedHeadingLevels)??R$)}});function mP(t,e){return t.getEditorState().read(()=>{const n=Wn(e);return n!==null&&n.isSelected()})}function dwe(t){const[e]=Go(),[n,r]=T.useState(()=>mP(e,t));return T.useEffect(()=>{let i=!0;const o=e.registerUpdateListener(()=>{i&&r(mP(e,t))});return()=>{i=!1,o()}},[e,t]),[n,T.useCallback(i=>{e.update(()=>{let o=Se();qr(o)||(o=NE(),$i(o)),qr(o)&&(i?o.add(t):o.delete(t))})},[e,t]),T.useCallback(()=>{e.update(()=>{const i=Se();qr(i)&&i.clear()})},[e])]}const P$=Wu();function fwe({nodeKey:t}){const[e]=Go(),[n,r,i]=dwe(t),o=T.useCallback(s=>{const a=Se();return n&&qr(a)&&(s.preventDefault(),e.update(()=>{a.getNodes().forEach(l=>{M$(l)&&l.remove()})})),!1},[e,n]);return T.useEffect(()=>Ls(e.registerCommand(O5,s=>{const a=e.getElementByKey(t);return s.target===a&&(s.shiftKey||i(),r(!n),!0)},Kr),e.registerCommand(H5,o,Kr),e.registerCommand(z5,o,Kr)),[i,e,n,t,o,r]),T.useEffect(()=>{const s=e.getElementByKey(t),a="selected";s!==null&&(n?rf(s,a):CA(s,a))},[e,n,t]),null}let HA=class D$ extends zm{static getType(){return"horizontalrule"}static clone(e){return new D$(e.__key)}static importJSON(e){return B_()}static importDOM(){return{hr:()=>({conversion:pwe,priority:0})}}exportJSON(){return{type:"horizontalrule",version:1}}exportDOM(){return{element:document.createElement("hr")}}createDOM(e){const n=document.createElement("hr");return rf(n,e.theme.hr),n}getTextContent(){return`
`}isInline(){return!1}updateDOM(){return!1}decorate(){return P.jsx(fwe,{nodeKey:this.__key})}};function pwe(){return{node:B_()}}function B_(){return Os(new HA)}function M$(t){return t instanceof HA}function mwe(){const[t]=Go();return T.useEffect(()=>t.registerCommand(P$,e=>{const n=Se();if(!me(n))return!1;if(n.focus.getNode()!==null){const r=B_();lz(r)}return!0},pt),[t]),null}const gwe={testLexicalNode:M$,visitLexicalNode({actions:t}){t.addAndStepInto("thematicBreak")}},xwe={testNode:"thematicBreak",visitNode({actions:t}){t.addAndStepInto(B_())}},N$=Dfe(t=>{t.sub(t.pipe(N$,wi(ai)),([,e])=>{e==null||e.dispatchCommand(P$,void 0)})}),vwe=Pa({init(t){t.pubIn({[nc]:xwe,[Gu]:HA,[Ju]:gwe,[jA]:mwe})}});function ywe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var cs=ywe(function(t){const e=new URLSearchParams;e.append("code",t);for(let n=1;n<arguments.length;n++)e.append("v",arguments[n]);throw Error(`Minified Lexical error #${t}; visit https://lexical.dev/docs/error?${e} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});function nS(t){let e=1,n=t.getParent();for(;n!=null;){if(At(n)){const r=n.getParent();if(it(r)){e++,n=r.getParent();continue}cs(40)}return e}return e}function rS(t){let e=t.getParent();it(e)||cs(40);let n=e;for(;n!==null;)n=n.getParent(),it(n)&&(e=n);return e}function O$(t){let e=[];const n=t.getChildren().filter(At);for(let r=0;r<n.length;r++){const i=n[r],o=i.getFirstChild();it(o)?e=e.concat(O$(o)):e.push(i)}return e}function us(t){return At(t)&&it(t.getFirstChild())}function gP(t){return ti().append(t)}function L$(t,e){return At(t)&&(e.length===0||e.length===1&&t.is(e[0])&&t.getChildrenSize()===0)}function iS(t,e){t.update(()=>{const n=Se();if(n!==null){const r=n.getNodes();if(me(n)){const o=n.getStartEndPoints();o===null&&cs(143);const[s]=o,a=s.getNode(),l=a.getParent();if(L$(a,r)){const c=Yr(e);if(jr(l)){a.replace(c);const u=ti();oe(a)&&(u.setFormat(a.getFormatType()),u.setIndent(a.getIndent())),c.append(u)}else if(At(a)){const u=a.getParentOrThrow();bu(c,u.getChildren()),u.replace(c)}return}}const i=new Set;for(let o=0;o<r.length;o++){const s=r[o];if(!oe(s)||!s.isEmpty()||At(s)||i.has(s.getKey())){if(Cj(s)){let a=s.getParent();for(;a!=null;){const l=a.getKey();if(it(a)){if(!i.has(l)){const c=Yr(e);bu(c,a.getChildren()),a.replace(c),i.add(l)}break}{const c=a.getParent();if(jr(c)&&!i.has(l)){i.add(l),xP(a,e);break}a=c}}}}else xP(s,e)}}})}function bu(t,e){t.splice(t.getChildrenSize(),0,e)}function xP(t,e){if(it(t))return t;const n=t.getPreviousSibling(),r=t.getNextSibling(),i=ti();if(i.setFormat(t.getFormatType()),i.setIndent(t.getIndent()),bu(i,t.getChildren()),it(n)&&e===n.getListType())return n.append(i),t.remove(),it(r)&&e===r.getListType()&&(bu(n,r.getChildren()),r.remove()),n;if(it(r)&&e===r.getListType())return r.getFirstChildOrThrow().insertBefore(i),t.remove(),r;{const o=Yr(e);return o.append(i),t.replace(o),o}}function UA(t,e){const n=t.getLastChild(),r=e.getFirstChild();n&&r&&us(n)&&us(r)&&(UA(n.getFirstChild(),r.getFirstChild()),r.remove());const i=e.getChildren();i.length>0&&t.append(...i),e.remove()}function _we(t){t.update(()=>{const e=Se();if(me(e)){const n=new Set,r=e.getNodes(),i=e.anchor.getNode();if(L$(i,r))n.add(rS(i));else for(let o=0;o<r.length;o++){const s=r[o];if(Cj(s)){const a=sz(s,Qu);a!=null&&n.add(rS(a))}}for(const o of n){let s=o;const a=O$(o);for(const l of a){const c=Zt();bu(c,l.getChildren()),s.insertAfter(c),s=c,l.__key===e.anchor.key&&e.anchor.set(c.getKey(),0,"element"),l.__key===e.focus.key&&e.focus.set(c.getKey(),0,"element"),l.remove()}o.remove()}}})}function wwe(t){const e=new Set;if(us(t)||e.has(t.getKey()))return;const n=t.getParent(),r=t.getNextSibling(),i=t.getPreviousSibling();if(us(r)&&us(i)){const o=i.getFirstChild();if(it(o)){o.append(t);const s=r.getFirstChild();it(s)&&(bu(o,s.getChildren()),r.remove(),e.add(r.getKey()))}}else if(us(r)){const o=r.getFirstChild();if(it(o)){const s=o.getFirstChild();s!==null&&s.insertBefore(t)}}else if(us(i)){const o=i.getFirstChild();it(o)&&o.append(t)}else if(it(n)){const o=ti(),s=Yr(n.getListType());o.append(s),s.append(t),i?i.insertAfter(o):r?r.insertBefore(o):n.append(o)}}function Cwe(t){if(us(t))return;const e=t.getParent(),n=e?e.getParent():void 0;if(it(n?n.getParent():void 0)&&At(n)&&it(e)){const r=e?e.getFirstChild():void 0,i=e?e.getLastChild():void 0;if(t.is(r))n.insertBefore(t),e.isEmpty()&&n.remove();else if(t.is(i))n.insertAfter(t),e.isEmpty()&&n.remove();else{const o=e.getListType(),s=ti(),a=Yr(o);s.append(a),t.getPreviousSiblings().forEach(u=>a.append(u));const l=ti(),c=Yr(o);l.append(c),bu(c,t.getNextSiblings()),n.insertBefore(s),n.insertAfter(l),n.replace(t)}}}function bwe(){const t=Se();if(!me(t)||!t.isCollapsed())return!1;const e=t.anchor.getNode();if(!At(e)||e.getChildrenSize()!==0)return!1;const n=rS(e),r=e.getParent();it(r)||cs(40);const i=r.getParent();let o;if(jr(i))o=Zt(),n.insertAfter(o);else{if(!At(i))return!1;o=ti(),i.insertAfter(o)}o.select();const s=e.getNextSiblings();if(s.length>0){const a=Yr(r.getListType());if(Pd(o))o.insertAfter(a);else{const l=ti();l.append(a),o.insertAfter(l)}s.forEach(l=>{l.remove(),a.append(l)})}return function(a){let l=a;for(;l.getNextSibling()==null&&l.getPreviousSibling()==null;){const c=l.getParent();if(c==null||!At(l)&&!it(l))break;l=c}l.remove()}(e),!0}function Ov(...t){const e=[];for(const n of t)if(n&&typeof n=="string")for(const[r]of n.matchAll(/\S+/g))e.push(r);return e}class Qu extends Ma{static getType(){return"listitem"}static clone(e){return new Qu(e.__value,e.__checked,e.__key)}constructor(e,n,r){super(r),this.__value=e===void 0?1:e,this.__checked=n}createDOM(e){const n=document.createElement("li"),r=this.getParent();return it(r)&&r.getListType()==="check"&&yP(n,this,null),n.value=this.__value,vP(n,e.theme,this),n}updateDOM(e,n,r){const i=this.getParent();return it(i)&&i.getListType()==="check"&&yP(n,this,e),n.value=this.__value,vP(n,r.theme,this),!1}static transform(){return e=>{if(At(e)||cs(144),e.__checked==null)return;const n=e.getParent();it(n)&&n.getListType()!=="check"&&e.getChecked()!=null&&e.setChecked(void 0)}}static importDOM(){return{li:()=>({conversion:Ewe,priority:0})}}static importJSON(e){const n=ti();return n.setChecked(e.checked),n.setValue(e.value),n.setFormat(e.format),n.setDirection(e.direction),n}exportDOM(e){const n=this.createDOM(e._config);return n.style.textAlign=this.getFormatType(),{element:n}}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),type:"listitem",value:this.getValue(),version:1}}append(...e){for(let n=0;n<e.length;n++){const r=e[n];if(oe(r)&&this.canMergeWith(r)){const i=r.getChildren();this.append(...i),r.remove()}else super.append(r)}return this}replace(e,n){if(At(e))return super.replace(e);this.setIndent(0);const r=this.getParentOrThrow();if(!it(r))return e;if(r.__first===this.getKey())r.insertBefore(e);else if(r.__last===this.getKey())r.insertAfter(e);else{const i=Yr(r.getListType());let o=this.getNextSibling();for(;o;){const s=o;o=o.getNextSibling(),i.append(s)}r.insertAfter(e),e.insertAfter(i)}return n&&(oe(e)||cs(139),this.getChildren().forEach(i=>{e.append(i)})),this.remove(),r.getChildrenSize()===0&&r.remove(),e}insertAfter(e,n=!0){const r=this.getParentOrThrow();if(it(r)||cs(39),At(e))return super.insertAfter(e,n);const i=this.getNextSiblings();if(r.insertAfter(e,n),i.length!==0){const o=Yr(r.getListType());i.forEach(s=>o.append(s)),e.insertAfter(o,n)}return e}remove(e){const n=this.getPreviousSibling(),r=this.getNextSibling();super.remove(e),n&&r&&us(n)&&us(r)&&(UA(n.getFirstChild(),r.getFirstChild()),r.remove())}insertNewAfter(e,n=!0){const r=ti(this.__checked==null&&void 0);return this.insertAfter(r,n),r}collapseAtStart(e){const n=Zt();this.getChildren().forEach(s=>n.append(s));const r=this.getParentOrThrow(),i=r.getParentOrThrow(),o=At(i);if(r.getChildrenSize()===1)if(o)r.remove(),i.select();else{r.insertBefore(n),r.remove();const s=e.anchor,a=e.focus,l=n.getKey();s.type==="element"&&s.getNode().is(this)&&s.set(l,s.offset,"element"),a.type==="element"&&a.getNode().is(this)&&a.set(l,a.offset,"element")}else r.insertBefore(n),this.remove();return!0}getValue(){return this.getLatest().__value}setValue(e){this.getWritable().__value=e}getChecked(){const e=this.getLatest();let n;const r=this.getParent();return it(r)&&(n=r.getListType()),n==="check"?!!e.__checked:void 0}setChecked(e){this.getWritable().__checked=e}toggleChecked(){this.setChecked(!this.__checked)}getIndent(){const e=this.getParent();if(e===null)return this.getLatest().__indent;let n=e.getParentOrThrow(),r=0;for(;At(n);)n=n.getParentOrThrow().getParentOrThrow(),r++;return r}setIndent(e){typeof e!="number"&&cs(117),(e=Math.floor(e))>=0||cs(199);let n=this.getIndent();for(;n!==e;)n<e?(wwe(this),n++):(Cwe(this),n--);return this}canInsertAfter(e){return At(e)}canReplaceWith(e){return At(e)}canMergeWith(e){return Pd(e)||At(e)}extractWithChild(e,n){if(!me(n))return!1;const r=n.anchor.getNode(),i=n.focus.getNode();return this.isParentOf(r)&&this.isParentOf(i)&&this.getTextContent().length===n.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return Yr("bullet")}canMergeWhenEmpty(){return!0}}function vP(t,e,n){const r=[],i=[],o=e.list,s=o?o.listitem:void 0;let a;if(o&&o.nested&&(a=o.nested.listitem),s!==void 0&&r.push(...Ov(s)),o){const l=n.getParent(),c=it(l)&&l.getListType()==="check",u=n.getChecked();c&&!u||i.push(o.listitemUnchecked),c&&u||i.push(o.listitemChecked),c&&r.push(u?o.listitemChecked:o.listitemUnchecked)}if(a!==void 0){const l=Ov(a);n.getChildren().some(c=>it(c))?r.push(...l):i.push(...l)}i.length>0&&CA(t,...i),r.length>0&&rf(t,...r)}function yP(t,e,n,r){it(e.getFirstChild())?(t.removeAttribute("role"),t.removeAttribute("tabIndex"),t.removeAttribute("aria-checked")):(t.setAttribute("role","checkbox"),t.setAttribute("tabIndex","-1"),n&&e.__checked===n.__checked||t.setAttribute("aria-checked",e.getChecked()?"true":"false"))}function Ewe(t){if(t.classList.contains("task-list-item")){for(const n of t.children)if(n.tagName==="INPUT")return Swe(n)}const e=t.getAttribute("aria-checked");return{node:ti(e==="true"||e!=="false"&&void 0)}}function Swe(t){return t.getAttribute("type")!=="checkbox"?{node:null}:{node:ti(t.hasAttribute("checked"))}}function ti(t){return Os(new Qu(void 0,t))}function At(t){return t instanceof Qu}class Xu extends Ma{static getType(){return"list"}static clone(e){const n=e.__listType||CP[e.__tag];return new Xu(n,e.__start,e.__key)}constructor(e,n,r){super(r);const i=CP[e]||e;this.__listType=i,this.__tag=i==="number"?"ol":"ul",this.__start=n}getTag(){return this.__tag}setListType(e){const n=this.getWritable();n.__listType=e,n.__tag=e==="number"?"ol":"ul"}getListType(){return this.__listType}getStart(){return this.__start}createDOM(e,n){const r=this.__tag,i=document.createElement(r);return this.__start!==1&&i.setAttribute("start",String(this.__start)),i.__lexicalListType=this.__listType,_P(i,e.theme,this),i}updateDOM(e,n,r){return e.__tag!==this.__tag||(_P(n,r.theme,this),!1)}static transform(){return e=>{it(e)||cs(163),function(n){const r=n.getNextSibling();it(r)&&n.getListType()===r.getListType()&&UA(n,r)}(e),function(n){const r=n.getListType()!=="check";let i=n.getStart();for(const o of n.getChildren())At(o)&&(o.getValue()!==i&&o.setValue(i),r&&o.getLatest().__checked!=null&&o.setChecked(void 0),it(o.getFirstChild())||i++)}(e)}}static importDOM(){return{ol:()=>({conversion:wP,priority:0}),ul:()=>({conversion:wP,priority:0})}}static importJSON(e){const n=Yr(e.listType,e.start);return n.setFormat(e.format),n.setIndent(e.indent),n.setDirection(e.direction),n}exportDOM(e){const{element:n}=super.exportDOM(e);return n&&ba(n)&&(this.__start!==1&&n.setAttribute("start",String(this.__start)),this.__listType==="check"&&n.setAttribute("__lexicalListType","check")),{element:n}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag(),type:"list",version:1}}canBeEmpty(){return!1}canIndent(){return!1}append(...e){for(let n=0;n<e.length;n++){const r=e[n];if(At(r))super.append(r);else{const i=ti();if(it(r))i.append(r);else if(oe(r)){const o=jn(r.getTextContent());i.append(o)}else i.append(r);super.append(i)}}return this}extractWithChild(e){return At(e)}}function _P(t,e,n){const r=[],i=[],o=e.list;if(o!==void 0){const s=o[`${n.__tag}Depth`]||[],a=nS(n)-1,l=a%s.length,c=s[l],u=o[n.__tag];let h;const d=o.nested,f=o.checklist;if(d!==void 0&&d.list&&(h=d.list),u!==void 0&&r.push(u),f!==void 0&&n.__listType==="check"&&r.push(f),c!==void 0){r.push(...Ov(c));for(let p=0;p<s.length;p++)p!==l&&i.push(n.__tag+p)}if(h!==void 0){const p=Ov(h);a>1?r.push(...p):i.push(...p)}}i.length>0&&CA(t,...i),r.length>0&&rf(t,...r)}function kwe(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n];if(At(r)){e.push(r);const i=r.getChildren();i.length>1&&i.forEach(o=>{it(o)&&e.push(gP(o))})}else e.push(gP(r))}return e}function wP(t){const e=t.nodeName.toLowerCase();let n=null;return e==="ol"?n=Yr("number",t.start):e==="ul"&&(n=function(r){if(r.getAttribute("__lexicallisttype")==="check"||r.classList.contains("contains-task-list"))return!0;for(const i of r.childNodes)if(ba(i)&&i.hasAttribute("aria-checked"))return!0;return!1}(t)?Yr("check"):Yr("bullet")),{after:kwe,node:n}}const CP={ol:"number",ul:"bullet"};function Yr(t,e=1){return Os(new Xu(t,e))}function it(t){return t instanceof Xu}const F$=Wu(),B$=Wu(),V$=Wu(),j$=Wu(),Twe={testNode:"list",visitNode:function({mdastNode:t,lexicalParent:e,actions:n}){const r=t.children.some(o=>typeof o.checked=="boolean")?"check":t.ordered?"number":"bullet",i=Yr(r);if(At(e)){const o=ti();o.append(i),e.insertAfter(o)}else e.append(i);n.visitChildren(t,i)}},Awe={testNode:"listItem",visitNode({mdastNode:t,actions:e,lexicalParent:n}){const r=n.getListType()==="check"?t.checked??!1:void 0;e.addAndStepInto(ti(r))}},Iwe={testLexicalNode:it,visitLexicalNode:({lexicalNode:t,actions:e})=>{e.addAndStepInto("list",{ordered:t.getListType()==="number",spread:!1})}},Rwe={testLexicalNode:At,visitLexicalNode:({lexicalNode:t,mdastParent:e,actions:n})=>{const r=t.getChildren(),i=r[0];if(r.length===1&&it(i)){const o=e.children.at(-1);n.visitChildren(t,o)}else{const o=t.getParent(),s=n.appendToParent(e,{type:"listItem",checked:o.getListType()==="check"?!!t.getChecked():void 0,spread:!1,children:[{type:"paragraph",children:[]}]});n.visitChildren(t,s.children[0])}}};function Pwe(t){return t.registerCommand(U5,e=>{const n=Se();if(!me(n))return!1;e.preventDefault();const r=function(i){const o=i.getNodes();if(Zpe(o,h=>Sv(h)&&h.canIndent()?h:null).length>0)return!0;const s=i.anchor,a=i.focus,l=a.isBefore(s)?a:s,c=l.getNode(),u=az(c);if(u.canIndent()){const h=u.getKey();let d=Qj();if(d.anchor.set(h,0,"element"),d.focus.set(h,0,"element"),d=oA(d),d.anchor.is(l))return!0}return!1}(n)?e.shiftKey?gE:W5:hj;return t.dispatchCommand(r,void 0)},pt)}function bP(){const[t]=Go();return T.useEffect(()=>Pwe(t)),null}function EP(){const[t]=Go();return T.useEffect(()=>Ls(t.registerCommand(V$,()=>(iS(t,"check"),!0),Kr),t.registerCommand(j5,e=>TP(e,t,!1),Kr),t.registerCommand(V5,e=>TP(e,t,!0),Kr),t.registerCommand($5,e=>{if(oS()!=null){const n=t.getRootElement();return n!=null&&n.focus(),!0}return!1},Kr),t.registerCommand(uj,e=>{const n=oS();return!(n==null||!t.isEditable())&&(t.update(()=>{const r=Rs(n);At(r)&&(e.preventDefault(),r.toggleChecked())}),!0)},Kr),t.registerCommand(B5,e=>t.getEditorState().read(()=>{const n=Se();if(me(n)&&n.isCollapsed()){const{anchor:r}=n,i=r.type==="element";if(i||r.offset===0){const o=r.getNode(),s=of(o,a=>oe(a)&&!a.isInline());if(At(s)){const a=s.getParent();if(it(a)&&a.getListType()==="check"&&(i||s.getFirstDescendant()===o)){const l=t.getElementByKey(s.__key);if(l!=null&&document.activeElement!==l)return l.focus(),e.preventDefault(),!0}}}}return!1}),Kr),t.registerRootListener((e,n)=>{e!==null&&(e.addEventListener("click",SP),e.addEventListener("pointerdown",kP)),n!==null&&(n.removeEventListener("click",SP),n.removeEventListener("pointerdown",kP))}))),null}function z$(t,e){const n=t.target;if(n===null||!ba(n))return;const r=n.firstChild;if(r!=null&&ba(r)&&(r.tagName==="UL"||r.tagName==="OL"))return;const i=n.parentNode;if(!i||i.__lexicalListType!=="check")return;const o=n.getBoundingClientRect(),s=t.pageX/e0e(n);(n.dir==="rtl"?s<o.right&&s>o.right-20:s>o.left&&s<o.left+20)&&e()}function SP(t){z$(t,()=>{if(t.target instanceof HTMLElement){const e=t.target,n=lA(e);n!=null&&n.isEditable()&&n.update(()=>{const r=Rs(e);At(r)&&(e.focus(),r.toggleChecked())})}})}function kP(t){z$(t,()=>{t.preventDefault()})}function oS(){const t=document.activeElement;return t!=null&&t.tagName==="LI"&&t.parentNode!=null&&t.parentNode.__lexicalListType==="check"?t:null}function TP(t,e,n){const r=oS();return r!=null&&e.update(()=>{const i=Rs(r);if(!At(i))return;const o=function(s,a){let l=a?s.getPreviousSibling():s.getNextSibling(),c=s;for(;l==null&&At(c);)c=c.getParentOrThrow().getParent(),c!=null&&(l=a?c.getPreviousSibling():c.getNextSibling());for(;At(l);){const u=a?l.getLastChild():l.getFirstChild();if(!it(u))return l;l=a?u.getLastChild():u.getFirstChild()}return null}(i,n);if(o!=null){o.selectStart();const s=e.getElementByKey(o.__key);s!=null&&(t.preventDefault(),setTimeout(()=>{s.focus()},0))}}),!1}function AP(){const[t]=Go();return T.useEffect(()=>{if(!t.hasNodes([Xu,Qu]))throw new Error("ListPlugin: ListNode and/or ListItemNode not registered on editor")},[t]),function(e){T.useEffect(()=>Ls(e.registerCommand(B$,()=>(iS(e,"number"),!0),Kr),e.registerCommand(F$,()=>(iS(e,"bullet"),!0),Kr),e.registerCommand(j$,()=>(_we(e),!0),Kr),e.registerCommand(T0,()=>!!bwe(),Kr)),[e])}(t),null}const Dwe={name:"tasklistCheck",tokenize:Nwe};function Mwe(){return{text:{91:Dwe}}}function Nwe(t,e,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),o)}function o(l){return en(l)?(t.enter("taskListCheckValueUnchecked"),t.consume(l),t.exit("taskListCheckValueUnchecked"),s):l===88||l===120?(t.enter("taskListCheckValueChecked"),t.consume(l),t.exit("taskListCheckValueChecked"),s):n(l)}function s(l){return l===93?(t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),a):n(l)}function a(l){return De(l)?e(l):rt(l)?t.check({tokenize:Owe},e,n)(l):n(l)}}function Owe(t,e,n){return gt(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function Lwe(){return{exit:{taskListCheckValueChecked:IP,taskListCheckValueUnchecked:IP,paragraph:Bwe}}}function Fwe(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Vwe}}}function IP(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function Bwe(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=e.children;let o=-1,s;for(;++o<i.length;){const a=i[o];if(a.type==="paragraph"){s=a;break}}s===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function Vwe(t,e,n,r){const i=t.children[0],o=typeof t.checked=="boolean"&&i&&i.type==="paragraph",s="["+(t.checked?"x":" ")+"] ",a=n.createTracker(r);o&&a.move(s);let l=TA.listItem(t,e,n,{...r,...a.current()});return o&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(u){return u+s}}const jwe=new Map([["number",B$],["bullet",F$],["check",V$],["",j$]]),sS=Ge("",t=>{t.sub(t.pipe(DA,wi(ai)),([e,n])=>{if(!e||!n)return;const r=e.anchor.getNode();let i=r.getKey()==="root"?r:of(r,a=>{const l=a.getParent();return l!==null&&jr(l)});i===null&&(i=r.getTopLevelElementOrThrow());const o=i.getKey();if(n.getElementByKey(o)!==null)if(it(i)){const a=sz(r,Xu),l=a?a.getListType():i.getListType();t.pub(sS,l)}else t.pub(sS,"")})}),$$=si(t=>{t.sub(t.pipe($$,wi(ai)),([e,n])=>{n==null||n.dispatchCommand(jwe.get(e),void 0)})}),zwe=Pa({init(t){var e;(e=t.getValue(Na))==null||e.registerCommand(W5,()=>!Hwe(7),Ss),t.pubIn({[F_]:"lists",[Dv]:Lwe(),[Pv]:Mwe(),[nc]:[Twe,Awe],[Gu]:[Qu,Xu],[Ju]:[Iwe,Rwe],[FA]:Fwe(),[jA]:[bP,AP,EP],[Ove]:[bP,AP,EP]})}});function $we(t){const e=t.getNodes();return e.length===0?new Set([t.anchor.getNode().getParentOrThrow(),t.focus.getNode().getParentOrThrow()]):new Set(e.map(n=>oe(n)?n:n.getParentOrThrow()))}function Hwe(t){const e=Se();if(!me(e))return!1;const n=$we(e);let r=0;for(const i of n)if(it(i))r=Math.max(nS(i)+1,r);else if(At(i)){const o=i.getParent();if((o==null?void 0:o.getChildren().length)===1){const s=o.getParent();if(At(s)&&s.getChildren().length===1)return!1}if(!it(o))throw new Error("ListMaxIndentLevelPlugin: A ListItemNode must have a ListNode for a parent.");r=Math.max(nS(o)+1,r)}return r<=t}function Uwe(t,e={}){const n=(e.align||[]).concat(),r=e.stringLength||qwe,i=[],o=[],s=[],a=[];let l=0,c=-1;for(;++c<t.length;){const p=[],m=[];let x=-1;for(t[c].length>l&&(l=t[c].length);++x<t[c].length;){const v=Wwe(t[c][x]);if(e.alignDelimiters!==!1){const y=r(v);m[x]=y,(a[x]===void 0||y>a[x])&&(a[x]=y)}p.push(v)}o[c]=p,s[c]=m}let u=-1;if(typeof n=="object"&&"length"in n)for(;++u<l;)i[u]=RP(n[u]);else{const p=RP(n);for(;++u<l;)i[u]=p}u=-1;const h=[],d=[];for(;++u<l;){const p=i[u];let m="",x="";p===99?(m=":",x=":"):p===108?m=":":p===114&&(x=":");let v=e.alignDelimiters===!1?1:Math.max(1,a[u]-m.length-x.length);const y=m+"-".repeat(v)+x;e.alignDelimiters!==!1&&(v=m.length+v+x.length,v>a[u]&&(a[u]=v),d[u]=v),h[u]=y}o.splice(1,0,h),s.splice(1,0,d),c=-1;const f=[];for(;++c<o.length;){const p=o[c],m=s[c];u=-1;const x=[];for(;++u<l;){const v=p[u]||"";let y="",_="";if(e.alignDelimiters!==!1){const C=a[u]-(m[u]||0),S=i[u];S===114?y=" ".repeat(C):S===99?C%2?(y=" ".repeat(C/2+.5),_=" ".repeat(C/2-.5)):(y=" ".repeat(C/2),_=y):_=" ".repeat(C)}e.delimiterStart!==!1&&!u&&x.push("|"),e.padding!==!1&&!(e.alignDelimiters===!1&&v==="")&&(e.delimiterStart!==!1||u)&&x.push(" "),e.alignDelimiters!==!1&&x.push(y),x.push(v),e.alignDelimiters!==!1&&x.push(_),e.padding!==!1&&x.push(" "),(e.delimiterEnd!==!1||u!==l-1)&&x.push("|")}f.push(e.delimiterEnd===!1?x.join("").replace(/ +$/,""):x.join(""))}return f.join(`
`)}function Wwe(t){return t==null?"":String(t)}function qwe(t){return t.length}function RP(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function Kwe(){return{enter:{table:Gwe,tableData:PP,tableHeader:PP,tableRow:Qwe},exit:{codeText:Xwe,table:Jwe,tableData:uC,tableHeader:uC,tableRow:uC}}}function Gwe(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function Jwe(t){this.exit(t),this.data.inTable=void 0}function Qwe(t){this.enter({type:"tableRow",children:[]},t)}function uC(t){this.exit(t)}function PP(t){this.enter({type:"tableCell",children:[]},t)}function Xwe(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,Ywe));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function Ywe(t,e){return e==="|"?e:t}function Zwe(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:d,table:s,tableCell:l,tableRow:a}};function s(f,p,m,x){return c(u(f,m,x),f.align)}function a(f,p,m,x){const v=h(f,m,x),y=c([v]);return y.slice(0,y.indexOf(`
`))}function l(f,p,m,x){const v=m.enter("tableCell"),y=m.enter("phrasing"),_=m.containerPhrasing(f,{...x,before:o,after:o});return y(),v(),_}function c(f,p){return Uwe(f,{align:p,alignDelimiters:r,padding:n,stringLength:i})}function u(f,p,m){const x=f.children;let v=-1;const y=[],_=p.enter("table");for(;++v<x.length;)y[v]=h(x[v],p,m);return _(),y}function h(f,p,m){const x=f.children;let v=-1;const y=[],_=p.enter("tableRow");for(;++v<x.length;)y[v]=l(x[v],f,p,m);return _(),y}function d(f,p,m){let x=TA.inlineCode(f,p,m);return m.stack.includes("tableCell")&&(x=x.replace(/\|/g,"\\$&")),x}}class e2e{constructor(){this.map=[]}add(e,n,r){t2e(this,e,n,r)}consume(e){if(this.map.sort(function(o,s){return o[0]-s[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push([...e]),e.length=0;let i=r.pop();for(;i;)e.push(...i),i=r.pop();this.map.length=0}}function t2e(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function n2e(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const o=r.length-1;r[o]=r[o]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function r2e(){return{flow:{null:{name:"table",tokenize:i2e,resolveAll:o2e}}}}function i2e(t,e,n){const r=this;let i=0,o=0,s;return a;function a(E){let R=r.events.length-1;for(;R>-1;){const j=r.events[R][1].type;if(j==="lineEnding"||j==="linePrefix")R--;else break}const D=R>-1?r.events[R][1].type:null,N=D==="tableHead"||D==="tableRow"?k:l;return N===k&&r.parser.lazy[r.now().line]?n(E):N(E)}function l(E){return t.enter("tableHead"),t.enter("tableRow"),c(E)}function c(E){return E===124||(s=!0,o+=1),u(E)}function u(E){return E===null?n(E):De(E)?o>1?(o=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),f):n(E):rt(E)?gt(t,u,"whitespace")(E):(o+=1,s&&(s=!1,i+=1),E===124?(t.enter("tableCellDivider"),t.consume(E),t.exit("tableCellDivider"),s=!0,u):(t.enter("data"),h(E)))}function h(E){return E===null||E===124||en(E)?(t.exit("data"),u(E)):(t.consume(E),E===92?d:h)}function d(E){return E===92||E===124?(t.consume(E),h):h(E)}function f(E){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(E):(t.enter("tableDelimiterRow"),s=!1,rt(E)?gt(t,p,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):p(E))}function p(E){return E===45||E===58?x(E):E===124?(s=!0,t.enter("tableCellDivider"),t.consume(E),t.exit("tableCellDivider"),m):S(E)}function m(E){return rt(E)?gt(t,x,"whitespace")(E):x(E)}function x(E){return E===58?(o+=1,s=!0,t.enter("tableDelimiterMarker"),t.consume(E),t.exit("tableDelimiterMarker"),v):E===45?(o+=1,v(E)):E===null||De(E)?C(E):S(E)}function v(E){return E===45?(t.enter("tableDelimiterFiller"),y(E)):S(E)}function y(E){return E===45?(t.consume(E),y):E===58?(s=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(E),t.exit("tableDelimiterMarker"),_):(t.exit("tableDelimiterFiller"),_(E))}function _(E){return rt(E)?gt(t,C,"whitespace")(E):C(E)}function C(E){return E===124?p(E):E===null||De(E)?!s||i!==o?S(E):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(E)):S(E)}function S(E){return n(E)}function k(E){return t.enter("tableRow"),b(E)}function b(E){return E===124?(t.enter("tableCellDivider"),t.consume(E),t.exit("tableCellDivider"),b):E===null||De(E)?(t.exit("tableRow"),e(E)):rt(E)?gt(t,b,"whitespace")(E):(t.enter("data"),w(E))}function w(E){return E===null||E===124||en(E)?(t.exit("data"),b(E)):(t.consume(E),E===92?A:w)}function A(E){return E===92||E===124?(t.consume(E),w):w(E)}}function o2e(t,e){let n=-1,r=!0,i=0,o=[0,0,0,0],s=[0,0,0,0],a=!1,l=0,c,u,h;const d=new e2e;for(;++n<t.length;){const f=t[n],p=f[1];f[0]==="enter"?p.type==="tableHead"?(a=!1,l!==0&&(DP(d,e,l,c,u),u=void 0,l=0),c={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},d.add(n,0,[["enter",c,e]])):p.type==="tableRow"||p.type==="tableDelimiterRow"?(r=!0,h=void 0,o=[0,0,0,0],s=[0,n+1,0,0],a&&(a=!1,u={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},d.add(n,0,[["enter",u,e]])),i=p.type==="tableDelimiterRow"?2:u?3:1):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")?(r=!1,s[2]===0&&(o[1]!==0&&(s[0]=s[1],h=i1(d,e,o,i,void 0,h),o=[0,0,0,0]),s[2]=n)):p.type==="tableCellDivider"&&(r?r=!1:(o[1]!==0&&(s[0]=s[1],h=i1(d,e,o,i,void 0,h)),o=s,s=[o[1],n,0,0])):p.type==="tableHead"?(a=!0,l=n):p.type==="tableRow"||p.type==="tableDelimiterRow"?(l=n,o[1]!==0?(s[0]=s[1],h=i1(d,e,o,i,n,h)):s[1]!==0&&(h=i1(d,e,s,i,n,h)),i=0):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")&&(s[3]=n)}for(l!==0&&DP(d,e,l,c,u),d.consume(e.events),n=-1;++n<e.events.length;){const f=e.events[n];f[0]==="enter"&&f[1].type==="table"&&(f[1]._align=n2e(e.events,n))}return t}function i1(t,e,n,r,i,o){const s=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(o.end=Object.assign({},_h(e.events,n[0])),t.add(n[0],0,[["exit",o,e]]));const l=_h(e.events,n[1]);if(o={type:s,start:Object.assign({},l),end:Object.assign({},l)},t.add(n[1],0,[["enter",o,e]]),n[2]!==0){const c=_h(e.events,n[2]),u=_h(e.events,n[3]),h={type:a,start:Object.assign({},c),end:Object.assign({},u)};if(t.add(n[2],0,[["enter",h,e]]),r!==2){const d=e.events[n[2]],f=e.events[n[3]];if(d[1].end=Object.assign({},f[1].end),d[1].type="chunkText",d[1].contentType="text",n[3]>n[2]+1){const p=n[2]+1,m=n[3]-n[2]-1;t.add(p,m,[])}}t.add(n[3]+1,0,[["exit",h,e]])}return i!==void 0&&(o.end=Object.assign({},_h(e.events,i)),t.add(i,0,[["exit",o,e]]),o=void 0),o}function DP(t,e,n,r,i){const o=[],s=_h(e.events,n);i&&(i.end=Object.assign({},s),o.push(["exit",i,e])),r.end=Object.assign({},s),o.push(["exit",r,e]),t.add(n+1,0,o)}function _h(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const MP=[["Cat","rgb(125, 50, 0)"],["Dog","rgb(100, 0, 0)"],["Rabbit","rgb(150, 0, 0)"],["Frog","rgb(200, 0, 0)"],["Fox","rgb(200, 75, 0)"],["Hedgehog","rgb(0, 75, 0)"],["Pigeon","rgb(0, 125, 0)"],["Squirrel","rgb(75, 100, 0)"],["Bear","rgb(125, 100, 0)"],["Tiger","rgb(0, 0, 150)"],["Leopard","rgb(0, 0, 200)"],["Zebra","rgb(0, 0, 250)"],["Wolf","rgb(0, 100, 150)"],["Owl","rgb(0, 100, 100)"],["Gull","rgb(100, 0, 100)"],["Squid","rgb(150, 0, 150)"]],NP=MP[Math.floor(Math.random()*MP.length)],s2e=T.createContext({clientID:0,color:NP[1],isCollabActive:!1,name:NP[0],yjsDocMap:new Map});function a2e(t,e){return T.useContext(s2e)}function l2e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var c2e=l2e(function(t){const e=new URLSearchParams;e.append("code",t);for(let n=1;n<arguments.length;n++)e.append("v",arguments[n]);throw Error(`Minified Lexical error #${t}; visit https://lexical.dev/docs/error?${e} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});function OP(t){const e=t.transform();return e!==null?new Set([e]):new Set}function u2e({initialEditor:t,children:e,initialNodes:n,initialTheme:r,skipCollabChecks:i}){const o=T.useRef(!1),s=T.useContext(dv);s==null&&c2e(9);const[a,{getTheme:l}]=s,c=T.useMemo(()=>{const f=r||l()||void 0,p=lj(s,f);if(f!==void 0&&(t._config.theme=f),t._parentEditor=a,n)for(let m of n){let x=null,v=null;if(typeof m!="function"){const _=m;m=_.replace,x=_.with,v=_.withKlass||null}const y=t._nodes.get(m.getType());t._nodes.set(m.getType(),{exportDOM:y?y.exportDOM:void 0,klass:m,replace:x,replaceWithKlass:v,transforms:OP(m)})}else{const m=t._nodes=new Map(a._nodes);for(const[x,v]of m)t._nodes.set(x,{exportDOM:v.exportDOM,klass:v.klass,replace:v.replace,replaceWithKlass:v.replaceWithKlass,transforms:OP(v.klass)})}return t._config.namespace=a._config.namespace,t._editable=a._editable,[t,p]},[]),{isCollabActive:u,yjsDocMap:h}=a2e(),d=i||o.current||h.has(t.getKey());return T.useEffect(()=>{d&&(o.current=!0)},[d]),T.useEffect(()=>a.registerEditableListener(f=>{t.setEditable(f)}),[t,a]),P.jsx(dv.Provider,{value:c,children:!u||d?e:null})}var WA="Popover",[H$,e8e]=go(WA,[gc]),Gm=gc(),[h2e,_c]=H$(WA),U$=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!1}=t,a=Gm(e),l=T.useRef(null),[c,u]=T.useState(!1),[h=!1,d]=Uo({prop:r,defaultProp:i,onChange:o});return P.jsx(Xy,{...a,children:P.jsx(h2e,{scope:e,contentId:Fo(),triggerRef:l,open:h,onOpenChange:d,onOpenToggle:T.useCallback(()=>d(f=>!f),[d]),hasCustomAnchor:c,onCustomAnchorAdd:T.useCallback(()=>u(!0),[]),onCustomAnchorRemove:T.useCallback(()=>u(!1),[]),modal:s,children:n})})};U$.displayName=WA;var W$="PopoverAnchor",d2e=T.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=_c(W$,n),o=Gm(n),{onCustomAnchorAdd:s,onCustomAnchorRemove:a}=i;return T.useEffect(()=>(s(),()=>a()),[s,a]),P.jsx(Tm,{...o,...r,ref:e})});d2e.displayName=W$;var q$="PopoverTrigger",qA=T.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=_c(q$,n),o=Gm(n),s=St(e,i.triggerRef),a=P.jsx(He.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":X$(i.open),...r,ref:s,onClick:_e(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?a:P.jsx(Tm,{asChild:!0,...o,children:a})});qA.displayName=q$;var KA="PopoverPortal",[f2e,p2e]=H$(KA,{forceMount:void 0}),K$=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,o=_c(KA,e);return P.jsx(f2e,{scope:e,forceMount:n,children:P.jsx(Wi,{present:n||o.open,children:P.jsx($u,{asChild:!0,container:i,children:r})})})};K$.displayName=KA;var Dd="PopoverContent",GA=T.forwardRef((t,e)=>{const n=p2e(Dd,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,o=_c(Dd,t.__scopePopover);return P.jsx(Wi,{present:r||o.open,children:o.modal?P.jsx(m2e,{...i,ref:e}):P.jsx(g2e,{...i,ref:e})})});GA.displayName=Dd;var m2e=T.forwardRef((t,e)=>{const n=_c(Dd,t.__scopePopover),r=T.useRef(null),i=St(e,r),o=T.useRef(!1);return T.useEffect(()=>{const s=r.current;if(s)return a_(s)},[]),P.jsx(Dm,{as:ya,allowPinchZoom:!0,children:P.jsx(G$,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_e(t.onCloseAutoFocus,s=>{var a;s.preventDefault(),o.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:_e(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;o.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:_e(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),g2e=T.forwardRef((t,e)=>{const n=_c(Dd,t.__scopePopover),r=T.useRef(!1),i=T.useRef(!1);return P.jsx(G$,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,a;(s=t.onCloseAutoFocus)==null||s.call(t,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((c=n.triggerRef.current)==null?void 0:c.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),G$=T.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:s,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,...h}=t,d=_c(Dd,n),f=Gm(n);return i_(),P.jsx(Pm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:P.jsx(zu,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:u,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>d.onOpenChange(!1),children:P.jsx(Yy,{"data-state":X$(d.open),role:"dialog",id:d.contentId,...f,...h,ref:e,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),J$="PopoverClose",x2e=T.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=_c(J$,n);return P.jsx(He.button,{type:"button",...r,ref:e,onClick:_e(t.onClick,()=>i.onOpenChange(!1))})});x2e.displayName=J$;var v2e="PopoverArrow",Q$=T.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Gm(n);return P.jsx(Zy,{...i,...r,ref:e})});Q$.displayName=v2e;function X$(t){return t?"open":"closed"}var Y$=U$,Z$=K$,eH=Q$,y2e="Separator",LP="horizontal",_2e=["horizontal","vertical"],tH=T.forwardRef((t,e)=>{const{decorative:n,orientation:r=LP,...i}=t,o=w2e(r)?r:LP,a=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return P.jsx(He.div,{"data-orientation":o,...a,...i,ref:e})});tH.displayName=y2e;function w2e(t){return _2e.includes(t)}var C2e=tH,b2e="Toggle",nH=T.forwardRef((t,e)=>{const{pressed:n,defaultPressed:r=!1,onPressedChange:i,...o}=t,[s=!1,a]=Uo({prop:n,onChange:i,defaultProp:r});return P.jsx(He.button,{type:"button","aria-pressed":s,"data-state":s?"on":"off","data-disabled":t.disabled?"":void 0,...o,ref:e,onClick:_e(t.onClick,()=>{t.disabled||a(!s)})})});nH.displayName=b2e;var af="ToggleGroup",[rH,iH]=go(af,[tf]),oH=tf(),JA=F.forwardRef((t,e)=>{const{type:n,...r}=t;if(n==="single"){const i=r;return P.jsx(E2e,{...i,ref:e})}if(n==="multiple"){const i=r;return P.jsx(S2e,{...i,ref:e})}throw new Error(`Missing prop \`type\` expected on \`${af}\``)});JA.displayName=af;var[sH,aH]=rH(af),E2e=F.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...o}=t,[s,a]=Uo({prop:n,defaultProp:r,onChange:i});return P.jsx(sH,{scope:t.__scopeToggleGroup,type:"single",value:s?[s]:[],onItemActivate:a,onItemDeactivate:F.useCallback(()=>a(""),[a]),children:P.jsx(lH,{...o,ref:e})})}),S2e=F.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...o}=t,[s=[],a]=Uo({prop:n,defaultProp:r,onChange:i}),l=F.useCallback(u=>a((h=[])=>[...h,u]),[a]),c=F.useCallback(u=>a((h=[])=>h.filter(d=>d!==u)),[a]);return P.jsx(sH,{scope:t.__scopeToggleGroup,type:"multiple",value:s,onItemActivate:l,onItemDeactivate:c,children:P.jsx(lH,{...o,ref:e})})});JA.displayName=af;var[k2e,T2e]=rH(af),lH=F.forwardRef((t,e)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:i=!0,orientation:o,dir:s,loop:a=!0,...l}=t,c=oH(n),u=Rm(s),h={role:"group",dir:u,...l};return P.jsx(k2e,{scope:n,rovingFocus:i,disabled:r,children:i?P.jsx(S5,{asChild:!0,...c,orientation:o,dir:u,loop:a,children:P.jsx(He.div,{...h,ref:e})}):P.jsx(He.div,{...h,ref:e})})}),Lv="ToggleGroupItem",cH=F.forwardRef((t,e)=>{const n=aH(Lv,t.__scopeToggleGroup),r=T2e(Lv,t.__scopeToggleGroup),i=oH(t.__scopeToggleGroup),o=n.value.includes(t.value),s=r.disabled||t.disabled,a={...t,pressed:o,disabled:s},l=F.useRef(null);return r.rovingFocus?P.jsx(s_,{asChild:!0,...i,focusable:!s,active:o,ref:l,children:P.jsx(FP,{...a,ref:e})}):P.jsx(FP,{...a,ref:e})});cH.displayName=Lv;var FP=F.forwardRef((t,e)=>{const{__scopeToggleGroup:n,value:r,...i}=t,o=aH(Lv,n),s={role:"radio","aria-checked":t.pressed,"aria-pressed":void 0},a=o.type==="single"?s:void 0;return P.jsx(nH,{...a,...i,ref:e,onPressedChange:l=>{l?o.onItemActivate(r):o.onItemDeactivate(r)}})}),A2e=JA,I2e=cH,QA="Toolbar",[R2e,t8e]=go(QA,[tf,iH]),XA=tf(),uH=iH(),[P2e,hH]=R2e(QA),dH=T.forwardRef((t,e)=>{const{__scopeToolbar:n,orientation:r="horizontal",dir:i,loop:o=!0,...s}=t,a=XA(n),l=Rm(i);return P.jsx(P2e,{scope:n,orientation:r,dir:l,children:P.jsx(S5,{asChild:!0,...a,orientation:r,dir:l,loop:o,children:P.jsx(He.div,{role:"toolbar","aria-orientation":r,dir:l,...s,ref:e})})})});dH.displayName=QA;var fH="ToolbarSeparator",pH=T.forwardRef((t,e)=>{const{__scopeToolbar:n,...r}=t,i=hH(fH,n);return P.jsx(C2e,{orientation:i.orientation==="horizontal"?"vertical":"horizontal",...r,ref:e})});pH.displayName=fH;var D2e="ToolbarButton",YA=T.forwardRef((t,e)=>{const{__scopeToolbar:n,...r}=t,i=XA(n);return P.jsx(s_,{asChild:!0,...i,focusable:!t.disabled,children:P.jsx(He.button,{type:"button",...r,ref:e})})});YA.displayName=D2e;var M2e="ToolbarLink",N2e=T.forwardRef((t,e)=>{const{__scopeToolbar:n,...r}=t,i=XA(n);return P.jsx(s_,{asChild:!0,...i,focusable:!0,children:P.jsx(He.a,{...r,ref:e,onKeyDown:_e(t.onKeyDown,o=>{o.key===" "&&o.currentTarget.click()})})})});N2e.displayName=M2e;var mH="ToolbarToggleGroup",gH=T.forwardRef((t,e)=>{const{__scopeToolbar:n,...r}=t,i=hH(mH,n),o=uH(n);return P.jsx(A2e,{"data-orientation":i.orientation,dir:i.dir,...o,...r,ref:e,rovingFocus:!1})});gH.displayName=mH;var O2e="ToolbarToggleItem",xH=T.forwardRef((t,e)=>{const{__scopeToolbar:n,...r}=t,i=uH(n),o={__scopeToolbar:t.__scopeToolbar};return P.jsx(YA,{asChild:!0,...o,children:P.jsx(I2e,{...i,...r,ref:e})})});xH.displayName=O2e;var ZA=dH,vH=pH,ru=YA,V_=gH,ox=xH;function yH(t,e){return t===null||t===e?!1:t.dataset.editorDialog!==void 0||t.dataset.toolbarItem!==void 0||t.dataset.editorDropdown?!0:yH(t.parentElement,e)}function L2e(){const t=[...Array(256).keys()].map(n=>n.toString(16).padStart(2,"0")),e=crypto.getRandomValues(new Uint8Array(16));return e[6]=e[6]&15|64,e[8]=e[8]&63|128,[...e.entries()].map(([n,r])=>[4,6,8,10].includes(n)?`-${t[r]}`:t[r]).join("")}const _H=t=>t===0?"th":"td",wH={center:Ke.centeredCell,left:Ke.leftAlignedCell,right:Ke.rightAlignedCell},F2e=({mdastNode:t,parentEditor:e,lexicalTable:n})=>{const[r,i]=F.useState(null),[o,s]=qi(Ki,wu),a=F.useMemo(()=>m=>(m.__cacheKey||(m.__cacheKey=L2e()),m.__cacheKey),[]),l=F.useCallback(m=>{const x=n.getColCount();if(m===null){i(null);return}let[v,y]=m;if(v>x-1&&(v=0,y++),v<0&&(v=x-1,y-=1),y>n.getRowCount()-1){i(null),e.update(()=>{if(n.getLatest().getNextSibling())n.getLatest().selectNext();else{const C=Zt();n.insertAfter(C),C.select()}});return}if(y<0){i(null),e.update(()=>{n.getLatest().selectPrevious()});return}i([v,y])},[n,e]);F.useEffect(()=>{n.focusEmitter.subscribe(l)},[n,l]);const c=F.useCallback(m=>{m.preventDefault(),e.update(()=>{n.addRowToBottom(),i([0,n.getRowCount()])})},[e,n]),u=F.useCallback(m=>{m.preventDefault(),e.update(()=>{n.addColumnToRight(),i([n.getColCount(),0])})},[e,n]),[h,d]=F.useState([-1,-1]),f=F.useCallback(m=>{let x=m.target;for(;x&&!["TH","TD"].includes(x.tagName);){if(x===m.currentTarget)return;x=x.parentElement}if(x===null)return;const v=x.parentElement,_=v.parentElement.tagName==="TFOOT"?-1:Array.from(v.children).indexOf(x),C=x.tagName==="TH"?-1:Array.from(v.parentElement.children).indexOf(v);d([_,C])},[]),p=zr();return F.createElement("table",{className:Ke.tableEditor,onMouseOver:f,onMouseLeave:()=>{d([-1,-1])}},F.createElement("colgroup",null,s?null:F.createElement("col",null),Array.from({length:t.children[0].children.length},(m,x)=>{const y=(t.align??[])[x]??"left",_=wH[y];return F.createElement("col",{key:x,className:_})}),s?null:F.createElement("col",null)),s||F.createElement("thead",null,F.createElement("tr",null,F.createElement("th",{className:Ke.tableToolsColumn}),Array.from({length:t.children[0].children.length},(m,x)=>F.createElement("th",{key:x,"data-tool-cell":!0},F.createElement(j2e,{setActiveCellWithBoundaries:l,parentEditor:e,colIndex:x,highlightedCoordinates:h,lexicalTable:n,align:(t.align??[])[x]}))),F.createElement("th",{className:Ke.tableToolsColumn,"data-tool-cell":!0},F.createElement("button",{className:Ke.iconButton,type:"button",title:p("table.deleteTable","Delete table"),onClick:m=>{m.preventDefault(),e.update(()=>{n.selectNext(),n.remove()})}},o("delete_small"))))),F.createElement("tbody",null,t.children.map((m,x)=>{const v=_H(x);return F.createElement("tr",{key:x},s||F.createElement(v,{className:Ke.toolCell,"data-tool-cell":!0},F.createElement(z2e,{setActiveCellWithBoundaries:l,parentEditor:e,rowIndex:x,highlightedCoordinates:h,lexicalTable:n})),m.children.map((y,_)=>{var C;return F.createElement(B2e,{align:(C=t.align)==null?void 0:C[_],key:a(y),contents:y.children,setActiveCell:l,rowIndex:x,colIndex:_,lexicalTable:n,parentEditor:e,activeCell:s?[-1,-1]:r})}),s||x===0&&F.createElement("th",{rowSpan:n.getRowCount(),"data-tool-cell":!0},F.createElement("button",{type:"button",className:Ke.addColumnButton,onClick:u},o("add_column"))))})),s||F.createElement("tfoot",null,F.createElement("tr",null,F.createElement("th",null),F.createElement("th",{colSpan:n.getColCount()},F.createElement("button",{type:"button",className:Ke.addRowButton,onClick:c},o("add_row"))),F.createElement("th",null))))},B2e=({align:t,...e})=>{const{activeCell:n,setActiveCell:r}=e,i=!!(n&&n[0]===e.colIndex&&n[1]===e.rowIndex),o=wH[t??"left"],s=_H(e.rowIndex);return F.createElement(s,{className:o,"data-active":i,onClick:()=>{r([e.colIndex,e.rowIndex])}},F.createElement(V2e,{...e,focus:i}))},V2e=({focus:t,setActiveCell:e,parentEditor:n,lexicalTable:r,contents:i,colIndex:o,rowIndex:s})=>{const[a,l,c,u,h,d,f,p]=qi(MA,OA,NA,LA,u$,qm,c$,Na),[m]=F.useState(()=>{const v=rz({nodes:c,theme:IA});return v.update(()=>{n$({root:It(),mdastRoot:{type:"root",children:[{type:"paragraph",children:i}]},visitors:a,jsxComponentDescriptors:u,directiveDescriptors:h,codeBlockEditorDescriptors:d})}),v}),x=F.useCallback(v=>{m.getEditorState().read(()=>{const y=$z({root:It(),jsxComponentDescriptors:u,visitors:l,jsxIsAvailable:f});n.update(()=>{r.updateCellContents(o,s,y.children[0].children)},{discrete:!0}),n.dispatchCommand(L0,void 0)}),e(v)},[o,m,l,u,f,r,n,s,e]);return F.useEffect(()=>Ls(m.registerCommand(U5,v=>{v.preventDefault();const y=v.shiftKey?[o-1,s]:[o+1,s];return x(y),!0},Ss),m.registerCommand(K5,()=>(e([o,s]),!1),Kr),m.registerCommand(R0,v=>{v==null||v.preventDefault();const y=v!=null&&v.shiftKey?[o,s-1]:[o,s+1];return x(y),!0},Ss),m.registerCommand(G5,v=>{const y=v.relatedTarget;return yH(y,p.getRootElement())?!1:(x(null),!0)},pt),m.registerCommand(L0,()=>(x(null),!0),pt)),[o,m,p,s,x,e]),F.useEffect(()=>{t&&m.focus()},[t,m]),F.createElement(u2e,{initialEditor:m},F.createElement(T$,{contentEditable:F.createElement(S$,null),placeholder:F.createElement("div",null),ErrorBoundary:k$}),F.createElement(uz,null))},j2e=({parentEditor:t,highlightedCoordinates:e,align:n,lexicalTable:r,colIndex:i,setActiveCellWithBoundaries:o})=>{const[s,a]=qi(Km,Ki),l=F.useCallback(d=>{t.update(()=>{r.insertColumnAt(d)}),o([d,0])},[t,r,o]),c=F.useCallback(d=>{t.update(()=>{r.deleteColumnAt(d)})},[t,r]),u=F.useCallback((d,f)=>{t.update(()=>{r.setColumnAlign(d,f)})},[t,r]),h=zr();return F.createElement(Y$,null,F.createElement(qA,{className:Ke.tableColumnEditorTrigger,"data-active":e[0]===i+1,title:h("table.columnMenu","Column menu")},a("more_horiz")),F.createElement(Z$,{container:s==null?void 0:s.current},F.createElement(GA,{className:ji(Ke.tableColumnEditorPopoverContent),onOpenAutoFocus:d=>{d.preventDefault()},sideOffset:5,side:"top"},F.createElement(ZA,{className:Ke.tableColumnEditorToolbar},F.createElement(V_,{className:Ke.toggleGroupRoot,onValueChange:d=>{u(i,d)},value:n??"left",type:"single","aria-label":h("table.textAlignment","Text alignment")},F.createElement(ox,{value:"left",title:h("table.alignLeft","Align left")},a("format_align_left")),F.createElement(ox,{value:"center",title:h("table.alignCenter","Align center")},a("format_align_center")),F.createElement(ox,{value:"right",title:h("table.alignRight","Align right")},a("format_align_right"))),F.createElement(vH,null),F.createElement(ru,{onClick:l.bind(null,i),title:h("table.insertColumnLeft","Insert a column to the left of this one")},a("insert_col_left")),F.createElement(ru,{onClick:l.bind(null,i+1),title:h("table.insertColumnRight","Insert a column to the right of this one")},a("insert_col_right")),F.createElement(ru,{onClick:c.bind(null,i),title:h("table.deleteColumn","Delete this column")},a("delete_small"))),F.createElement(eH,{className:Ke.popoverArrow}))))},z2e=({parentEditor:t,highlightedCoordinates:e,lexicalTable:n,rowIndex:r,setActiveCellWithBoundaries:i})=>{const[o,s]=qi(Km,Ki),a=F.useCallback(u=>{t.update(()=>{n.insertRowAt(u)}),i([0,u])},[t,n,i]),l=F.useCallback(u=>{t.update(()=>{n.deleteRowAt(u)})},[t,n]),c=zr();return F.createElement(Y$,null,F.createElement(qA,{className:Ke.tableColumnEditorTrigger,"data-active":e[1]===r,title:c("table.rowMenu","Row menu")},s("more_horiz")),F.createElement(Z$,{container:o==null?void 0:o.current},F.createElement(GA,{className:ji(Ke.tableColumnEditorPopoverContent),onOpenAutoFocus:u=>{u.preventDefault()},sideOffset:5,side:"bottom"},F.createElement(ZA,{className:Ke.tableColumnEditorToolbar},F.createElement(ru,{onClick:a.bind(null,r),title:c("table.insertRowAbove","Insert a row above this one")},s("insert_row_above")),F.createElement(ru,{onClick:a.bind(null,r+1),title:c("table.insertRowBelow","Insert a row below this one")},s("insert_row_below")),F.createElement(ru,{onClick:l.bind(null,r),title:c("table.deleteRow","Delete this row")},s("delete_small"))),F.createElement(eH,{className:Ke.popoverArrow}))))};var $2e=Object.defineProperty,H2e=(t,e,n)=>e in t?$2e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,BP=(t,e,n)=>(H2e(t,typeof e!="symbol"?e+"":e,n),n);const VP={type:"tableCell",children:[]};function U2e(){let t=eu;return{publish:e=>{t(e)},subscribe:e=>{t=e}}}class Jm extends zm{constructor(e,n){super(n),BP(this,"__mdastNode"),BP(this,"focusEmitter",U2e()),this.__mdastNode=e??{type:"table",children:[]}}static getType(){return"table"}static clone(e){return new Jm(structuredClone(e.__mdastNode),e.__key)}static importJSON(e){return e4(e.mdastNode)}exportJSON(){return{mdastNode:structuredClone(this.__mdastNode),type:"table",version:1}}getMdastNode(){return this.__mdastNode}getRowCount(){return this.__mdastNode.children.length}getColCount(){var e;return((e=this.__mdastNode.children[0])==null?void 0:e.children.length)||0}createDOM(){return document.createElement("div")}updateDOM(){return!1}updateCellContents(e,n,r){const o=this.getWritable().__mdastNode,s=o.children[n],a=s.children,l=a[e],c=Array.from(a),u={...l,children:r},h={...s,children:c};c[e]=u,o.children[n]=h}insertColumnAt(e){const r=this.getWritable().__mdastNode;for(let i=0;i<r.children.length;i++){const o=r.children[i],s=o.children,a=Array.from(s),l={...o,children:a};a.splice(e,0,structuredClone(VP)),r.children[i]=l}r.align&&r.align.length>0&&r.align.splice(e,0,"left")}deleteColumnAt(e){const r=this.getWritable().__mdastNode;for(let i=0;i<r.children.length;i++){const o=r.children[i],s=o.children,a=Array.from(s),l={...o,children:a};a.splice(e,1),r.children[i]=l}}insertRowAt(e){const r=this.getWritable().__mdastNode,i={type:"tableRow",children:Array.from({length:this.getColCount()},()=>structuredClone(VP))};r.children.splice(e,0,i)}deleteRowAt(e){this.getRowCount()===1?(this.selectNext(),this.remove()):this.getWritable().__mdastNode.children.splice(e,1)}addRowToBottom(){this.insertRowAt(this.getRowCount())}addColumnToRight(){this.insertColumnAt(this.getColCount())}setColumnAlign(e,n){const i=this.getWritable().__mdastNode;i.align==null&&(i.align=[]),i.align[e]=n}decorate(e){return F.createElement(F2e,{lexicalTable:this,mdastNode:this.__mdastNode,parentEditor:e})}select(e){this.focusEmitter.publish(e??[0,0])}isInline(){return!1}}function W2e(t){return t instanceof Jm}function e4(t){return new Jm(t)}const q2e={testLexicalNode:W2e,visitLexicalNode({actions:t,mdastParent:e,lexicalNode:n}){t.appendToParent(e,n.getMdastNode())}},K2e={testNode:"table",visitNode({mdastNode:t,lexicalParent:e}){e.append(e4(t))}};function G2e(t=1,e=1){const n={type:"table",children:[]};for(let r=0;r<t;r++){const i={type:"tableRow",children:[]};for(let o=0;o<e;o++){const s={type:"tableCell",children:[]};i.children.push(s)}n.children.push(i)}return n}const CH=si(t=>{t.link(t.pipe(CH,f_(({rows:e,columns:n})=>()=>e4(G2e(e,n)))),zA)}),J2e=Pa({init(t){t.pubIn({[Dv]:Kwe(),[Pv]:r2e(),[nc]:K2e,[Gu]:Jm,[Ju]:q2e,[FA]:Zwe({tableCellPadding:!0,tablePipeAlign:!0})})}});var t4="Dialog",[bH,n8e]=go(t4),[Q2e,Qo]=bH(t4),EH=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!0}=t,a=T.useRef(null),l=T.useRef(null),[c=!1,u]=Uo({prop:r,defaultProp:i,onChange:o});return P.jsx(Q2e,{scope:e,triggerRef:a,contentRef:l,contentId:Fo(),titleId:Fo(),descriptionId:Fo(),open:c,onOpenChange:u,onOpenToggle:T.useCallback(()=>u(h=>!h),[u]),modal:s,children:n})};EH.displayName=t4;var SH="DialogTrigger",kH=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Qo(SH,n),o=St(e,i.triggerRef);return P.jsx(He.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":i4(i.open),...r,ref:o,onClick:_e(t.onClick,i.onOpenToggle)})});kH.displayName=SH;var n4="DialogPortal",[X2e,TH]=bH(n4,{forceMount:void 0}),AH=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,o=Qo(n4,e);return P.jsx(X2e,{scope:e,forceMount:n,children:T.Children.map(r,s=>P.jsx(Wi,{present:n||o.open,children:P.jsx($u,{asChild:!0,container:i,children:s})}))})};AH.displayName=n4;var Fv="DialogOverlay",IH=T.forwardRef((t,e)=>{const n=TH(Fv,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=Qo(Fv,t.__scopeDialog);return o.modal?P.jsx(Wi,{present:r||o.open,children:P.jsx(Y2e,{...i,ref:e})}):null});IH.displayName=Fv;var Y2e=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Qo(Fv,n);return P.jsx(Dm,{as:ya,allowPinchZoom:!0,shards:[i.contentRef],children:P.jsx(He.div,{"data-state":i4(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Eu="DialogContent",RH=T.forwardRef((t,e)=>{const n=TH(Eu,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=Qo(Eu,t.__scopeDialog);return P.jsx(Wi,{present:r||o.open,children:o.modal?P.jsx(Z2e,{...i,ref:e}):P.jsx(eCe,{...i,ref:e})})});RH.displayName=Eu;var Z2e=T.forwardRef((t,e)=>{const n=Qo(Eu,t.__scopeDialog),r=T.useRef(null),i=St(e,n.contentRef,r);return T.useEffect(()=>{const o=r.current;if(o)return a_(o)},[]),P.jsx(PH,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_e(t.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:_e(t.onPointerDownOutside,o=>{const s=o.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&o.preventDefault()}),onFocusOutside:_e(t.onFocusOutside,o=>o.preventDefault())})}),eCe=T.forwardRef((t,e)=>{const n=Qo(Eu,t.__scopeDialog),r=T.useRef(!1),i=T.useRef(!1);return P.jsx(PH,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,a;(s=t.onCloseAutoFocus)==null||s.call(t,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((c=n.triggerRef.current)==null?void 0:c.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),PH=T.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...s}=t,a=Qo(Eu,n),l=T.useRef(null),c=St(e,l);return i_(),P.jsxs(P.Fragment,{children:[P.jsx(Pm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:P.jsx(zu,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":i4(a.open),...s,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),P.jsxs(P.Fragment,{children:[P.jsx(tCe,{titleId:a.titleId}),P.jsx(rCe,{contentRef:l,descriptionId:a.descriptionId})]})]})}),r4="DialogTitle",DH=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Qo(r4,n);return P.jsx(He.h2,{id:i.titleId,...r,ref:e})});DH.displayName=r4;var MH="DialogDescription",NH=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Qo(MH,n);return P.jsx(He.p,{id:i.descriptionId,...r,ref:e})});NH.displayName=MH;var OH="DialogClose",LH=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Qo(OH,n);return P.jsx(He.button,{type:"button",...r,ref:e,onClick:_e(t.onClick,()=>i.onOpenChange(!1))})});LH.displayName=OH;function i4(t){return t?"open":"closed"}var FH="DialogTitleWarning",[r8e,BH]=pce(FH,{contentName:Eu,titleName:r4,docsSlug:"dialog"}),tCe=({titleId:t})=>{const e=BH(FH),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return T.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},nCe="DialogDescriptionWarning",rCe=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${BH(nCe).contentName}}.`;return T.useEffect(()=>{var o;const i=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},iCe=EH,oCe=kH,sCe=AH,VH=IH,jH=RH,zH=DH,$H=NH,aCe=LH;const lCe={testNode:"blockquote",visitNode({actions:t}){t.addAndStepInto(R_())}},cCe={testLexicalNode:S0e,visitLexicalNode:({lexicalNode:t,mdastParent:e,actions:n})=>{const r={type:"paragraph",children:[]};n.appendToParent(e,{type:"blockquote",children:[r]}),n.visitChildren(t,r)}},uCe=Pa({init(t){t.pubIn({[F_]:"quote",[nc]:lCe,[Gu]:Hm,[Ju]:cCe})}});function hCe(){let t=eu;return{publish:()=>{t()},subscribe:e=>{t=e}}}var dCe=Object.defineProperty,fCe=(t,e,n)=>e in t?dCe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Qa=(t,e,n)=>(fCe(t,typeof e!="symbol"?e+"":e,n),n);class Qm extends zm{constructor(e,n,r,i){super(i),Qa(this,"__code"),Qa(this,"__meta"),Qa(this,"__language"),Qa(this,"__focusEmitter",hCe()),Qa(this,"setCode",o=>{o!==this.__code&&(this.getWritable().__code=o)}),Qa(this,"setMeta",o=>{o!==this.__meta&&(this.getWritable().__meta=o)}),Qa(this,"setLanguage",o=>{o!==this.__language&&(this.getWritable().__language=o)}),Qa(this,"select",()=>{this.__focusEmitter.publish()}),this.__code=e,this.__meta=r,this.__language=n}static getType(){return"codeblock"}static clone(e){return new Qm(e.__code,e.__language,e.__meta,e.__key)}static importJSON(e){const{code:n,meta:r,language:i}=e;return o4({code:n,language:i,meta:r})}exportJSON(){return{code:this.getCode(),language:this.getLanguage(),meta:this.getMeta(),type:"codeblock",version:1}}createDOM(e){return document.createElement("div")}updateDOM(){return!1}getCode(){return this.__code}getMeta(){return this.__meta}getLanguage(){return this.__language}decorate(e){return F.createElement(mCe,{parentEditor:e,code:this.getCode(),meta:this.getMeta(),language:this.getLanguage(),codeBlockNode:this,nodeKey:this.getKey(),focusEmitter:this.__focusEmitter})}isInline(){return!1}}const HH=F.createContext(null),pCe=({parentEditor:t,lexicalNode:e,children:n})=>{const r=F.useMemo(()=>({lexicalNode:e,parentEditor:t,setCode:i=>{t.update(()=>{e.setCode(i),setTimeout(()=>{t.dispatchCommand(L0,void 0)},0)})},setLanguage:i=>{t.update(()=>{e.setLanguage(i)})},setMeta:i=>{t.update(()=>{e.setMeta(i)})}}),[e,t]);return F.createElement(HH.Provider,{value:r},n)};function aS(){const t=F.useContext(HH);if(!t)throw new Error("useCodeBlockEditor must be used within a CodeBlockEditor");return t}const mCe=t=>{const e=Qr(qm),n=Qr(s4);let r=e.sort((l,c)=>c.priority-l.priority).find(l=>l.match(t.language||"",t.meta||""));if(r||(r=e.find(l=>l.match(n||"",t.meta||""))),!r)throw new Error(`No CodeBlockEditor registered for language=${t.language} meta=${t.meta}`);const i=r.Editor,{codeBlockNode:o,parentEditor:s,...a}=t;return F.createElement(pCe,{parentEditor:t.parentEditor,lexicalNode:t.codeBlockNode},F.createElement(i,{...a}))};function o4(t){const{code:e="",language:n="",meta:r=""}=t;return new Qm(e,n,r)}function gCe(t){return t instanceof Qm}const xCe={testLexicalNode:gCe,visitLexicalNode:({lexicalNode:t,actions:e})=>{e.addAndStepInto("code",{value:t.getCode(),lang:t.getLanguage(),meta:t.getMeta()})}},vCe={testNode:(t,{codeBlockEditorDescriptors:e})=>t.type==="code"?e.find(r=>r.match(t.lang,t.meta))!==void 0:!1,visitNode({mdastNode:t,actions:e}){e.addAndStepInto(o4({code:t.value,language:t.lang,meta:t.meta}))}},s4=Ge(""),a4=si(t=>{t.link(t.pipe(a4,wi(s4),f_(([e,n])=>()=>o4({language:n,...e}))),zA)}),yCe=Ci(qm),_Ce=Pa({update(t,e){t.pub(s4,(e==null?void 0:e.defaultCodeBlockLanguage)??"")},init(t,e){t.pubIn({[F_]:"codeblock",[qm]:(e==null?void 0:e.codeBlockEditorDescriptors)??[],[nc]:vCe,[Gu]:Qm,[Ju]:xCe})}}),wCe="modulepreload",CCe=function(t){return"/audio-notes-app-web/"+t},jP={},ne=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(a=>{if(a=CCe(a),a in jP)return;jP[a]=!0;const l=a.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const u=document.createElement("link");if(u.rel=l?"stylesheet":wCe,l||(u.as="script"),u.crossOrigin="",u.href=a,s&&u.setAttribute("nonce",s),document.head.appendChild(u),l)return new Promise((h,d)=>{u.addEventListener("load",h),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${a}`)))})}))}return i.then(o=>{for(const s of o||[]){if(s.status!=="rejected")continue;const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s.reason,window.dispatchEvent(a),!a.defaultPrevented)throw s.reason}return e()})};let Rt=class UH{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,r){[e,n]=Md(this,e,n);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(n,this.length,i,1),hs.from(i,this.length-(n-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){[e,n]=Md(this,e,n);let r=[];return this.decompose(e,n,r,0),hs.from(r,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new $p(this),o=new $p(e);for(let s=n,a=n;;){if(i.next(s),o.next(s),s=0,i.lineBreak!=o.lineBreak||i.done!=o.done||i.value!=o.value)return!1;if(a+=i.value.length,i.done||a>=r)return!0}}iter(e=1){return new $p(this,e)}iterRange(e,n=this.length){return new WH(this,e,n)}iterLines(e,n){let r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new qH(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?UH.empty:e.length<=32?new bn(e):hs.from(bn.split(e,[]))}};class bn extends Rt{constructor(e,n=bCe(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,r,i){for(let o=0;;o++){let s=this.text[o],a=i+s.length;if((n?r:a)>=e)return new ECe(i,a,r,s);i=a+1,r++}}decompose(e,n,r,i){let o=e<=0&&n>=this.length?this:new bn(zP(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(i&1){let s=r.pop(),a=sx(o.text,s.text.slice(),0,o.length);if(a.length<=32)r.push(new bn(a,s.length+o.length));else{let l=a.length>>1;r.push(new bn(a.slice(0,l)),new bn(a.slice(l)))}}else r.push(o)}replace(e,n,r){if(!(r instanceof bn))return super.replace(e,n,r);[e,n]=Md(this,e,n);let i=sx(this.text,sx(r.text,zP(this.text,0,e)),n),o=this.length+r.length-(n-e);return i.length<=32?new bn(i,o):hs.from(bn.split(i,[]),o)}sliceString(e,n=this.length,r=`
`){[e,n]=Md(this,e,n);let i="";for(let o=0,s=0;o<=n&&s<this.text.length;s++){let a=this.text[s],l=o+a.length;o>e&&s&&(i+=r),e<l&&n>o&&(i+=a.slice(Math.max(0,e-o),n-o)),o=l+1}return i}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let r=[],i=-1;for(let o of e)r.push(o),i+=o.length+1,r.length==32&&(n.push(new bn(r,i)),r=[],i=-1);return i>-1&&n.push(new bn(r,i)),n}}class hs extends Rt{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,n,r,i){for(let o=0;;o++){let s=this.children[o],a=i+s.length,l=r+s.lines-1;if((n?l:a)>=e)return s.lineInner(e,n,r,i);i=a+1,r=l+1}}decompose(e,n,r,i){for(let o=0,s=0;s<=n&&o<this.children.length;o++){let a=this.children[o],l=s+a.length;if(e<=l&&n>=s){let c=i&((s<=e?1:0)|(l>=n?2:0));s>=e&&l<=n&&!c?r.push(a):a.decompose(e-s,n-s,r,c)}s=l+1}}replace(e,n,r){if([e,n]=Md(this,e,n),r.lines<this.lines)for(let i=0,o=0;i<this.children.length;i++){let s=this.children[i],a=o+s.length;if(e>=o&&n<=a){let l=s.replace(e-o,n-o,r),c=this.lines-s.lines+l.lines;if(l.lines<c>>4&&l.lines>c>>6){let u=this.children.slice();return u[i]=l,new hs(u,this.length-(n-e)+r.length)}return super.replace(o,a,l)}o=a+1}return super.replace(e,n,r)}sliceString(e,n=this.length,r=`
`){[e,n]=Md(this,e,n);let i="";for(let o=0,s=0;o<this.children.length&&s<=n;o++){let a=this.children[o],l=s+a.length;s>e&&o&&(i+=r),e<l&&n>s&&(i+=a.sliceString(e-s,n-s,r)),s=l+1}return i}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof hs))return 0;let r=0,[i,o,s,a]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=n,o+=n){if(i==s||o==a)return r;let l=this.children[i],c=e.children[o];if(l!=c)return r+l.scanIdentical(c,n);r+=l.length+1}}static from(e,n=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let f of e)r+=f.lines;if(r<32){let f=[];for(let p of e)p.flatten(f);return new bn(f,n)}let i=Math.max(32,r>>5),o=i<<1,s=i>>1,a=[],l=0,c=-1,u=[];function h(f){let p;if(f.lines>o&&f instanceof hs)for(let m of f.children)h(m);else f.lines>s&&(l>s||!l)?(d(),a.push(f)):f instanceof bn&&l&&(p=u[u.length-1])instanceof bn&&f.lines+p.lines<=32?(l+=f.lines,c+=f.length+1,u[u.length-1]=new bn(p.text.concat(f.text),p.length+1+f.length)):(l+f.lines>i&&d(),l+=f.lines,c+=f.length+1,u.push(f))}function d(){l!=0&&(a.push(u.length==1?u[0]:hs.from(u,c)),c=-1,l=u.length=0)}for(let f of e)h(f);return d(),a.length==1?a[0]:new hs(a,n)}}Rt.empty=new bn([""],0);function bCe(t){let e=-1;for(let n of t)e+=n.length+1;return e}function sx(t,e,n=0,r=1e9){for(let i=0,o=0,s=!0;o<t.length&&i<=r;o++){let a=t[o],l=i+a.length;l>=n&&(l>r&&(a=a.slice(0,r-i)),i<n&&(a=a.slice(n-i)),s?(e[e.length-1]+=a,s=!1):e.push(a)),i=l+1}return e}function zP(t,e,n){return sx(t,[""],e,n)}class $p{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof bn?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],o=this.offsets[r],s=o>>1,a=i instanceof bn?i.text.length:i.children.length;if(s==(n>0?a:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((o&1)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof bn){let l=i.text[s+(n<0?-1:0)];if(this.offsets[r]+=n,l.length>Math.max(0,e))return this.value=e==0?l:n>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=i.children[s+(n<0?-1:0)];e>l.length?(e-=l.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(l),this.offsets.push(n>0?1:(l instanceof bn?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class WH{constructor(e,n,r){this.value="",this.done=!1,this.cursor=new $p(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*n,this.value=i.length<=r?i:n<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class qH{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:r,value:i}=this.inner.next(e);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Rt.prototype[Symbol.iterator]=function(){return this.iter()},$p.prototype[Symbol.iterator]=WH.prototype[Symbol.iterator]=qH.prototype[Symbol.iterator]=function(){return this});class ECe{constructor(e,n,r,i){this.from=e,this.to=n,this.number=r,this.text=i}get length(){return this.to-this.from}}function Md(t,e,n){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,n))]}let od="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(t=>t?parseInt(t,36):1);for(let t=1;t<od.length;t++)od[t]+=od[t-1];function SCe(t){for(let e=1;e<od.length;e+=2)if(od[e]>t)return od[e-1]<=t;return!1}function $P(t){return t>=127462&&t<=127487}const HP=8205;function xr(t,e,n=!0,r=!0){return(n?KH:kCe)(t,e,r)}function KH(t,e,n){if(e==t.length)return e;e&&GH(t.charCodeAt(e))&&JH(t.charCodeAt(e-1))&&e--;let r=hr(t,e);for(e+=no(r);e<t.length;){let i=hr(t,e);if(r==HP||i==HP||n&&SCe(i))e+=no(i),r=i;else if($P(i)){let o=0,s=e-2;for(;s>=0&&$P(hr(t,s));)o++,s-=2;if(o%2==0)break;e+=2}else break}return e}function kCe(t,e,n){for(;e>0;){let r=KH(t,e-2,n);if(r<e)return r;e--}return 0}function GH(t){return t>=56320&&t<57344}function JH(t){return t>=55296&&t<56320}function hr(t,e){let n=t.charCodeAt(e);if(!JH(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return GH(r)?(n-55296<<10)+(r-56320)+65536:n}function l4(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function no(t){return t<65536?1:2}const lS=/\r\n?|\n/;var pr=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(pr||(pr={}));class ks{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,r=0,i=0;n<this.sections.length;){let o=this.sections[n++],s=this.sections[n++];s<0?(e(r,i,o),i+=o):i+=s,r+=o}}iterChangedRanges(e,n=!1){cS(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];i<0?e.push(r,i):e.push(i,r)}return new ks(e)}composeDesc(e){return this.empty?e:e.empty?this:QH(this,e)}mapDesc(e,n=!1){return e.empty?this:uS(this,e,n)}mapPos(e,n=-1,r=pr.Simple){let i=0,o=0;for(let s=0;s<this.sections.length;){let a=this.sections[s++],l=this.sections[s++],c=i+a;if(l<0){if(c>e)return o+(e-i);o+=a}else{if(r!=pr.Simple&&c>=e&&(r==pr.TrackDel&&i<e&&c>e||r==pr.TrackBefore&&i<e||r==pr.TrackAfter&&c>e))return null;if(c>e||c==e&&n<0&&!a)return e==i||n<0?o:o+l;o+=l}i=c}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return o}touchesRange(e,n=e){for(let r=0,i=0;r<this.sections.length&&i<=n;){let o=this.sections[r++],s=this.sections[r++],a=i+o;if(s>=0&&i<=n&&a>=e)return i<e&&a>n?"cover":!0;i=a}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ks(e)}static create(e){return new ks(e)}}class $n extends ks{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return cS(this,(n,r,i,o,s)=>e=e.replace(i,i+(r-n),s),!1),e}mapDesc(e,n=!1){return uS(this,e,n,!0)}invert(e){let n=this.sections.slice(),r=[];for(let i=0,o=0;i<n.length;i+=2){let s=n[i],a=n[i+1];if(a>=0){n[i]=a,n[i+1]=s;let l=i>>1;for(;r.length<l;)r.push(Rt.empty);r.push(s?e.slice(o,o+s):Rt.empty)}o+=s}return new $n(n,r)}compose(e){return this.empty?e:e.empty?this:QH(this,e,!0)}map(e,n=!1){return e.empty?this:uS(this,e,n,!0)}iterChanges(e,n=!1){cS(this,e,n)}get desc(){return ks.create(this.sections)}filter(e){let n=[],r=[],i=[],o=new B0(this);e:for(let s=0,a=0;;){let l=s==e.length?1e9:e[s++];for(;a<l||a==l&&o.len==0;){if(o.done)break e;let u=Math.min(o.len,l-a);Pr(i,u,-1);let h=o.ins==-1?-1:o.off==0?o.ins:0;Pr(n,u,h),h>0&&bl(r,n,o.text),o.forward(u),a+=u}let c=e[s++];for(;a<c;){if(o.done)break e;let u=Math.min(o.len,c-a);Pr(n,u,-1),Pr(i,u,o.ins==-1?-1:o.off==0?o.ins:0),o.forward(u),a+=u}}return{changes:new $n(n,r),filtered:ks.create(i)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],i=this.sections[n+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,r){let i=[],o=[],s=0,a=null;function l(u=!1){if(!u&&!i.length)return;s<n&&Pr(i,n-s,-1);let h=new $n(i,o);a=a?a.compose(h.map(a)):h,i=[],o=[],s=0}function c(u){if(Array.isArray(u))for(let h of u)c(h);else if(u instanceof $n){if(u.length!=n)throw new RangeError(`Mismatched change set length (got ${u.length}, expected ${n})`);l(),a=a?a.compose(u.map(a)):u}else{let{from:h,to:d=h,insert:f}=u;if(h>d||h<0||d>n)throw new RangeError(`Invalid change range ${h} to ${d} (in doc of length ${n})`);let p=f?typeof f=="string"?Rt.of(f.split(r||lS)):f:Rt.empty,m=p.length;if(h==d&&m==0)return;h<s&&l(),h>s&&Pr(i,h-s,-1),Pr(i,d-h,m),bl(o,i,p),s=d}}return c(e),l(!a),a}static empty(e){return new $n(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let i=0;i<e.length;i++){let o=e[i];if(typeof o=="number")n.push(o,-1);else{if(!Array.isArray(o)||typeof o[0]!="number"||o.some((s,a)=>a&&typeof s!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(o.length==1)n.push(o[0],0);else{for(;r.length<i;)r.push(Rt.empty);r[i]=Rt.of(o.slice(1)),n.push(o[0],r[i].length)}}}return new $n(n,r)}static createSet(e,n){return new $n(e,n)}}function Pr(t,e,n,r=!1){if(e==0&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:e==0&&t[i]==0?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function bl(t,e,n){if(n.length==0)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<r;)t.push(Rt.empty);t.push(n)}}function cS(t,e,n){let r=t.inserted;for(let i=0,o=0,s=0;s<t.sections.length;){let a=t.sections[s++],l=t.sections[s++];if(l<0)i+=a,o+=a;else{let c=i,u=o,h=Rt.empty;for(;c+=a,u+=l,l&&r&&(h=h.append(r[s-2>>1])),!(n||s==t.sections.length||t.sections[s+1]<0);)a=t.sections[s++],l=t.sections[s++];e(i,c,o,u,h),i=c,o=u}}}function uS(t,e,n,r=!1){let i=[],o=r?[]:null,s=new B0(t),a=new B0(e);for(let l=-1;;)if(s.ins==-1&&a.ins==-1){let c=Math.min(s.len,a.len);Pr(i,c,-1),s.forward(c),a.forward(c)}else if(a.ins>=0&&(s.ins<0||l==s.i||s.off==0&&(a.len<s.len||a.len==s.len&&!n))){let c=a.len;for(Pr(i,a.ins,-1);c;){let u=Math.min(s.len,c);s.ins>=0&&l<s.i&&s.len<=u&&(Pr(i,0,s.ins),o&&bl(o,i,s.text),l=s.i),s.forward(u),c-=u}a.next()}else if(s.ins>=0){let c=0,u=s.len;for(;u;)if(a.ins==-1){let h=Math.min(u,a.len);c+=h,u-=h,a.forward(h)}else if(a.ins==0&&a.len<u)u-=a.len,a.next();else break;Pr(i,c,l<s.i?s.ins:0),o&&l<s.i&&bl(o,i,s.text),l=s.i,s.forward(s.len-u)}else{if(s.done&&a.done)return o?$n.createSet(i,o):ks.create(i);throw new Error("Mismatched change set lengths")}}function QH(t,e,n=!1){let r=[],i=n?[]:null,o=new B0(t),s=new B0(e);for(let a=!1;;){if(o.done&&s.done)return i?$n.createSet(r,i):ks.create(r);if(o.ins==0)Pr(r,o.len,0,a),o.next();else if(s.len==0&&!s.done)Pr(r,0,s.ins,a),i&&bl(i,r,s.text),s.next();else{if(o.done||s.done)throw new Error("Mismatched change set lengths");{let l=Math.min(o.len2,s.len),c=r.length;if(o.ins==-1){let u=s.ins==-1?-1:s.off?0:s.ins;Pr(r,l,u,a),i&&u&&bl(i,r,s.text)}else s.ins==-1?(Pr(r,o.off?0:o.len,l,a),i&&bl(i,r,o.textBit(l))):(Pr(r,o.off?0:o.len,s.off?0:s.ins,a),i&&!s.off&&bl(i,r,s.text));a=(o.ins>l||s.ins>=0&&s.len>l)&&(a||r.length>c),o.forward2(l),s.forward(l)}}}}class B0{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?Rt.empty:e[n]}textBit(e){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!e?Rt.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Kc{constructor(e,n,r){this.from=e,this.to=n,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,n=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,n):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new Kc(r,i,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return se.range(e,n);let r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return se.range(this.anchor,r)}eq(e,n=!1){return this.anchor==e.anchor&&this.head==e.head&&(!n||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return se.range(e.anchor,e.head)}static create(e,n,r){return new Kc(e,n,r)}}class se{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:se.create(this.ranges.map(r=>r.map(e,n)),this.mainIndex)}eq(e,n=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new se([this.main],0)}addRange(e,n=!0){return se.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let r=this.ranges.slice();return r[n]=e,se.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new se(e.ranges.map(n=>Kc.fromJSON(n)),e.main)}static single(e,n=e){return new se([se.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let o=e[i];if(o.empty?o.from<=r:o.from<r)return se.normalized(e.slice(),n);r=o.to}return new se(e,n)}static cursor(e,n=0,r,i){return Kc.create(e,e,(n==0?0:n<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(e,n,r,i){let o=(r??16777215)<<6|(i==null?7:Math.min(6,i));return n<e?Kc.create(n,e,48|o):Kc.create(e,n,(n>e?8:0)|o)}static normalized(e,n=0){let r=e[n];e.sort((i,o)=>i.from-o.from),n=e.indexOf(r);for(let i=1;i<e.length;i++){let o=e[i],s=e[i-1];if(o.empty?o.from<=s.to:o.from<s.to){let a=s.from,l=Math.max(o.to,s.to);i<=n&&n--,e.splice(--i,2,o.anchor>o.head?se.range(l,a):se.range(a,l))}}return new se(e,n)}}function XH(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let c4=0;class ke{constructor(e,n,r,i,o){this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=i,this.id=c4++,this.default=e([]),this.extensions=typeof o=="function"?o(this):o}get reader(){return this}static define(e={}){return new ke(e.combine||(n=>n),e.compareInput||((n,r)=>n===r),e.compare||(e.combine?(n,r)=>n===r:u4),!!e.static,e.enables)}of(e){return new ax([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new ax(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new ax(e,this,2,n)}from(e,n){return n||(n=r=>r),this.compute([e],r=>n(r.field(e)))}}function u4(t,e){return t==e||t.length==e.length&&t.every((n,r)=>n===e[r])}class ax{constructor(e,n,r,i){this.dependencies=e,this.facet=n,this.type=r,this.value=i,this.id=c4++}dynamicSlot(e){var n;let r=this.value,i=this.facet.compareInput,o=this.id,s=e[o]>>1,a=this.type==2,l=!1,c=!1,u=[];for(let h of this.dependencies)h=="doc"?l=!0:h=="selection"?c=!0:((n=e[h.id])!==null&&n!==void 0?n:1)&1||u.push(e[h.id]);return{create(h){return h.values[s]=r(h),1},update(h,d){if(l&&d.docChanged||c&&(d.docChanged||d.selection)||hS(h,u)){let f=r(h);if(a?!UP(f,h.values[s],i):!i(f,h.values[s]))return h.values[s]=f,1}return 0},reconfigure:(h,d)=>{let f,p=d.config.address[o];if(p!=null){let m=Vv(d,p);if(this.dependencies.every(x=>x instanceof ke?d.facet(x)===h.facet(x):x instanceof ir?d.field(x,!1)==h.field(x,!1):!0)||(a?UP(f=r(h),m,i):i(f=r(h),m)))return h.values[s]=m,0}else f=r(h);return h.values[s]=f,1}}}}function UP(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function hS(t,e){let n=!1;for(let r of e)Hp(t,r)&1&&(n=!0);return n}function TCe(t,e,n){let r=n.map(l=>t[l.id]),i=n.map(l=>l.type),o=r.filter(l=>!(l&1)),s=t[e.id]>>1;function a(l){let c=[];for(let u=0;u<r.length;u++){let h=Vv(l,r[u]);if(i[u]==2)for(let d of h)c.push(d);else c.push(h)}return e.combine(c)}return{create(l){for(let c of r)Hp(l,c);return l.values[s]=a(l),1},update(l,c){if(!hS(l,o))return 0;let u=a(l);return e.compare(u,l.values[s])?0:(l.values[s]=u,1)},reconfigure(l,c){let u=hS(l,r),h=c.config.facets[e.id],d=c.facet(e);if(h&&!u&&u4(n,h))return l.values[s]=d,0;let f=a(l);return e.compare(f,d)?(l.values[s]=d,0):(l.values[s]=f,1)}}}const WP=ke.define({static:!0});class ir{constructor(e,n,r,i,o){this.id=e,this.createF=n,this.updateF=r,this.compareF=i,this.spec=o,this.provides=void 0}static define(e){let n=new ir(c4++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(WP).find(r=>r.field==this);return((n==null?void 0:n.create)||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,i)=>{let o=r.values[n],s=this.updateF(o,i);return this.compareF(o,s)?0:(r.values[n]=s,1)},reconfigure:(r,i)=>i.config.address[this.id]!=null?(r.values[n]=i.field(this),0):(r.values[n]=this.create(r),1)}}init(e){return[this,WP.of({field:this,create:e})]}get extension(){return this}}const Vc={lowest:4,low:3,default:2,high:1,highest:0};function zf(t){return e=>new YH(e,t)}const wc={highest:zf(Vc.highest),high:zf(Vc.high),default:zf(Vc.default),low:zf(Vc.low),lowest:zf(Vc.lowest)};class YH{constructor(e,n){this.inner=e,this.prec=n}}class j_{of(e){return new dS(this,e)}reconfigure(e){return j_.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class dS{constructor(e,n){this.compartment=e,this.inner=n}}class Bv{constructor(e,n,r,i,o,s){for(this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=o,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,r){let i=[],o=Object.create(null),s=new Map;for(let d of ACe(e,n,s))d instanceof ir?i.push(d):(o[d.facet.id]||(o[d.facet.id]=[])).push(d);let a=Object.create(null),l=[],c=[];for(let d of i)a[d.id]=c.length<<1,c.push(f=>d.slot(f));let u=r==null?void 0:r.config.facets;for(let d in o){let f=o[d],p=f[0].facet,m=u&&u[d]||[];if(f.every(x=>x.type==0))if(a[p.id]=l.length<<1|1,u4(m,f))l.push(r.facet(p));else{let x=p.combine(f.map(v=>v.value));l.push(r&&p.compare(x,r.facet(p))?r.facet(p):x)}else{for(let x of f)x.type==0?(a[x.id]=l.length<<1|1,l.push(x.value)):(a[x.id]=c.length<<1,c.push(v=>x.dynamicSlot(v)));a[p.id]=c.length<<1,c.push(x=>TCe(x,p,f))}}let h=c.map(d=>d(a));return new Bv(e,s,h,a,l,o)}}function ACe(t,e,n){let r=[[],[],[],[],[]],i=new Map;function o(s,a){let l=i.get(s);if(l!=null){if(l<=a)return;let c=r[l].indexOf(s);c>-1&&r[l].splice(c,1),s instanceof dS&&n.delete(s.compartment)}if(i.set(s,a),Array.isArray(s))for(let c of s)o(c,a);else if(s instanceof dS){if(n.has(s.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=e.get(s.compartment)||s.inner;n.set(s.compartment,c),o(c,a)}else if(s instanceof YH)o(s.inner,s.prec);else if(s instanceof ir)r[a].push(s),s.provides&&o(s.provides,a);else if(s instanceof ax)r[a].push(s),s.facet.extensions&&o(s.facet.extensions,Vc.default);else{let c=s.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${s}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(c,a)}}return o(t,Vc.default),r.reduce((s,a)=>s.concat(a))}function Hp(t,e){if(e&1)return 2;let n=e>>1,r=t.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;t.status[n]=4;let i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function Vv(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const ZH=ke.define(),fS=ke.define({combine:t=>t.some(e=>e),static:!0}),eU=ke.define({combine:t=>t.length?t[0]:void 0,static:!0}),tU=ke.define(),nU=ke.define(),rU=ke.define(),iU=ke.define({combine:t=>t.length?t[0]:!1});class Oa{constructor(e,n){this.type=e,this.value=n}static define(){return new ICe}}class ICe{of(e){return new Oa(this,e)}}class RCe{constructor(e){this.map=e}of(e){return new et(this,e)}}class et{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new et(this.type,n)}is(e){return this.type==e}static define(e={}){return new RCe(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let r=[];for(let i of e){let o=i.map(n);o&&r.push(o)}return r}}et.reconfigure=et.define();et.appendConfig=et.define();class On{constructor(e,n,r,i,o,s){this.startState=e,this.changes=n,this.selection=r,this.effects=i,this.annotations=o,this.scrollIntoView=s,this._doc=null,this._state=null,r&&XH(r,n.newLength),o.some(a=>a.type==On.time)||(this.annotations=o.concat(On.time.of(Date.now())))}static create(e,n,r,i,o,s){return new On(e,n,r,i,o,s)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(On.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}On.time=Oa.define();On.userEvent=Oa.define();On.addToHistory=Oa.define();On.remote=Oa.define();function PCe(t,e){let n=[];for(let r=0,i=0;;){let o,s;if(r<t.length&&(i==e.length||e[i]>=t[r]))o=t[r++],s=t[r++];else if(i<e.length)o=e[i++],s=e[i++];else return n;!n.length||n[n.length-1]<o?n.push(o,s):n[n.length-1]<s&&(n[n.length-1]=s)}}function oU(t,e,n){var r;let i,o,s;return n?(i=e.changes,o=$n.empty(e.changes.length),s=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),o=t.changes.mapDesc(e.changes,!0),s=t.changes.compose(i)),{changes:s,selection:e.selection?e.selection.map(o):(r=t.selection)===null||r===void 0?void 0:r.map(i),effects:et.mapEffects(t.effects,i).concat(et.mapEffects(e.effects,o)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function pS(t,e,n){let r=e.selection,i=sd(e.annotations);return e.userEvent&&(i=i.concat(On.userEvent.of(e.userEvent))),{changes:e.changes instanceof $n?e.changes:$n.of(e.changes||[],n,t.facet(eU)),selection:r&&(r instanceof se?r:se.single(r.anchor,r.head)),effects:sd(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function sU(t,e,n){let r=pS(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let o=1;o<e.length;o++){e[o].filter===!1&&(n=!1);let s=!!e[o].sequential;r=oU(r,pS(t,e[o],s?r.changes.newLength:t.doc.length),s)}let i=On.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return MCe(n?DCe(i):i)}function DCe(t){let e=t.startState,n=!0;for(let i of e.facet(tU)){let o=i(t);if(o===!1){n=!1;break}Array.isArray(o)&&(n=n===!0?o:PCe(n,o))}if(n!==!0){let i,o;if(n===!1)o=t.changes.invertedDesc,i=$n.empty(e.doc.length);else{let s=t.changes.filter(n);i=s.changes,o=s.filtered.mapDesc(s.changes).invertedDesc}t=On.create(e,i,t.selection&&t.selection.map(o),et.mapEffects(t.effects,o),t.annotations,t.scrollIntoView)}let r=e.facet(nU);for(let i=r.length-1;i>=0;i--){let o=r[i](t);o instanceof On?t=o:Array.isArray(o)&&o.length==1&&o[0]instanceof On?t=o[0]:t=sU(e,sd(o),!1)}return t}function MCe(t){let e=t.startState,n=e.facet(rU),r=t;for(let i=n.length-1;i>=0;i--){let o=n[i](t);o&&Object.keys(o).length&&(r=oU(r,pS(e,o,t.changes.newLength),!0))}return r==t?t:On.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}const NCe=[];function sd(t){return t==null?NCe:Array.isArray(t)?t:[t]}var rn=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(rn||(rn={}));const OCe=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let mS;try{mS=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function LCe(t){if(mS)return mS.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||OCe.test(n)))return!0}return!1}function FCe(t){return e=>{if(!/\S/.test(e))return rn.Space;if(LCe(e))return rn.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return rn.Word;return rn.Other}}class _t{constructor(e,n,r,i,o,s){this.config=e,this.doc=n,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=o,s&&(s._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)Hp(this,a<<1);this.computeSlot=null}field(e,n=!0){let r=this.config.address[e.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return Hp(this,r),Vv(this,r)}update(...e){return sU(this,e,!0)}applyTransaction(e){let n=this.config,{base:r,compartments:i}=n;for(let a of e.effects)a.is(j_.reconfigure)?(n&&(i=new Map,n.compartments.forEach((l,c)=>i.set(c,l)),n=null),i.set(a.value.compartment,a.value.extension)):a.is(et.reconfigure)?(n=null,r=a.value):a.is(et.appendConfig)&&(n=null,r=sd(r).concat(a.value));let o;n?o=e.startState.values.slice():(n=Bv.resolve(r,i,this),o=new _t(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(l,c)=>c.reconfigure(l,this),null).values);let s=e.startState.facet(fS)?e.newSelection:e.newSelection.asSingle();new _t(n,e.newDoc,s,o,(a,l)=>l.update(a,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:se.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,r=e(n.ranges[0]),i=this.changes(r.changes),o=[r.range],s=sd(r.effects);for(let a=1;a<n.ranges.length;a++){let l=e(n.ranges[a]),c=this.changes(l.changes),u=c.map(i);for(let d=0;d<a;d++)o[d]=o[d].map(u);let h=i.mapDesc(c,!0);o.push(l.range.map(h)),i=i.compose(u),s=et.mapEffects(s,u).concat(et.mapEffects(sd(l.effects),h))}return{changes:i,selection:se.create(o,n.mainIndex),effects:s}}changes(e=[]){return e instanceof $n?e:$n.of(e,this.doc.length,this.facet(_t.lineSeparator))}toText(e){return Rt.of(e.split(this.facet(_t.lineSeparator)||lS))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(Hp(this,n),Vv(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof ir&&this.config.address[i.id]!=null&&(n[r]=i.spec.toJSON(this.field(e[r]),this))}return n}static fromJSON(e,n={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let o in r)if(Object.prototype.hasOwnProperty.call(e,o)){let s=r[o],a=e[o];i.push(s.init(l=>s.spec.fromJSON(a,l)))}}return _t.create({doc:e.doc,selection:se.fromJSON(e.selection),extensions:n.extensions?i.concat([n.extensions]):i})}static create(e={}){let n=Bv.resolve(e.extensions||[],new Map),r=e.doc instanceof Rt?e.doc:Rt.of((e.doc||"").split(n.staticFacet(_t.lineSeparator)||lS)),i=e.selection?e.selection instanceof se?e.selection:se.single(e.selection.anchor,e.selection.head):se.single(0);return XH(i,r.length),n.staticFacet(fS)||(i=i.asSingle()),new _t(n,r,i,n.dynamicSlots.map(()=>null),(o,s)=>s.create(o),null)}get tabSize(){return this.facet(_t.tabSize)}get lineBreak(){return this.facet(_t.lineSeparator)||`
`}get readOnly(){return this.facet(iU)}phrase(e,...n){for(let r of this.facet(_t.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let o=+(i||1);return!o||o>n.length?r:n[o-1]})),e}languageDataAt(e,n,r=-1){let i=[];for(let o of this.facet(ZH))for(let s of o(this,n,r))Object.prototype.hasOwnProperty.call(s,e)&&i.push(s[e]);return i}charCategorizer(e){return FCe(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:n,from:r,length:i}=this.doc.lineAt(e),o=this.charCategorizer(e),s=e-r,a=e-r;for(;s>0;){let l=xr(n,s,!1);if(o(n.slice(l,s))!=rn.Word)break;s=l}for(;a<i;){let l=xr(n,a);if(o(n.slice(a,l))!=rn.Word)break;a=l}return s==a?null:se.range(s+r,a+r)}}_t.allowMultipleSelections=fS;_t.tabSize=ke.define({combine:t=>t.length?t[0]:4});_t.lineSeparator=eU;_t.readOnly=iU;_t.phrases=ke.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every(i=>t[i]==e[i])}});_t.languageData=ZH;_t.changeFilter=tU;_t.transactionFilter=nU;_t.transactionExtender=rU;j_.reconfigure=et.define();function Fs(t,e,n={}){let r={};for(let i of t)for(let o of Object.keys(i)){let s=i[o],a=r[o];if(a===void 0)r[o]=s;else if(!(a===s||s===void 0))if(Object.hasOwnProperty.call(n,o))r[o]=n[o](a,s);else throw new Error("Config merge conflict for field "+o)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class Su{eq(e){return this==e}range(e,n=e){return gS.create(e,n,this)}}Su.prototype.startSide=Su.prototype.endSide=0;Su.prototype.point=!1;Su.prototype.mapMode=pr.TrackDel;let gS=class aU{constructor(e,n,r){this.from=e,this.to=n,this.value=r}static create(e,n,r){return new aU(e,n,r)}};function xS(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class h4{constructor(e,n,r,i){this.from=e,this.to=n,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,n,r,i=0){let o=r?this.to:this.from;for(let s=i,a=o.length;;){if(s==a)return s;let l=s+a>>1,c=o[l]-e||(r?this.value[l].endSide:this.value[l].startSide)-n;if(l==s)return c>=0?s:a;c>=0?a=l:s=l+1}}between(e,n,r,i){for(let o=this.findIndex(n,-1e9,!0),s=this.findIndex(r,1e9,!1,o);o<s;o++)if(i(this.from[o]+e,this.to[o]+e,this.value[o])===!1)return!1}map(e,n){let r=[],i=[],o=[],s=-1,a=-1;for(let l=0;l<this.value.length;l++){let c=this.value[l],u=this.from[l]+e,h=this.to[l]+e,d,f;if(u==h){let p=n.mapPos(u,c.startSide,c.mapMode);if(p==null||(d=f=p,c.startSide!=c.endSide&&(f=n.mapPos(u,c.endSide),f<d)))continue}else if(d=n.mapPos(u,c.startSide),f=n.mapPos(h,c.endSide),d>f||d==f&&c.startSide>0&&c.endSide<=0)continue;(f-d||c.endSide-c.startSide)<0||(s<0&&(s=d),c.point&&(a=Math.max(a,f-d)),r.push(c),i.push(d-s),o.push(f-s))}return{mapped:r.length?new h4(i,o,r,a):null,pos:s}}}class bt{constructor(e,n,r,i){this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=i}static create(e,n,r,i){return new bt(e,n,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:r=!1,filterFrom:i=0,filterTo:o=this.length}=e,s=e.filter;if(n.length==0&&!s)return this;if(r&&(n=n.slice().sort(xS)),this.isEmpty)return n.length?bt.of(n):this;let a=new lU(this,null,-1).goto(0),l=0,c=[],u=new rc;for(;a.value||l<n.length;)if(l<n.length&&(a.from-n[l].from||a.startSide-n[l].value.startSide)>=0){let h=n[l++];u.addInner(h.from,h.to,h.value)||c.push(h)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==n.length||this.chunkEnd(a.chunkIndex)<n[l].from)&&(!s||i>this.chunkEnd(a.chunkIndex)||o<this.chunkPos[a.chunkIndex])&&u.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!s||i>a.to||o<a.from||s(a.from,a.to,a.value))&&(u.addInner(a.from,a.to,a.value)||c.push(gS.create(a.from,a.to,a.value))),a.next());return u.finishInner(this.nextLayer.isEmpty&&!c.length?bt.empty:this.nextLayer.update({add:c,filter:s,filterFrom:i,filterTo:o}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],r=[],i=-1;for(let s=0;s<this.chunk.length;s++){let a=this.chunkPos[s],l=this.chunk[s],c=e.touchesRange(a,a+l.length);if(c===!1)i=Math.max(i,l.maxPoint),n.push(l),r.push(e.mapPos(a));else if(c===!0){let{mapped:u,pos:h}=l.map(a,e);u&&(i=Math.max(i,u.maxPoint),n.push(u),r.push(h))}}let o=this.nextLayer.map(e);return n.length==0?o:new bt(r,n,o||bt.empty,i)}between(e,n,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let o=this.chunkPos[i],s=this.chunk[i];if(n>=o&&e<=o+s.length&&s.between(o,e-o,n-o,r)===!1)return}this.nextLayer.between(e,n,r)}}iter(e=0){return V0.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return V0.from(e).goto(n)}static compare(e,n,r,i,o=-1){let s=e.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=o),a=n.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=o),l=qP(s,a,r),c=new $f(s,l,o),u=new $f(a,l,o);r.iterGaps((h,d,f)=>KP(c,h,u,d,f,i)),r.empty&&r.length==0&&KP(c,0,u,0,0,i)}static eq(e,n,r=0,i){i==null&&(i=999999999);let o=e.filter(u=>!u.isEmpty&&n.indexOf(u)<0),s=n.filter(u=>!u.isEmpty&&e.indexOf(u)<0);if(o.length!=s.length)return!1;if(!o.length)return!0;let a=qP(o,s),l=new $f(o,a,0).goto(r),c=new $f(s,a,0).goto(r);for(;;){if(l.to!=c.to||!vS(l.active,c.active)||l.point&&(!c.point||!l.point.eq(c.point)))return!1;if(l.to>i)return!0;l.next(),c.next()}}static spans(e,n,r,i,o=-1){let s=new $f(e,null,o).goto(n),a=n,l=s.openStart;for(;;){let c=Math.min(s.to,r);if(s.point){let u=s.activeForPoint(s.to),h=s.pointFrom<n?u.length+1:s.point.startSide<0?u.length:Math.min(u.length,l);i.point(a,c,s.point,u,h,s.pointRank),l=Math.min(s.openEnd(c),u.length)}else c>a&&(i.span(a,c,s.active,l),l=s.openEnd(c));if(s.to>r)return l+(s.point&&s.to>r?1:0);a=s.to,s.next()}}static of(e,n=!1){let r=new rc;for(let i of e instanceof gS?[e]:n?BCe(e):e)r.add(i.from,i.to,i.value);return r.finish()}static join(e){if(!e.length)return bt.empty;let n=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let i=e[r];i!=bt.empty;i=i.nextLayer)n=new bt(i.chunkPos,i.chunk,n,Math.max(i.maxPoint,n.maxPoint));return n}}bt.empty=new bt([],[],null,-1);function BCe(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(xS(e,r)>0)return t.slice().sort(xS);e=r}return t}bt.empty.nextLayer=bt.empty;class rc{finishChunk(e){this.chunks.push(new h4(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new rc)).add(e,n,r)}addInner(e,n,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}finish(){return this.finishInner(bt.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=bt.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function qP(t,e,n){let r=new Map;for(let o of t)for(let s=0;s<o.chunk.length;s++)o.chunk[s].maxPoint<=0&&r.set(o.chunk[s],o.chunkPos[s]);let i=new Set;for(let o of e)for(let s=0;s<o.chunk.length;s++){let a=r.get(o.chunk[s]);a!=null&&(n?n.mapPos(a):a)==o.chunkPos[s]&&!(n!=null&&n.touchesRange(a,a+o.chunk[s].length))&&i.add(o.chunk[s])}return i}class lU{constructor(e,n,r,i=0){this.layer=e,this.skip=n,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class V0{constructor(e){this.heap=e}static from(e,n=null,r=-1){let i=[];for(let o=0;o<e.length;o++)for(let s=e[o];!s.isEmpty;s=s.nextLayer)s.maxPoint>=r&&i.push(new lU(s,n,r,o));return i.length==1?i[0]:new V0(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let r of this.heap)r.goto(e,n);for(let r=this.heap.length>>1;r>=0;r--)hC(this.heap,r);return this.next(),this}forward(e,n){for(let r of this.heap)r.forward(e,n);for(let r=this.heap.length>>1;r>=0;r--)hC(this.heap,r);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),hC(this.heap,0)}}}function hC(t,e){for(let n=t[e];;){let r=(e<<1)+1;if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}class $f{constructor(e,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=V0.from(e,n,r)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){o1(this.active,e),o1(this.activeTo,e),o1(this.activeRank,e),this.minActive=GP(this.active,this.activeTo)}addActive(e){let n=0,{value:r,to:i,rank:o}=this.cursor;for(;n<this.activeRank.length&&(o-this.activeRank[n]||i-this.activeTo[n])>0;)n++;s1(this.active,n,r),s1(this.activeTo,n,i),s1(this.activeRank,n,o),e&&s1(e,n,this.cursor.from),this.minActive=GP(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&o1(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let o=this.cursor.value;if(!o.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(e){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}}function KP(t,e,n,r,i,o){t.goto(e),n.goto(r);let s=r+i,a=r,l=r-e;for(;;){let c=t.to+l-n.to||t.endSide-n.endSide,u=c<0?t.to+l:n.to,h=Math.min(u,s);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&vS(t.activeForPoint(t.to),n.activeForPoint(n.to))||o.comparePoint(a,h,t.point,n.point):h>a&&!vS(t.active,n.active)&&o.compareRange(a,h,t.active,n.active),u>s)break;a=u,c<=0&&t.next(),c>=0&&n.next()}}function vS(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function o1(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function s1(t,e,n){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function GP(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}function lf(t,e,n=t.length){let r=0;for(let i=0;i<n;)t.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=xr(t,i));return r}function yS(t,e,n,r){for(let i=0,o=0;;){if(o>=e)return i;if(i==t.length)break;o+=t.charCodeAt(i)==9?n-o%n:1,i=xr(t,i)}return r===!0?-1:t.length}const _S="ͼ",JP=typeof Symbol>"u"?"__"+_S:Symbol.for(_S),wS=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),QP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class ic{constructor(e,n){this.rules=[];let{finish:r}=n||{};function i(s){return/^@/.test(s)?[s]:s.split(/,\s*/)}function o(s,a,l,c){let u=[],h=/^@(\w+)\b/.exec(s[0]),d=h&&h[1]=="keyframes";if(h&&a==null)return l.push(s[0]+";");for(let f in a){let p=a[f];if(/&/.test(f))o(f.split(/,\s*/).map(m=>s.map(x=>m.replace(/&/,x))).reduce((m,x)=>m.concat(x)),p,l);else if(p&&typeof p=="object"){if(!h)throw new RangeError("The value of a property ("+f+") should be a primitive value.");o(i(f),p,u,d)}else p!=null&&u.push(f.replace(/_.*/,"").replace(/[A-Z]/g,m=>"-"+m.toLowerCase())+": "+p+";")}(u.length||d)&&l.push((r&&!h&&!c?s.map(r):s).join(", ")+" {"+u.join(" ")+"}")}for(let s in e)o(i(s),e[s],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=QP[JP]||1;return QP[JP]=e+1,_S+e.toString(36)}static mount(e,n,r){let i=e[wS],o=r&&r.nonce;i?o&&i.setNonce(o):i=new VCe(e,o),i.mount(Array.isArray(n)?n:[n],e)}}let XP=new Map;class VCe{constructor(e,n){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let o=XP.get(r);if(o)return e[wS]=o;this.sheet=new i.CSSStyleSheet,XP.set(r,this)}else this.styleTag=r.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);this.modules=[],e[wS]=this}mount(e,n){let r=this.sheet,i=0,o=0;for(let s=0;s<e.length;s++){let a=e[s],l=this.modules.indexOf(a);if(l<o&&l>-1&&(this.modules.splice(l,1),o--,l=-1),l==-1){if(this.modules.splice(o++,0,a),r)for(let c=0;c<a.rules.length;c++)r.insertRule(a.rules[c],i++)}else{for(;o<l;)i+=this.modules[o++].rules.length;i+=a.rules.length,o++}}if(r)n.adoptedStyleSheets.indexOf(this.sheet)<0&&(n.adoptedStyleSheets=[this.sheet,...n.adoptedStyleSheets]);else{let s="";for(let l=0;l<this.modules.length;l++)s+=this.modules[l].getRules()+`
`;this.styleTag.textContent=s;let a=n.head||n;this.styleTag.parentNode!=a&&a.insertBefore(this.styleTag,a.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var oc={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},j0={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},jCe=typeof navigator<"u"&&/Mac/.test(navigator.platform),zCe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var dr=0;dr<10;dr++)oc[48+dr]=oc[96+dr]=String(dr);for(var dr=1;dr<=24;dr++)oc[dr+111]="F"+dr;for(var dr=65;dr<=90;dr++)oc[dr]=String.fromCharCode(dr+32),j0[dr]=String.fromCharCode(dr);for(var dC in oc)j0.hasOwnProperty(dC)||(j0[dC]=oc[dC]);function $Ce(t){var e=jCe&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||zCe&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?j0:oc)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function z0(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function CS(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function HCe(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function lx(t,e){if(!e.anchorNode)return!1;try{return CS(t,e.anchorNode)}catch{return!1}}function $0(t){return t.nodeType==3?Tu(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function Up(t,e,n,r){return n?YP(t,e,n,r,-1)||YP(t,e,n,r,1):!1}function ku(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function jv(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function YP(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Ea(t))){if(t.nodeName=="DIV")return!1;let o=t.parentNode;if(!o||o.nodeType!=1)return!1;e=ku(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=i<0?Ea(t):0}else return!1}}function Ea(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function z_(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function UCe(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function cU(t,e){let n=e.width/t.offsetWidth,r=e.height/t.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-t.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-t.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}function WCe(t,e,n,r,i,o,s,a){let l=t.ownerDocument,c=l.defaultView||window;for(let u=t,h=!1;u&&!h;)if(u.nodeType==1){let d,f=u==l.body,p=1,m=1;if(f)d=UCe(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(u).position)&&(h=!0),u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.assignedSlot||u.parentNode;continue}let y=u.getBoundingClientRect();({scaleX:p,scaleY:m}=cU(u,y)),d={left:y.left,right:y.left+u.clientWidth*p,top:y.top,bottom:y.top+u.clientHeight*m}}let x=0,v=0;if(i=="nearest")e.top<d.top?(v=-(d.top-e.top+s),n>0&&e.bottom>d.bottom+v&&(v=e.bottom-d.bottom+v+s)):e.bottom>d.bottom&&(v=e.bottom-d.bottom+s,n<0&&e.top-v<d.top&&(v=-(d.top+v-e.top+s)));else{let y=e.bottom-e.top,_=d.bottom-d.top;v=(i=="center"&&y<=_?e.top+y/2-_/2:i=="start"||i=="center"&&n<0?e.top-s:e.bottom-_+s)-d.top}if(r=="nearest"?e.left<d.left?(x=-(d.left-e.left+o),n>0&&e.right>d.right+x&&(x=e.right-d.right+x+o)):e.right>d.right&&(x=e.right-d.right+o,n<0&&e.left<d.left+x&&(x=-(d.left+x-e.left+o))):x=(r=="center"?e.left+(e.right-e.left)/2-(d.right-d.left)/2:r=="start"==a?e.left-o:e.right-(d.right-d.left)+o)-d.left,x||v)if(f)c.scrollBy(x,v);else{let y=0,_=0;if(v){let C=u.scrollTop;u.scrollTop+=v/m,_=(u.scrollTop-C)*m}if(x){let C=u.scrollLeft;u.scrollLeft+=x/p,y=(u.scrollLeft-C)*p}e={left:e.left-y,top:e.top-_,right:e.right-y,bottom:e.bottom-_},y&&Math.abs(y-x)<1&&(r="nearest"),_&&Math.abs(_-v)<1&&(i="nearest")}if(f)break;u=u.assignedSlot||u.parentNode}else if(u.nodeType==11)u=u.host;else break}function qCe(t){let e=t.ownerDocument,n,r;for(let i=t.parentNode;i&&!(i==e.body||n&&r);)if(i.nodeType==1)!r&&i.scrollHeight>i.clientHeight&&(r=i),!n&&i.scrollWidth>i.clientWidth&&(n=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:n,y:r}}class KCe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:n,focusNode:r}=e;this.set(n,Math.min(e.anchorOffset,n?Ea(n):0),r,Math.min(e.focusOffset,r?Ea(r):0))}set(e,n,r,i){this.anchorNode=e,this.anchorOffset=n,this.focusNode=r,this.focusOffset=i}}let hh=null;function uU(t){if(t.setActive)return t.setActive();if(hh)return t.focus(hh);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(hh==null?{get preventScroll(){return hh={preventScroll:!0},!0}}:void 0),!hh){hh=!1;for(let n=0;n<e.length;){let r=e[n++],i=e[n++],o=e[n++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=o&&(r.scrollLeft=o)}}}let ZP;function Tu(t,e,n=e){let r=ZP||(ZP=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function ad(t,e,n,r){let i={key:e,code:e,keyCode:n,which:n,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let o=new KeyboardEvent("keydown",i);o.synthetic=!0,t.dispatchEvent(o);let s=new KeyboardEvent("keyup",i);return s.synthetic=!0,t.dispatchEvent(s),o.defaultPrevented||s.defaultPrevented}function GCe(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function hU(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function JCe(t,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(r=Math.min(r,Ea(n));;)if(r){if(n.nodeType!=1)return!1;let i=n.childNodes[r-1];i.contentEditable=="false"?r--:(n=i,r=Ea(n))}else{if(n==t)return!0;r=ku(n),n=n.parentNode}}function dU(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function fU(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r>0)return{node:n,offset:r};if(n.nodeType==1&&r>0){if(n.contentEditable=="false")return null;n=n.childNodes[r-1],r=Ea(n)}else if(n.parentNode&&!jv(n))r=ku(n),n=n.parentNode;else return null}}function pU(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r<n.nodeValue.length)return{node:n,offset:r};if(n.nodeType==1&&r<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[r],r=0}else if(n.parentNode&&!jv(n))r=ku(n)+1,n=n.parentNode;else return null}}class Nr{constructor(e,n,r=!0){this.node=e,this.offset=n,this.precise=r}static before(e,n){return new Nr(e.parentNode,ku(e),n)}static after(e,n){return new Nr(e.parentNode,ku(e)+1,n)}}const d4=[];class Bt{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let n=this.posAtStart;for(let r of this.children){if(r==e)return n;n+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,n){if(this.flags&2){let r=this.dom,i=null,o;for(let s of this.children){if(s.flags&7){if(!s.dom&&(o=i?i.nextSibling:r.firstChild)){let a=Bt.get(o);(!a||!a.parent&&a.canReuseDOM(s))&&s.reuseDOM(o)}s.sync(e,n),s.flags&=-8}if(o=i?i.nextSibling:r.firstChild,n&&!n.written&&n.node==r&&o!=s.dom&&(n.written=!0),s.dom.parentNode==r)for(;o&&o!=s.dom;)o=eD(o);else r.insertBefore(s.dom,o);i=s.dom}for(o=i?i.nextSibling:r.firstChild,o&&n&&n.node==r&&(n.written=!0);o;)o=eD(o)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(e,n),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,n){let r;if(e==this.dom)r=this.dom.childNodes[n];else{let i=Ea(e)==0?0:n==0?-1:1;for(;;){let o=e.parentNode;if(o==this.dom)break;i==0&&o.firstChild!=o.lastChild&&(e==o.firstChild?i=-1:i=1),e=o}i<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!Bt.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,o=0;;i++){let s=this.children[i];if(s.dom==r)return o;o+=s.length+s.breakAfter}}domBoundsAround(e,n,r=0){let i=-1,o=-1,s=-1,a=-1;for(let l=0,c=r,u=r;l<this.children.length;l++){let h=this.children[l],d=c+h.length;if(c<e&&d>n)return h.domBoundsAround(e,n,c);if(d>=e&&i==-1&&(i=l,o=c),c>n&&h.dom.parentNode==this.dom){s=l,a=u;break}u=d,c=d+h.breakAfter}return{from:o,to:a<0?r+this.length:a,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let n=this.parent;n;n=n.parent){if(e&&(n.flags|=2),n.flags&1)return;n.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let n=e.parent;if(!n)return e;e=n}}replaceChildren(e,n,r=d4){this.markDirty();for(let i=e;i<n;i++){let o=this.children[i];o.parent==this&&r.indexOf(o)<0&&o.destroy()}this.children.splice(e,n-e,...r);for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new mU(this.children,e,this.children.length)}childPos(e,n=1){return this.childCursor().findPos(e,n)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,n,r,i,o,s){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}Bt.prototype.breakAfter=0;function eD(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class mU{constructor(e,n,r){this.children=e,this.pos=n,this.i=r,this.off=0}findPos(e,n=1){for(;;){if(e>this.pos||e==this.pos&&(n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function gU(t,e,n,r,i,o,s,a,l){let{children:c}=t,u=c.length?c[e]:null,h=o.length?o[o.length-1]:null,d=h?h.breakAfter:s;if(!(e==r&&u&&!s&&!d&&o.length<2&&u.merge(n,i,o.length?h:null,n==0,a,l))){if(r<c.length){let f=c[r];f&&(i<f.length||f.breakAfter&&(h!=null&&h.breakAfter))?(e==r&&(f=f.split(i),i=0),!d&&h&&f.merge(0,i,h,!0,0,l)?o[o.length-1]=f:((i||f.children.length&&!f.children[0].length)&&f.merge(0,i,null,!1,0,l),o.push(f))):f!=null&&f.breakAfter&&(h?h.breakAfter=1:s=1),r++}for(u&&(u.breakAfter=s,n>0&&(!s&&o.length&&u.merge(n,u.length,o[0],!1,a,0)?u.breakAfter=o.shift().breakAfter:(n<u.length||u.children.length&&u.children[u.children.length-1].length==0)&&u.merge(n,u.length,null,!1,a,0),e++));e<r&&o.length;)if(c[r-1].become(o[o.length-1]))r--,o.pop(),l=o.length?0:a;else if(c[e].become(o[0]))e++,o.shift(),a=o.length?0:l;else break;!o.length&&e&&r<c.length&&!c[e-1].breakAfter&&c[r].merge(0,0,c[e-1],!1,a,l)&&e--,(e<r||o.length)&&t.replaceChildren(e,r,o)}}function xU(t,e,n,r,i,o){let s=t.childCursor(),{i:a,off:l}=s.findPos(n,1),{i:c,off:u}=s.findPos(e,-1),h=e-n;for(let d of r)h+=d.length;t.length+=h,gU(t,c,u,a,l,r,0,i,o)}let di=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},bS=typeof document<"u"?document:{documentElement:{style:{}}};const ES=/Edge\/(\d+)/.exec(di.userAgent),vU=/MSIE \d/.test(di.userAgent),SS=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(di.userAgent),$_=!!(vU||SS||ES),tD=!$_&&/gecko\/(\d+)/i.test(di.userAgent),fC=!$_&&/Chrome\/(\d+)/.exec(di.userAgent),nD="webkitFontSmoothing"in bS.documentElement.style,yU=!$_&&/Apple Computer/.test(di.vendor),rD=yU&&(/Mobile\/\w+/.test(di.userAgent)||di.maxTouchPoints>2);var Ae={mac:rD||/Mac/.test(di.platform),windows:/Win/.test(di.platform),linux:/Linux|X11/.test(di.platform),ie:$_,ie_version:vU?bS.documentMode||6:SS?+SS[1]:ES?+ES[1]:0,gecko:tD,gecko_version:tD?+(/Firefox\/(\d+)/.exec(di.userAgent)||[0,0])[1]:0,chrome:!!fC,chrome_version:fC?+fC[1]:0,ios:rD,android:/Android\b/.test(di.userAgent),webkit:nD,safari:yU,webkit_version:nD?+(/\bAppleWebKit\/(\d+)/.exec(di.userAgent)||[0,0])[1]:0,tabSize:bS.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const QCe=256;class Wo extends Bt{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,n){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(n&&n.node==this.dom&&(n.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,n,r){return this.flags&8||r&&(!(r instanceof Wo)||this.length-(n-e)+r.length>QCe||r.flags&8)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(n),this.markDirty(),!0)}split(e){let n=new Wo(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),n.flags|=this.flags&8,n}localPosFromDOM(e,n){return e==this.dom?n:n?this.text.length:0}domAtPos(e){return new Nr(this.dom,e)}domBoundsAround(e,n,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,n){return XCe(this.dom,e,n)}}class Sa extends Bt{constructor(e,n=[],r=0){super(),this.mark=e,this.children=n,this.length=r;for(let i of n)i.setParent(this)}setAttrs(e){if(hU(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let n in this.mark.attrs)e.setAttribute(n,this.mark.attrs[n]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,n){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,n)}merge(e,n,r,i,o,s){return r&&(!(r instanceof Sa&&r.mark.eq(this.mark))||e&&o<=0||n<this.length&&s<=0)?!1:(xU(this,e,n,r?r.children.slice():[],o-1,s-1),this.markDirty(),!0)}split(e){let n=[],r=0,i=-1,o=0;for(let a of this.children){let l=r+a.length;l>e&&n.push(r<e?a.split(e-r):a),i<0&&r>=e&&(i=o),r=l,o++}let s=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new Sa(this.mark,n,s)}domAtPos(e){return _U(this,e)}coordsAt(e,n){return CU(this,e,n)}}function XCe(t,e,n){let r=t.nodeValue.length;e>r&&(e=r);let i=e,o=e,s=0;e==0&&n<0||e==r&&n>=0?Ae.chrome||Ae.gecko||(e?(i--,s=1):o<r&&(o++,s=-1)):n<0?i--:o<r&&o++;let a=Tu(t,i,o).getClientRects();if(!a.length)return null;let l=a[(s?s<0:n>=0)?0:a.length-1];return Ae.safari&&!s&&l.width==0&&(l=Array.prototype.find.call(a,c=>c.width)||l),s?z_(l,s<0):l||null}class El extends Bt{static create(e,n,r){return new El(e,n,r)}constructor(e,n,r){super(),this.widget=e,this.length=n,this.side=r,this.prevWidget=null}split(e){let n=El.create(this.widget,this.length-e,this.side);return this.length-=e,n}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,n,r,i,o,s){return r&&(!(r instanceof El)||!this.widget.compare(r.widget)||e>0&&o<=0||n<this.length&&s<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}become(e){return e instanceof El&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Rt.empty;let e=this;for(;e.parent;)e=e.parent;let{view:n}=e,r=n&&n.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):Rt.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Nr.before(this.dom):Nr.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);if(r)return r;let i=this.dom.getClientRects(),o=null;if(!i.length)return null;let s=this.side?this.side<0:e>0;for(let a=s?i.length-1:0;o=i[a],!(e>0?a==0:a==i.length-1||o.top<o.bottom);a+=s?-1:1);return z_(o,!s)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class Nd extends Bt{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof Nd&&e.side==this.side}split(){return new Nd(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Nr.before(this.dom):Nr.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Rt.empty}get isHidden(){return!0}}Wo.prototype.children=El.prototype.children=Nd.prototype.children=d4;function _U(t,e){let n=t.dom,{children:r}=t,i=0;for(let o=0;i<r.length;i++){let s=r[i],a=o+s.length;if(!(a==o&&s.getSide()<=0)){if(e>o&&e<a&&s.dom.parentNode==n)return s.domAtPos(e-o);if(e<=o)break;o=a}}for(let o=i;o>0;o--){let s=r[o-1];if(s.dom.parentNode==n)return s.domAtPos(s.length)}for(let o=i;o<r.length;o++){let s=r[o];if(s.dom.parentNode==n)return s.domAtPos(0)}return new Nr(n,0)}function wU(t,e,n){let r,{children:i}=t;n>0&&e instanceof Sa&&i.length&&(r=i[i.length-1])instanceof Sa&&r.mark.eq(e.mark)?wU(r,e.children[0],n-1):(i.push(e),e.setParent(t)),t.length+=e.length}function CU(t,e,n){let r=null,i=-1,o=null,s=-1;function a(c,u){for(let h=0,d=0;h<c.children.length&&d<=u;h++){let f=c.children[h],p=d+f.length;p>=u&&(f.children.length?a(f,u-d):(!o||o.isHidden&&n>0)&&(p>u||d==p&&f.getSide()>0)?(o=f,s=u-d):(d<u||d==p&&f.getSide()<0&&!f.isHidden)&&(r=f,i=u-d)),d=p}}a(t,e);let l=(n<0?r:o)||r||o;return l?l.coordsAt(Math.max(0,l==r?i:s),n):YCe(t)}function YCe(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=$0(e);return n[n.length-1]||null}function kS(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}const iD=Object.create(null);function zv(t,e,n){if(t==e)return!0;t||(t=iD),e||(e=iD);let r=Object.keys(t),i=Object.keys(e);if(r.length-(n&&r.indexOf(n)>-1?1:0)!=i.length-(n&&i.indexOf(n)>-1?1:0))return!1;for(let o of r)if(o!=n&&(i.indexOf(o)==-1||t[o]!==e[o]))return!1;return!0}function TS(t,e,n){let r=!1;if(e)for(let i in e)n&&i in n||(r=!0,i=="style"?t.style.cssText="":t.removeAttribute(i));if(n)for(let i in n)e&&e[i]==n[i]||(r=!0,i=="style"?t.style.cssText=n[i]:t.setAttribute(i,n[i]));return r}function ZCe(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let r=t.attributes[n];e[r.name]=r.value}return e}class La{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,n,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var Zr=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(Zr||(Zr={}));class Fe extends Su{constructor(e,n,r,i){super(),this.startSide=e,this.endSide=n,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new Xm(e)}static widget(e){let n=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return n+=r&&!e.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new sc(e,n,n,r,e.widget||null,!1)}static replace(e){let n=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:o,end:s}=bU(e,n);r=(o?n?-3e8:-1:5e8)-1,i=(s?n?2e8:1:-6e8)+1}return new sc(e,r,i,n,e.widget||null,!0)}static line(e){return new Ym(e)}static set(e,n=!1){return bt.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Fe.none=bt.empty;class Xm extends Fe{constructor(e){let{start:n,end:r}=bU(e);super(n?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var n,r;return this==e||e instanceof Xm&&this.tagName==e.tagName&&(this.class||((n=this.attrs)===null||n===void 0?void 0:n.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&zv(this.attrs,e.attrs,"class")}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}Xm.prototype.point=!1;class Ym extends Fe{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Ym&&this.spec.class==e.spec.class&&zv(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}Ym.prototype.mapMode=pr.TrackBefore;Ym.prototype.point=!0;class sc extends Fe{constructor(e,n,r,i,o,s){super(n,r,o,e),this.block=i,this.isReplace=s,this.mapMode=i?n<=0?pr.TrackBefore:pr.TrackAfter:pr.TrackDel}get type(){return this.startSide!=this.endSide?Zr.WidgetRange:this.startSide<=0?Zr.WidgetBefore:Zr.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof sc&&ebe(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}sc.prototype.point=!0;function bU(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return n==null&&(n=t.inclusive),r==null&&(r=t.inclusive),{start:n??e,end:r??e}}function ebe(t,e){return t==e||!!(t&&e&&t.compare(e))}function AS(t,e,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=t?n[i]=Math.max(n[i],e):n.push(t,e)}class Mn extends Bt{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,n,r,i,o,s){if(r){if(!(r instanceof Mn))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),xU(this,e,n,r?r.children.slice():[],o,s),!0}split(e){let n=new Mn;if(n.breakAfter=this.breakAfter,this.length==0)return n;let{i:r,off:i}=this.childPos(e);i&&(n.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let o=r;o<this.children.length;o++)n.append(this.children[o],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,n}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){zv(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,n){wU(this,e,n)}addLineDeco(e){let n=e.spec.attributes,r=e.spec.class;n&&(this.attrs=kS(n,this.attrs||{})),r&&(this.attrs=kS({class:r},this.attrs||{}))}domAtPos(e){return _U(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,n){var r;this.dom?this.flags&4&&(hU(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(TS(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,n);let i=this.dom.lastChild;for(;i&&Bt.get(i)instanceof Sa;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((r=Bt.get(i))===null||r===void 0?void 0:r.isEditable)==!1&&(!Ae.ios||!this.children.some(o=>o instanceof Wo))){let o=document.createElement("BR");o.cmIgnore=!0,this.dom.appendChild(o)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,n;for(let r of this.children){if(!(r instanceof Wo)||/[^ -~]/.test(r.text))return null;let i=$0(r.dom);if(i.length!=1)return null;e+=i[0].width,n=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:n}:null}coordsAt(e,n){let r=CU(this,e,n);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,o=r.bottom-r.top;if(Math.abs(o-i.lineHeight)<2&&i.textHeight<o){let s=(o-i.textHeight)/2;return{top:r.top+s,bottom:r.bottom-s,left:r.left,right:r.left}}}return r}become(e){return e instanceof Mn&&this.children.length==0&&e.children.length==0&&zv(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,n){for(let r=0,i=0;r<e.children.length;r++){let o=e.children[r],s=i+o.length;if(s>=n){if(o instanceof Mn)return o;if(s>n)break}i=s+o.breakAfter}return null}}class ca extends Bt{constructor(e,n,r){super(),this.widget=e,this.length=n,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(e,n,r,i,o,s){return r&&(!(r instanceof ca)||!this.widget.compare(r.widget)||e>0&&o<=0||n<this.length&&s<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}domAtPos(e){return e==0?Nr.before(this.dom):Nr.after(this.dom,e==this.length)}split(e){let n=this.length-e;this.length=e;let r=new ca(this.widget,n,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return d4}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Rt.empty}domBoundsAround(){return null}become(e){return e instanceof ca&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);return r||(this.widget instanceof IS?null:z_(this.dom.getBoundingClientRect(),this.length?e==0:n<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:n,endSide:r}=this.deco;return n==r?!1:e<0?n<0:r>0}}class IS extends La{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class Wp{constructor(e,n,r,i){this.doc=e,this.pos=n,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=n}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof ca&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Mn),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(a1(new Nd(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof ca)&&this.getLine()}buildText(e,n,r){for(;e>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:s,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(s){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=o,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(n.slice(n.length-r)),this.getLine().append(a1(new Wo(this.text.slice(this.textOff,this.textOff+i)),n),r),this.atCursorPos=!0,this.textOff+=i,e-=i,r=0}}span(e,n,r,i){this.buildText(n-e,r,i),this.pos=n,this.openStart<0&&(this.openStart=i)}point(e,n,r,i,o,s){if(this.disallowBlockEffectsFor[s]&&r instanceof sc){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=n-e;if(r instanceof sc)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new ca(r.widget||Od.block,a,r));else{let l=El.create(r.widget||Od.inline,a,a?0:r.startSide),c=this.atCursorPos&&!l.isEditable&&o<=i.length&&(e<n||r.startSide>0),u=!l.isEditable&&(e<n||o>i.length||r.startSide<=0),h=this.getLine();this.pendingBuffer==2&&!c&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),c&&(h.append(a1(new Nd(1),i),o),o=i.length+Math.max(0,o-i.length)),h.append(a1(l,i),o),this.atCursorPos=u,this.pendingBuffer=u?e<n||o>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=o)}static build(e,n,r,i,o){let s=new Wp(e,n,r,o);return s.openEnd=bt.spans(i,n,r,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}}function a1(t,e){for(let n of e)t=new Sa(n,[t],t.length);return t}class Od extends La{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Od.inline=new Od("span");Od.block=new Od("div");var Yt=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(Yt||(Yt={}));const Au=Yt.LTR,f4=Yt.RTL;function EU(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const tbe=EU("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),nbe=EU("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),RS=Object.create(null),es=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);RS[e]=n,RS[n]=-e}function SU(t){return t<=247?tbe[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?nbe[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const rbe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Sl{get dir(){return this.level%2?f4:Au}constructor(e,n,r){this.from=e,this.to=n,this.level=r}side(e,n){return this.dir==n==e?this.to:this.from}forward(e,n){return e==(this.dir==n)}static find(e,n,r,i){let o=-1;for(let s=0;s<e.length;s++){let a=e[s];if(a.from<=n&&a.to>=n){if(a.level==r)return s;(o<0||(i!=0?i<0?a.from<n:a.to>n:e[o].level>a.level))&&(o=s)}}if(o<0)throw new RangeError("Index out of range");return o}}function kU(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!kU(r.inner,i.inner))return!1}return!0}const Ft=[];function ibe(t,e,n,r,i){for(let o=0;o<=r.length;o++){let s=o?r[o-1].to:e,a=o<r.length?r[o].from:n,l=o?256:i;for(let c=s,u=l,h=l;c<a;c++){let d=SU(t.charCodeAt(c));d==512?d=u:d==8&&h==4&&(d=16),Ft[c]=d==4?2:d,d&7&&(h=d),u=d}for(let c=s,u=l,h=l;c<a;c++){let d=Ft[c];if(d==128)c<a-1&&u==Ft[c+1]&&u&24?d=Ft[c]=u:Ft[c]=256;else if(d==64){let f=c+1;for(;f<a&&Ft[f]==64;)f++;let p=c&&u==8||f<n&&Ft[f]==8?h==1?1:8:256;for(let m=c;m<f;m++)Ft[m]=p;c=f-1}else d==8&&h==1&&(Ft[c]=1);u=d,d&7&&(h=d)}}}function obe(t,e,n,r,i){let o=i==1?2:1;for(let s=0,a=0,l=0;s<=r.length;s++){let c=s?r[s-1].to:e,u=s<r.length?r[s].from:n;for(let h=c,d,f,p;h<u;h++)if(f=RS[d=t.charCodeAt(h)])if(f<0){for(let m=a-3;m>=0;m-=3)if(es[m+1]==-f){let x=es[m+2],v=x&2?i:x&4?x&1?o:i:0;v&&(Ft[h]=Ft[es[m]]=v),a=m;break}}else{if(es.length==189)break;es[a++]=h,es[a++]=d,es[a++]=l}else if((p=Ft[h])==2||p==1){let m=p==i;l=m?0:1;for(let x=a-3;x>=0;x-=3){let v=es[x+2];if(v&2)break;if(m)es[x+2]|=2;else{if(v&4)break;es[x+2]|=4}}}}}function sbe(t,e,n,r){for(let i=0,o=r;i<=n.length;i++){let s=i?n[i-1].to:t,a=i<n.length?n[i].from:e;for(let l=s;l<a;){let c=Ft[l];if(c==256){let u=l+1;for(;;)if(u==a){if(i==n.length)break;u=n[i++].to,a=i<n.length?n[i].from:e}else if(Ft[u]==256)u++;else break;let h=o==1,d=(u<e?Ft[u]:r)==1,f=h==d?h?1:2:r;for(let p=u,m=i,x=m?n[m-1].to:t;p>l;)p==x&&(p=n[--m].from,x=m?n[m-1].to:t),Ft[--p]=f;l=u}else o=c,l++}}}function PS(t,e,n,r,i,o,s){let a=r%2?2:1;if(r%2==i%2)for(let l=e,c=0;l<n;){let u=!0,h=!1;if(c==o.length||l<o[c].from){let m=Ft[l];m!=a&&(u=!1,h=m==16)}let d=!u&&a==1?[]:null,f=u?r:r+1,p=l;e:for(;;)if(c<o.length&&p==o[c].from){if(h)break e;let m=o[c];if(!u)for(let x=m.to,v=c+1;;){if(x==n)break e;if(v<o.length&&o[v].from==x)x=o[v++].to;else{if(Ft[x]==a)break e;break}}if(c++,d)d.push(m);else{m.from>l&&s.push(new Sl(l,m.from,f));let x=m.direction==Au!=!(f%2);DS(t,x?r+1:r,i,m.inner,m.from,m.to,s),l=m.to}p=m.to}else{if(p==n||(u?Ft[p]!=a:Ft[p]==a))break;p++}d?PS(t,l,p,r+1,i,d,s):l<p&&s.push(new Sl(l,p,f)),l=p}else for(let l=n,c=o.length;l>e;){let u=!0,h=!1;if(!c||l>o[c-1].to){let m=Ft[l-1];m!=a&&(u=!1,h=m==16)}let d=!u&&a==1?[]:null,f=u?r:r+1,p=l;e:for(;;)if(c&&p==o[c-1].to){if(h)break e;let m=o[--c];if(!u)for(let x=m.from,v=c;;){if(x==e)break e;if(v&&o[v-1].to==x)x=o[--v].from;else{if(Ft[x-1]==a)break e;break}}if(d)d.push(m);else{m.to<l&&s.push(new Sl(m.to,l,f));let x=m.direction==Au!=!(f%2);DS(t,x?r+1:r,i,m.inner,m.from,m.to,s),l=m.from}p=m.from}else{if(p==e||(u?Ft[p-1]!=a:Ft[p-1]==a))break;p--}d?PS(t,p,l,r+1,i,d,s):p<l&&s.push(new Sl(p,l,f)),l=p}}function DS(t,e,n,r,i,o,s){let a=e%2?2:1;ibe(t,i,o,r,a),obe(t,i,o,r,a),sbe(i,o,r,a),PS(t,i,o,e,n,r,s)}function abe(t,e,n){if(!t)return[new Sl(0,0,e==f4?1:0)];if(e==Au&&!n.length&&!rbe.test(t))return TU(t.length);if(n.length)for(;t.length>Ft.length;)Ft[Ft.length]=256;let r=[],i=e==Au?0:1;return DS(t,i,i,n,0,t.length,r),r}function TU(t){return[new Sl(0,t,0)]}let AU="";function lbe(t,e,n,r,i){var o;let s=r.head-t.from,a=Sl.find(e,s,(o=r.bidiLevel)!==null&&o!==void 0?o:-1,r.assoc),l=e[a],c=l.side(i,n);if(s==c){let d=a+=i?1:-1;if(d<0||d>=e.length)return null;l=e[a=d],s=l.side(!i,n),c=l.side(i,n)}let u=xr(t.text,s,l.forward(i,n));(u<l.from||u>l.to)&&(u=c),AU=t.text.slice(Math.min(s,u),Math.max(s,u));let h=a==(i?e.length-1:0)?null:e[a+(i?1:-1)];return h&&u==c&&h.level+(i?0:1)<l.level?se.cursor(h.side(!i,n)+t.from,h.forward(i,n)?1:-1,h.level):se.cursor(u+t.from,l.forward(i,n)?-1:1,l.level)}function cbe(t,e,n){for(let r=e;r<n;r++){let i=SU(t.charCodeAt(r));if(i==1)return Au;if(i==2||i==4)return f4}return Au}const IU=ke.define(),RU=ke.define(),PU=ke.define(),DU=ke.define(),MS=ke.define(),MU=ke.define(),NU=ke.define(),p4=ke.define(),m4=ke.define(),OU=ke.define({combine:t=>t.some(e=>e)}),LU=ke.define({combine:t=>t.some(e=>e)}),FU=ke.define();class ld{constructor(e,n="nearest",r="nearest",i=5,o=5,s=!1){this.range=e,this.y=n,this.x=r,this.yMargin=i,this.xMargin=o,this.isSnapshot=s}map(e){return e.empty?this:new ld(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new ld(se.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const l1=et.define({map:(t,e)=>t.map(e)}),BU=et.define();function mi(t,e,n){let r=t.facet(DU);r.length?r[0](e):window.onerror?window.onerror(String(e),n,void 0,void 0,e):n?console.error(n+":",e):console.error(e)}const pl=ke.define({combine:t=>t.length?t[0]:!0});let ube=0;const cp=ke.define();class Ln{constructor(e,n,r,i,o){this.id=e,this.create=n,this.domEventHandlers=r,this.domEventObservers=i,this.extension=o(this)}static define(e,n){const{eventHandlers:r,eventObservers:i,provide:o,decorations:s}=n||{};return new Ln(ube++,e,r,i,a=>{let l=[cp.of(a)];return s&&l.push(H0.of(c=>{let u=c.plugin(a);return u?s(u):Fe.none})),o&&l.push(o(a)),l})}static fromClass(e,n){return Ln.define(r=>new e(r),n)}}class pC{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(mi(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(n){mi(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){mi(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const VU=ke.define(),g4=ke.define(),H0=ke.define(),jU=ke.define(),x4=ke.define(),zU=ke.define();function oD(t,e){let n=t.state.facet(zU);if(!n.length)return n;let r=n.map(o=>o instanceof Function?o(t):o),i=[];return bt.spans(r,e.from,e.to,{point(){},span(o,s,a,l){let c=o-e.from,u=s-e.from,h=i;for(let d=a.length-1;d>=0;d--,l--){let f=a[d].spec.bidiIsolate,p;if(f==null&&(f=cbe(e.text,c,u)),l>0&&h.length&&(p=h[h.length-1]).to==c&&p.direction==f)p.to=u,h=p.inner;else{let m={from:c,to:u,direction:f,inner:[]};h.push(m),h=m.inner}}}}),i}const $U=ke.define();function HU(t){let e=0,n=0,r=0,i=0;for(let o of t.state.facet($U)){let s=o(t);s&&(s.left!=null&&(e=Math.max(e,s.left)),s.right!=null&&(n=Math.max(n,s.right)),s.top!=null&&(r=Math.max(r,s.top)),s.bottom!=null&&(i=Math.max(i,s.bottom)))}return{left:e,right:n,top:r,bottom:i}}const up=ke.define();class uo{constructor(e,n,r,i){this.fromA=e,this.toA=n,this.fromB=r,this.toB=i}join(e){return new uo(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,r=this;for(;n>0;n--){let i=e[n-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(n-1,1)}}return e.splice(n,0,r),e}static extendWithRanges(e,n){if(n.length==0)return e;let r=[];for(let i=0,o=0,s=0,a=0;;i++){let l=i==e.length?null:e[i],c=s-a,u=l?l.fromB:1e9;for(;o<n.length&&n[o]<u;){let h=n[o],d=n[o+1],f=Math.max(a,h),p=Math.min(u,d);if(f<=p&&new uo(f+c,p+c,f,p).addToSet(r),d>u)break;o+=2}if(!l)return r;new uo(l.fromA,l.toA,l.fromB,l.toB).addToSet(r),s=l.toA,a=l.toB}}}class $v{constructor(e,n,r){this.view=e,this.state=n,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=$n.empty(this.startState.doc.length);for(let o of r)this.changes=this.changes.compose(o.changes);let i=[];this.changes.iterChangedRanges((o,s,a,l)=>i.push(new uo(o,s,a,l))),this.changedRanges=i}static create(e,n,r){return new $v(e,n,r)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class sD extends Bt{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Fe.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Mn],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new uo(0,0,0,e.state.doc.length)],0,null)}update(e){var n;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:c,toA:u})=>u<this.minWidthFrom||c>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((n=this.domChanged)===null||n===void 0)&&n.newSel?i=this.domChanged.newSel.head:!xbe(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let o=i>-1?dbe(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:c,to:u}=this.hasComposition;r=new uo(c,u,e.changes.mapPos(c,-1),e.changes.mapPos(u,1)).addToSet(r.slice())}this.hasComposition=o?{from:o.range.fromB,to:o.range.toB}:null,(Ae.ie||Ae.chrome)&&!o&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let s=this.decorations,a=this.updateDeco(),l=mbe(s,a,e.changes);return r=uo.extendWithRanges(r,l),!(this.flags&7)&&r.length==0?!1:(this.updateInner(r,e.startState.doc.length,o),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,n,r);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=Ae.chrome||Ae.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,s),this.flags&=-8,s&&(s.written||i.selectionRange.focusNode!=s.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(s=>s.flags&=-9);let o=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.children)s instanceof ca&&s.widget instanceof IS&&o.push(s.dom);i.updateGaps(o)}updateChildren(e,n,r){let i=r?r.range.addToSet(e.slice()):e,o=this.childCursor(n);for(let s=i.length-1;;s--){let a=s>=0?i[s]:null;if(!a)break;let{fromA:l,toA:c,fromB:u,toB:h}=a,d,f,p,m;if(r&&r.range.fromB<h&&r.range.toB>u){let C=Wp.build(this.view.state.doc,u,r.range.fromB,this.decorations,this.dynamicDecorationMap),S=Wp.build(this.view.state.doc,r.range.toB,h,this.decorations,this.dynamicDecorationMap);f=C.breakAtStart,p=C.openStart,m=S.openEnd;let k=this.compositionView(r);S.breakAtStart?k.breakAfter=1:S.content.length&&k.merge(k.length,k.length,S.content[0],!1,S.openStart,0)&&(k.breakAfter=S.content[0].breakAfter,S.content.shift()),C.content.length&&k.merge(0,0,C.content[C.content.length-1],!0,0,C.openEnd)&&C.content.pop(),d=C.content.concat(k).concat(S.content)}else({content:d,breakAtStart:f,openStart:p,openEnd:m}=Wp.build(this.view.state.doc,u,h,this.decorations,this.dynamicDecorationMap));let{i:x,off:v}=o.findPos(c,1),{i:y,off:_}=o.findPos(l,-1);gU(this,y,_,x,v,d,f,p,m)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let n of e.transactions)for(let r of n.effects)r.is(BU)&&(this.editContextFormatting=r.value)}compositionView(e){let n=new Wo(e.text.nodeValue);n.flags|=8;for(let{deco:i}of e.marks)n=new Sa(i,[n],n.length);let r=new Mn;return r.append(n,0),r}fixCompositionDOM(e){let n=(o,s)=>{s.flags|=8|(s.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(s);let a=Bt.get(o);a&&a!=s&&(a.dom=null),s.setDOM(o)},r=this.childPos(e.range.fromB,1),i=this.children[r.i];n(e.line,i);for(let o=e.marks.length-1;o>=-1;o--)r=i.childPos(r.off,1),i=i.children[r.i],n(o>=0?e.marks[o].node:e.text,i)}updateSelection(e=!1,n=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,i=r==this.dom,o=!i&&lx(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(i||n||o))return;let s=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(a.anchor)),c=a.empty?l:this.moveToLine(this.domAtPos(a.head));if(Ae.gecko&&a.empty&&!this.hasComposition&&hbe(l)){let h=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(h,l.node.childNodes[l.offset]||null)),l=c=new Nr(h,0),s=!0}let u=this.view.observer.selectionRange;(s||!u.focusNode||(!Up(l.node,l.offset,u.anchorNode,u.anchorOffset)||!Up(c.node,c.offset,u.focusNode,u.focusOffset))&&!this.suppressWidgetCursorChange(u,a))&&(this.view.observer.ignore(()=>{Ae.android&&Ae.chrome&&this.dom.contains(u.focusNode)&&gbe(u.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let h=z0(this.view.root);if(h)if(a.empty){if(Ae.gecko){let d=fbe(l.node,l.offset);if(d&&d!=3){let f=(d==1?fU:pU)(l.node,l.offset);f&&(l=new Nr(f.node,f.offset))}}h.collapse(l.node,l.offset),a.bidiLevel!=null&&h.caretBidiLevel!==void 0&&(h.caretBidiLevel=a.bidiLevel)}else if(h.extend){h.collapse(l.node,l.offset);try{h.extend(c.node,c.offset)}catch{}}else{let d=document.createRange();a.anchor>a.head&&([l,c]=[c,l]),d.setEnd(c.node,c.offset),d.setStart(l.node,l.offset),h.removeAllRanges(),h.addRange(d)}o&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(l,c)),this.impreciseAnchor=l.precise?null:new Nr(u.anchorNode,u.anchorOffset),this.impreciseHead=c.precise?null:new Nr(u.focusNode,u.focusOffset)}suppressWidgetCursorChange(e,n){return this.hasComposition&&n.empty&&Up(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==n.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,n=e.state.selection.main,r=z0(e.root),{anchorNode:i,anchorOffset:o}=e.observer.selectionRange;if(!r||!n.empty||!n.assoc||!r.modify)return;let s=Mn.find(this,n.head);if(!s)return;let a=s.posAtStart;if(n.head==a||n.head==a+s.length)return;let l=this.coordsAt(n.head,-1),c=this.coordsAt(n.head,1);if(!l||!c||l.bottom>c.top)return;let u=this.domAtPos(n.head+n.assoc);r.collapse(u.node,u.offset),r.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let h=e.observer.selectionRange;e.docView.posFromDOM(h.anchorNode,h.anchorOffset)!=n.from&&r.collapse(i,o)}moveToLine(e){let n=this.dom,r;if(e.node!=n)return e;for(let i=e.offset;!r&&i<n.childNodes.length;i++){let o=Bt.get(n.childNodes[i]);o instanceof Mn&&(r=o.domAtPos(0))}for(let i=e.offset-1;!r&&i>=0;i--){let o=Bt.get(n.childNodes[i]);o instanceof Mn&&(r=o.domAtPos(o.length))}return r?new Nr(r.node,r.offset,!0):e}nearest(e){for(let n=e;n;){let r=Bt.get(n);if(r&&r.rootView==this)return r;n=n.parentNode}return null}posFromDOM(e,n){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,n)+r.posAtStart}domAtPos(e){let{i:n,off:r}=this.childCursor().findPos(e,-1);for(;n<this.children.length-1;){let i=this.children[n];if(r<i.length||i instanceof Mn)break;n++,r=0}return this.children[n].domAtPos(r)}coordsAt(e,n){let r=null,i=0;for(let o=this.length,s=this.children.length-1;s>=0;s--){let a=this.children[s],l=o-a.breakAfter,c=l-a.length;if(l<e)break;if(c<=e&&(c<e||a.covers(-1))&&(l>e||a.covers(1))&&(!r||a instanceof Mn&&!(r instanceof Mn&&n>=0)))r=a,i=c;else if(r&&c==e&&l==e&&a instanceof ca&&Math.abs(n)<2){if(a.deco.startSide<0)break;s&&(r=null)}o=c}return r?r.coordsAt(e-i,n):null}coordsForChar(e){let{i:n,off:r}=this.childPos(e,1),i=this.children[n];if(!(i instanceof Mn))return null;for(;i.children.length;){let{i:a,off:l}=i.childPos(r,1);for(;;a++){if(a==i.children.length)return null;if((i=i.children[a]).length)break}r=l}if(!(i instanceof Wo))return null;let o=xr(i.text,r);if(o==r)return null;let s=Tu(i.dom,r,o).getClientRects();for(let a=0;a<s.length;a++){let l=s[a];if(a==s.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let n=[],{from:r,to:i}=e,o=this.view.contentDOM.clientWidth,s=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==Yt.LTR;for(let c=0,u=0;u<this.children.length;u++){let h=this.children[u],d=c+h.length;if(d>i)break;if(c>=r){let f=h.dom.getBoundingClientRect();if(n.push(f.height),s){let p=h.dom.lastChild,m=p?$0(p):[];if(m.length){let x=m[m.length-1],v=l?x.right-f.left:f.right-x.left;v>a&&(a=v,this.minWidth=o,this.minWidthFrom=c,this.minWidthTo=d)}}}c=d+h.breakAfter}return n}textDirectionAt(e){let{i:n}=this.childPos(e,1);return getComputedStyle(this.children[n].dom).direction=="rtl"?Yt.RTL:Yt.LTR}measureTextSize(){for(let o of this.children)if(o instanceof Mn){let s=o.measureTextSize();if(s)return s}let e=document.createElement("div"),n,r,i;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let o=$0(e.firstChild)[0];n=e.getBoundingClientRect().height,r=o?o.width/27:7,i=o?o.height:n,e.remove()}),{lineHeight:n,charWidth:r,textHeight:i}}childCursor(e=this.length){let n=this.children.length;return n&&(e-=this.children[--n].length),new mU(this.children,e,n)}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let r=0,i=0;;i++){let o=i==n.viewports.length?null:n.viewports[i],s=o?o.from-1:this.length;if(s>r){let a=(n.lineBlockAt(s).bottom-n.lineBlockAt(r).top)/this.view.scaleY;e.push(Fe.replace({widget:new IS(a),block:!0,inclusive:!0,isBlockGap:!0}).range(r,s))}if(!o)break;r=o.to+1}return Fe.set(e)}updateDeco(){let e=1,n=this.view.state.facet(H0).map(o=>(this.dynamicDecorationMap[e++]=typeof o=="function")?o(this.view):o),r=!1,i=this.view.state.facet(jU).map((o,s)=>{let a=typeof o=="function";return a&&(r=!0),a?o(this.view):o});for(i.length&&(this.dynamicDecorationMap[e++]=r,n.push(bt.join(i))),this.decorations=[this.editContextFormatting,...n,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let c=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=c.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let c of this.view.state.facet(FU))try{if(c(this.view,e.range,e))return!0}catch(u){mi(this.view.state,u,"scroll handler")}let{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),i;if(!r)return;!n.empty&&(i=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let o=HU(this.view),s={left:r.left-o.left,top:r.top-o.top,right:r.right+o.right,bottom:r.bottom+o.bottom},{offsetWidth:a,offsetHeight:l}=this.view.scrollDOM;WCe(this.view.scrollDOM,s,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,a),-a),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==Yt.LTR)}}function hbe(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}function UU(t,e){let n=t.observer.selectionRange;if(!n.focusNode)return null;let r=fU(n.focusNode,n.focusOffset),i=pU(n.focusNode,n.focusOffset),o=r||i;if(i&&r&&i.node!=r.node){let a=Bt.get(i.node);if(!a||a instanceof Wo&&a.text!=i.node.nodeValue)o=i;else if(t.docView.lastCompositionAfterCursor){let l=Bt.get(r.node);!l||l instanceof Wo&&l.text!=r.node.nodeValue||(o=i)}}if(t.docView.lastCompositionAfterCursor=o!=r,!o)return null;let s=e-o.offset;return{from:s,to:s+o.node.nodeValue.length,node:o.node}}function dbe(t,e,n){let r=UU(t,n);if(!r)return null;let{node:i,from:o,to:s}=r,a=i.nodeValue;if(/[\n\r]/.test(a)||t.state.doc.sliceString(r.from,r.to)!=a)return null;let l=e.invertedDesc,c=new uo(l.mapPos(o),l.mapPos(s),o,s),u=[];for(let h=i.parentNode;;h=h.parentNode){let d=Bt.get(h);if(d instanceof Sa)u.push({node:h,deco:d.mark});else{if(d instanceof Mn||h.nodeName=="DIV"&&h.parentNode==t.contentDOM)return{range:c,text:i,marks:u,line:h};if(h!=t.contentDOM)u.push({node:h,deco:new Xm({inclusive:!0,attributes:ZCe(h),tagName:h.tagName.toLowerCase()})});else return null}}}function fbe(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let pbe=class{constructor(){this.changes=[]}compareRange(e,n){AS(e,n,this.changes)}comparePoint(e,n){AS(e,n,this.changes)}};function mbe(t,e,n){let r=new pbe;return bt.compare(t,e,n,r),r.changes}function gbe(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function xbe(t,e){let n=!1;return e&&t.iterChangedRanges((r,i)=>{r<e.to&&i>e.from&&(n=!0)}),n}function vbe(t,e,n=1){let r=t.charCategorizer(e),i=t.doc.lineAt(e),o=e-i.from;if(i.length==0)return se.cursor(e);o==0?n=1:o==i.length&&(n=-1);let s=o,a=o;n<0?s=xr(i.text,o,!1):a=xr(i.text,o);let l=r(i.text.slice(s,a));for(;s>0;){let c=xr(i.text,s,!1);if(r(i.text.slice(c,s))!=l)break;s=c}for(;a<i.length;){let c=xr(i.text,a);if(r(i.text.slice(a,c))!=l)break;a=c}return se.range(s+i.from,a+i.from)}function ybe(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function _be(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function mC(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function aD(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function lD(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function NS(t,e,n){let r,i,o,s,a=!1,l,c,u,h;for(let p=t.firstChild;p;p=p.nextSibling){let m=$0(p);for(let x=0;x<m.length;x++){let v=m[x];i&&mC(i,v)&&(v=aD(lD(v,i.bottom),i.top));let y=ybe(e,v),_=_be(n,v);if(y==0&&_==0)return p.nodeType==3?cD(p,e,n):NS(p,e,n);if(!r||s>_||s==_&&o>y){r=p,i=v,o=y,s=_;let C=_?n<v.top?-1:1:y?e<v.left?-1:1:0;a=!C||(C>0?x<m.length-1:x>0)}y==0?n>v.bottom&&(!u||u.bottom<v.bottom)?(l=p,u=v):n<v.top&&(!h||h.top>v.top)&&(c=p,h=v):u&&mC(u,v)?u=lD(u,v.bottom):h&&mC(h,v)&&(h=aD(h,v.top))}}if(u&&u.bottom>=n?(r=l,i=u):h&&h.top<=n&&(r=c,i=h),!r)return{node:t,offset:0};let d=Math.max(i.left,Math.min(i.right,e));if(r.nodeType==3)return cD(r,d,n);if(a&&r.contentEditable!="false")return NS(r,d,n);let f=Array.prototype.indexOf.call(t.childNodes,r)+(e>=(i.left+i.right)/2?1:0);return{node:t,offset:f}}function cD(t,e,n){let r=t.nodeValue.length,i=-1,o=1e9,s=0;for(let a=0;a<r;a++){let l=Tu(t,a,a+1).getClientRects();for(let c=0;c<l.length;c++){let u=l[c];if(u.top==u.bottom)continue;s||(s=e-u.left);let h=(u.top>n?u.top-n:n-u.bottom)-1;if(u.left-1<=e&&u.right+1>=e&&h<o){let d=e>=(u.left+u.right)/2,f=d;if((Ae.chrome||Ae.gecko)&&Tu(t,a).getBoundingClientRect().left==u.right&&(f=!d),h<=0)return{node:t,offset:a+(f?1:0)};i=a+(f?1:0),o=h}}}return{node:t,offset:i>-1?i:s>0?t.nodeValue.length:0}}function WU(t,e,n,r=-1){var i,o;let s=t.contentDOM.getBoundingClientRect(),a=s.top+t.viewState.paddingTop,l,{docHeight:c}=t.viewState,{x:u,y:h}=e,d=h-a;if(d<0)return 0;if(d>c)return t.state.doc.length;for(let C=t.viewState.heightOracle.textHeight/2,S=!1;l=t.elementAtHeight(d),l.type!=Zr.Text;)for(;d=r>0?l.bottom+C:l.top-C,!(d>=0&&d<=c);){if(S)return n?null:0;S=!0,r=-r}h=a+d;let f=l.from;if(f<t.viewport.from)return t.viewport.from==0?0:n?null:uD(t,s,l,u,h);if(f>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:uD(t,s,l,u,h);let p=t.dom.ownerDocument,m=t.root.elementFromPoint?t.root:p,x=m.elementFromPoint(u,h);x&&!t.contentDOM.contains(x)&&(x=null),x||(u=Math.max(s.left+1,Math.min(s.right-1,u)),x=m.elementFromPoint(u,h),x&&!t.contentDOM.contains(x)&&(x=null));let v,y=-1;if(x&&((i=t.docView.nearest(x))===null||i===void 0?void 0:i.isEditable)!=!1){if(p.caretPositionFromPoint){let C=p.caretPositionFromPoint(u,h);C&&({offsetNode:v,offset:y}=C)}else if(p.caretRangeFromPoint){let C=p.caretRangeFromPoint(u,h);C&&({startContainer:v,startOffset:y}=C,(!t.contentDOM.contains(v)||Ae.safari&&wbe(v,y,u)||Ae.chrome&&Cbe(v,y,u))&&(v=void 0))}}if(!v||!t.docView.dom.contains(v)){let C=Mn.find(t.docView,f);if(!C)return d>l.top+l.height/2?l.to:l.from;({node:v,offset:y}=NS(C.dom,u,h))}let _=t.docView.nearest(v);if(!_)return null;if(_.isWidget&&((o=_.dom)===null||o===void 0?void 0:o.nodeType)==1){let C=_.dom.getBoundingClientRect();return e.y<C.top||e.y<=C.bottom&&e.x<=(C.left+C.right)/2?_.posAtStart:_.posAtEnd}else return _.localPosFromDOM(v,y)+_.posAtStart}function uD(t,e,n,r,i){let o=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let a=t.viewState.heightOracle.textHeight,l=Math.floor((i-n.top-(t.defaultLineHeight-a)*.5)/a);o+=l*t.viewState.heightOracle.lineLength}let s=t.state.sliceDoc(n.from,n.to);return n.from+yS(s,o,t.state.tabSize)}function wbe(t,e,n){let r;if(t.nodeType!=3||e!=(r=t.nodeValue.length))return!1;for(let i=t.nextSibling;i;i=i.nextSibling)if(i.nodeType!=1||i.nodeName!="BR")return!1;return Tu(t,r-1,r).getBoundingClientRect().left>n}function Cbe(t,e,n){if(e!=0)return!1;for(let i=t;;){let o=i.parentNode;if(!o||o.nodeType!=1||o.firstChild!=i)return!1;if(o.classList.contains("cm-line"))break;i=o}let r=t.nodeType==1?t.getBoundingClientRect():Tu(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return n-r.left>5}function OS(t,e){let n=t.lineBlockAt(e);if(Array.isArray(n.type)){for(let r of n.type)if(r.to>e||r.to==e&&(r.to==n.to||r.type==Zr.Text))return r}return n}function bbe(t,e,n,r){let i=OS(t,e.head),o=!r||i.type!=Zr.Text||!(t.lineWrapping||i.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(o){let s=t.dom.getBoundingClientRect(),a=t.textDirectionAt(i.from),l=t.posAtCoords({x:n==(a==Yt.LTR)?s.right-1:s.left+1,y:(o.top+o.bottom)/2});if(l!=null)return se.cursor(l,n?-1:1)}return se.cursor(n?i.to:i.from,n?-1:1)}function hD(t,e,n,r){let i=t.state.doc.lineAt(e.head),o=t.bidiSpans(i),s=t.textDirectionAt(i.from);for(let a=e,l=null;;){let c=lbe(i,o,s,a,n),u=AU;if(!c){if(i.number==(n?t.state.doc.lines:1))return a;u=`
`,i=t.state.doc.line(i.number+(n?1:-1)),o=t.bidiSpans(i),c=t.visualLineSide(i,!n)}if(l){if(!l(u))return a}else{if(!r)return c;l=r(u)}a=c}}function Ebe(t,e,n){let r=t.state.charCategorizer(e),i=r(n);return o=>{let s=r(o);return i==rn.Space&&(i=s),i==s}}function Sbe(t,e,n,r){let i=e.head,o=n?1:-1;if(i==(n?t.state.doc.length:0))return se.cursor(i,e.assoc);let s=e.goalColumn,a,l=t.contentDOM.getBoundingClientRect(),c=t.coordsAtPos(i,e.assoc||-1),u=t.documentTop;if(c)s==null&&(s=c.left-l.left),a=o<0?c.top:c.bottom;else{let f=t.viewState.lineBlockAt(i);s==null&&(s=Math.min(l.right-l.left,t.defaultCharacterWidth*(i-f.from))),a=(o<0?f.top:f.bottom)+u}let h=l.left+s,d=r??t.viewState.heightOracle.textHeight>>1;for(let f=0;;f+=10){let p=a+(d+f)*o,m=WU(t,{x:h,y:p},!1,o);if(p<l.top||p>l.bottom||(o<0?m<i:m>i)){let x=t.docView.coordsForChar(m),v=!x||p<x.top?-1:1;return se.cursor(m,v,void 0,s)}}}function cx(t,e,n){for(;;){let r=0;for(let i of t)i.between(e-1,e+1,(o,s,a)=>{if(e>o&&e<s){let l=r||n||(e-o<s-e?-1:1);e=l<0?o:s,r=l}});if(!r)return e}}function gC(t,e,n){let r=cx(t.state.facet(x4).map(i=>i(t)),n.from,e.head>n.from?-1:1);return r==n.from?n:se.cursor(r,r<n.from?1:-1)}const hp="￿";class kbe{constructor(e,n){this.points=e,this.text="",this.lineSeparator=n.facet(_t.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=hp}readRange(e,n){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let o=this.text.length;this.readNode(i);let s=i.nextSibling;if(s==n)break;let a=Bt.get(i),l=Bt.get(s);(a&&l?a.breakAfter:(a?a.breakAfter:jv(i))||jv(s)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>o)&&this.lineBreak(),i=s}return this.findPointBefore(r,n),this}readTextNode(e){let n=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let o=-1,s=1,a;if(this.lineSeparator?(o=n.indexOf(this.lineSeparator,r),s=this.lineSeparator.length):(a=i.exec(n))&&(o=a.index,s=a[0].length),this.append(n.slice(r,o<0?n.length:o)),o<0)break;if(this.lineBreak(),s>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=s-1);r=o+s}}readNode(e){if(e.cmIgnore)return;let n=Bt.get(e),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(e,n){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(Tbe(e,r.node,r.offset)?n:0))}}function Tbe(t,e,n){for(;;){if(!e||n<Ea(e))return!1;if(e==t)return!0;n=ku(e)+1,e=e.parentNode}}class dD{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class Abe{constructor(e,n,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=n>-1;let{impreciseHead:o,impreciseAnchor:s}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=e.docView.domBoundsAround(n,r,0))){let a=o||s?[]:Pbe(e),l=new kbe(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=Dbe(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=o&&o.node==a.focusNode&&o.offset==a.focusOffset||!CS(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),c=s&&s.node==a.anchorNode&&s.offset==a.anchorOffset||!CS(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset),u=e.viewport;if((Ae.ios||Ae.chrome)&&e.state.selection.main.empty&&l!=c&&(u.from>0||u.to<e.state.doc.length)){let h=Math.min(l,c),d=Math.max(l,c),f=u.from-h,p=u.to-d;(f==0||f==1||h==0)&&(p==0||p==-1||d==e.state.doc.length)&&(l=0,c=e.state.doc.length)}this.newSel=se.single(c,l)}}}function qU(t,e){let n,{newSel:r}=e,i=t.state.selection.main,o=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:s,to:a}=e.bounds,l=i.from,c=null;(o===8||Ae.android&&e.text.length<a-s)&&(l=i.to,c="end");let u=Rbe(t.state.doc.sliceString(s,a,hp),e.text,l-s,c);u&&(Ae.chrome&&o==13&&u.toB==u.from+2&&e.text.slice(u.from,u.toB)==hp+hp&&u.toB--,n={from:s+u.from,to:s+u.toA,insert:Rt.of(e.text.slice(u.from,u.toB).split(hp))})}else r&&(!t.hasFocus&&t.state.facet(pl)||r.main.eq(i))&&(r=null);if(!n&&!r)return!1;if(!n&&e.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,i.to)}:n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,i.to))}:(Ae.mac||Ae.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=se.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:Rt.of([" "])}):Ae.chrome&&n&&n.from==n.to&&n.from==i.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(r&&(r=se.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:Rt.of([" "])}),n)return v4(t,n,r,o);if(r&&!r.main.eq(i)){let s=!1,a="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(s=!0),a=t.inputState.lastSelectionOrigin),t.dispatch({selection:r,scrollIntoView:s,userEvent:a}),!0}else return!1}function v4(t,e,n,r=-1){if(Ae.ios&&t.inputState.flushIOSKey(e))return!0;let i=t.state.selection.main;if(Ae.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&t.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&ad(t.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&ad(t.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&ad(t.contentDOM,"Delete",46)))return!0;let o=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let s,a=()=>s||(s=Ibe(t,e,n));return t.state.facet(MU).some(l=>l(t,e.from,e.to,o,a))||t.dispatch(a()),!0}function Ibe(t,e,n){let r,i=t.state,o=i.selection.main;if(e.from>=o.from&&e.to<=o.to&&e.to-e.from>=(o.to-o.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let a=o.from<e.from?i.sliceDoc(o.from,e.from):"",l=o.to>e.to?i.sliceDoc(e.to,o.to):"";r=i.replaceSelection(t.state.toText(a+e.insert.sliceString(0,void 0,t.state.lineBreak)+l))}else{let a=i.changes(e),l=n&&n.main.to<=a.newLength?n.main:void 0;if(i.selection.ranges.length>1&&t.inputState.composing>=0&&e.to<=o.to&&e.to>=o.to-10){let c=t.state.sliceDoc(e.from,e.to),u,h=n&&UU(t,n.main.head);if(h){let p=e.insert.length-(e.to-e.from);u={from:h.from,to:h.to-p}}else u=t.state.doc.lineAt(o.head);let d=o.to-e.to,f=o.to-o.from;r=i.changeByRange(p=>{if(p.from==o.from&&p.to==o.to)return{changes:a,range:l||p.map(a)};let m=p.to-d,x=m-c.length;if(p.to-p.from!=f||t.state.sliceDoc(x,m)!=c||p.to>=u.from&&p.from<=u.to)return{range:p};let v=i.changes({from:x,to:m,insert:e.insert}),y=p.to-o.to;return{changes:v,range:l?se.range(Math.max(0,l.anchor+y),Math.max(0,l.head+y)):p.map(v)}})}else r={changes:a,selection:l&&i.selection.replaceRange(l)}}let s="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,s+=".compose",t.inputState.compositionFirstChange&&(s+=".start",t.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:s,scrollIntoView:!0})}function Rbe(t,e,n,r){let i=Math.min(t.length,e.length),o=0;for(;o<i&&t.charCodeAt(o)==e.charCodeAt(o);)o++;if(o==i&&t.length==e.length)return null;let s=t.length,a=e.length;for(;s>0&&a>0&&t.charCodeAt(s-1)==e.charCodeAt(a-1);)s--,a--;if(r=="end"){let l=Math.max(0,o-Math.min(s,a));n-=s+l-o}if(s<o&&t.length<e.length){let l=n<=o&&n>=s?o-n:0;o-=l,a=o+(a-s),s=o}else if(a<o){let l=n<=o&&n>=a?o-n:0;o-=l,s=o+(s-a),a=o}return{from:o,toA:s,toB:a}}function Pbe(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}=t.observer.selectionRange;return n&&(e.push(new dD(n,r)),(i!=n||o!=r)&&e.push(new dD(i,o))),e}function Dbe(t,e){if(t.length==0)return null;let n=t[0].pos,r=t.length==2?t[1].pos:n;return n>-1&&r>-1?se.single(n+e,r+e):null}class Mbe{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,Ae.safari&&e.contentDOM.addEventListener("input",()=>null),Ae.gecko&&Jbe(e.contentDOM.ownerDocument)}handleEvent(e){!zbe(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||this.runHandlers(e.type,e)}runHandlers(e,n){let r=this.handlers[e];if(r){for(let i of r.observers)i(this.view,n);for(let i of r.handlers){if(n.defaultPrevented)break;if(i(this.view,n)){n.preventDefault();break}}}}ensureHandlers(e){let n=Nbe(e),r=this.handlers,i=this.view.contentDOM;for(let o in n)if(o!="scroll"){let s=!n[o].handlers.length,a=r[o];a&&s!=!a.handlers.length&&(i.removeEventListener(o,this.handleEvent),a=null),a||i.addEventListener(o,this.handleEvent,{passive:s})}for(let o in r)o!="scroll"&&!n[o]&&i.removeEventListener(o,this.handleEvent);this.handlers=n}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&GU.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),Ae.android&&Ae.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let n;return Ae.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((n=KU.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||Obe.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=n||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let n=this.pendingIOSKey;return!n||n.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,ad(this.view.contentDOM,n.key,n.keyCode,n instanceof KeyboardEvent?n:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:Ae.safari&&!Ae.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function fD(t,e){return(n,r)=>{try{return e.call(t,r,n)}catch(i){mi(n.state,i)}}}function Nbe(t){let e=Object.create(null);function n(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of t){let i=r.spec;if(i&&i.domEventHandlers)for(let o in i.domEventHandlers){let s=i.domEventHandlers[o];s&&n(o).handlers.push(fD(r.value,s))}if(i&&i.domEventObservers)for(let o in i.domEventObservers){let s=i.domEventObservers[o];s&&n(o).observers.push(fD(r.value,s))}}for(let r in qo)n(r).handlers.push(qo[r]);for(let r in mo)n(r).observers.push(mo[r]);return e}const KU=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Obe="dthko",GU=[16,17,18,20,91,92,224,225],c1=6;function u1(t){return Math.max(0,t)*.7+8}function Lbe(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class Fbe{constructor(e,n,r,i){this.view=e,this.startEvent=n,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParents=qCe(e.contentDOM),this.atoms=e.state.facet(x4).map(s=>s(e));let o=e.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(_t.allowMultipleSelections)&&Bbe(e,n),this.dragging=jbe(e,n)&&XU(n)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&Lbe(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let n=0,r=0,i=0,o=0,s=this.view.win.innerWidth,a=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:s}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:o,bottom:a}=this.scrollParents.y.getBoundingClientRect());let l=HU(this.view);e.clientX-l.left<=i+c1?n=-u1(i-e.clientX):e.clientX+l.right>=s-c1&&(n=u1(e.clientX-s)),e.clientY-l.top<=o+c1?r=-u1(o-e.clientY):e.clientY+l.bottom>=a-c1&&(r=u1(e.clientY-a)),this.setScrollSpeed(n,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:n}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),n&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=n,n=0),(e||n)&&this.view.win.scrollBy(e,n),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let n=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],o=null;if(i.empty){let s=cx(this.atoms,i.from,0);s!=i.from&&(o=se.cursor(s,-1))}else{let s=cx(this.atoms,i.from,-1),a=cx(this.atoms,i.to,1);(s!=i.from||a!=i.to)&&(o=se.range(i.from==i.anchor?s:a,i.from==i.head?s:a))}o&&(n||(n=e.ranges.slice()),n[r]=o)}return n?se.create(n,e.mainIndex):e}select(e){let{view:n}=this,r=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(n.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(n=>n.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function Bbe(t,e){let n=t.state.facet(IU);return n.length?n[0](e):Ae.mac?e.metaKey:e.ctrlKey}function Vbe(t,e){let n=t.state.facet(RU);return n.length?n[0](e):Ae.mac?!e.altKey:!e.ctrlKey}function jbe(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=z0(t.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let o=0;o<i.length;o++){let s=i[o];if(s.left<=e.clientX&&s.right>=e.clientX&&s.top<=e.clientY&&s.bottom>=e.clientY)return!0}return!1}function zbe(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,r;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=Bt.get(n))&&r.ignoreEvent(e))return!1;return!0}const qo=Object.create(null),mo=Object.create(null),JU=Ae.ie&&Ae.ie_version<15||Ae.ios&&Ae.webkit_version<604;function $be(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),QU(t,n.value)},50)}function H_(t,e,n){for(let r of t.facet(e))n=r(n,t);return n}function QU(t,e){e=H_(t.state,p4,e);let{state:n}=t,r,i=1,o=n.toText(e),s=o.lines==n.selection.ranges.length;if(LS!=null&&n.selection.ranges.every(l=>l.empty)&&LS==o.toString()){let l=-1;r=n.changeByRange(c=>{let u=n.doc.lineAt(c.from);if(u.from==l)return{range:c};l=u.from;let h=n.toText((s?o.line(i++).text:e)+n.lineBreak);return{changes:{from:u.from,insert:h},range:se.cursor(c.from+h.length)}})}else s?r=n.changeByRange(l=>{let c=o.line(i++);return{changes:{from:l.from,to:l.to,insert:c.text},range:se.cursor(l.from+c.length)}}):r=n.replaceSelection(o);t.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}mo.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};qo.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&t.inputState.tabFocusMode!=0&&(t.inputState.tabFocusMode=Date.now()+2e3),!1);mo.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};mo.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};qo.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of t.state.facet(PU))if(n=r(t,e),n)break;if(!n&&e.button==0&&(n=Wbe(t,e)),n){let r=!t.hasFocus;t.inputState.startMouseSelection(new Fbe(t,e,n,r)),r&&t.observer.ignore(()=>{uU(t.contentDOM);let o=t.root.activeElement;o&&!o.contains(t.contentDOM)&&o.blur()});let i=t.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}return!1};function pD(t,e,n,r){if(r==1)return se.cursor(e,n);if(r==2)return vbe(t.state,e,n);{let i=Mn.find(t.docView,e),o=t.state.doc.lineAt(i?i.posAtEnd:e),s=i?i.posAtStart:o.from,a=i?i.posAtEnd:o.to;return a<t.state.doc.length&&a==o.to&&a++,se.range(s,a)}}let mD=(t,e,n)=>e>=n.top&&e<=n.bottom&&t>=n.left&&t<=n.right;function Hbe(t,e,n,r){let i=Mn.find(t.docView,e);if(!i)return 1;let o=e-i.posAtStart;if(o==0)return 1;if(o==i.length)return-1;let s=i.coordsAt(o,-1);if(s&&mD(n,r,s))return-1;let a=i.coordsAt(o,1);return a&&mD(n,r,a)?1:s&&s.bottom>=r?-1:1}function gD(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:Hbe(t,n,e.clientX,e.clientY)}}const Ube=Ae.ie&&Ae.ie_version<=11;let xD=null,vD=0,yD=0;function XU(t){if(!Ube)return t.detail;let e=xD,n=yD;return xD=t,yD=Date.now(),vD=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(vD+1)%3:1}function Wbe(t,e){let n=gD(t,e),r=XU(e),i=t.state.selection;return{update(o){o.docChanged&&(n.pos=o.changes.mapPos(n.pos),i=i.map(o.changes))},get(o,s,a){let l=gD(t,o),c,u=pD(t,l.pos,l.bias,r);if(n.pos!=l.pos&&!s){let h=pD(t,n.pos,n.bias,r),d=Math.min(h.from,u.from),f=Math.max(h.to,u.to);u=d<u.from?se.range(d,f):se.range(f,d)}return s?i.replaceRange(i.main.extend(u.from,u.to)):a&&r==1&&i.ranges.length>1&&(c=qbe(i,l.pos))?c:a?i.addRange(u):se.create([u])}}}function qbe(t,e){for(let n=0;n<t.ranges.length;n++){let{from:r,to:i}=t.ranges[n];if(r<=e&&i>=e)return se.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}qo.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let i=t.docView.nearest(e.target);if(i&&i.isWidget){let o=i.posAtStart,s=o+i.length;(o>=n.to||s<=n.from)&&(n=se.range(o,s))}}let{inputState:r}=t;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",H_(t.state,m4,t.state.sliceDoc(n.from,n.to))),e.dataTransfer.effectAllowed="copyMove"),!1};qo.dragend=t=>(t.inputState.draggedContent=null,!1);function _D(t,e,n,r){if(n=H_(t.state,p4,n),!n)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:o}=t.inputState,s=r&&o&&Vbe(t,e)?{from:o.from,to:o.to}:null,a={from:i,insert:n},l=t.state.changes(s?[s,a]:a);t.focus(),t.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:s?"move.drop":"input.drop"}),t.inputState.draggedContent=null}qo.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let r=Array(n.length),i=0,o=()=>{++i==n.length&&_D(t,e,r.filter(s=>s!=null).join(t.state.lineBreak),!1)};for(let s=0;s<n.length;s++){let a=new FileReader;a.onerror=o,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(r[s]=a.result),o()},a.readAsText(n[s])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return _D(t,e,r,!0),!0}return!1};qo.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=JU?null:e.clipboardData;return n?(QU(t,n.getData("text/plain")||n.getData("text/uri-list")),!0):($be(t),!1)};function Kbe(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),t.focus()},50)}function Gbe(t){let e=[],n=[],r=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),n.push(i));if(!e.length){let i=-1;for(let{from:o}of t.selection.ranges){let s=t.doc.lineAt(o);s.number>i&&(e.push(s.text),n.push({from:s.from,to:Math.min(t.doc.length,s.to+1)})),i=s.number}r=!0}return{text:H_(t,m4,e.join(t.lineBreak)),ranges:n,linewise:r}}let LS=null;qo.copy=qo.cut=(t,e)=>{let{text:n,ranges:r,linewise:i}=Gbe(t.state);if(!n&&!i)return!1;LS=i?n:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let o=JU?null:e.clipboardData;return o?(o.clearData(),o.setData("text/plain",n),!0):(Kbe(t,n),!1)};const YU=Oa.define();function ZU(t,e){let n=[];for(let r of t.facet(NU)){let i=r(t,e);i&&n.push(i)}return n?t.update({effects:n,annotations:YU.of(!0)}):null}function eW(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=ZU(t.state,e);n?t.dispatch(n):t.update([])}},10)}mo.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),eW(t)};mo.blur=t=>{t.observer.clearSelectionRange(),eW(t)};mo.compositionstart=mo.compositionupdate=t=>{t.observer.editContext||(t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))};mo.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,Ae.chrome&&Ae.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50))};mo.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};qo.beforeinput=(t,e)=>{var n,r;if(e.inputType=="insertReplacementText"&&t.observer.editContext){let o=(n=e.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain"),s=e.getTargetRanges();if(o&&s.length){let a=s[0],l=t.posAtDOM(a.startContainer,a.startOffset),c=t.posAtDOM(a.endContainer,a.endOffset);return v4(t,{from:l,to:c,insert:t.state.toText(o)},null),!0}}let i;if(Ae.chrome&&Ae.android&&(i=KU.find(o=>o.inputType==e.inputType))&&(t.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let o=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>o+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return Ae.ios&&e.inputType=="deleteContentForward"&&t.observer.flushSoon(),Ae.safari&&e.inputType=="insertText"&&t.inputState.composing>=0&&setTimeout(()=>mo.compositionend(t,e),20),!1};const wD=new Set;function Jbe(t){wD.has(t)||(wD.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const CD=["pre-wrap","normal","pre-line","break-spaces"];let Ld=!1;function bD(){Ld=!1}class Qbe{constructor(e){this.lineWrapping=e,this.doc=Rt.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return CD.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(n=!0,this.heightSamples[Math.floor(i*10)]=!0)}return n}refresh(e,n,r,i,o,s){let a=CD.indexOf(e)>-1,l=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=n,this.charWidth=r,this.textHeight=i,this.lineLength=o,l){this.heightSamples={};for(let c=0;c<s.length;c++){let u=s[c];u<0?c++:this.heightSamples[Math.floor(u*10)]=!0}}return l}}class Xbe{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class ds{constructor(e,n,r,i,o){this.from=e,this.length=n,this.top=r,this.height=i,this._content=o}get type(){return typeof this._content=="number"?Zr.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof sc?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new ds(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var Qt=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(Qt||(Qt={}));const ux=.001;class ei{constructor(e,n,r=2){this.length=e,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>ux&&(Ld=!0),this.height=e)}replace(e,n,r){return ei.of(r)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,r,i){let o=this,s=r.doc;for(let a=i.length-1;a>=0;a--){let{fromA:l,toA:c,fromB:u,toB:h}=i[a],d=o.lineAt(l,Qt.ByPosNoHeight,r.setDoc(n),0,0),f=d.to>=c?d:o.lineAt(c,Qt.ByPosNoHeight,r,0,0);for(h+=f.to-c,c=f.to;a>0&&d.from<=i[a-1].toA;)l=i[a-1].fromA,u=i[a-1].fromB,a--,l<d.from&&(d=o.lineAt(l,Qt.ByPosNoHeight,r,0,0));u+=d.from-l,l=d.from;let p=y4.build(r.setDoc(s),e,u,h);o=Hv(o,o.replace(l,c,p))}return o.updateHeight(r,0)}static empty(){return new Ii(0,0)}static of(e){if(e.length==1)return e[0];let n=0,r=e.length,i=0,o=0;for(;;)if(n==r)if(i>o*2){let a=e[n-1];a.break?e.splice(--n,1,a.left,null,a.right):e.splice(--n,1,a.left,a.right),r+=1+a.break,i-=a.size}else if(o>i*2){let a=e[r];a.break?e.splice(r,1,a.left,null,a.right):e.splice(r,1,a.left,a.right),r+=2+a.break,o-=a.size}else break;else if(i<o){let a=e[n++];a&&(i+=a.size)}else{let a=e[--r];a&&(o+=a.size)}let s=0;return e[n-1]==null?(s=1,n--):e[n]==null&&(s=1,r++),new Ybe(ei.of(e.slice(0,n)),s,ei.of(e.slice(r)))}}function Hv(t,e){return t==e?t:(t.constructor!=e.constructor&&(Ld=!0),e)}ei.prototype.size=1;class tW extends ei{constructor(e,n,r){super(e,n),this.deco=r}blockAt(e,n,r,i){return new ds(i,this.length,r,this.height,this.deco||0)}lineAt(e,n,r,i,o){return this.blockAt(0,r,i,o)}forEachLine(e,n,r,i,o,s){e<=o+this.length&&n>=o&&s(this.blockAt(0,r,i,o))}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more&&this.setHeight(i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Ii extends tW{constructor(e,n){super(e,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,n,r,i){return new ds(i,this.length,r,this.height,this.breaks)}replace(e,n,r){let i=r[0];return r.length==1&&(i instanceof Ii||i instanceof lr&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof lr?i=new Ii(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):ei.of(r)}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more?this.setHeight(i.heights[i.index++]):(r||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class lr extends ei{constructor(e){super(e,0)}heightMetrics(e,n){let r=e.doc.lineAt(n).number,i=e.doc.lineAt(n+this.length).number,o=i-r+1,s,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*o);s=l/o,this.length>o+1&&(a=(this.height-l)/(this.length-o-1))}else s=this.height/o;return{firstLine:r,lastLine:i,perLine:s,perChar:a}}blockAt(e,n,r,i){let{firstLine:o,lastLine:s,perLine:a,perChar:l}=this.heightMetrics(n,i);if(n.lineWrapping){let c=i+(e<n.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),u=n.doc.lineAt(c),h=a+u.length*l,d=Math.max(r,e-h/2);return new ds(u.from,u.length,d,h,0)}else{let c=Math.max(0,Math.min(s-o,Math.floor((e-r)/a))),{from:u,length:h}=n.doc.line(o+c);return new ds(u,h,r+a*c,a,0)}}lineAt(e,n,r,i,o){if(n==Qt.ByHeight)return this.blockAt(e,r,i,o);if(n==Qt.ByPosNoHeight){let{from:f,to:p}=r.doc.lineAt(e);return new ds(f,p-f,0,0,0)}let{firstLine:s,perLine:a,perChar:l}=this.heightMetrics(r,o),c=r.doc.lineAt(e),u=a+c.length*l,h=c.number-s,d=i+a*h+l*(c.from-o-h);return new ds(c.from,c.length,Math.max(i,Math.min(d,i+this.height-u)),u,0)}forEachLine(e,n,r,i,o,s){e=Math.max(e,o),n=Math.min(n,o+this.length);let{firstLine:a,perLine:l,perChar:c}=this.heightMetrics(r,o);for(let u=e,h=i;u<=n;){let d=r.doc.lineAt(u);if(u==e){let p=d.number-a;h+=l*p+c*(e-o-p)}let f=l+c*d.length;s(new ds(d.from,d.length,h,f,0)),h+=f,u=d.to+1}}replace(e,n,r){let i=this.length-n;if(i>0){let o=r[r.length-1];o instanceof lr?r[r.length-1]=new lr(o.length+i):r.push(null,new lr(i-1))}if(e>0){let o=r[0];o instanceof lr?r[0]=new lr(e+o.length):r.unshift(new lr(e-1),null)}return ei.of(r)}decomposeLeft(e,n){n.push(new lr(e-1),null)}decomposeRight(e,n){n.push(null,new lr(this.length-e-1))}updateHeight(e,n=0,r=!1,i){let o=n+this.length;if(i&&i.from<=n+this.length&&i.more){let s=[],a=Math.max(n,i.from),l=-1;for(i.from>n&&s.push(new lr(i.from-n-1).updateHeight(e,n));a<=o&&i.more;){let u=e.doc.lineAt(a).length;s.length&&s.push(null);let h=i.heights[i.index++];l==-1?l=h:Math.abs(h-l)>=ux&&(l=-2);let d=new Ii(u,h);d.outdated=!1,s.push(d),a+=u+1}a<=o&&s.push(null,new lr(o-a).updateHeight(e,a));let c=ei.of(s);return(l<0||Math.abs(c.height-this.height)>=ux||Math.abs(l-this.heightMetrics(e,n).perLine)>=ux)&&(Ld=!0),Hv(this,c)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class Ybe extends ei{constructor(e,n,r){super(e.length+n+r.length,e.height+r.height,n|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,n,r,i){let o=r+this.left.height;return e<o?this.left.blockAt(e,n,r,i):this.right.blockAt(e,n,o,i+this.left.length+this.break)}lineAt(e,n,r,i,o){let s=i+this.left.height,a=o+this.left.length+this.break,l=n==Qt.ByHeight?e<s:e<a,c=l?this.left.lineAt(e,n,r,i,o):this.right.lineAt(e,n,r,s,a);if(this.break||(l?c.to<a:c.from>a))return c;let u=n==Qt.ByPosNoHeight?Qt.ByPosNoHeight:Qt.ByPos;return l?c.join(this.right.lineAt(a,u,r,s,a)):this.left.lineAt(a,u,r,i,o).join(c)}forEachLine(e,n,r,i,o,s){let a=i+this.left.height,l=o+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,n,r,i,o,s),n>=l&&this.right.forEachLine(e,n,r,a,l,s);else{let c=this.lineAt(l,Qt.ByPos,r,i,o);e<c.from&&this.left.forEachLine(e,c.from-1,r,i,o,s),c.to>=e&&c.from<=n&&s(c),n>c.to&&this.right.forEachLine(c.to+1,n,r,a,l,s)}}replace(e,n,r){let i=this.left.length+this.break;if(n<i)return this.balanced(this.left.replace(e,n,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,n-i,r));let o=[];e>0&&this.decomposeLeft(e,o);let s=o.length;for(let a of r)o.push(a);if(e>0&&ED(o,s-1),n<this.length){let a=o.length;this.decomposeRight(n,o),ED(o,a)}return ei.of(o)}decomposeLeft(e,n){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(r++,e>=r&&n.push(null)),e>r&&this.right.decomposeLeft(e-r,n)}decomposeRight(e,n){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,n);e<r&&this.left.decomposeRight(e,n),this.break&&e<i&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?ei.of(this.break?[e,null,n]:[e,n]):(this.left=Hv(this.left,e),this.right=Hv(this.right,n),this.setHeight(e.height+n.height),this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,r=!1,i){let{left:o,right:s}=this,a=n+o.length+this.break,l=null;return i&&i.from<=n+o.length&&i.more?l=o=o.updateHeight(e,n,r,i):o.updateHeight(e,n,r),i&&i.from<=a+s.length&&i.more?l=s=s.updateHeight(e,a,r,i):s.updateHeight(e,a,r),l?this.balanced(o,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function ED(t,e){let n,r;t[e]==null&&(n=t[e-1])instanceof lr&&(r=t[e+1])instanceof lr&&t.splice(e-1,3,new lr(n.length+1+r.length))}const Zbe=5;class y4{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof Ii?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new Ii(r-this.pos,-1)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,r){if(e<n||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,o=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let s=n-e;r.block?this.addBlock(new tW(s,i,r)):(s||o||i>=Zbe)&&this.addLineDeco(i,o,s)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Ii(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,n){let r=new lr(n-e);return this.oracle.doc.lineAt(e).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Ii)return e;let n=new Ii(0,-1);return this.nodes.push(n),n}addBlock(e){this.enterLine();let n=e.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,n&&n.endSide>0&&(this.covering=e)}addLineDeco(e,n,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=n,this.writtenTo=this.pos=this.pos+r}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof Ii)&&!this.isCovered?this.nodes.push(new Ii(0,-1)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof Ii&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,n,r,i){let o=new y4(r,e);return bt.spans(n,r,i,o,0),o.finish(r)}}function eEe(t,e,n){let r=new tEe;return bt.compare(t,e,n,r,0),r.changes}class tEe{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,r,i){(e<n||r&&r.heightRelevant||i&&i.heightRelevant)&&AS(e,n,this.changes,5)}}function nEe(t,e){let n=t.getBoundingClientRect(),r=t.ownerDocument,i=r.defaultView||window,o=Math.max(0,n.left),s=Math.min(i.innerWidth,n.right),a=Math.max(0,n.top),l=Math.min(i.innerHeight,n.bottom);for(let c=t.parentNode;c&&c!=r.body;)if(c.nodeType==1){let u=c,h=window.getComputedStyle(u);if((u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth)&&h.overflow!="visible"){let d=u.getBoundingClientRect();o=Math.max(o,d.left),s=Math.min(s,d.right),a=Math.max(a,d.top),l=Math.min(c==t.parentNode?i.innerHeight:l,d.bottom)}c=h.position=="absolute"||h.position=="fixed"?u.offsetParent:u.parentNode}else if(c.nodeType==11)c=c.host;else break;return{left:o-n.left,right:Math.max(o,s)-n.left,top:a-(n.top+e),bottom:Math.max(a,l)-(n.top+e)}}function rEe(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class xC{constructor(e,n,r){this.from=e,this.to=n,this.size=r}static same(e,n){if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=n[r];if(i.from!=o.from||i.to!=o.to||i.size!=o.size)return!1}return!0}draw(e,n){return Fe.replace({widget:new iEe(this.size*(n?e.scaleY:e.scaleX),n)}).range(this.from,this.to)}}class iEe extends La{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class SD{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=kD,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Yt.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(g4).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new Qbe(n),this.stateDeco=e.facet(H0).filter(r=>typeof r!="function"),this.heightMap=ei.empty().applyChanges(this.stateDeco,Rt.empty,this.heightOracle.setDoc(e.doc),[new uo(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Fe.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let i=r?n.head:n.anchor;if(!e.some(({from:o,to:s})=>i>=o&&i<=s)){let{from:o,to:s}=this.lineBlockAt(i);e.push(new h1(o,s))}}return this.viewports=e.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?kD:new _4(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(dp(e,this.scaler))})}update(e,n=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(H0).filter(u=>typeof u!="function");let i=e.changedRanges,o=uo.extendWithRanges(i,eEe(r,this.stateDeco,e?e.changes:$n.empty(this.state.doc.length))),s=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);bD(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),o),(this.heightMap.height!=s||Ld)&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<l.from||n.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,n));let c=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,e.flags|=this.updateForViewport(),(c||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(LU)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,r=window.getComputedStyle(n),i=this.heightOracle,o=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?Yt.RTL:Yt.LTR;let s=this.heightOracle.mustRefreshForWrapping(o),a=n.getBoundingClientRect(),l=s||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let c=0,u=0;if(a.width&&a.height){let{scaleX:C,scaleY:S}=cU(n,a);(C>.005&&Math.abs(this.scaleX-C)>.005||S>.005&&Math.abs(this.scaleY-S)>.005)&&(this.scaleX=C,this.scaleY=S,c|=8,s=l=!0)}let h=(parseInt(r.paddingTop)||0)*this.scaleY,d=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=h||this.paddingBottom!=d)&&(this.paddingTop=h,this.paddingBottom=d,c|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=8);let f=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=f&&(this.scrollAnchorHeight=-1,this.scrollTop=f),this.scrolledToBottom=dU(e.scrollDOM);let p=(this.printing?rEe:nEe)(n,this.paddingTop),m=p.top-this.pixelViewport.top,x=p.bottom-this.pixelViewport.bottom;this.pixelViewport=p;let v=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(v!=this.inView&&(this.inView=v,v&&(l=!0)),!this.inView&&!this.scrollTarget)return 0;let y=a.width;if((this.contentDOMWidth!=y||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,c|=8),l){let C=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(C)&&(s=!0),s||i.lineWrapping&&Math.abs(y-this.contentDOMWidth)>i.charWidth){let{lineHeight:S,charWidth:k,textHeight:b}=e.docView.measureTextSize();s=S>0&&i.refresh(o,S,k,b,y/k,C),s&&(e.docView.minWidth=0,c|=8)}m>0&&x>0?u=Math.max(m,x):m<0&&x<0&&(u=Math.min(m,x)),bD();for(let S of this.viewports){let k=S.from==this.viewport.from?C:e.docView.measureVisibleLineHeights(S);this.heightMap=(s?ei.empty().applyChanges(this.stateDeco,Rt.empty,this.heightOracle,[new uo(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,s,new Xbe(S.from,k))}Ld&&(c|=2)}let _=!this.viewportIsAppropriate(this.viewport,u)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return _&&(c&2&&(c|=this.updateScaler()),this.viewport=this.getViewport(u,this.scrollTarget),c|=this.updateForViewport()),(c&2||_)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(s?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,o=this.heightOracle,{visibleTop:s,visibleBottom:a}=this,l=new h1(i.lineAt(s-r*1e3,Qt.ByHeight,o,0,0).from,i.lineAt(a+(1-r)*1e3,Qt.ByHeight,o,0,0).to);if(n){let{head:c}=n.range;if(c<l.from||c>l.to){let u=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),h=i.lineAt(c,Qt.ByPos,o,0,0),d;n.y=="center"?d=(h.top+h.bottom)/2-u/2:n.y=="start"||n.y=="nearest"&&c<l.from?d=h.top:d=h.bottom-u,l=new h1(i.lineAt(d-1e3/2,Qt.ByHeight,o,0,0).from,i.lineAt(d+u+1e3/2,Qt.ByHeight,o,0,0).to)}}return l}mapViewport(e,n){let r=n.mapPos(e.from,-1),i=n.mapPos(e.to,1);return new h1(this.heightMap.lineAt(r,Qt.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,Qt.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,Qt.ByPos,this.heightOracle,0,0),{bottom:o}=this.heightMap.lineAt(n,Qt.ByPos,this.heightOracle,0,0),{visibleTop:s,visibleBottom:a}=this;return(e==0||i<=s-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||o>=a+Math.max(10,Math.min(r,250)))&&i>s-2*1e3&&o<a+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let r=[];for(let i of e)n.touchesRange(i.from,i.to)||r.push(new xC(n.mapPos(i.from),n.mapPos(i.to),i.size));return r}ensureLineGaps(e,n){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,o=i>>1,s=i<<1;if(this.defaultTextDirection!=Yt.LTR&&!r)return[];let a=[],l=(u,h,d,f)=>{if(h-u<o)return;let p=this.state.selection.main,m=[p.from];p.empty||m.push(p.to);for(let v of m)if(v>u&&v<h){l(u,v-10,d,f),l(v+10,h,d,f);return}let x=sEe(e,v=>v.from>=d.from&&v.to<=d.to&&Math.abs(v.from-u)<o&&Math.abs(v.to-h)<o&&!m.some(y=>v.from<y&&v.to>y));if(!x){if(h<d.to&&n&&r&&n.visibleRanges.some(v=>v.from<=h&&v.to>=h)){let v=n.moveToLineBoundary(se.cursor(h),!1,!0).head;v>u&&(h=v)}x=new xC(u,h,this.gapSize(d,u,h,f))}a.push(x)},c=u=>{if(u.length<s||u.type!=Zr.Text)return;let h=oEe(u.from,u.to,this.stateDeco);if(h.total<s)return;let d=this.scrollTarget?this.scrollTarget.range.head:null,f,p;if(r){let m=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,x,v;if(d!=null){let y=f1(h,d),_=((this.visibleBottom-this.visibleTop)/2+m)/u.height;x=y-_,v=y+_}else x=(this.visibleTop-u.top-m)/u.height,v=(this.visibleBottom-u.top+m)/u.height;f=d1(h,x),p=d1(h,v)}else{let m=h.total*this.heightOracle.charWidth,x=i*this.heightOracle.charWidth,v,y;if(d!=null){let _=f1(h,d),C=((this.pixelViewport.right-this.pixelViewport.left)/2+x)/m;v=_-C,y=_+C}else v=(this.pixelViewport.left-x)/m,y=(this.pixelViewport.right+x)/m;f=d1(h,v),p=d1(h,y)}f>u.from&&l(u.from,f,u,h),p<u.to&&l(p,u.to,u,h)};for(let u of this.viewportLines)Array.isArray(u.type)?u.type.forEach(c):c(u);return a}gapSize(e,n,r,i){let o=f1(i,r)-f1(i,n);return this.heightOracle.lineWrapping?e.height*o:i.total*this.heightOracle.charWidth*o}updateLineGaps(e){xC.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Fe.set(e.map(n=>n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let n=[];bt.spans(e,this.viewport.from,this.viewport.to,{span(i,o){n.push({from:i,to:o})},point(){}},20);let r=n.length!=this.visibleRanges.length||this.visibleRanges.some((i,o)=>i.from!=n[o].from||i.to!=n[o].to);return this.visibleRanges=n,r?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||dp(this.heightMap.lineAt(e,Qt.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(n=>n.top<=e&&n.bottom>=e)||dp(this.heightMap.lineAt(this.scaler.fromDOM(e),Qt.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let n=this.lineBlockAtHeight(e+8);return n.from>=this.viewport.from||this.viewportLines[0].top-e>200?n:this.viewportLines[0]}elementAtHeight(e){return dp(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}let h1=class{constructor(e,n){this.from=e,this.to=n}};function oEe(t,e,n){let r=[],i=t,o=0;return bt.spans(n,t,e,{span(){},point(s,a){s>i&&(r.push({from:i,to:s}),o+=s-i),i=a}},20),i<e&&(r.push({from:i,to:e}),o+=e-i),{total:o,ranges:r}}function d1({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let i=0;;i++){let{from:o,to:s}=e[i],a=s-o;if(r<=a)return o+r;r-=a}}function f1(t,e){let n=0;for(let{from:r,to:i}of t.ranges){if(e<=i){n+=e-r;break}n+=i-r}return n/t.total}function sEe(t,e){for(let n of t)if(e(n))return n}const kD={toDOM(t){return t},fromDOM(t){return t},scale:1,eq(t){return t==this}};class _4{constructor(e,n,r){let i=0,o=0,s=0;this.viewports=r.map(({from:a,to:l})=>{let c=n.lineAt(a,Qt.ByPos,e,0,0).top,u=n.lineAt(l,Qt.ByPos,e,0,0).bottom;return i+=u-c,{from:a,to:l,top:c,bottom:u,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(n.height-i);for(let a of this.viewports)a.domTop=s+(a.top-o)*this.scale,s=a.domBottom=a.domTop+(a.bottom-a.top),o=a.bottom}toDOM(e){for(let n=0,r=0,i=0;;n++){let o=n<this.viewports.length?this.viewports[n]:null;if(!o||e<o.top)return i+(e-r)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);r=o.bottom,i=o.domBottom}}fromDOM(e){for(let n=0,r=0,i=0;;n++){let o=n<this.viewports.length?this.viewports[n]:null;if(!o||e<o.domTop)return r+(e-i)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);r=o.bottom,i=o.domBottom}}eq(e){return e instanceof _4?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((n,r)=>n.from==e.viewports[r].from&&n.to==e.viewports[r].to):!1}}function dp(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new ds(t.from,t.length,n,r-n,Array.isArray(t._content)?t._content.map(i=>dp(i,e)):t._content)}const p1=ke.define({combine:t=>t.join(" ")}),FS=ke.define({combine:t=>t.indexOf(!0)>-1}),BS=ic.newName(),nW=ic.newName(),rW=ic.newName(),iW={"&light":"."+nW,"&dark":"."+rW};function VS(t,e,n){return new ic(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return t;if(!n||!n[i])throw new RangeError(`Unsupported selector: ${i}`);return n[i]}):t+" "+r}})}const aEe=VS("."+BS,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},iW),lEe={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},vC=Ae.ie&&Ae.ie_version<=11;class cEe{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new KCe,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let r of n)this.queue.push(r);(Ae.ie&&Ae.ie_version<=11||Ae.ios&&e.composing)&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&e.constructor.EDIT_CONTEXT!==!1&&!(Ae.chrome&&Ae.chrome_version<126)&&(this.editContext=new hEe(e),e.state.facet(pl)&&(e.contentDOM.editContext=this.editContext.editContext)),vC&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,r)=>n!=e[r]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(pl)?r.root.activeElement!=this.dom:!lx(r.dom,i))return;let o=i.anchorNode&&r.docView.nearest(i.anchorNode);if(o&&o.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(Ae.ie&&Ae.ie_version<=11||Ae.android&&Ae.chrome)&&!r.state.selection.main.empty&&i.focusNode&&Up(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=z0(e.root);if(!n)return!1;let r=Ae.safari&&e.root.nodeType==11&&HCe(this.dom.ownerDocument)==this.dom&&uEe(this.view,n)||n;if(!r||this.selectionRange.eq(r))return!1;let i=lx(this.dom,r);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&JCe(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,lEe),vC&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),vC&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var r;if(!this.delayedAndroidKey){let i=()=>{let o=this.delayedAndroidKey;o&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=o.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&o.force&&ad(this.dom,o.key,o.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let n=-1,r=-1,i=!1;for(let o of e){let s=this.readMutation(o);s&&(s.typeOver&&(i=!0),n==-1?{from:n,to:r}=s:(n=Math.min(s.from,n),r=Math.max(s.to,r)))}return{from:n,to:r,typeOver:i}}readChange(){let{from:e,to:n,typeOver:r}=this.processRecords(),i=this.selectionChanged&&lx(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let o=new Abe(this.view,e,n,r);return this.view.docView.domChanged={newSel:o.newSel?o.newSel.main:null},o}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return this.view.requestMeasure(),!1;let r=this.view.state,i=qU(this.view,n);return this.view.state==r&&(n.domChanged||n.newSel&&!n.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(e){let n=this.view.docView.nearest(e.target);if(!n||n.ignoreMutation(e))return null;if(n.markDirty(e.type=="attributes"),e.type=="attributes"&&(n.flags|=4),e.type=="childList"){let r=TD(n,e.previousSibling||e.target.previousSibling,-1),i=TD(n,e.nextSibling||e.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:i?n.posBefore(i):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(pl)!=e.state.facet(pl)&&(e.view.contentDOM.editContext=e.state.facet(pl)?this.editContext.editContext:null))}destroy(){var e,n,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function TD(t,e,n){for(;e;){let r=Bt.get(e);if(r&&r.parent==t)return r;let i=e.parentNode;e=i!=t.dom?i:n>0?e.nextSibling:e.previousSibling}return null}function AD(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,s=t.docView.domAtPos(t.state.selection.main.anchor);return Up(s.node,s.offset,i,o)&&([n,r,i,o]=[i,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}}function uEe(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return AD(t,i)}let n=null;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",r,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",r,!0),n?AD(t,n):null}class hEe{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.resetRange(e.state);let n=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let{anchor:i}=e.state.selection.main,o={from:this.toEditorPos(r.updateRangeStart),to:this.toEditorPos(r.updateRangeEnd),insert:Rt.of(r.text.split(`
`))};o.from==this.from&&i<this.from?o.from=i:o.to==this.to&&i>this.to&&(o.to=i),!(o.from==o.to&&!o.insert.length)&&(this.pendingContextChange=o,e.state.readOnly||v4(e,o,se.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd))),this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)))},this.handlers.characterboundsupdate=r=>{let i=[],o=null;for(let s=this.toEditorPos(r.rangeStart),a=this.toEditorPos(r.rangeEnd);s<a;s++){let l=e.coordsForChar(s);o=l&&new DOMRect(l.left,l.top,l.right-l.left,l.bottom-l.top)||o||new DOMRect,i.push(o)}n.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let o of r.getTextFormats()){let s=o.underlineStyle,a=o.underlineThickness;if(s!="None"&&a!="None"){let l=`text-decoration: underline ${s=="Dashed"?"dashed ":s=="Squiggle"?"wavy ":""}${a=="Thin"?1:2}px`;i.push(Fe.mark({attributes:{style:l}}).range(this.toEditorPos(o.rangeStart),this.toEditorPos(o.rangeEnd)))}}e.dispatch({effects:BU.of(Fe.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{e.inputState.composing=-1,e.inputState.compositionFirstChange=null};for(let r in this.handlers)n.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=z0(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let n=0,r=!1,i=this.pendingContextChange;return e.changes.iterChanges((o,s,a,l,c)=>{if(r)return;let u=c.length-(s-o);if(i&&s>=i.to)if(i.from==o&&i.to==s&&i.insert.eq(c)){i=this.pendingContextChange=null,n+=u,this.to+=u;return}else i=null,this.revertPending(e.state);if(o+=n,s+=n,s<=this.from)this.from+=u,this.to+=u;else if(o<this.to){if(o<this.from||s>this.to||this.to-this.from+c.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(o),this.toContextPos(s),c.toString()),this.to+=u}n+=u}),i&&!r&&this.revertPending(e.state),!r}update(e){let n=this.pendingContextChange;!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.resetRange(e.state),this.editContext.updateText(0,this.editContext.text.length,e.state.doc.sliceString(this.from,this.to)),this.setSelection(e.state)):(e.docChanged||e.selectionSet||n)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:n}=e.selection.main;this.from=Math.max(0,n-1e4),this.to=Math.min(e.doc.length,n+1e4)}revertPending(e){let n=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(n.from),this.toContextPos(n.from+n.insert.length),e.doc.sliceString(n.from,n.to))}setSelection(e){let{main:n}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,n.anchor))),i=this.toContextPos(n.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(r,i)}rangeIsValid(e){let{head:n}=e.selection.main;return!(this.from>0&&n-this.from<500||this.to<e.doc.length&&this.to-n<500||this.to-this.from>1e4*3)}toEditorPos(e){return e+this.from}toContextPos(e){return e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class be{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var n;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(i=>i.forEach(o=>r(o,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||GCe(e.parent)||document,this.viewState=new SD(e.state||_t.create(e)),e.scrollTo&&e.scrollTo.is(l1)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(cp).map(i=>new pC(i));for(let i of this.plugins)i.update(this);this.observer=new cEe(this),this.inputState=new Mbe(this),this.inputState.ensureHandlers(this.plugins),this.docView=new sD(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((n=document.fonts)===null||n===void 0)&&n.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let n=e.length==1&&e[0]instanceof On?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(n,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r=!1,i,o=this.state;for(let d of e){if(d.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=d.state}if(this.destroyed){this.viewState.state=o;return}let s=this.hasFocus,a=0,l=null;e.some(d=>d.annotation(YU))?(this.inputState.notifiedFocused=s,a=1):s!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=s,l=ZU(o,s),l||(a=1));let c=this.observer.delayedAndroidKey,u=null;if(c?(this.observer.clearDelayedAndroidKey(),u=this.observer.readChange(),(u&&!this.state.doc.eq(o.doc)||!this.state.selection.eq(o.selection))&&(u=null)):this.observer.clear(),o.facet(_t.phrases)!=this.state.facet(_t.phrases))return this.setState(o);i=$v.create(this,o,e),i.flags|=a;let h=this.viewState.scrollTarget;try{this.updateState=2;for(let d of e){if(h&&(h=h.map(d.changes)),d.scrollIntoView){let{main:f}=d.state.selection;h=new ld(f.empty?f:se.cursor(f.head,f.head>f.anchor?-1:1))}for(let f of d.effects)f.is(l1)&&(h=f.value.clip(this.state))}this.viewState.update(i,h),this.bidiCache=Uv.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),n=this.docView.update(i),this.state.facet(up)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(d=>d.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(p1)!=i.state.facet(p1)&&(this.viewState.mustMeasureContent=!0),(n||r||h||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!i.empty)for(let d of this.state.facet(MS))try{d(i)}catch(f){mi(this.state,f,"update listener")}(l||u)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),u&&!qU(this,u)&&c.force&&ad(this.contentDOM,c.key,c.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new SD(e),this.plugins=e.facet(cp).map(r=>new pC(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new sD(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(cp),r=e.state.facet(cp);if(n!=r){let i=[];for(let o of r){let s=n.indexOf(o);if(s<0)i.push(new pC(o));else{let a=this.plugins[s];a.mustUpdate=e,i.push(a)}}for(let o of this.plugins)o.mustUpdate!=e&&o.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);n!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let n=e.value;if(n&&n.docViewUpdate)try{n.docViewUpdate(this)}catch(r){mi(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:o,scrollAnchorHeight:s}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(s=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(s<0)if(dU(r))o=-1,s=this.viewState.heightMap.height;else{let f=this.viewState.scrollAnchorAt(i);o=f.from,s=f.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let c=[];l&4||([this.measureRequests,c]=[c,this.measureRequests]);let u=c.map(f=>{try{return f.read(this)}catch(p){return mi(this.state,p),ID}}),h=$v.create(this,this.state,[]),d=!1;h.flags|=l,n?n.flags|=l:n=h,this.updateState=2,h.empty||(this.updatePlugins(h),this.inputState.update(h),this.updateAttrs(),d=this.docView.update(h),d&&this.docViewUpdate());for(let f=0;f<c.length;f++)if(u[f]!=ID)try{let p=c[f];p.write&&p.write(u[f],this)}catch(p){mi(this.state,p)}if(d&&this.docView.updateSelection(!0),!h.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,s=-1;continue}else{let p=(o<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(o).top)-s;if(p>1||p<-1){i=i+p,r.scrollTop=i/this.scaleY,s=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let a of this.state.facet(MS))a(n)}get themeClasses(){return BS+" "+(this.state.facet(FS)?rW:nW)+" "+this.state.facet(p1)}updateAttrs(){let e=RD(this,VU,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(pl)?"true":"false",class:"cm-content",style:`${Ae.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),RD(this,g4,n);let r=this.observer.ignore(()=>{let i=TS(this.contentDOM,this.contentAttrs,n),o=TS(this.dom,this.editorAttrs,e);return i||o});return this.editorAttrs=e,this.contentAttrs=n,r}showAnnouncements(e){let n=!0;for(let r of e)for(let i of r.effects)if(i.is(be.announce)){n&&(this.announceDOM.textContent=""),n=!1;let o=this.announceDOM.appendChild(document.createElement("div"));o.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(up);let e=this.state.facet(be.cspNonce);ic.mount(this.root,this.styleModules.concat(aEe).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.spec!=e)&&this.pluginMap.set(e,n=this.plugins.find(r=>r.spec==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,r){return gC(this,e,hD(this,e,n,r))}moveByGroup(e,n){return gC(this,e,hD(this,e,n,r=>Ebe(this,e.head,r)))}visualLineSide(e,n){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),o=r[n?r.length-1:0];return se.cursor(o.side(n,i)+e.from,o.forward(!n,i)?1:-1)}moveToLineBoundary(e,n,r=!0){return bbe(this,e,n,r)}moveVertically(e,n,r){return gC(this,e,Sbe(this,e,n,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){return this.readMeasured(),WU(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),o=this.bidiSpans(i),s=o[Sl.find(o,e-i.from,-1,n)];return z_(r,s.dir==Yt.LTR==n>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(OU)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>dEe)return TU(e.length);let n=this.textDirectionAt(e.from),r;for(let o of this.bidiCache)if(o.from==e.from&&o.dir==n&&(o.fresh||kU(o.isolates,r=oD(this,e))))return o.order;r||(r=oD(this,e));let i=abe(e.text,n,r);return this.bidiCache.push(new Uv(e.from,e.to,n,r,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||Ae.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{uU(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return l1.of(new ld(typeof e=="number"?se.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:n}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return l1.of(new ld(se.cursor(r.from),"start","start",r.top-e,n,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return Ln.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Ln.define(()=>({}),{eventObservers:e})}static theme(e,n){let r=ic.newName(),i=[p1.of(r),up.of(VS(`.${r}`,e))];return n&&n.dark&&i.push(FS.of(!0)),i}static baseTheme(e){return wc.lowest(up.of(VS("."+BS,e,iW)))}static findFromDOM(e){var n;let r=e.querySelector(".cm-content"),i=r&&Bt.get(r)||Bt.get(e);return((n=i==null?void 0:i.rootView)===null||n===void 0?void 0:n.view)||null}}be.styleModule=up;be.inputHandler=MU;be.clipboardInputFilter=p4;be.clipboardOutputFilter=m4;be.scrollHandler=FU;be.focusChangeEffect=NU;be.perLineTextDirection=OU;be.exceptionSink=DU;be.updateListener=MS;be.editable=pl;be.mouseSelectionStyle=PU;be.dragMovesSelection=RU;be.clickAddsSelectionRange=IU;be.decorations=H0;be.outerDecorations=jU;be.atomicRanges=x4;be.bidiIsolatedRanges=zU;be.scrollMargins=$U;be.darkTheme=FS;be.cspNonce=ke.define({combine:t=>t.length?t[0]:""});be.contentAttributes=g4;be.editorAttributes=VU;be.lineWrapping=be.contentAttributes.of({class:"cm-lineWrapping"});be.announce=et.define();const dEe=4096,ID={};class Uv{constructor(e,n,r,i,o,s){this.from=e,this.to=n,this.dir=r,this.isolates=i,this.fresh=o,this.order=s}static update(e,n){if(n.empty&&!e.some(o=>o.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:Yt.LTR;for(let o=Math.max(0,e.length-10);o<e.length;o++){let s=e[o];s.dir==i&&!n.touchesRange(s.from,s.to)&&r.push(new Uv(n.mapPos(s.from,1),n.mapPos(s.to,-1),s.dir,s.isolates,!1,s.order))}return r}}function RD(t,e,n){for(let r=t.state.facet(e),i=r.length-1;i>=0;i--){let o=r[i],s=typeof o=="function"?o(t):o;s&&kS(s,n)}return n}const fEe=Ae.mac?"mac":Ae.windows?"win":Ae.linux?"linux":"key";function pEe(t,e){const n=t.split(/-(?!$)/);let r=n[n.length-1];r=="Space"&&(r=" ");let i,o,s,a;for(let l=0;l<n.length-1;++l){const c=n[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))i=!0;else if(/^(c|ctrl|control)$/i.test(c))o=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))e=="mac"?a=!0:o=!0;else throw new Error("Unrecognized modifier name: "+c)}return i&&(r="Alt-"+r),o&&(r="Ctrl-"+r),a&&(r="Meta-"+r),s&&(r="Shift-"+r),r}function m1(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const mEe=wc.default(be.domEventHandlers({keydown(t,e){return sW(oW(e.state),t,e,"editor")}})),U_=ke.define({enables:mEe}),PD=new WeakMap;function oW(t){let e=t.facet(U_),n=PD.get(e);return n||PD.set(e,n=vEe(e.reduce((r,i)=>r.concat(i),[]))),n}function gEe(t,e,n){return sW(oW(t.state),e,t,n)}let ml=null;const xEe=4e3;function vEe(t,e=fEe){let n=Object.create(null),r=Object.create(null),i=(s,a)=>{let l=r[s];if(l==null)r[s]=a;else if(l!=a)throw new Error("Key binding "+s+" is used both as a regular binding and as a multi-stroke prefix")},o=(s,a,l,c,u)=>{var h,d;let f=n[s]||(n[s]=Object.create(null)),p=a.split(/ (?!$)/).map(v=>pEe(v,e));for(let v=1;v<p.length;v++){let y=p.slice(0,v).join(" ");i(y,!0),f[y]||(f[y]={preventDefault:!0,stopPropagation:!1,run:[_=>{let C=ml={view:_,prefix:y,scope:s};return setTimeout(()=>{ml==C&&(ml=null)},xEe),!0}]})}let m=p.join(" ");i(m,!1);let x=f[m]||(f[m]={preventDefault:!1,stopPropagation:!1,run:((d=(h=f._any)===null||h===void 0?void 0:h.run)===null||d===void 0?void 0:d.slice())||[]});l&&x.run.push(l),c&&(x.preventDefault=!0),u&&(x.stopPropagation=!0)};for(let s of t){let a=s.scope?s.scope.split(" "):["editor"];if(s.any)for(let c of a){let u=n[c]||(n[c]=Object.create(null));u._any||(u._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:h}=s;for(let d in u)u[d].run.push(f=>h(f,jS))}let l=s[e]||s.key;if(l)for(let c of a)o(c,l,s.run,s.preventDefault,s.stopPropagation),s.shift&&o(c,"Shift-"+l,s.shift,s.preventDefault,s.stopPropagation)}return n}let jS=null;function sW(t,e,n,r){jS=e;let i=$Ce(e),o=hr(i,0),s=no(o)==i.length&&i!=" ",a="",l=!1,c=!1,u=!1;ml&&ml.view==n&&ml.scope==r&&(a=ml.prefix+" ",GU.indexOf(e.keyCode)<0&&(c=!0,ml=null));let h=new Set,d=x=>{if(x){for(let v of x.run)if(!h.has(v)&&(h.add(v),v(n)))return x.stopPropagation&&(u=!0),!0;x.preventDefault&&(x.stopPropagation&&(u=!0),c=!0)}return!1},f=t[r],p,m;return f&&(d(f[a+m1(i,e,!s)])?l=!0:s&&(e.altKey||e.metaKey||e.ctrlKey)&&!(Ae.windows&&e.ctrlKey&&e.altKey)&&(p=oc[e.keyCode])&&p!=i?(d(f[a+m1(p,e,!0)])||e.shiftKey&&(m=j0[e.keyCode])!=i&&m!=p&&d(f[a+m1(m,e,!1)]))&&(l=!0):s&&e.shiftKey&&d(f[a+m1(i,e,!0)])&&(l=!0),!l&&d(f._any)&&(l=!0)),c&&(l=!0),l&&u&&e.stopPropagation(),jS=null,l}class Zm{constructor(e,n,r,i,o){this.className=e,this.left=n,this.top=r,this.width=i,this.height=o}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,n){return n.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,n,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let o=aW(e);return[new Zm(n,i.left-o.left,i.top-o.top,null,i.bottom-i.top)]}else return yEe(e,n,r)}}function aW(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==Yt.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function DD(t,e,n,r){let i=t.coordsAtPos(e,n*2);if(!i)return r;let o=t.dom.getBoundingClientRect(),s=(i.top+i.bottom)/2,a=t.posAtCoords({x:o.left+1,y:s}),l=t.posAtCoords({x:o.right-1,y:s});return a==null||l==null?r:{from:Math.max(r.from,Math.min(a,l)),to:Math.min(r.to,Math.max(a,l))}}function yEe(t,e,n){if(n.to<=t.viewport.from||n.from>=t.viewport.to)return[];let r=Math.max(n.from,t.viewport.from),i=Math.min(n.to,t.viewport.to),o=t.textDirection==Yt.LTR,s=t.contentDOM,a=s.getBoundingClientRect(),l=aW(t),c=s.querySelector(".cm-line"),u=c&&window.getComputedStyle(c),h=a.left+(u?parseInt(u.paddingLeft)+Math.min(0,parseInt(u.textIndent)):0),d=a.right-(u?parseInt(u.paddingRight):0),f=OS(t,r),p=OS(t,i),m=f.type==Zr.Text?f:null,x=p.type==Zr.Text?p:null;if(m&&(t.lineWrapping||f.widgetLineBreaks)&&(m=DD(t,r,1,m)),x&&(t.lineWrapping||p.widgetLineBreaks)&&(x=DD(t,i,-1,x)),m&&x&&m.from==x.from&&m.to==x.to)return y(_(n.from,n.to,m));{let S=m?_(n.from,null,m):C(f,!1),k=x?_(null,n.to,x):C(p,!0),b=[];return(m||f).to<(x||p).from-(m&&x?1:0)||f.widgetLineBreaks>1&&S.bottom+t.defaultLineHeight/2<k.top?b.push(v(h,S.bottom,d,k.top)):S.bottom<k.top&&t.elementAtHeight((S.bottom+k.top)/2).type==Zr.Text&&(S.bottom=k.top=(S.bottom+k.top)/2),y(S).concat(b).concat(y(k))}function v(S,k,b,w){return new Zm(e,S-l.left,k-l.top-.01,b-S,w-k+.01)}function y({top:S,bottom:k,horizontal:b}){let w=[];for(let A=0;A<b.length;A+=2)w.push(v(b[A],S,b[A+1],k));return w}function _(S,k,b){let w=1e9,A=-1e9,E=[];function R(j,$,Q,X,q){let H=t.coordsAtPos(j,j==b.to?-2:2),L=t.coordsAtPos(Q,Q==b.from?2:-2);!H||!L||(w=Math.min(H.top,L.top,w),A=Math.max(H.bottom,L.bottom,A),q==Yt.LTR?E.push(o&&$?h:H.left,o&&X?d:L.right):E.push(!o&&X?h:L.left,!o&&$?d:H.right))}let D=S??b.from,N=k??b.to;for(let j of t.visibleRanges)if(j.to>D&&j.from<N)for(let $=Math.max(j.from,D),Q=Math.min(j.to,N);;){let X=t.state.doc.lineAt($);for(let q of t.bidiSpans(X)){let H=q.from+X.from,L=q.to+X.from;if(H>=Q)break;L>$&&R(Math.max(H,$),S==null&&H<=D,Math.min(L,Q),k==null&&L>=N,q.dir)}if($=X.to+1,$>=Q)break}return E.length==0&&R(D,S==null,N,k==null,t.textDirection),{top:w,bottom:A,horizontal:E}}function C(S,k){let b=a.top+(k?S.top:S.bottom);return{top:b,bottom:b,horizontal:[]}}}function _Ee(t,e){return t.constructor==e.constructor&&t.eq(e)}class wEe{constructor(e,n){this.view=e,this.layer=n,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,e)}update(e){e.startState.facet(hx)!=e.state.facet(hx)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let n=0,r=e.facet(hx);for(;n<r.length&&r[n]!=this.layer;)n++;this.dom.style.zIndex=String((this.layer.above?150:-1)-n)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:n}=this.view;(e!=this.scaleX||n!=this.scaleY)&&(this.scaleX=e,this.scaleY=n,this.dom.style.transform=`scale(${1/e}, ${1/n})`)}draw(e){if(e.length!=this.drawn.length||e.some((n,r)=>!_Ee(n,this.drawn[r]))){let n=this.dom.firstChild,r=0;for(let i of e)i.update&&n&&i.constructor&&this.drawn[r].constructor&&i.update(n,this.drawn[r])?(n=n.nextSibling,r++):this.dom.insertBefore(i.draw(),n);for(;n;){let i=n.nextSibling;n.remove(),n=i}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const hx=ke.define();function lW(t){return[Ln.define(e=>new wEe(e,t)),hx.of(t)]}const cW=!Ae.ios,U0=ke.define({combine(t){return Fs(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,n)=>Math.min(e,n),drawRangeCursor:(e,n)=>e||n})}});function CEe(t={}){return[U0.of(t),bEe,EEe,SEe,LU.of(!0)]}function uW(t){return t.startState.facet(U0)!=t.state.facet(U0)}const bEe=lW({above:!0,markers(t){let{state:e}=t,n=e.facet(U0),r=[];for(let i of e.selection.ranges){let o=i==e.selection.main;if(i.empty?!o||cW:n.drawRangeCursor){let s=o?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a=i.empty?i:se.cursor(i.head,i.head>i.anchor?-1:1);for(let l of Zm.forRange(t,s,a))r.push(l)}}return r},update(t,e){t.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let n=uW(t);return n&&MD(t.state,e),t.docChanged||t.selectionSet||n},mount(t,e){MD(e.state,t)},class:"cm-cursorLayer"});function MD(t,e){e.style.animationDuration=t.facet(U0).cursorBlinkRate+"ms"}const EEe=lW({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:Zm.forRange(t,"cm-selectionBackground",e)).reduce((e,n)=>e.concat(n))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||uW(t)},class:"cm-selectionLayer"}),zS={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};cW&&(zS[".cm-line"].caretColor=zS[".cm-content"].caretColor="transparent !important");const SEe=wc.highest(be.theme(zS)),hW=et.define({map(t,e){return t==null?null:e.mapPos(t)}}),fp=ir.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((n,r)=>r.is(hW)?r.value:n,t)}}),kEe=Ln.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let n=t.state.field(fp);n==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(fp)!=n||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field(fp),n=e!=null&&t.coordsAtPos(e);if(!n)return null;let r=t.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+t.scrollDOM.scrollLeft*t.scaleX,top:n.top-r.top+t.scrollDOM.scrollTop*t.scaleY,height:n.bottom-n.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:n}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/n+"px",this.cursor.style.height=t.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(fp)!=t&&this.view.dispatch({effects:hW.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function TEe(){return[fp,kEe]}function ND(t,e,n,r,i){e.lastIndex=0;for(let o=t.iterRange(n,r),s=n,a;!o.next().done;s+=o.value.length)if(!o.lineBreak)for(;a=e.exec(o.value);)i(s+a.index,a)}function AEe(t,e){let n=t.visibleRanges;if(n.length==1&&n[0].from==t.viewport.from&&n[0].to==t.viewport.to)return n;let r=[];for(let{from:i,to:o}of n)i=Math.max(t.state.doc.lineAt(i).from,i-e),o=Math.min(t.state.doc.lineAt(o).to,o+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=o:r.push({from:i,to:o});return r}class IEe{constructor(e){const{regexp:n,decoration:r,decorate:i,boundary:o,maxLength:s=1e3}=e;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,i)this.addMatch=(a,l,c,u)=>i(u,c,c+a[0].length,a,l);else if(typeof r=="function")this.addMatch=(a,l,c,u)=>{let h=r(a,l,c);h&&u(c,c+a[0].length,h)};else if(r)this.addMatch=(a,l,c,u)=>u(c,c+a[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=o,this.maxLength=s}createDeco(e){let n=new rc,r=n.add.bind(n);for(let{from:i,to:o}of AEe(e,this.maxLength))ND(e.state.doc,this.regexp,i,o,(s,a)=>this.addMatch(a,e,s,r));return n.finish()}updateDeco(e,n){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((o,s,a,l)=>{l>e.view.viewport.from&&a<e.view.viewport.to&&(r=Math.min(a,r),i=Math.max(l,i))}),e.viewportChanged||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,n.map(e.changes),r,i):n}updateRange(e,n,r,i){for(let o of e.visibleRanges){let s=Math.max(o.from,r),a=Math.min(o.to,i);if(a>s){let l=e.state.doc.lineAt(s),c=l.to<a?e.state.doc.lineAt(a):l,u=Math.max(o.from,l.from),h=Math.min(o.to,c.to);if(this.boundary){for(;s>l.from;s--)if(this.boundary.test(l.text[s-1-l.from])){u=s;break}for(;a<c.to;a++)if(this.boundary.test(c.text[a-c.from])){h=a;break}}let d=[],f,p=(m,x,v)=>d.push(v.range(m,x));if(l==c)for(this.regexp.lastIndex=u-l.from;(f=this.regexp.exec(l.text))&&f.index<h-l.from;)this.addMatch(f,e,f.index+l.from,p);else ND(e.state.doc,this.regexp,u,h,(m,x)=>this.addMatch(x,e,m,p));n=n.update({filterFrom:u,filterTo:h,filter:(m,x)=>m<u||x>h,add:d})}}return n}}const $S=/x/.unicode!=null?"gu":"g",REe=new RegExp(`[\0-\b
--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\uFEFF￹-￼]`,$S),PEe={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let yC=null;function DEe(){var t;if(yC==null&&typeof document<"u"&&document.body){let e=document.body.style;yC=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return yC||!1}const dx=ke.define({combine(t){let e=Fs(t,{render:null,specialChars:REe,addSpecialChars:null});return(e.replaceTabs=!DEe())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,$S)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,$S)),e}});function MEe(t={}){return[dx.of(t),NEe()]}let OD=null;function NEe(){return OD||(OD=Ln.fromClass(class{constructor(t){this.view=t,this.decorations=Fe.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(dx)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new IEe({regexp:t.specialChars,decoration:(e,n,r)=>{let{doc:i}=n.state,o=hr(e[0],0);if(o==9){let s=i.lineAt(r),a=n.state.tabSize,l=lf(s.text,a,r-s.from);return Fe.replace({widget:new BEe((a-l%a)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[o]||(this.decorationCache[o]=Fe.replace({widget:new FEe(t,o)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(dx);t.startState.facet(dx)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const OEe="•";function LEe(t){return t>=32?OEe:t==10?"␤":String.fromCharCode(9216+t)}class FEe extends La{constructor(e,n){super(),this.options=e,this.code=n}eq(e){return e.code==this.code}toDOM(e){let n=LEe(this.code),r=e.state.phrase("Control character")+" "+(PEe[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,n);if(i)return i;let o=document.createElement("span");return o.textContent=n,o.title=r,o.setAttribute("aria-label",r),o.className="cm-specialChar",o}ignoreEvent(){return!1}}class BEe extends La{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function VEe(){return zEe}const jEe=Fe.line({class:"cm-activeLine"}),zEe=Ln.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let r of t.state.selection.ranges){let i=t.lineBlockAt(r.head);i.from>e&&(n.push(jEe.range(i.from)),e=i.from)}return Fe.set(n)}},{decorations:t=>t.decorations}),HS=2e3;function $Ee(t,e,n){let r=Math.min(e.line,n.line),i=Math.max(e.line,n.line),o=[];if(e.off>HS||n.off>HS||e.col<0||n.col<0){let s=Math.min(e.off,n.off),a=Math.max(e.off,n.off);for(let l=r;l<=i;l++){let c=t.doc.line(l);c.length<=a&&o.push(se.range(c.from+s,c.to+a))}}else{let s=Math.min(e.col,n.col),a=Math.max(e.col,n.col);for(let l=r;l<=i;l++){let c=t.doc.line(l),u=yS(c.text,s,t.tabSize,!0);if(u<0)o.push(se.cursor(c.to));else{let h=yS(c.text,a,t.tabSize);o.push(se.range(c.from+u,c.from+h))}}}return o}function HEe(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}function LD(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),r=t.state.doc.lineAt(n),i=n-r.from,o=i>HS?-1:i==r.length?HEe(t,e.clientX):lf(r.text,t.state.tabSize,n-r.from);return{line:r.number,col:o,off:i}}function UEe(t,e){let n=LD(t,e),r=t.state.selection;return n?{update(i){if(i.docChanged){let o=i.changes.mapPos(i.startState.doc.line(n.line).from),s=i.state.doc.lineAt(o);n={line:s.number,col:n.col,off:Math.min(n.off,s.length)},r=r.map(i.changes)}},get(i,o,s){let a=LD(t,i);if(!a)return r;let l=$Ee(t.state,n,a);return l.length?s?se.create(l.concat(r.ranges)):se.create(l):r}}:null}function WEe(t){let e=n=>n.altKey&&n.button==0;return be.mouseSelectionStyle.of((n,r)=>e(r)?UEe(n,r):null)}const qEe={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},KEe={style:"cursor: crosshair"};function GEe(t={}){let[e,n]=qEe[t.key||"Alt"],r=Ln.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||n(i))},keyup(i){(i.keyCode==e||!n(i))&&this.set(!1)},mousemove(i){this.set(n(i))}}});return[r,be.contentAttributes.of(i=>{var o;return!((o=i.plugin(r))===null||o===void 0)&&o.isDown?KEe:null})]}const Hf="-10000px";class dW{constructor(e,n,r,i){this.facet=n,this.createTooltipView=r,this.removeTooltipView=i,this.input=e.state.facet(n),this.tooltips=this.input.filter(s=>s);let o=null;this.tooltipViews=this.tooltips.map(s=>o=r(s,o))}update(e,n){var r;let i=e.state.facet(this.facet),o=i.filter(l=>l);if(i===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let s=[],a=n?[]:null;for(let l=0;l<o.length;l++){let c=o[l],u=-1;if(c){for(let h=0;h<this.tooltips.length;h++){let d=this.tooltips[h];d&&d.create==c.create&&(u=h)}if(u<0)s[l]=this.createTooltipView(c,l?s[l-1]:null),a&&(a[l]=!!c.above);else{let h=s[l]=this.tooltipViews[u];a&&(a[l]=n[u]),h.update&&h.update(e)}}}for(let l of this.tooltipViews)s.indexOf(l)<0&&(this.removeTooltipView(l),(r=l.destroy)===null||r===void 0||r.call(l));return n&&(a.forEach((l,c)=>n[c]=l),n.length=a.length),this.input=i,this.tooltips=o,this.tooltipViews=s,!0}}function JEe(t){let{win:e}=t;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const _C=ke.define({combine:t=>{var e,n,r;return{position:Ae.ios?"absolute":((e=t.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=t.find(i=>i.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((r=t.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||JEe}}}),FD=new WeakMap,w4=Ln.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(_C);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new dW(t,C4,(n,r)=>this.createTooltip(n,r),n=>{this.resizeObserver&&this.resizeObserver.unobserve(n.dom),n.dom.remove()}),this.above=this.manager.tooltips.map(n=>!!n.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let n=e||t.geometryChanged,r=t.state.facet(_C);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t,e){let n=t.create(this.view),r=e?e.dom:null;if(n.dom.classList.add("cm-tooltip"),t.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",n.dom.appendChild(i)}return n.dom.style.position=this.position,n.dom.style.top=Hf,n.dom.style.left="0px",this.container.insertBefore(n.dom,r),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var t,e,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(t=r.destroy)===null||t===void 0||t.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=this.view.dom.getBoundingClientRect(),e=1,n=1,r=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:i}=this.manager.tooltipViews[0];if(Ae.gecko)r=i.offsetParent!=this.container.ownerDocument.body;else if(i.style.top==Hf&&i.style.left=="0px"){let o=i.getBoundingClientRect();r=Math.abs(o.top+1e4)>1||Math.abs(o.left)>1}}if(r||this.position=="absolute")if(this.parent){let i=this.parent.getBoundingClientRect();i.width&&i.height&&(e=i.width/this.parent.offsetWidth,n=i.height/this.parent.offsetHeight)}else({scaleX:e,scaleY:n}=this.view.viewState);return{editor:t,parent:this.parent?this.container.getBoundingClientRect():t,pos:this.manager.tooltips.map((i,o)=>{let s=this.manager.tooltipViews[o];return s.getCoords?s.getCoords(i.pos):this.view.coordsAtPos(i.pos)}),size:this.manager.tooltipViews.map(({dom:i})=>i.getBoundingClientRect()),space:this.view.state.facet(_C).tooltipSpace(this.view),scaleX:e,scaleY:n,makeAbsolute:r}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let a of this.manager.tooltipViews)a.dom.style.position="absolute"}let{editor:n,space:r,scaleX:i,scaleY:o}=t,s=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],c=this.manager.tooltipViews[a],{dom:u}=c,h=t.pos[a],d=t.size[a];if(!h||h.bottom<=Math.max(n.top,r.top)||h.top>=Math.min(n.bottom,r.bottom)||h.right<Math.max(n.left,r.left)-.1||h.left>Math.min(n.right,r.right)+.1){u.style.top=Hf;continue}let f=l.arrow?c.dom.querySelector(".cm-tooltip-arrow"):null,p=f?7:0,m=d.right-d.left,x=(e=FD.get(c))!==null&&e!==void 0?e:d.bottom-d.top,v=c.offset||XEe,y=this.view.textDirection==Yt.LTR,_=d.width>r.right-r.left?y?r.left:r.right-d.width:y?Math.max(r.left,Math.min(h.left-(f?14:0)+v.x,r.right-m)):Math.min(Math.max(r.left,h.left-m+(f?14:0)-v.x),r.right-m),C=this.above[a];!l.strictSide&&(C?h.top-(d.bottom-d.top)-v.y<r.top:h.bottom+(d.bottom-d.top)+v.y>r.bottom)&&C==r.bottom-h.bottom>h.top-r.top&&(C=this.above[a]=!C);let S=(C?h.top-r.top:r.bottom-h.bottom)-p;if(S<x&&c.resize!==!1){if(S<this.view.defaultLineHeight){u.style.top=Hf;continue}FD.set(c,x),u.style.height=(x=S)/o+"px"}else u.style.height&&(u.style.height="");let k=C?h.top-x-p-v.y:h.bottom+p+v.y,b=_+m;if(c.overlap!==!0)for(let w of s)w.left<b&&w.right>_&&w.top<k+x&&w.bottom>k&&(k=C?w.top-x-2-p:w.bottom+p+2);if(this.position=="absolute"?(u.style.top=(k-t.parent.top)/o+"px",u.style.left=(_-t.parent.left)/i+"px"):(u.style.top=k/o+"px",u.style.left=_/i+"px"),f){let w=h.left+(y?v.x:-v.x)-(_+14-7);f.style.left=w/i+"px"}c.overlap!==!0&&s.push({left:_,top:k,right:b,bottom:k+x}),u.classList.toggle("cm-tooltip-above",C),u.classList.toggle("cm-tooltip-below",!C),c.positioned&&c.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=Hf}},{eventObservers:{scroll(){this.maybeMeasure()}}}),QEe=be.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),XEe={x:0,y:0},C4=ke.define({enables:[w4,QEe]}),Wv=ke.define({combine:t=>t.reduce((e,n)=>e.concat(n),[])});class W_{static create(e){return new W_(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new dW(e,Wv,(n,r)=>this.createHostedView(n,r),n=>n.dom.remove())}createHostedView(e,n){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,n?n.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let n of this.manager.tooltipViews)n.mount&&n.mount(e);this.mounted=!0}positioned(e){for(let n of this.manager.tooltipViews)n.positioned&&n.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let n of this.manager.tooltipViews)(e=n.destroy)===null||e===void 0||e.call(n)}passProp(e){let n;for(let r of this.manager.tooltipViews){let i=r[e];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const YEe=C4.compute([Wv],t=>{let e=t.facet(Wv);return e.length===0?null:{pos:Math.min(...e.map(n=>n.pos)),end:Math.max(...e.map(n=>{var r;return(r=n.end)!==null&&r!==void 0?r:n.pos})),create:W_.create,above:e[0].above,arrow:e.some(n=>n.arrow)}});class ZEe{constructor(e,n,r,i,o){this.view=e,this.source=n,this.field=r,this.setHover=i,this.hoverTime=o,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:n}=this,r=e.docView.nearest(n.target);if(!r)return;let i,o=1;if(r instanceof El)i=r.posAtStart;else{if(i=e.posAtCoords(n),i==null)return;let a=e.coordsAtPos(i);if(!a||n.y<a.top||n.y>a.bottom||n.x<a.left-e.defaultCharacterWidth||n.x>a.right+e.defaultCharacterWidth)return;let l=e.bidiSpans(e.state.doc.lineAt(i)).find(u=>u.from<=i&&u.to>=i),c=l&&l.dir==Yt.RTL?-1:1;o=n.x<a.left?-c:c}let s=this.source(e,i,o);if(s!=null&&s.then){let a=this.pending={pos:i};s.then(l=>{this.pending==a&&(this.pending=null,l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])}))},l=>mi(e.state,l,"hover tooltip"))}else s&&!(Array.isArray(s)&&!s.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(s)?s:[s])})}get tooltip(){let e=this.view.plugin(w4),n=e?e.manager.tooltips.findIndex(r=>r.create==W_.create):-1;return n>-1?e.manager.tooltipViews[n]:null}mousemove(e){var n,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:o}=this;if(i.length&&o&&!eSe(o.dom,e)||this.pending){let{pos:s}=i[0]||this.pending,a=(r=(n=i[0])===null||n===void 0?void 0:n.end)!==null&&r!==void 0?r:s;(s==a?this.view.posAtCoords(this.lastMove)!=s:!tSe(this.view,s,a,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:n}=this;if(n.length){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let n=r=>{e.removeEventListener("mouseleave",n),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",n)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const g1=4;function eSe(t,e){let{left:n,right:r,top:i,bottom:o}=t.getBoundingClientRect(),s;if(s=t.querySelector(".cm-tooltip-arrow")){let a=s.getBoundingClientRect();i=Math.min(a.top,i),o=Math.max(a.bottom,o)}return e.clientX>=n-g1&&e.clientX<=r+g1&&e.clientY>=i-g1&&e.clientY<=o+g1}function tSe(t,e,n,r,i,o){let s=t.scrollDOM.getBoundingClientRect(),a=t.documentTop+t.documentPadding.top+t.contentHeight;if(s.left>r||s.right<r||s.top>i||Math.min(s.bottom,a)<i)return!1;let l=t.posAtCoords({x:r,y:i},!1);return l>=e&&l<=n}function nSe(t,e={}){let n=et.define(),r=ir.define({create(){return[]},update(i,o){if(i.length&&(e.hideOnChange&&(o.docChanged||o.selection)?i=[]:e.hideOn&&(i=i.filter(s=>!e.hideOn(o,s))),o.docChanged)){let s=[];for(let a of i){let l=o.changes.mapPos(a.pos,-1,pr.TrackDel);if(l!=null){let c=Object.assign(Object.create(null),a);c.pos=l,c.end!=null&&(c.end=o.changes.mapPos(c.end)),s.push(c)}}i=s}for(let s of o.effects)s.is(n)&&(i=s.value),s.is(rSe)&&(i=[]);return i},provide:i=>Wv.from(i)});return{active:r,extension:[r,Ln.define(i=>new ZEe(i,t,r,n,e.hoverTime||300)),YEe]}}function fW(t,e){let n=t.plugin(w4);if(!n)return null;let r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}const rSe=et.define(),BD=ke.define({combine(t){let e,n;for(let r of t)e=e||r.topContainer,n=n||r.bottomContainer;return{topContainer:e,bottomContainer:n}}});function W0(t,e){let n=t.plugin(pW),r=n?n.specs.indexOf(e):-1;return r>-1?n.panels[r]:null}const pW=Ln.fromClass(class{constructor(t){this.input=t.state.facet(q0),this.specs=this.input.filter(n=>n),this.panels=this.specs.map(n=>n(t));let e=t.state.facet(BD);this.top=new x1(t,!0,e.topContainer),this.bottom=new x1(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(n=>n.top)),this.bottom.sync(this.panels.filter(n=>!n.top));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(t){let e=t.state.facet(BD);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new x1(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new x1(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(q0);if(n!=this.input){let r=n.filter(l=>l),i=[],o=[],s=[],a=[];for(let l of r){let c=this.specs.indexOf(l),u;c<0?(u=l(t.view),a.push(u)):(u=this.panels[c],u.update&&u.update(t)),i.push(u),(u.top?o:s).push(u)}this.specs=r,this.panels=i,this.top.sync(o),this.bottom.sync(s);for(let l of a)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let r of this.panels)r.update&&r.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>be.scrollMargins.of(e=>{let n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})});class x1{constructor(e,n,r){this.view=e,this.top=n,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let n of this.panels)n.destroy&&e.indexOf(n)<0&&n.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let n=this.container||this.view.dom;n.insertBefore(this.dom,this.top?n.firstChild:null)}let e=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;e!=n.dom;)e=VD(e);e=e.nextSibling}else this.dom.insertBefore(n.dom,e);for(;e;)e=VD(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function VD(t){let e=t.nextSibling;return t.remove(),e}const q0=ke.define({enables:pW});class ka extends Su{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}ka.prototype.elementClass="";ka.prototype.toDOM=void 0;ka.prototype.mapMode=pr.TrackBefore;ka.prototype.startSide=ka.prototype.endSide=-1;ka.prototype.point=!0;const fx=ke.define(),iSe=ke.define(),oSe={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>bt.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},qp=ke.define();function sSe(t){return[mW(),qp.of(Object.assign(Object.assign({},oSe),t))]}const jD=ke.define({combine:t=>t.some(e=>e)});function mW(t){return[aSe]}const aSe=Ln.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(qp).map(e=>new $D(t,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!t.state.facet(jD),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<(n.to-n.from)*.8)}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(jD)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let n=bt.iter(this.view.state.facet(fx),this.view.viewport.from),r=[],i=this.gutters.map(o=>new lSe(o,this.view.viewport,-this.view.documentPadding.top));for(let o of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(o.type)){let s=!0;for(let a of o.type)if(a.type==Zr.Text&&s){US(n,r,a.from);for(let l of i)l.line(this.view,a,r);s=!1}else if(a.widget)for(let l of i)l.widget(this.view,a)}else if(o.type==Zr.Text){US(n,r,o.from);for(let s of i)s.line(this.view,o,r)}else if(o.widget)for(let s of i)s.widget(this.view,o);for(let o of i)o.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(qp),n=t.state.facet(qp),r=t.docChanged||t.heightChanged||t.viewportChanged||!bt.eq(t.startState.facet(fx),t.state.facet(fx),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let i of this.gutters)i.update(t)&&(r=!0);else{r=!0;let i=[];for(let o of n){let s=e.indexOf(o);s<0?i.push(new $D(this.view,o)):(this.gutters[s].update(t),i.push(this.gutters[s]))}for(let o of this.gutters)o.dom.remove(),i.indexOf(o)<0&&o.destroy();for(let o of i)this.dom.appendChild(o.dom);this.gutters=i}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>be.scrollMargins.of(e=>{let n=e.plugin(t);return!n||n.gutters.length==0||!n.fixed?null:e.textDirection==Yt.LTR?{left:n.dom.offsetWidth*e.scaleX}:{right:n.dom.offsetWidth*e.scaleX}})});function zD(t){return Array.isArray(t)?t:[t]}function US(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class lSe{constructor(e,n,r){this.gutter=e,this.height=r,this.i=0,this.cursor=bt.iter(e.markers,n.from)}addElement(e,n,r){let{gutter:i}=this,o=(n.top-this.height)/e.scaleY,s=n.height/e.scaleY;if(this.i==i.elements.length){let a=new gW(e,s,o,r);i.elements.push(a),i.dom.appendChild(a.dom)}else i.elements[this.i].update(e,s,o,r);this.height=n.bottom,this.i++}line(e,n,r){let i=[];US(this.cursor,i,n.from),r.length&&(i=i.concat(r));let o=this.gutter.config.lineMarker(e,n,i);o&&i.unshift(o);let s=this.gutter;i.length==0&&!s.config.renderEmptyElements||this.addElement(e,n,i)}widget(e,n){let r=this.gutter.config.widgetMarker(e,n.widget,n),i=r?[r]:null;for(let o of e.state.facet(iSe)){let s=o(e,n.widget,n);s&&(i||(i=[])).push(s)}i&&this.addElement(e,n,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}class $D{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in n.domEventHandlers)this.dom.addEventListener(r,i=>{let o=i.target,s;if(o!=this.dom&&this.dom.contains(o)){for(;o.parentNode!=this.dom;)o=o.parentNode;let l=o.getBoundingClientRect();s=(l.top+l.bottom)/2}else s=i.clientY;let a=e.lineBlockAtHeight(s-e.documentTop);n.domEventHandlers[r](e,a,i)&&i.preventDefault()});this.markers=zD(n.markers(e)),n.initialSpacer&&(this.spacer=new gW(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=zD(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!bt.eq(this.markers,n,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class gW{constructor(e,n,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,r,i)}update(e,n,r,i){this.height!=n&&(this.height=n,this.dom.style.height=n+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),cSe(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,n){let r="cm-gutterElement",i=this.dom.firstChild;for(let o=0,s=0;;){let a=s,l=o<n.length?n[o++]:null,c=!1;if(l){let u=l.elementClass;u&&(r+=" "+u);for(let h=s;h<this.markers.length;h++)if(this.markers[h].compare(l)){a=h,c=!0;break}}else a=this.markers.length;for(;s<a;){let u=this.markers[s++];if(u.toDOM){u.destroy(i);let h=i.nextSibling;i.remove(),i=h}}if(!l)break;l.toDOM&&(c?i=i.nextSibling:this.dom.insertBefore(l.toDOM(e),i)),c&&s++}this.dom.className=r,this.markers=n}destroy(){this.setMarkers(null,[])}}function cSe(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}const uSe=ke.define(),hSe=ke.define(),Vh=ke.define({combine(t){return Fs(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let r=Object.assign({},e);for(let i in n){let o=r[i],s=n[i];r[i]=o?(a,l,c)=>o(a,l,c)||s(a,l,c):s}return r}})}});class wC extends ka{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function CC(t,e){return t.state.facet(Vh).formatNumber(e,t.state)}const dSe=qp.compute([Vh],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(uSe)},lineMarker(e,n,r){return r.some(i=>i.toDOM)?null:new wC(CC(e,e.state.doc.lineAt(n.from).number))},widgetMarker:(e,n,r)=>{for(let i of e.state.facet(hSe)){let o=i(e,n,r);if(o)return o}return null},lineMarkerChange:e=>e.startState.facet(Vh)!=e.state.facet(Vh),initialSpacer(e){return new wC(CC(e,HD(e.state.doc.lines)))},updateSpacer(e,n){let r=CC(n.view,HD(n.view.state.doc.lines));return r==e.number?e:new wC(r)},domEventHandlers:t.facet(Vh).domEventHandlers}));function xW(t={}){return[Vh.of(t),mW(),dSe]}function HD(t){let e=9;for(;e<t;)e=e*10+9;return e}const fSe=new class extends ka{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},pSe=fx.compute(["selection"],t=>{let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.head).from;i>n&&(n=i,e.push(fSe.range(i)))}return bt.of(e)});function mSe(){return pSe}const gSe=1024;let xSe=0,io=class{constructor(e,n){this.from=e,this.to=n}};class at{constructor(e={}){this.id=xSe++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=ni.match(e)),n=>{let r=e(n);return r===void 0?null:[this,r]}}}at.closedBy=new at({deserialize:t=>t.split(" ")});at.openedBy=new at({deserialize:t=>t.split(" ")});at.group=new at({deserialize:t=>t.split(" ")});at.isolate=new at({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}});at.contextHash=new at({perNode:!0});at.lookAhead=new at({perNode:!0});at.mounted=new at({perNode:!0});class K0{constructor(e,n,r){this.tree=e,this.overlay=n,this.parser=r}static get(e){return e&&e.props&&e.props[at.mounted.id]}}const vSe=Object.create(null);class ni{constructor(e,n,r,i=0){this.name=e,this.props=n,this.id=r,this.flags=i}static define(e){let n=e.props&&e.props.length?Object.create(null):vSe,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new ni(e.name||"",n,e.id,r);if(e.props){for(let o of e.props)if(Array.isArray(o)||(o=o(i)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[o[0].id]=o[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(at.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let r in e)for(let i of r.split(" "))n[i]=e[r];return r=>{for(let i=r.prop(at.group),o=-1;o<(i?i.length:0);o++){let s=n[o<0?r.name:i[o]];if(s)return s}}}}ni.none=new ni("",Object.create(null),0,8);class b4{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let r of this.types){let i=null;for(let o of e){let s=o(r);s&&(i||(i=Object.assign({},r.props)),i[s[0].id]=s[1])}n.push(i?new ni(r.name,i,r.id,r.flags):r)}return new b4(n)}}const v1=new WeakMap,UD=new WeakMap;var ln;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(ln||(ln={}));class Ut{constructor(e,n,r,i,o){if(this.type=e,this.children=n,this.positions=r,this.length=i,this.props=null,o&&o.length){this.props=Object.create(null);for(let[s,a]of o)this.props[typeof s=="number"?s:s.id]=a}}toString(){let e=K0.get(this);if(e&&!e.overlay)return e.tree.toString();let n="";for(let r of this.children){let i=r.toString();i&&(n&&(n+=","),n+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new qv(this.topNode,e)}cursorAt(e,n=0,r=0){let i=v1.get(this)||this.topNode,o=new qv(i);return o.moveTo(e,n),v1.set(this,o._tree),o}get topNode(){return new Or(this,0,0,null)}resolve(e,n=0){let r=G0(v1.get(this)||this.topNode,e,n,!1);return v1.set(this,r),r}resolveInner(e,n=0){let r=G0(UD.get(this)||this.topNode,e,n,!0);return UD.set(this,r),r}resolveStack(e,n=0){return wSe(this,e,n)}iterate(e){let{enter:n,leave:r,from:i=0,to:o=this.length}=e,s=e.mode||0,a=(s&ln.IncludeAnonymous)>0;for(let l=this.cursor(s|ln.IncludeAnonymous);;){let c=!1;if(l.from<=o&&l.to>=i&&(!a&&l.type.isAnonymous||n(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:k4(ni.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,i)=>new Ut(this.type,n,r,i,this.propValues),e.makeTree||((n,r,i)=>new Ut(ni.none,n,r,i)))}static build(e){return CSe(e)}}Ut.empty=new Ut(ni.none,[],[],0);class E4{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new E4(this.buffer,this.index)}}class ac{constructor(e,n,r){this.buffer=e,this.length=n,this.set=r}get type(){return ni.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],r=this.buffer[e+3],i=this.set.types[n],o=i.name;if(/\W/.test(o)&&!i.isError&&(o=JSON.stringify(o)),e+=4,r==e)return o;let s=[];for(;e<r;)s.push(this.childString(e)),e=this.buffer[e+3];return o+"("+s.join(",")+")"}findChild(e,n,r,i,o){let{buffer:s}=this,a=-1;for(let l=e;l!=n&&!(vW(o,i,s[l+1],s[l+2])&&(a=l,r>0));l=s[l+3]);return a}slice(e,n,r){let i=this.buffer,o=new Uint16Array(n-e),s=0;for(let a=e,l=0;a<n;){o[l++]=i[a++],o[l++]=i[a++]-r;let c=o[l++]=i[a++]-r;o[l++]=i[a++]-e,s=Math.max(s,c)}return new ac(o,s,this.set)}}function vW(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function G0(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let s=!r&&t instanceof Or&&t.index<0?null:t.parent;if(!s)return t;t=s}let o=r?0:ln.IgnoreOverlays;if(r)for(let s=t,a=s.parent;a;s=a,a=s.parent)s instanceof Or&&s.index<0&&((i=a.enter(e,n,o))===null||i===void 0?void 0:i.from)!=s.from&&(t=a);for(;;){let s=t.enter(e,n,o);if(!s)return t;t=s}}class yW{cursor(e=0){return new qv(this,e)}getChild(e,n=null,r=null){let i=WD(this,e,n,r);return i.length?i[0]:null}getChildren(e,n=null,r=null){return WD(this,e,n,r)}resolve(e,n=0){return G0(this,e,n,!1)}resolveInner(e,n=0){return G0(this,e,n,!0)}matchContext(e){return WS(this,e)}enterUnfinishedNodesBefore(e){let n=this.childBefore(e),r=this;for(;n;){let i=n.lastChild;if(!i||i.to!=n.to)break;i.type.isError&&i.from==i.to?(r=n,n=i.prevSibling):n=i}return r}get node(){return this}get next(){return this.parent}}class Or extends yW{constructor(e,n,r,i){super(),this._tree=e,this.from=n,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,r,i,o=0){for(let s=this;;){for(let{children:a,positions:l}=s._tree,c=n>0?a.length:-1;e!=c;e+=n){let u=a[e],h=l[e]+s.from;if(vW(i,r,h,h+u.length)){if(u instanceof ac){if(o&ln.ExcludeBuffers)continue;let d=u.findChild(0,u.buffer.length,n,r-h,i);if(d>-1)return new ms(new ySe(s,u,e,h),null,d)}else if(o&ln.IncludeAnonymous||!u.type.isAnonymous||S4(u)){let d;if(!(o&ln.IgnoreMounts)&&(d=K0.get(u))&&!d.overlay)return new Or(d.tree,h,e,s);let f=new Or(u,h,e,s);return o&ln.IncludeAnonymous||!f.type.isAnonymous?f:f.nextChild(n<0?u.children.length-1:0,n,r,i)}}}if(o&ln.IncludeAnonymous||!s.type.isAnonymous||(s.index>=0?e=s.index+n:e=n<0?-1:s._parent._tree.children.length,s=s._parent,!s))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,n,r=0){let i;if(!(r&ln.IgnoreOverlays)&&(i=K0.get(this._tree))&&i.overlay){let o=e-this.from;for(let{from:s,to:a}of i.overlay)if((n>0?s<=o:s<o)&&(n<0?a>=o:a>o))return new Or(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function WD(t,e,n,r){let i=t.cursor(),o=[];if(!i.firstChild())return o;if(n!=null){for(let s=!1;!s;)if(s=i.type.is(n),!i.nextSibling())return o}for(;;){if(r!=null&&i.type.is(r))return o;if(i.type.is(e)&&o.push(i.node),!i.nextSibling())return r==null?o:[]}}function WS(t,e,n=e.length-1){for(let r=t.parent;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class ySe{constructor(e,n,r,i){this.parent=e,this.buffer=n,this.index=r,this.start=i}}class ms extends yW{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,r){super(),this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,n,r){let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.context.start,r);return o<0?null:new ms(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,n,r=0){if(r&ln.ExcludeBuffers)return null;let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return o<0?null:new ms(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new ms(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new ms(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],n=[],{buffer:r}=this.context,i=this.index+4,o=r.buffer[this.index+3];if(o>i){let s=r.buffer[this.index+1];e.push(r.slice(i,o,s)),n.push(0)}return new Ut(this.type,e,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function _W(t){if(!t.length)return null;let e=0,n=t[0];for(let o=1;o<t.length;o++){let s=t[o];(s.from>n.from||s.to<n.to)&&(n=s,e=o)}let r=n instanceof Or&&n.index<0?null:n.parent,i=t.slice();return r?i[e]=r:i.splice(e,1),new _Se(i,n)}class _Se{constructor(e,n){this.heads=e,this.node=n}get next(){return _W(this.heads)}}function wSe(t,e,n){let r=t.resolveInner(e,n),i=null;for(let o=r instanceof Or?r:r.context.parent;o;o=o.parent)if(o.index<0){let s=o.parent;(i||(i=[r])).push(s.resolve(e,n)),o=s}else{let s=K0.get(o.tree);if(s&&s.overlay&&s.overlay[0].from<=e&&s.overlay[s.overlay.length-1].to>=e){let a=new Or(s.tree,s.overlay[0].from+o.from,-1,o);(i||(i=[r])).push(G0(a,e,n,!1))}}return i?_W(i):r}class qv{get name(){return this.type.name}constructor(e,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Or)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=n||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Or?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));let{buffer:i}=this.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.buffer.start,r);return o<0?!1:(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,r=this.mode){return this.buffer?r&ln.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&ln.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&ln.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(n.findChild(i,this.index,-1,0,4))}else{let i=n.buffer[this.index+3];if(i<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let o=0;o<this.index;o++)if(i.buffer.buffer[o+3]<this.index)return!1;({index:n,parent:r}=i)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let o=n+e,s=e<0?-1:r._tree.children.length;o!=s;o+=e){let a=r._tree.children[o];if(this.mode&ln.IncludeAnonymous||a instanceof ac||!a.type.isAnonymous||S4(a))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,o=this.stack.length;o>=0;){for(let s=e;s;s=s._parent)if(s.index==i){if(i==this.index)return s;n=s,r=o+1;break e}i=this.stack[--o]}for(let i=r;i<this.stack.length;i++)n=new ms(this.buffer,n,this.stack[i]);return this.bufferNode=new ms(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;i&&n&&n(this),i=this.type.isAnonymous,!this.nextSibling();){if(!r)return;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return WS(this.node,e);let{buffer:n}=this.buffer,{types:r}=n.set;for(let i=e.length-1,o=this.stack.length-1;i>=0;o--){if(o<0)return WS(this.node,e,i);let s=r[n.buffer[this.stack[o]]];if(!s.isAnonymous){if(e[i]&&e[i]!=s.name)return!1;i--}}return!0}}function S4(t){return t.children.some(e=>e instanceof ac||!e.type.isAnonymous||S4(e))}function CSe(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:i=gSe,reused:o=[],minRepeatType:s=r.types.length}=t,a=Array.isArray(n)?new E4(n,n.length):n,l=r.types,c=0,u=0;function h(S,k,b,w,A,E){let{id:R,start:D,end:N,size:j}=a,$=u;for(;j<0;)if(a.next(),j==-1){let L=o[R];b.push(L),w.push(D-S);return}else if(j==-3){c=R;return}else if(j==-4){u=R;return}else throw new RangeError(`Unrecognized record size: ${j}`);let Q=l[R],X,q,H=D-S;if(N-D<=i&&(q=x(a.pos-k,A))){let L=new Uint16Array(q.size-q.skip),U=a.pos-q.size,K=L.length;for(;a.pos>U;)K=v(q.start,L,K);X=new ac(L,N-q.start,r),H=q.start-S}else{let L=a.pos-j;a.next();let U=[],K=[],O=R>=s?R:-1,J=0,Ee=N;for(;a.pos>L;)O>=0&&a.id==O&&a.size>=0?(a.end<=Ee-i&&(p(U,K,D,J,a.end,Ee,O,$),J=U.length,Ee=a.end),a.next()):E>2500?d(D,L,U,K):h(D,L,U,K,O,E+1);if(O>=0&&J>0&&J<U.length&&p(U,K,D,J,D,Ee,O,$),U.reverse(),K.reverse(),O>-1&&J>0){let fe=f(Q);X=k4(Q,U,K,0,U.length,0,N-D,fe,fe)}else X=m(Q,U,K,N-D,$-N)}b.push(X),w.push(H)}function d(S,k,b,w){let A=[],E=0,R=-1;for(;a.pos>k;){let{id:D,start:N,end:j,size:$}=a;if($>4)a.next();else{if(R>-1&&N<R)break;R<0&&(R=j-i),A.push(D,N,j),E++,a.next()}}if(E){let D=new Uint16Array(E*4),N=A[A.length-2];for(let j=A.length-3,$=0;j>=0;j-=3)D[$++]=A[j],D[$++]=A[j+1]-N,D[$++]=A[j+2]-N,D[$++]=$;b.push(new ac(D,A[2]-N,r)),w.push(N-S)}}function f(S){return(k,b,w)=>{let A=0,E=k.length-1,R,D;if(E>=0&&(R=k[E])instanceof Ut){if(!E&&R.type==S&&R.length==w)return R;(D=R.prop(at.lookAhead))&&(A=b[E]+R.length+D)}return m(S,k,b,w,A)}}function p(S,k,b,w,A,E,R,D){let N=[],j=[];for(;S.length>w;)N.push(S.pop()),j.push(k.pop()+b-A);S.push(m(r.types[R],N,j,E-A,D-E)),k.push(A-b)}function m(S,k,b,w,A=0,E){if(c){let R=[at.contextHash,c];E=E?[R].concat(E):[R]}if(A>25){let R=[at.lookAhead,A];E=E?[R].concat(E):[R]}return new Ut(S,k,b,w,E)}function x(S,k){let b=a.fork(),w=0,A=0,E=0,R=b.end-i,D={size:0,start:0,skip:0};e:for(let N=b.pos-S;b.pos>N;){let j=b.size;if(b.id==k&&j>=0){D.size=w,D.start=A,D.skip=E,E+=4,w+=4,b.next();continue}let $=b.pos-j;if(j<0||$<N||b.start<R)break;let Q=b.id>=s?4:0,X=b.start;for(b.next();b.pos>$;){if(b.size<0)if(b.size==-3)Q+=4;else break e;else b.id>=s&&(Q+=4);b.next()}A=X,w+=j,E+=Q}return(k<0||w==S)&&(D.size=w,D.start=A,D.skip=E),D.size>4?D:void 0}function v(S,k,b){let{id:w,start:A,end:E,size:R}=a;if(a.next(),R>=0&&w<s){let D=b;if(R>4){let N=a.pos-(R-4);for(;a.pos>N;)b=v(S,k,b)}k[--b]=D,k[--b]=E-S,k[--b]=A-S,k[--b]=w}else R==-3?c=w:R==-4&&(u=w);return b}let y=[],_=[];for(;a.pos>0;)h(t.start||0,t.bufferStart||0,y,_,-1,0);let C=(e=t.length)!==null&&e!==void 0?e:y.length?_[0]+y[0].length:0;return new Ut(l[t.topID],y.reverse(),_.reverse(),C)}const qD=new WeakMap;function px(t,e){if(!t.isAnonymous||e instanceof ac||e.type!=t)return 1;let n=qD.get(e);if(n==null){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof Ut)){n=1;break}n+=px(t,r)}qD.set(e,n)}return n}function k4(t,e,n,r,i,o,s,a,l){let c=0;for(let p=r;p<i;p++)c+=px(t,e[p]);let u=Math.ceil(c*1.5/8),h=[],d=[];function f(p,m,x,v,y){for(let _=x;_<v;){let C=_,S=m[_],k=px(t,p[_]);for(_++;_<v;_++){let b=px(t,p[_]);if(k+b>=u)break;k+=b}if(_==C+1){if(k>u){let b=p[C];f(b.children,b.positions,0,b.children.length,m[C]+y);continue}h.push(p[C])}else{let b=m[_-1]+p[_-1].length-S;h.push(k4(t,p,m,C,_,S,b,null,l))}d.push(S+y-o)}}return f(e,n,r,i,0),(a||l)(h,d,s)}class a8e{constructor(){this.map=new WeakMap}setBuffer(e,n,r){let i=this.map.get(e);i||this.map.set(e,i=new Map),i.set(n,r)}getBuffer(e,n){let r=this.map.get(e);return r&&r.get(n)}set(e,n){e instanceof ms?this.setBuffer(e.context.buffer,e.index,n):e instanceof Or&&this.map.set(e.tree,n)}get(e){return e instanceof ms?this.getBuffer(e.context.buffer,e.index):e instanceof Or?this.map.get(e.tree):void 0}cursorSet(e,n){e.buffer?this.setBuffer(e.buffer.buffer,e.index,n):this.map.set(e.tree,n)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class ua{constructor(e,n,r,i,o=!1,s=!1){this.from=e,this.to=n,this.tree=r,this.offset=i,this.open=(o?1:0)|(s?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],r=!1){let i=[new ua(0,e.length,e,0,!1,r)];for(let o of n)o.to>e.length&&i.push(o);return i}static applyChanges(e,n,r=128){if(!n.length)return e;let i=[],o=1,s=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<n.length?n[a]:null,h=u?u.fromA:1e9;if(h-l>=r)for(;s&&s.from<h;){let d=s;if(l>=d.from||h<=d.to||c){let f=Math.max(d.from,l)-c,p=Math.min(d.to,h)-c;d=f>=p?null:new ua(f,p,d.tree,d.offset+c,a>0,!!u)}if(d&&i.push(d),s.to>h)break;s=o<e.length?e[o++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return i}}class wW{startParse(e,n,r){return typeof e=="string"&&(e=new bSe(e)),r=r?r.length?r.map(i=>new io(i.from,i.to)):[new io(0,0)]:[new io(0,e.length)],this.createParse(e,n||[],r)}parse(e,n,r){let i=this.startParse(e,n,r);for(;;){let o=i.advance();if(o)return o}}}class bSe{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}function l8e(t){return(e,n,r,i)=>new SSe(e,t,n,r,i)}class KD{constructor(e,n,r,i,o){this.parser=e,this.parse=n,this.overlay=r,this.target=i,this.from=o}}function GD(t){if(!t.length||t.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(t))}class ESe{constructor(e,n,r,i,o,s,a){this.parser=e,this.predicate=n,this.mounts=r,this.index=i,this.start=o,this.target=s,this.prev=a,this.depth=0,this.ranges=[]}}const qS=new at({perNode:!0});class SSe{constructor(e,n,r,i,o){this.nest=n,this.input=r,this.fragments=i,this.ranges=o,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let r=this.baseParse.advance();if(!r)return null;if(this.baseParse=null,this.baseTree=r,this.startInner(),this.stoppedAt!=null)for(let i of this.inner)i.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let r=this.baseTree;return this.stoppedAt!=null&&(r=new Ut(r.type,r.children,r.positions,r.length,r.propValues.concat([[qS,this.stoppedAt]]))),r}let e=this.inner[this.innerDone],n=e.parse.advance();if(n){this.innerDone++;let r=Object.assign(Object.create(null),e.target.props);r[at.mounted.id]=new K0(n,e.overlay,e.parser),e.target.props=r}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].from<e&&(e=Math.min(e,this.inner[n].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].parse.stopAt(e)}startInner(){let e=new ASe(this.fragments),n=null,r=null,i=new qv(new Or(this.baseTree,this.ranges[0].from,0,null),ln.IncludeAnonymous|ln.IgnoreMounts);e:for(let o,s;;){let a=!0,l;if(this.stoppedAt!=null&&i.from>=this.stoppedAt)a=!1;else if(e.hasNode(i)){if(n){let c=n.mounts.find(u=>u.frag.from<=i.from&&u.frag.to>=i.to&&u.mount.overlay);if(c)for(let u of c.mount.overlay){let h=u.from+c.pos,d=u.to+c.pos;h>=i.from&&d<=i.to&&!n.ranges.some(f=>f.from<d&&f.to>h)&&n.ranges.push({from:h,to:d})}}a=!1}else if(r&&(s=kSe(r.ranges,i.from,i.to)))a=s!=2;else if(!i.type.isAnonymous&&(o=this.nest(i,this.input))&&(i.from<i.to||!o.overlay)){i.tree||TSe(i);let c=e.findMounts(i.from,o.parser);if(typeof o.overlay=="function")n=new ESe(o.parser,o.overlay,c,this.inner.length,i.from,i.tree,n);else{let u=XD(this.ranges,o.overlay||(i.from<i.to?[new io(i.from,i.to)]:[]));u.length&&GD(u),(u.length||!o.overlay)&&this.inner.push(new KD(o.parser,u.length?o.parser.startParse(this.input,YD(c,u),u):o.parser.startParse(""),o.overlay?o.overlay.map(h=>new io(h.from-i.from,h.to-i.from)):null,i.tree,u.length?u[0].from:i.from)),o.overlay?u.length&&(r={ranges:u,depth:0,prev:r}):a=!1}}else n&&(l=n.predicate(i))&&(l===!0&&(l=new io(i.from,i.to)),l.from<l.to&&n.ranges.push(l));if(a&&i.firstChild())n&&n.depth++,r&&r.depth++;else for(;!i.nextSibling();){if(!i.parent())break e;if(n&&!--n.depth){let c=XD(this.ranges,n.ranges);c.length&&(GD(c),this.inner.splice(n.index,0,new KD(n.parser,n.parser.startParse(this.input,YD(n.mounts,c),c),n.ranges.map(u=>new io(u.from-n.start,u.to-n.start)),n.target,c[0].from))),n=n.prev}r&&!--r.depth&&(r=r.prev)}}}}function kSe(t,e,n){for(let r of t){if(r.from>=n)break;if(r.to>e)return r.from<=e&&r.to>=n?2:1}return 0}function JD(t,e,n,r,i,o){if(e<n){let s=t.buffer[e+1];r.push(t.slice(e,n,s)),i.push(s-o)}}function TSe(t){let{node:e}=t,n=[],r=e.context.buffer;do n.push(t.index),t.parent();while(!t.tree);let i=t.tree,o=i.children.indexOf(r),s=i.children[o],a=s.buffer,l=[o];function c(u,h,d,f,p,m){let x=n[m],v=[],y=[];JD(s,u,x,v,y,f);let _=a[x+1],C=a[x+2];l.push(v.length);let S=m?c(x+4,a[x+3],s.set.types[a[x]],_,C-_,m-1):e.toTree();return v.push(S),y.push(_-f),JD(s,a[x+3],h,v,y,f),new Ut(d,v,y,p)}i.children[o]=c(0,a.length,ni.none,0,s.length,n.length-1);for(let u of l){let h=t.tree.children[u],d=t.tree.positions[u];t.yield(new Or(h,d+t.from,u,t._tree))}}class QD{constructor(e,n){this.offset=n,this.done=!1,this.cursor=e.cursor(ln.IncludeAnonymous|ln.IgnoreMounts)}moveTo(e){let{cursor:n}=this,r=e-this.offset;for(;!this.done&&n.from<r;)n.to>=e&&n.enter(r,1,ln.IgnoreOverlays|ln.ExcludeBuffers)||n.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let n=this.cursor.tree;;){if(n==e.tree)return!0;if(n.children.length&&n.positions[0]==0&&n.children[0]instanceof Ut)n=n.children[0];else break}return!1}}class ASe{constructor(e){var n;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let r=this.curFrag=e[0];this.curTo=(n=r.tree.prop(qS))!==null&&n!==void 0?n:r.to,this.inner=new QD(r.tree,-r.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let n=this.curFrag=this.fragments[this.fragI];this.curTo=(e=n.tree.prop(qS))!==null&&e!==void 0?e:n.to,this.inner=new QD(n.tree,-n.offset)}}findMounts(e,n){var r;let i=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let o=this.inner.cursor.node;o;o=o.parent){let s=(r=o.tree)===null||r===void 0?void 0:r.prop(at.mounted);if(s&&s.parser==n)for(let a=this.fragI;a<this.fragments.length;a++){let l=this.fragments[a];if(l.from>=o.to)break;l.tree==this.curFrag.tree&&i.push({frag:l,pos:o.from-l.offset,mount:s})}}}return i}}function XD(t,e){let n=null,r=e;for(let i=1,o=0;i<t.length;i++){let s=t[i-1].to,a=t[i].from;for(;o<r.length;o++){let l=r[o];if(l.from>=a)break;l.to<=s||(n||(r=n=e.slice()),l.from<s?(n[o]=new io(l.from,s),l.to>a&&n.splice(o+1,0,new io(a,l.to))):l.to>a?n[o--]=new io(a,l.to):n.splice(o--,1))}}return r}function ISe(t,e,n,r){let i=0,o=0,s=!1,a=!1,l=-1e9,c=[];for(;;){let u=i==t.length?1e9:s?t[i].to:t[i].from,h=o==e.length?1e9:a?e[o].to:e[o].from;if(s!=a){let d=Math.max(l,n),f=Math.min(u,h,r);d<f&&c.push(new io(d,f))}if(l=Math.min(u,h),l==1e9)break;u==l&&(s?(s=!1,i++):s=!0),h==l&&(a?(a=!1,o++):a=!0)}return c}function YD(t,e){let n=[];for(let{pos:r,mount:i,frag:o}of t){let s=r+(i.overlay?i.overlay[0].from:0),a=s+i.tree.length,l=Math.max(o.from,s),c=Math.min(o.to,a);if(i.overlay){let u=i.overlay.map(d=>new io(d.from+r,d.to+r)),h=ISe(e,u,l,c);for(let d=0,f=l;;d++){let p=d==h.length,m=p?c:h[d].from;if(m>f&&n.push(new ua(f,m,i.tree,-s,o.from>=f||o.openStart,o.to<=m||o.openEnd)),p)break;f=h[d].to}}else n.push(new ua(l,c,i.tree,-s,o.from>=s||o.openStart,o.to<=a||o.openEnd))}return n}let RSe=0;class eo{constructor(e,n,r,i){this.name=e,this.set=n,this.base=r,this.modified=i,this.id=RSe++}toString(){let{name:e}=this;for(let n of this.modified)n.name&&(e=`${n.name}(${e})`);return e}static define(e,n){let r=typeof e=="string"?e:"?";if(e instanceof eo&&(n=e),n!=null&&n.base)throw new Error("Can not derive from a modified tag");let i=new eo(r,[],null,[]);if(i.set.push(i),n)for(let o of n.set)i.set.push(o);return i}static defineModifier(e){let n=new Kv(e);return r=>r.modified.indexOf(n)>-1?r:Kv.get(r.base||r,r.modified.concat(n).sort((i,o)=>i.id-o.id))}}let PSe=0;class Kv{constructor(e){this.name=e,this.instances=[],this.id=PSe++}static get(e,n){if(!n.length)return e;let r=n[0].instances.find(a=>a.base==e&&DSe(n,a.modified));if(r)return r;let i=[],o=new eo(e.name,i,e,n);for(let a of n)a.instances.push(o);let s=MSe(n);for(let a of e.set)if(!a.modified.length)for(let l of s)i.push(Kv.get(a,l));return o}}function DSe(t,e){return t.length==e.length&&t.every((n,r)=>n==e[r])}function MSe(t){let e=[[]];for(let n=0;n<t.length;n++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(t[n]));return e.sort((n,r)=>r.length-n.length)}function NSe(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let i of n.split(" "))if(i){let o=[],s=2,a=i;for(let h=0;;){if(a=="..."&&h>0&&h+3==i.length){s=1;break}let d=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!d)throw new RangeError("Invalid path: "+i);if(o.push(d[0]=="*"?"":d[0][0]=='"'?JSON.parse(d[0]):d[0]),h+=d[0].length,h==i.length)break;let f=i[h++];if(h==i.length&&f=="!"){s=0;break}if(f!="/")throw new RangeError("Invalid path: "+i);a=i.slice(h)}let l=o.length-1,c=o[l];if(!c)throw new RangeError("Invalid path: "+i);let u=new Gv(r,s,l>0?o.slice(0,l):null);e[c]=u.sort(e[c])}}return CW.add(e)}const CW=new at;class Gv{constructor(e,n,r,i){this.tags=e,this.mode=n,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Gv.empty=new Gv([],2,null);function bW(t,e){let n=Object.create(null);for(let o of t)if(!Array.isArray(o.tag))n[o.tag.id]=o.class;else for(let s of o.tag)n[s.id]=o.class;let{scope:r,all:i=null}=e||{};return{style:o=>{let s=i;for(let a of o)for(let l of a.set){let c=n[l.id];if(c){s=s?s+" "+c:c;break}}return s},scope:r}}function OSe(t,e){let n=null;for(let r of t){let i=r.style(e);i&&(n=n?n+" "+i:i)}return n}function LSe(t,e,n,r=0,i=t.length){let o=new FSe(r,Array.isArray(e)?e:[e],n);o.highlightRange(t.cursor(),r,i,"",o.highlighters),o.flush(i)}class FSe{constructor(e,n,r){this.at=e,this.highlighters=n,this.span=r,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,r,i,o){let{type:s,from:a,to:l}=e;if(a>=r||l<=n)return;s.isTop&&(o=this.highlighters.filter(f=>!f.scope||f.scope(s)));let c=i,u=BSe(e)||Gv.empty,h=OSe(o,u.tags);if(h&&(c&&(c+=" "),c+=h,u.mode==1&&(i+=(i?" ":"")+h)),this.startSpan(Math.max(n,a),c),u.opaque)return;let d=e.tree&&e.tree.prop(at.mounted);if(d&&d.overlay){let f=e.node.enter(d.overlay[0].from+a,1),p=this.highlighters.filter(x=>!x.scope||x.scope(d.tree.type)),m=e.firstChild();for(let x=0,v=a;;x++){let y=x<d.overlay.length?d.overlay[x]:null,_=y?y.from+a:l,C=Math.max(n,v),S=Math.min(r,_);if(C<S&&m)for(;e.from<S&&(this.highlightRange(e,C,S,i,o),this.startSpan(Math.min(S,e.to),c),!(e.to>=_||!e.nextSibling())););if(!y||_>r)break;v=y.to+a,v>n&&(this.highlightRange(f.cursor(),Math.max(n,y.from+a),Math.min(r,v),"",p),this.startSpan(Math.min(r,v),c))}m&&e.parent()}else if(e.firstChild()){d&&(i="");do if(!(e.to<=n)){if(e.from>=r)break;this.highlightRange(e,n,r,i,o),this.startSpan(Math.min(r,e.to),c)}while(e.nextSibling());e.parent()}}}function BSe(t){let e=t.type.prop(CW);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const ve=eo.define,y1=ve(),ol=ve(),ZD=ve(ol),e7=ve(ol),sl=ve(),_1=ve(sl),bC=ve(sl),rs=ve(),Nc=ve(rs),ts=ve(),ns=ve(),KS=ve(),Uf=ve(KS),w1=ve(),te={comment:y1,lineComment:ve(y1),blockComment:ve(y1),docComment:ve(y1),name:ol,variableName:ve(ol),typeName:ZD,tagName:ve(ZD),propertyName:e7,attributeName:ve(e7),className:ve(ol),labelName:ve(ol),namespace:ve(ol),macroName:ve(ol),literal:sl,string:_1,docString:ve(_1),character:ve(_1),attributeValue:ve(_1),number:bC,integer:ve(bC),float:ve(bC),bool:ve(sl),regexp:ve(sl),escape:ve(sl),color:ve(sl),url:ve(sl),keyword:ts,self:ve(ts),null:ve(ts),atom:ve(ts),unit:ve(ts),modifier:ve(ts),operatorKeyword:ve(ts),controlKeyword:ve(ts),definitionKeyword:ve(ts),moduleKeyword:ve(ts),operator:ns,derefOperator:ve(ns),arithmeticOperator:ve(ns),logicOperator:ve(ns),bitwiseOperator:ve(ns),compareOperator:ve(ns),updateOperator:ve(ns),definitionOperator:ve(ns),typeOperator:ve(ns),controlOperator:ve(ns),punctuation:KS,separator:ve(KS),bracket:Uf,angleBracket:ve(Uf),squareBracket:ve(Uf),paren:ve(Uf),brace:ve(Uf),content:rs,heading:Nc,heading1:ve(Nc),heading2:ve(Nc),heading3:ve(Nc),heading4:ve(Nc),heading5:ve(Nc),heading6:ve(Nc),contentSeparator:ve(rs),list:ve(rs),quote:ve(rs),emphasis:ve(rs),strong:ve(rs),link:ve(rs),monospace:ve(rs),strikethrough:ve(rs),inserted:ve(),deleted:ve(),changed:ve(),invalid:ve(),meta:w1,documentMeta:ve(w1),annotation:ve(w1),processingInstruction:ve(w1),definition:eo.defineModifier("definition"),constant:eo.defineModifier("constant"),function:eo.defineModifier("function"),standard:eo.defineModifier("standard"),local:eo.defineModifier("local"),special:eo.defineModifier("special")};for(let t in te){let e=te[t];e instanceof eo&&(e.name=t)}bW([{tag:te.link,class:"tok-link"},{tag:te.heading,class:"tok-heading"},{tag:te.emphasis,class:"tok-emphasis"},{tag:te.strong,class:"tok-strong"},{tag:te.keyword,class:"tok-keyword"},{tag:te.atom,class:"tok-atom"},{tag:te.bool,class:"tok-bool"},{tag:te.url,class:"tok-url"},{tag:te.labelName,class:"tok-labelName"},{tag:te.inserted,class:"tok-inserted"},{tag:te.deleted,class:"tok-deleted"},{tag:te.literal,class:"tok-literal"},{tag:te.string,class:"tok-string"},{tag:te.number,class:"tok-number"},{tag:[te.regexp,te.escape,te.special(te.string)],class:"tok-string2"},{tag:te.variableName,class:"tok-variableName"},{tag:te.local(te.variableName),class:"tok-variableName tok-local"},{tag:te.definition(te.variableName),class:"tok-variableName tok-definition"},{tag:te.special(te.variableName),class:"tok-variableName2"},{tag:te.definition(te.propertyName),class:"tok-propertyName tok-definition"},{tag:te.typeName,class:"tok-typeName"},{tag:te.namespace,class:"tok-namespace"},{tag:te.className,class:"tok-className"},{tag:te.macroName,class:"tok-macroName"},{tag:te.propertyName,class:"tok-propertyName"},{tag:te.operator,class:"tok-operator"},{tag:te.comment,class:"tok-comment"},{tag:te.meta,class:"tok-meta"},{tag:te.invalid,class:"tok-invalid"},{tag:te.punctuation,class:"tok-punctuation"}]);var EC;const Gc=new at;function EW(t){return ke.define({combine:t?e=>e.concat(t):void 0})}const VSe=new at;class oo{constructor(e,n,r=[],i=""){this.data=e,this.name=i,_t.prototype.hasOwnProperty("tree")||Object.defineProperty(_t.prototype,"tree",{get(){return nr(this)}}),this.parser=n,this.extension=[lc.of(this),_t.languageData.of((o,s,a)=>{let l=t7(o,s,a),c=l.type.prop(Gc);if(!c)return[];let u=o.facet(c),h=l.type.prop(VSe);if(h){let d=l.resolve(s-l.from,a);for(let f of h)if(f.test(d,o)){let p=o.facet(f.facet);return f.type=="replace"?p:p.concat(u)}}return u})].concat(r)}isActiveAt(e,n,r=-1){return t7(e,n,r).type.prop(Gc)==this.data}findRegions(e){let n=e.facet(lc);if((n==null?void 0:n.data)==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],i=(o,s)=>{if(o.prop(Gc)==this.data){r.push({from:s,to:s+o.length});return}let a=o.prop(at.mounted);if(a){if(a.tree.prop(Gc)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+s,to:l.to+s});else r.push({from:s,to:s+o.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+s),r.length>l)return}}for(let l=0;l<o.children.length;l++){let c=o.children[l];c instanceof Ut&&i(c,o.positions[l]+s)}};return i(nr(e),0),r}get allowsNesting(){return!0}}oo.setState=et.define();function t7(t,e,n){let r=t.facet(lc),i=nr(t).topNode;if(!r||r.allowsNesting)for(let o=i;o;o=o.enter(e,n,ln.ExcludeBuffers))o.type.isTop&&(i=o);return i}class GS extends oo{constructor(e,n,r){super(e,n,[],r),this.parser=n}static define(e){let n=EW(e.languageData);return new GS(n,e.parser.configure({props:[Gc.add(r=>r.isTop?n:void 0)]}),e.name)}configure(e,n){return new GS(this.data,this.parser.configure(e),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function nr(t){let e=t.field(oo.state,!1);return e?e.tree:Ut.empty}class jSe{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let r=this.cursorPos-this.string.length;return e<r||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-r,n-r)}}let Wf=null;class Fd{constructor(e,n,r=[],i,o,s,a,l){this.parser=e,this.state=n,this.fragments=r,this.tree=i,this.treeLen=o,this.viewport=s,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,n,r){return new Fd(e,n,[],Ut.empty,0,r,[],null)}startParse(){return this.parser.startParse(new jSe(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=Ut.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(ua.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(ua.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=Wf;Wf=this;try{return e()}finally{Wf=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=n7(e,n.from,n.to);return e}changes(e,n){let{fragments:r,tree:i,treeLen:o,viewport:s,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,u,h,d)=>l.push({fromA:c,toA:u,fromB:h,toB:d})),r=ua.applyChanges(r,l),i=Ut.empty,o=0,s={from:e.mapPos(s.from,-1),to:e.mapPos(s.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),h=e.mapPos(c.to,-1);u<h&&a.push({from:u,to:h})}}}return new Fd(this.parser,n,r,i,o,s,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:o}=this.skipped[r];i<e.to&&o>e.from&&(this.fragments=n7(this.fragments,i,o),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends wW{createParse(n,r,i){let o=i[0].from,s=i[i.length-1].to;return{parsedPos:o,advance(){let l=Wf;if(l){for(let c of i)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=s,new Ut(ni.none,[],[],s-o)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return Wf}}function n7(t,e,n){return ua.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class Bd{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new Bd(n)}static init(e){let n=Math.min(3e3,e.doc.length),r=Fd.create(e.facet(lc).parser,e,{from:0,to:n});return r.work(20,n)||r.takeTree(),new Bd(r)}}oo.state=ir.define({create:Bd.init,update(t,e){for(let n of e.effects)if(n.is(oo.setState))return n.value;return e.startState.facet(lc)!=e.state.facet(lc)?Bd.init(e.state):t.apply(e)}});let SW=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(SW=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const SC=typeof navigator<"u"&&(!((EC=navigator.scheduling)===null||EC===void 0)&&EC.isInputPending)?()=>navigator.scheduling.isInputPending():null,zSe=Ln.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(oo.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(oo.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=SW(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,o=r.field(oo.state);if(o.tree==o.context.tree&&o.context.isDone(i+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,e&&!SC?Math.max(25,e.timeRemaining()-5):1e9),a=o.context.treeLen<i&&r.doc.length>i+1e3,l=o.context.work(()=>SC&&SC()||Date.now()>s,i+(a?0:1e5));this.chunkBudget-=Date.now()-n,(l||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:oo.setState.of(new Bd(o.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>mi(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),lc=ke.define({combine(t){return t.length?t[0]:null},enables:t=>[oo.state,zSe,be.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]});class $Se{constructor(e,n=[]){this.language=e,this.support=n,this.extension=[e,n]}}class Z{constructor(e,n,r,i,o,s=void 0){this.name=e,this.alias=n,this.extensions=r,this.filename=i,this.loadFunc=o,this.support=s,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then(e=>this.support=e,e=>{throw this.loading=null,e}))}static of(e){let{load:n,support:r}=e;if(!n){if(!r)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");n=()=>Promise.resolve(r)}return new Z(e.name,(e.alias||[]).concat(e.name).map(i=>i.toLowerCase()),e.extensions||[],e.filename,n,r)}static matchFilename(e,n){for(let i of e)if(i.filename&&i.filename.test(n))return i;let r=/\.([^.]+)$/.exec(n);if(r){for(let i of e)if(i.extensions.indexOf(r[1])>-1)return i}return null}static matchLanguageName(e,n,r=!0){n=n.toLowerCase();for(let i of e)if(i.alias.some(o=>o==n))return i;if(r)for(let i of e)for(let o of i.alias){let s=n.indexOf(o);if(s>-1&&(o.length>2||!/\w/.test(n[s-1])&&!/\w/.test(n[s+o.length])))return i}return null}}const kW=ke.define(),q_=ke.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function Iu(t){let e=t.facet(q_);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function J0(t,e){let n="",r=t.tabSize,i=t.facet(q_)[0];if(i=="	"){for(;e>=r;)n+="	",e-=r;i=" "}for(let o=0;o<e;o++)n+=i;return n}function T4(t,e){t instanceof _t&&(t=new K_(t));for(let r of t.state.facet(kW)){let i=r(t,e);if(i!==void 0)return i}let n=nr(t.state);return n.length>=e?USe(t,n,e):null}class K_{constructor(e,n={}){this.state=e,this.options=n,this.unit=Iu(e)}lineAt(e,n=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:o}=this.options;return i!=null&&i>=r.from&&i<=r.to?o&&i==e?{text:"",from:e}:(n<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,n);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,n=1){let{text:r,from:i}=this.lineAt(e,n),o=this.countColumn(r,e-i),s=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return s>-1&&(o+=s-this.countColumn(r,r.search(/\S|$/))),o}countColumn(e,n=e.length){return lf(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:r,from:i}=this.lineAt(e,n),o=this.options.overrideIndentation;if(o){let s=o(i);if(s>-1)return s}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const HSe=new at;function USe(t,e,n){let r=e.resolveStack(n),i=r.node.enterUnfinishedNodesBefore(n);if(i!=r.node){let o=[];for(let s=i;s!=r.node;s=s.parent)o.push(s);for(let s=o.length-1;s>=0;s--)r={node:o[s],next:r}}return TW(r,t,n)}function TW(t,e,n){for(let r=t;r;r=r.next){let i=qSe(r.node);if(i)return i(A4.create(e,n,r))}return 0}function WSe(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function qSe(t){let e=t.type.prop(HSe);if(e)return e;let n=t.firstChild,r;if(n&&(r=n.type.prop(at.closedBy))){let i=t.lastChild,o=i&&r.indexOf(i.name)>-1;return s=>AW(s,!0,1,void 0,o&&!WSe(s)?i.from:void 0)}return t.parent==null?KSe:null}function KSe(){return 0}class A4 extends K_{constructor(e,n,r){super(e.state,e.options),this.base=e,this.pos=n,this.context=r}get node(){return this.context.node}static create(e,n,r){return new A4(e,n,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let n=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(n.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(GSe(r,e))break;n=this.state.doc.lineAt(r.from)}return this.lineIndent(n.from)}continue(){return TW(this.context.next,this.base,this.pos)}}function GSe(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function JSe(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let i=t.options.simulateBreak,o=t.state.doc.lineAt(n.from),s=i==null||i<=o.from?o.to:Math.min(o.to,i);for(let a=n.to;;){let l=e.childAfter(a);if(!l||l==r)return null;if(!l.type.isSkipped)return l.from<s?n:null;a=l.to}}function u8e({closing:t,align:e=!0,units:n=1}){return r=>AW(r,e,n,t)}function AW(t,e,n,r,i){let o=t.textAfter,s=o.match(/^\s*/)[0].length,a=r&&o.slice(s,s+r.length)==r||i==t.pos+s,l=e?JSe(t):null;return l?a?t.column(l.from):t.column(l.to):t.baseIndent+(a?0:t.unit*n)}const h8e=t=>t.baseIndent;function d8e({except:t,units:e=1}={}){return n=>{let r=t&&t.test(n.textAfter);return n.baseIndent+(r?0:e*n.unit)}}const QSe=200;function XSe(){return _t.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:r}=t.newSelection.main,i=n.lineAt(r);if(r>i.from+QSe)return t;let o=n.sliceString(i.from,r);if(!e.some(c=>c.test(o)))return t;let{state:s}=t,a=-1,l=[];for(let{head:c}of s.selection.ranges){let u=s.doc.lineAt(c);if(u.from==a)continue;a=u.from;let h=T4(s,u.from);if(h==null)continue;let d=/^\s*/.exec(u.text)[0],f=J0(s,h);d!=f&&l.push({from:u.from,to:u.from+d.length,insert:f})}return l.length?[t,{changes:l,sequential:!0}]:t})}const YSe=ke.define(),ZSe=new at;function f8e(t){let e=t.firstChild,n=t.lastChild;return e&&e.to<n.from?{from:e.to,to:n.type.isError?t.to:n.from}:null}function eke(t,e,n){let r=nr(t);if(r.length<n)return null;let i=r.resolveStack(n,1),o=null;for(let s=i;s;s=s.next){let a=s.node;if(a.to<=n||a.from>n)continue;if(o&&a.from<e)break;let l=a.type.prop(ZSe);if(l&&(a.to<r.length-50||r.length==t.doc.length||!tke(a))){let c=l(a,t);c&&c.from<=n&&c.from>=e&&c.to>n&&(o=c)}}return o}function tke(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function Jv(t,e,n){for(let r of t.facet(YSe)){let i=r(t,e,n);if(i)return i}return eke(t,e,n)}function IW(t,e){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);return n>=r?void 0:{from:n,to:r}}const G_=et.define({map:IW}),eg=et.define({map:IW});function RW(t){let e=[];for(let{head:n}of t.state.selection.ranges)e.some(r=>r.from<=n&&r.to>=n)||e.push(t.lineBlockAt(n));return e}const Ru=ir.define({create(){return Fe.none},update(t,e){t=t.map(e.changes);for(let n of e.effects)if(n.is(G_)&&!nke(t,n.value.from,n.value.to)){let{preparePlaceholder:r}=e.state.facet(MW),i=r?Fe.replace({widget:new cke(r(e.state,n.value))}):r7;t=t.update({add:[i.range(n.value.from,n.value.to)]})}else n.is(eg)&&(t=t.update({filter:(r,i)=>n.value.from!=r||n.value.to!=i,filterFrom:n.value.from,filterTo:n.value.to}));if(e.selection){let n=!1,{head:r}=e.selection.main;t.between(r,r,(i,o)=>{i<r&&o>r&&(n=!0)}),n&&(t=t.update({filterFrom:r,filterTo:r,filter:(i,o)=>o<=r||i>=r}))}return t},provide:t=>be.decorations.from(t),toJSON(t,e){let n=[];return t.between(0,e.doc.length,(r,i)=>{n.push(r,i)}),n},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let n=0;n<t.length;){let r=t[n++],i=t[n++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(r7.range(r,i))}return Fe.set(e,!0)}});function Qv(t,e,n){var r;let i=null;return(r=t.field(Ru,!1))===null||r===void 0||r.between(e,n,(o,s)=>{(!i||i.from>o)&&(i={from:o,to:s})}),i}function nke(t,e,n){let r=!1;return t.between(e,e,(i,o)=>{i==e&&o==n&&(r=!0)}),r}function PW(t,e){return t.field(Ru,!1)?e:e.concat(et.appendConfig.of(NW()))}const rke=t=>{for(let e of RW(t)){let n=Jv(t.state,e.from,e.to);if(n)return t.dispatch({effects:PW(t.state,[G_.of(n),DW(t,n)])}),!0}return!1},ike=t=>{if(!t.state.field(Ru,!1))return!1;let e=[];for(let n of RW(t)){let r=Qv(t.state,n.from,n.to);r&&e.push(eg.of(r),DW(t,r,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function DW(t,e,n=!0){let r=t.state.doc.lineAt(e.from).number,i=t.state.doc.lineAt(e.to).number;return be.announce.of(`${t.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${t.state.phrase("to")} ${i}.`)}const oke=t=>{let{state:e}=t,n=[];for(let r=0;r<e.doc.length;){let i=t.lineBlockAt(r),o=Jv(e,i.from,i.to);o&&n.push(G_.of(o)),r=(o?t.lineBlockAt(o.to):i).to+1}return n.length&&t.dispatch({effects:PW(t.state,n)}),!!n.length},ske=t=>{let e=t.state.field(Ru,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,t.state.doc.length,(r,i)=>{n.push(eg.of({from:r,to:i}))}),t.dispatch({effects:n}),!0},ake=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:rke},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:ike},{key:"Ctrl-Alt-[",run:oke},{key:"Ctrl-Alt-]",run:ske}],lke={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},MW=ke.define({combine(t){return Fs(t,lke)}});function NW(t){return[Ru,dke]}function OW(t,e){let{state:n}=t,r=n.facet(MW),i=s=>{let a=t.lineBlockAt(t.posAtDOM(s.target)),l=Qv(t.state,a.from,a.to);l&&t.dispatch({effects:eg.of(l)}),s.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(t,i,e);let o=document.createElement("span");return o.textContent=r.placeholderText,o.setAttribute("aria-label",n.phrase("folded code")),o.title=n.phrase("unfold"),o.className="cm-foldPlaceholder",o.onclick=i,o}const r7=Fe.replace({widget:new class extends La{toDOM(t){return OW(t,null)}}});class cke extends La{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return OW(e,this.value)}}const uke={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class kC extends ka{constructor(e,n){super(),this.config=e,this.open=n}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let n=document.createElement("span");return n.textContent=this.open?this.config.openText:this.config.closedText,n.title=e.state.phrase(this.open?"Fold line":"Unfold line"),n}}function hke(t={}){let e=Object.assign(Object.assign({},uke),t),n=new kC(e,!0),r=new kC(e,!1),i=Ln.fromClass(class{constructor(s){this.from=s.viewport.from,this.markers=this.buildMarkers(s)}update(s){(s.docChanged||s.viewportChanged||s.startState.facet(lc)!=s.state.facet(lc)||s.startState.field(Ru,!1)!=s.state.field(Ru,!1)||nr(s.startState)!=nr(s.state)||e.foldingChanged(s))&&(this.markers=this.buildMarkers(s.view))}buildMarkers(s){let a=new rc;for(let l of s.viewportLineBlocks){let c=Qv(s.state,l.from,l.to)?r:Jv(s.state,l.from,l.to)?n:null;c&&a.add(l.from,l.from,c)}return a.finish()}}),{domEventHandlers:o}=e;return[i,sSe({class:"cm-foldGutter",markers(s){var a;return((a=s.plugin(i))===null||a===void 0?void 0:a.markers)||bt.empty},initialSpacer(){return new kC(e,!1)},domEventHandlers:Object.assign(Object.assign({},o),{click:(s,a,l)=>{if(o.click&&o.click(s,a,l))return!0;let c=Qv(s.state,a.from,a.to);if(c)return s.dispatch({effects:eg.of(c)}),!0;let u=Jv(s.state,a.from,a.to);return u?(s.dispatch({effects:G_.of(u)}),!0):!1}})}),NW()]}const dke=be.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class tg{constructor(e,n){this.specs=e;let r;function i(a){let l=ic.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const o=typeof n.all=="string"?n.all:n.all?i(n.all):void 0,s=n.scope;this.scope=s instanceof oo?a=>a.prop(Gc)==s.data:s?a=>a==s:void 0,this.style=bW(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:o}).style,this.module=r?new ic(r):null,this.themeType=n.themeType}static define(e,n){return new tg(e,n||{})}}const JS=ke.define(),LW=ke.define({combine(t){return t.length?[t[0]]:null}});function TC(t){let e=t.facet(JS);return e.length?e:t.facet(LW)}function FW(t,e){let n=[pke],r;return t instanceof tg&&(t.module&&n.push(be.styleModule.of(t.module)),r=t.themeType),e!=null&&e.fallback?n.push(LW.of(t)):r?n.push(JS.computeN([be.darkTheme],i=>i.facet(be.darkTheme)==(r=="dark")?[t]:[])):n.push(JS.of(t)),n}class fke{constructor(e){this.markCache=Object.create(null),this.tree=nr(e.state),this.decorations=this.buildDeco(e,TC(e.state)),this.decoratedTo=e.viewport.to}update(e){let n=nr(e.state),r=TC(e.state),i=r!=TC(e.startState),{viewport:o}=e.view,s=e.changes.mapPos(this.decoratedTo,1);n.length<o.to&&!i&&n.type==this.tree.type&&s>=o.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=s):(n!=this.tree||e.viewportChanged||i)&&(this.tree=n,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=o.to)}buildDeco(e,n){if(!n||!this.tree.length)return Fe.none;let r=new rc;for(let{from:i,to:o}of e.visibleRanges)LSe(this.tree,n,(s,a,l)=>{r.add(s,a,this.markCache[l]||(this.markCache[l]=Fe.mark({class:l})))},i,o);return r.finish()}}const pke=wc.high(Ln.fromClass(fke,{decorations:t=>t.decorations})),mke=tg.define([{tag:te.meta,color:"#404740"},{tag:te.link,textDecoration:"underline"},{tag:te.heading,textDecoration:"underline",fontWeight:"bold"},{tag:te.emphasis,fontStyle:"italic"},{tag:te.strong,fontWeight:"bold"},{tag:te.strikethrough,textDecoration:"line-through"},{tag:te.keyword,color:"#708"},{tag:[te.atom,te.bool,te.url,te.contentSeparator,te.labelName],color:"#219"},{tag:[te.literal,te.inserted],color:"#164"},{tag:[te.string,te.deleted],color:"#a11"},{tag:[te.regexp,te.escape,te.special(te.string)],color:"#e40"},{tag:te.definition(te.variableName),color:"#00f"},{tag:te.local(te.variableName),color:"#30a"},{tag:[te.typeName,te.namespace],color:"#085"},{tag:te.className,color:"#167"},{tag:[te.special(te.variableName),te.macroName],color:"#256"},{tag:te.definition(te.propertyName),color:"#00c"},{tag:te.comment,color:"#940"},{tag:te.invalid,color:"#f00"}]),gke=be.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),BW=1e4,VW="()[]{}",jW=ke.define({combine(t){return Fs(t,{afterCursor:!0,brackets:VW,maxScanDistance:BW,renderMatch:yke})}}),xke=Fe.mark({class:"cm-matchingBracket"}),vke=Fe.mark({class:"cm-nonmatchingBracket"});function yke(t){let e=[],n=t.matched?xke:vke;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}const _ke=ir.define({create(){return Fe.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],r=e.state.facet(jW);for(let i of e.state.selection.ranges){if(!i.empty)continue;let o=gs(e.state,i.head,-1,r)||i.head>0&&gs(e.state,i.head-1,1,r)||r.afterCursor&&(gs(e.state,i.head,1,r)||i.head<e.state.doc.length&&gs(e.state,i.head+1,-1,r));o&&(n=n.concat(r.renderMatch(o,e.state)))}return Fe.set(n,!0)},provide:t=>be.decorations.from(t)}),wke=[_ke,gke];function Cke(t={}){return[jW.of(t),wke]}const bke=new at;function QS(t,e,n){let r=t.prop(e<0?at.openedBy:at.closedBy);if(r)return r;if(t.name.length==1){let i=n.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[n[i+e]]}return null}function XS(t){let e=t.type.prop(bke);return e?e(t.node):t}function gs(t,e,n,r={}){let i=r.maxScanDistance||BW,o=r.brackets||VW,s=nr(t),a=s.resolveInner(e,n);for(let l=a;l;l=l.parent){let c=QS(l.type,n,o);if(c&&l.from<l.to){let u=XS(l);if(u&&(n>0?e>=u.from&&e<u.to:e>u.from&&e<=u.to))return Eke(t,e,n,l,u,c,o)}}return Ske(t,e,n,s,a.type,i,o)}function Eke(t,e,n,r,i,o,s){let a=r.parent,l={from:i.from,to:i.to},c=0,u=a==null?void 0:a.cursor();if(u&&(n<0?u.childBefore(r.from):u.childAfter(r.to)))do if(n<0?u.to<=r.from:u.from>=r.to){if(c==0&&o.indexOf(u.type.name)>-1&&u.from<u.to){let h=XS(u);return{start:l,end:h?{from:h.from,to:h.to}:void 0,matched:!0}}else if(QS(u.type,n,s))c++;else if(QS(u.type,-n,s)){if(c==0){let h=XS(u);return{start:l,end:h&&h.from<h.to?{from:h.from,to:h.to}:void 0,matched:!1}}c--}}while(n<0?u.prevSibling():u.nextSibling());return{start:l,matched:!1}}function Ske(t,e,n,r,i,o,s){let a=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),l=s.indexOf(a);if(l<0||l%2==0!=n>0)return null;let c={from:n<0?e-1:e,to:n>0?e+1:e},u=t.doc.iterRange(e,n>0?t.doc.length:0),h=0;for(let d=0;!u.next().done&&d<=o;){let f=u.value;n<0&&(d+=f.length);let p=e+d*n;for(let m=n>0?0:f.length-1,x=n>0?f.length:-1;m!=x;m+=n){let v=s.indexOf(f[m]);if(!(v<0||r.resolveInner(p+m,1).type!=i))if(v%2==0==n>0)h++;else{if(h==1)return{start:c,end:{from:p+m,to:p+m+1},matched:v>>1==l>>1};h--}}n>0&&(d+=f.length)}return u.done?{start:c,matched:!1}:null}function i7(t,e,n,r=0,i=0){e==null&&(e=t.search(/[^\s\u00a0]/),e==-1&&(e=t.length));let o=i;for(let s=r;s<e;s++)t.charCodeAt(s)==9?o+=n-o%n:o++;return o}class zW{constructor(e,n,r,i){this.string=e,this.tabSize=n,this.indentUnit=r,this.overrideIndent=i,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return this.pos==0}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(e){let n=this.string.charAt(this.pos),r;if(typeof e=="string"?r=n==e:r=n&&(e instanceof RegExp?e.test(n):e(n)),r)return++this.pos,n}eatWhile(e){let n=this.pos;for(;this.eat(e););return this.pos>n}eatSpace(){let e=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e}skipToEnd(){this.pos=this.string.length}skipTo(e){let n=this.string.indexOf(e,this.pos);if(n>-1)return this.pos=n,!0}backUp(e){this.pos-=e}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=i7(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var e;return(e=this.overrideIndent)!==null&&e!==void 0?e:i7(this.string,null,this.tabSize)}match(e,n,r){if(typeof e=="string"){let i=s=>r?s.toLowerCase():s,o=this.string.substr(this.pos,e.length);return i(o)==i(e)?(n!==!1&&(this.pos+=e.length),!0):null}else{let i=this.string.slice(this.pos).match(e);return i&&i.index>0?null:(i&&n!==!1&&(this.pos+=i[0].length),i)}}current(){return this.string.slice(this.start,this.pos)}}function kke(t){return{name:t.name||"",token:t.token,blankLine:t.blankLine||(()=>{}),startState:t.startState||(()=>!0),copyState:t.copyState||Tke,indent:t.indent||(()=>null),languageData:t.languageData||{},tokenTable:t.tokenTable||P4}}function Tke(t){if(typeof t!="object")return t;let e={};for(let n in t){let r=t[n];e[n]=r instanceof Array?r.slice():r}return e}const o7=new WeakMap;class I4 extends oo{constructor(e){let n=EW(e.languageData),r=kke(e),i,o=new class extends wW{createParse(s,a,l){return new Ike(i,s,a,l)}};super(n,o,[kW.of((s,a)=>this.getIndent(s,a))],e.name),this.topNode=Dke(n),i=this,this.streamParser=r,this.stateAfter=new at({perNode:!0}),this.tokenTable=e.tokenTable?new WW(r.tokenTable):Pke}static define(e){return new I4(e)}getIndent(e,n){let r=nr(e.state),i=r.resolve(n);for(;i&&i.type!=this.topNode;)i=i.parent;if(!i)return null;let o,{overrideIndentation:s}=e.options;s&&(o=o7.get(e.state),o!=null&&o<n-1e4&&(o=void 0));let a=R4(this,r,0,i.from,o??n),l,c;if(a?(c=a.state,l=a.pos+1):(c=this.streamParser.startState(e.unit),l=0),n-l>1e4)return null;for(;l<n;){let h=e.state.doc.lineAt(l),d=Math.min(n,h.to);if(h.length){let f=s?s(h.from):-1,p=new zW(h.text,e.state.tabSize,e.unit,f<0?void 0:f);for(;p.pos<d-h.from;)HW(this.streamParser.token,p,c)}else this.streamParser.blankLine(c,e.unit);if(d==n)break;l=h.to+1}let u=e.lineAt(n);return s&&o==null&&o7.set(e.state,u.from),this.streamParser.indent(c,/^\s*(.*)/.exec(u.text)[1],e)}get allowsNesting(){return!1}}function R4(t,e,n,r,i){let o=n>=r&&n+e.length<=i&&e.prop(t.stateAfter);if(o)return{state:t.streamParser.copyState(o),pos:n+e.length};for(let s=e.children.length-1;s>=0;s--){let a=e.children[s],l=n+e.positions[s],c=a instanceof Ut&&l<i&&R4(t,a,l,r,i);if(c)return c}return null}function $W(t,e,n,r,i){if(i&&n<=0&&r>=e.length)return e;!i&&e.type==t.topNode&&(i=!0);for(let o=e.children.length-1;o>=0;o--){let s=e.positions[o],a=e.children[o],l;if(s<r&&a instanceof Ut){if(!(l=$W(t,a,n-s,r-s,i)))break;return i?new Ut(e.type,e.children.slice(0,o).concat(l),e.positions.slice(0,o+1),s+l.length):l}}return null}function Ake(t,e,n,r){for(let i of e){let o=i.from+(i.openStart?25:0),s=i.to-(i.openEnd?25:0),a=o<=n&&s>n&&R4(t,i.tree,0-i.offset,n,s),l;if(a&&(l=$W(t,i.tree,n+i.offset,a.pos+i.offset,!1)))return{state:a.state,tree:l}}return{state:t.streamParser.startState(r?Iu(r):4),tree:Ut.empty}}class Ike{constructor(e,n,r,i){this.lang=e,this.input=n,this.fragments=r,this.ranges=i,this.stoppedAt=null,this.chunks=[],this.chunkPos=[],this.chunk=[],this.chunkReused=void 0,this.rangeIndex=0,this.to=i[i.length-1].to;let o=Fd.get(),s=i[0].from,{state:a,tree:l}=Ake(e,r,s,o==null?void 0:o.state);this.state=a,this.parsedPos=this.chunkStart=s+l.length;for(let c=0;c<l.children.length;c++)this.chunks.push(l.children[c]),this.chunkPos.push(l.positions[c]);o&&this.parsedPos<o.viewport.from-1e5&&(this.state=this.lang.streamParser.startState(Iu(o.state)),o.skipUntilInView(this.parsedPos,o.viewport.from),this.parsedPos=o.viewport.from),this.moveRangeIndex()}advance(){let e=Fd.get(),n=this.stoppedAt==null?this.to:Math.min(this.to,this.stoppedAt),r=Math.min(n,this.chunkStart+2048);for(e&&(r=Math.min(r,e.viewport.to));this.parsedPos<r;)this.parseLine(e);return this.chunkStart<this.parsedPos&&this.finishChunk(),this.parsedPos>=n?this.finish():e&&this.parsedPos>=e.viewport.to?(e.skipUntilInView(this.parsedPos,n),this.finish()):null}stopAt(e){this.stoppedAt=e}lineAfter(e){let n=this.input.chunk(e);if(this.input.lineChunks)n==`
`&&(n="");else{let r=n.indexOf(`
`);r>-1&&(n=n.slice(0,r))}return e+n.length<=this.to?n:n.slice(0,this.to-e)}nextLine(){let e=this.parsedPos,n=this.lineAfter(e),r=e+n.length;for(let i=this.rangeIndex;;){let o=this.ranges[i].to;if(o>=r||(n=n.slice(0,o-(r-n.length)),i++,i==this.ranges.length))break;let s=this.ranges[i].from,a=this.lineAfter(s);n+=a,r=s+a.length}return{line:n,end:r}}skipGapsTo(e,n,r){for(;;){let i=this.ranges[this.rangeIndex].to,o=e+n;if(r>0?i>o:i>=o)break;let s=this.ranges[++this.rangeIndex].from;n+=s-i}return n}moveRangeIndex(){for(;this.ranges[this.rangeIndex].to<this.parsedPos;)this.rangeIndex++}emitToken(e,n,r,i,o){if(this.ranges.length>1){o=this.skipGapsTo(n,o,1),n+=o;let s=this.chunk.length;o=this.skipGapsTo(r,o,-1),r+=o,i+=this.chunk.length-s}return this.chunk.push(e,n,r,i),o}parseLine(e){let{line:n,end:r}=this.nextLine(),i=0,{streamParser:o}=this.lang,s=new zW(n,e?e.state.tabSize:4,e?Iu(e.state):2);if(s.eol())o.blankLine(this.state,s.indentUnit);else for(;!s.eol();){let a=HW(o.token,s,this.state);if(a&&(i=this.emitToken(this.lang.tokenTable.resolve(a),this.parsedPos+s.start,this.parsedPos+s.pos,4,i)),s.start>1e4)break}this.parsedPos=r,this.moveRangeIndex(),this.parsedPos<this.to&&this.parsedPos++}finishChunk(){let e=Ut.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet:Rke,topID:0,maxBufferLength:2048,reused:this.chunkReused});e=new Ut(e.type,e.children,e.positions,e.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]),this.chunks.push(e),this.chunkPos.push(this.chunkStart-this.ranges[0].from),this.chunk=[],this.chunkReused=void 0,this.chunkStart=this.parsedPos}finish(){return new Ut(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}}function HW(t,e,n){e.start=e.pos;for(let r=0;r<10;r++){let i=t(e,n);if(e.pos>e.start)return i}throw new Error("Stream parser failed to advance stream.")}const P4=Object.create(null),Q0=[ni.none],Rke=new b4(Q0),s7=[],a7=Object.create(null),UW=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])UW[t]=qW(P4,e);class WW{constructor(e){this.extra=e,this.table=Object.assign(Object.create(null),UW)}resolve(e){return e?this.table[e]||(this.table[e]=qW(this.extra,e)):0}}const Pke=new WW(P4);function AC(t,e){s7.indexOf(t)>-1||(s7.push(t),console.warn(e))}function qW(t,e){let n=[];for(let a of e.split(" ")){let l=[];for(let c of a.split(".")){let u=t[c]||te[c];u?typeof u=="function"?l.length?l=l.map(u):AC(c,`Modifier ${c} used at start of tag`):l.length?AC(c,`Tag ${c} used as modifier`):l=Array.isArray(u)?u:[u]:AC(c,`Unknown highlighting tag ${c}`)}for(let c of l)n.push(c)}if(!n.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+n.map(a=>a.id),o=a7[i];if(o)return o.id;let s=a7[i]=ni.define({id:Q0.length,name:r,props:[NSe({[r]:n})]});return Q0.push(s),s.id}function Dke(t){let e=ni.define({id:Q0.length,name:"Document",props:[Gc.add(()=>t)],top:!0});return Q0.push(e),e}Yt.RTL,Yt.LTR;class KW{constructor(e,n,r,i){this.state=e,this.pos=n,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let n=nr(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),r=Math.max(n.from,this.pos-250),i=n.text.slice(r-n.from,this.pos-n.from),o=i.search(GW(e,!1));return o<0?null:{from:r+o,to:this.pos,text:i.slice(o)}}get aborted(){return this.abortListeners==null}addEventListener(e,n,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(n),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function l7(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function Mke(t){let e=Object.create(null),n=Object.create(null);for(let{label:i}of t){e[i[0]]=!0;for(let o=1;o<i.length;o++)n[i[o]]=!0}let r=l7(e)+l7(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function Nke(t){let e=t.map(i=>typeof i=="string"?{label:i}:i),[n,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:Mke(e);return i=>{let o=i.matchBefore(r);return o||i.explicit?{from:o?o.from:i.pos,options:e,validFor:n}:null}}function p8e(t,e){return n=>{for(let r=nr(n.state).resolveInner(n.pos,-1);r;r=r.parent){if(t.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return e(n)}}class c7{constructor(e,n,r,i){this.completion=e,this.source=n,this.match=r,this.score=i}}function zl(t){return t.selection.main.from}function GW(t,e){var n;let{source:r}=t,i=e&&r[0]!="^",o=r[r.length-1]!="$";return!i&&!o?t:new RegExp(`${i?"^":""}(?:${r})${o?"$":""}`,(n=t.flags)!==null&&n!==void 0?n:t.ignoreCase?"i":"")}const D4=Oa.define();function Oke(t,e,n,r){let{main:i}=t.selection,o=n-i.from,s=r-i.from;return Object.assign(Object.assign({},t.changeByRange(a=>a!=i&&n!=r&&t.sliceDoc(a.from+o,a.from+s)!=t.sliceDoc(n,r)?{range:a}:{changes:{from:a.from+o,to:r==i.from?a.to:a.from+s,insert:e},range:se.cursor(a.from+o+e.length)})),{scrollIntoView:!0,userEvent:"input.complete"})}const u7=new WeakMap;function Lke(t){if(!Array.isArray(t))return t;let e=u7.get(t);return e||u7.set(t,e=Nke(t)),e}const Xv=et.define(),X0=et.define();class Fke{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let n=0;n<e.length;){let r=hr(e,n),i=no(r);this.chars.push(r);let o=e.slice(n,n+i),s=o.toUpperCase();this.folded.push(hr(s==o?o.toLowerCase():s,0)),n+=i}this.astral=e.length!=this.chars.length}ret(e,n){return this.score=e,this.matched=n,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:n,folded:r,any:i,precise:o,byWord:s}=this;if(n.length==1){let y=hr(e,0),_=no(y),C=_==e.length?0:-100;if(y!=n[0])if(y==r[0])C+=-200;else return null;return this.ret(C,[0,_])}let a=e.indexOf(this.pattern);if(a==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=n.length,c=0;if(a<0){for(let y=0,_=Math.min(e.length,200);y<_&&c<l;){let C=hr(e,y);(C==n[c]||C==r[c])&&(i[c++]=y),y+=no(C)}if(c<l)return null}let u=0,h=0,d=!1,f=0,p=-1,m=-1,x=/[a-z]/.test(e),v=!0;for(let y=0,_=Math.min(e.length,200),C=0;y<_&&h<l;){let S=hr(e,y);a<0&&(u<l&&S==n[u]&&(o[u++]=y),f<l&&(S==n[f]||S==r[f]?(f==0&&(p=y),m=y+1,f++):f=0));let k,b=S<255?S>=48&&S<=57||S>=97&&S<=122?2:S>=65&&S<=90?1:0:(k=l4(S))!=k.toLowerCase()?1:k!=k.toUpperCase()?2:0;(!y||b==1&&x||C==0&&b!=0)&&(n[h]==S||r[h]==S&&(d=!0)?s[h++]=y:s.length&&(v=!1)),C=b,y+=no(S)}return h==l&&s[0]==0&&v?this.result(-100+(d?-200:0),s,e):f==l&&p==0?this.ret(-200-e.length+(m==e.length?0:-100),[0,m]):a>-1?this.ret(-700-e.length,[a,a+this.pattern.length]):f==l?this.ret(-900-e.length,[p,m]):h==l?this.result(-100+(d?-200:0)+-700+(v?0:-1100),s,e):n.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,n,r){let i=[],o=0;for(let s of n){let a=s+(this.astral?no(hr(r,s)):1);o&&i[o-1]==s?i[o-1]=a:(i[o++]=s,i[o++]=a)}return this.ret(e-r.length,i)}}class Bke{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let n=e.slice(0,this.pattern.length),r=n==this.pattern?0:n.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,n.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const mr=ke.define({combine(t){return Fs(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:Vke,filterStrict:!1,compareCompletions:(e,n)=>e.label.localeCompare(n.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>r=>h7(e(r),n(r)),optionClass:(e,n)=>r=>h7(e(r),n(r)),addToOptions:(e,n)=>e.concat(n),filterStrict:(e,n)=>e||n})}});function h7(t,e){return t?e?t+" "+e:t:e}function Vke(t,e,n,r,i,o){let s=t.textDirection==Yt.RTL,a=s,l=!1,c="top",u,h,d=e.left-i.left,f=i.right-e.right,p=r.right-r.left,m=r.bottom-r.top;if(a&&d<Math.min(p,f)?a=!1:!a&&f<Math.min(p,d)&&(a=!0),p<=(a?d:f))u=Math.max(i.top,Math.min(n.top,i.bottom-m))-e.top,h=Math.min(400,a?d:f);else{l=!0,h=Math.min(400,(s?e.right:i.right-e.left)-30);let y=i.bottom-e.bottom;y>=m||y>e.top?u=n.bottom-e.top:(c="bottom",u=e.bottom-n.top)}let x=(e.bottom-e.top)/o.offsetHeight,v=(e.right-e.left)/o.offsetWidth;return{style:`${c}: ${u/x}px; max-width: ${h/v}px`,class:"cm-completionInfo-"+(l?s?"left-narrow":"right-narrow":a?"left":"right")}}function jke(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(n){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),n.type&&r.classList.add(...n.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(n,r,i,o){let s=document.createElement("span");s.className="cm-completionLabel";let a=n.displayLabel||n.label,l=0;for(let c=0;c<o.length;){let u=o[c++],h=o[c++];u>l&&s.appendChild(document.createTextNode(a.slice(l,u)));let d=s.appendChild(document.createElement("span"));d.appendChild(document.createTextNode(a.slice(u,h))),d.className="cm-completionMatchedText",l=h}return l<a.length&&s.appendChild(document.createTextNode(a.slice(l))),s},position:50},{render(n){if(!n.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=n.detail,r},position:80}),e.sort((n,r)=>n.position-r.position).map(n=>n.render)}function IC(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let i=Math.floor(e/n);return{from:i*n,to:(i+1)*n}}let r=Math.floor((t-e)/n);return{from:t-(r+1)*n,to:t-r*n}}class zke{constructor(e,n,r){this.view=e,this.stateField=n,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let i=e.state.field(n),{options:o,selected:s}=i.open,a=e.state.facet(mr);this.optionContent=jke(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=IC(o.length,s,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{let{options:c}=e.state.field(n).open;for(let u=l.target,h;u&&u!=this.dom;u=u.parentNode)if(u.nodeName=="LI"&&(h=/-(\d+)$/.exec(u.id))&&+h[1]<c.length){this.applyCompletion(e,c[+h[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let c=e.state.field(this.stateField,!1);c&&c.tooltip&&e.state.facet(mr).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:X0.of(null)})}),this.showOptions(o,i.id)}mount(){this.updateSel()}showOptions(e,n){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,n,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var n;let r=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=i){let{options:o,selected:s,disabled:a}=r.open;(!i.open||i.open.options!=o)&&(this.range=IC(o.length,s,e.state.facet(mr).maxRenderedOptions),this.showOptions(o,r.id)),this.updateSel(),a!=((n=i.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!a)}}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of n.split(" "))r&&this.dom.classList.add(r);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;if((n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=IC(n.options.length,n.selected,this.view.state.facet(mr).maxRenderedOptions),this.showOptions(n.options,e.id)),this.updateSelectedOption(n.selected)){this.destroyInfo();let{completion:r}=n.options[n.selected],{info:i}=r;if(!i)return;let o=typeof i=="string"?document.createTextNode(i):i(r);if(!o)return;"then"in o?o.then(s=>{s&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(s,r)}).catch(s=>mi(this.view.state,s,"completion info")):this.addInfoPane(o,r)}}addInfoPane(e,n){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:o}=e;r.appendChild(i),this.infoDestroy=o||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let n=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),n=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected");return n&&Hke(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),o=this.space;if(!o){let s=this.dom.ownerDocument.defaultView||window;o={left:0,top:0,right:s.innerWidth,bottom:s.innerHeight}}return i.top>Math.min(o.bottom,n.bottom)-10||i.bottom<Math.max(o.top,n.top)+10?null:this.view.state.facet(mr).positionInfo(this.view,n,i,r,o,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,n,r){const i=document.createElement("ul");i.id=n,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions"));let o=null;for(let s=r.from;s<r.to;s++){let{completion:a,match:l}=e[s],{section:c}=a;if(c){let d=typeof c=="string"?c:c.name;if(d!=o&&(s>r.from||r.from==0))if(o=d,typeof c!="string"&&c.header)i.appendChild(c.header(c));else{let f=i.appendChild(document.createElement("completion-section"));f.textContent=d}}const u=i.appendChild(document.createElement("li"));u.id=n+"-"+s,u.setAttribute("role","option");let h=this.optionClass(a);h&&(u.className=h);for(let d of this.optionContent){let f=d(a,this.view.state,this.view,l);f&&u.appendChild(f)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function $ke(t,e){return n=>new zke(n,t,e)}function Hke(t,e){let n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=n.height/t.offsetHeight;r.top<n.top?t.scrollTop-=(n.top-r.top)/i:r.bottom>n.bottom&&(t.scrollTop+=(r.bottom-n.bottom)/i)}function d7(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function Uke(t,e){let n=[],r=null,i=c=>{n.push(c);let{section:u}=c.completion;if(u){r||(r=[]);let h=typeof u=="string"?u:u.name;r.some(d=>d.name==h)||r.push(typeof u=="string"?{name:h}:u)}},o=e.facet(mr);for(let c of t)if(c.hasResult()){let u=c.result.getMatch;if(c.result.filter===!1)for(let h of c.result.options)i(new c7(h,c.source,u?u(h):[],1e9-n.length));else{let h=e.sliceDoc(c.from,c.to),d,f=o.filterStrict?new Bke(h):new Fke(h);for(let p of c.result.options)if(d=f.match(p.label)){let m=p.displayLabel?u?u(p,d.matched):[]:d.matched;i(new c7(p,c.source,m,d.score+(p.boost||0)))}}}if(r){let c=Object.create(null),u=0,h=(d,f)=>{var p,m;return((p=d.rank)!==null&&p!==void 0?p:1e9)-((m=f.rank)!==null&&m!==void 0?m:1e9)||(d.name<f.name?-1:1)};for(let d of r.sort(h))u-=1e5,c[d.name]=u;for(let d of n){let{section:f}=d.completion;f&&(d.score+=c[typeof f=="string"?f:f.name])}}let s=[],a=null,l=o.compareCompletions;for(let c of n.sort((u,h)=>h.score-u.score||l(u.completion,h.completion))){let u=c.completion;!a||a.label!=u.label||a.detail!=u.detail||a.type!=null&&u.type!=null&&a.type!=u.type||a.apply!=u.apply||a.boost!=u.boost?s.push(c):d7(c.completion)>d7(a)&&(s[s.length-1]=c),a=c.completion}return s}class jh{constructor(e,n,r,i,o,s){this.options=e,this.attrs=n,this.tooltip=r,this.timestamp=i,this.selected=o,this.disabled=s}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new jh(this.options,f7(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,r,i,o){let s=Uke(e,n);if(!s.length)return i&&e.some(l=>l.state==1)?new jh(i.options,i.attrs,i.tooltip,i.timestamp,i.selected,!0):null;let a=n.facet(mr).selectOnOpen?0:-1;if(i&&i.selected!=a&&i.selected!=-1){let l=i.options[i.selected].completion;for(let c=0;c<s.length;c++)if(s[c].completion==l){a=c;break}}return new jh(s,f7(r,a),{pos:e.reduce((l,c)=>c.hasResult()?Math.min(l,c.from):l,1e8),create:Qke,above:o.aboveCursor},i?i.timestamp:Date.now(),a,!1)}map(e){return new jh(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class Yv{constructor(e,n,r){this.active=e,this.id=n,this.open=r}static start(){return new Yv(Gke,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,r=n.facet(mr),o=(r.override||n.languageDataAt("autocomplete",zl(n)).map(Lke)).map(a=>(this.active.find(c=>c.source==a)||new Mi(a,this.active.some(c=>c.state!=0)?1:0)).update(e,r));o.length==this.active.length&&o.every((a,l)=>a==this.active[l])&&(o=this.active);let s=this.open;s&&e.docChanged&&(s=s.map(e.changes)),e.selection||o.some(a=>a.hasResult()&&e.changes.touchesRange(a.from,a.to))||!Wke(o,this.active)?s=jh.build(o,n,this.id,s,r):s&&s.disabled&&!o.some(a=>a.state==1)&&(s=null),!s&&o.every(a=>a.state!=1)&&o.some(a=>a.hasResult())&&(o=o.map(a=>a.hasResult()?new Mi(a.source,0):a));for(let a of e.effects)a.is(XW)&&(s=s&&s.setSelected(a.value,this.id));return o==this.active&&s==this.open?this:new Yv(o,this.id,s)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?qke:Kke}}function Wke(t,e){if(t==e)return!0;for(let n=0,r=0;;){for(;n<t.length&&!t[n].hasResult;)n++;for(;r<e.length&&!e[r].hasResult;)r++;let i=n==t.length,o=r==e.length;if(i||o)return i==o;if(t[n++].result!=e[r++].result)return!1}}const qke={"aria-autocomplete":"list"},Kke={};function f7(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const Gke=[];function JW(t,e){if(t.isUserEvent("input.complete")){let r=t.annotation(D4);if(r&&e.activateOnCompletion(r))return 12}let n=t.isUserEvent("input.type");return n&&e.activateOnTyping?5:n?1:t.isUserEvent("delete.backward")?2:t.selection?8:t.docChanged?16:0}class Mi{constructor(e,n,r=-1){this.source=e,this.state=n,this.explicitPos=r}hasResult(){return!1}update(e,n){let r=JW(e,n),i=this;(r&8||r&16&&this.touches(e))&&(i=new Mi(i.source,0)),r&4&&i.state==0&&(i=new Mi(this.source,1)),i=i.updateFor(e,r);for(let o of e.effects)if(o.is(Xv))i=new Mi(i.source,1,o.value?zl(e.state):-1);else if(o.is(X0))i=new Mi(i.source,0);else if(o.is(QW))for(let s of o.value)s.source==i.source&&(i=s);return i}updateFor(e,n){return this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new Mi(this.source,this.state,e.mapPos(this.explicitPos))}touches(e){return e.changes.touchesRange(zl(e.state))}}class cd extends Mi{constructor(e,n,r,i,o){super(e,2,n),this.result=r,this.from=i,this.to=o}hasResult(){return!0}updateFor(e,n){var r;if(!(n&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let o=e.changes.mapPos(this.from),s=e.changes.mapPos(this.to,1),a=zl(e.state);if((this.explicitPos<0?a<=o:a<this.from)||a>s||!i||n&2&&zl(e.startState)==this.from)return new Mi(this.source,n&4?1:0);let l=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos);return Jke(i.validFor,e.state,o,s)?new cd(this.source,l,i,o,s):i.update&&(i=i.update(i,o,s,new KW(e.state,a,l>=0)))?new cd(this.source,l,i,i.from,(r=i.to)!==null&&r!==void 0?r:zl(e.state)):new Mi(this.source,1,l)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new cd(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Mi(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function Jke(t,e,n,r){if(!t)return!1;let i=e.sliceDoc(n,r);return typeof t=="function"?t(i,n,r,e):GW(t,!0).test(i)}const QW=et.define({map(t,e){return t.map(n=>n.map(e))}}),XW=et.define(),fi=ir.define({create(){return Yv.start()},update(t,e){return t.update(e)},provide:t=>[C4.from(t,e=>e.tooltip),be.contentAttributes.from(t,e=>e.attrs)]});function M4(t,e){const n=e.completion.apply||e.completion.label;let r=t.state.field(fi).active.find(i=>i.source==e.source);return r instanceof cd?(typeof n=="string"?t.dispatch(Object.assign(Object.assign({},Oke(t.state,n,r.from,r.to)),{annotations:D4.of(e.completion)})):n(t,e.completion,r.from,r.to),!0):!1}const Qke=$ke(fi,M4);function C1(t,e="option"){return n=>{let r=n.state.field(fi,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(mr).interactionDelay)return!1;let i=1,o;e=="page"&&(o=fW(n,r.open.tooltip))&&(i=Math.max(2,Math.floor(o.dom.offsetHeight/o.dom.querySelector("li").offsetHeight)-1));let{length:s}=r.open.options,a=r.open.selected>-1?r.open.selected+i*(t?1:-1):t?0:s-1;return a<0?a=e=="page"?0:s-1:a>=s&&(a=e=="page"?s-1:0),n.dispatch({effects:XW.of(a)}),!0}}const Xke=t=>{let e=t.state.field(fi,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(mr).interactionDelay?!1:M4(t,e.open.options[e.open.selected])},Yke=t=>t.state.field(fi,!1)?(t.dispatch({effects:Xv.of(!0)}),!0):!1,Zke=t=>{let e=t.state.field(fi,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(t.dispatch({effects:X0.of(null)}),!0)};class eTe{constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const tTe=50,nTe=1e3,rTe=Ln.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(fi).active)e.state==1&&this.startQuery(e)}update(t){let e=t.state.field(fi),n=t.state.facet(mr);if(!t.selectionSet&&!t.docChanged&&t.startState.field(fi)==e)return;let r=t.transactions.some(o=>{let s=JW(o,n);return s&8||(o.selection||o.docChanged)&&!(s&3)});for(let o=0;o<this.running.length;o++){let s=this.running[o];if(r||s.context.abortOnDocChange&&t.docChanged||s.updates.length+t.transactions.length>tTe&&Date.now()-s.time>nTe){for(let a of s.context.abortListeners)try{a()}catch(l){mi(this.view.state,l)}s.context.abortListeners=null,this.running.splice(o--,1)}else s.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(o=>o.effects.some(s=>s.is(Xv)))&&(this.pendingStart=!0);let i=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(o=>o.state==1&&!this.running.some(s=>s.active.source==o.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let o of t.transactions)o.isUserEvent("input.type")?this.composing=2:this.composing==2&&o.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(fi);for(let n of e.active)n.state==1&&!this.running.some(r=>r.active.source==n.source)&&this.startQuery(n)}startQuery(t){let{state:e}=this.view,n=zl(e),r=new KW(e,n,t.explicitPos==n,this.view),i=new eTe(t,r);this.running.push(i),Promise.resolve(t.source(r)).then(o=>{i.context.aborted||(i.done=o||null,this.scheduleAccept())},o=>{this.view.dispatch({effects:X0.of(null)}),mi(this.view.state,o)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(mr).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(mr);for(let r=0;r<this.running.length;r++){let i=this.running[r];if(i.done===void 0)continue;if(this.running.splice(r--,1),i.done){let s=new cd(i.active.source,i.active.explicitPos,i.done,i.done.from,(t=i.done.to)!==null&&t!==void 0?t:zl(i.updates.length?i.updates[0].startState:this.view.state));for(let a of i.updates)s=s.update(a,n);if(s.hasResult()){e.push(s);continue}}let o=this.view.state.field(fi).active.find(s=>s.source==i.active.source);if(o&&o.state==1)if(i.done==null){let s=new Mi(i.active.source,0);for(let a of i.updates)s=s.update(a,n);s.state!=1&&e.push(s)}else this.startQuery(o)}e.length&&this.view.dispatch({effects:QW.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(fi,!1);if(e&&e.tooltip&&this.view.state.facet(mr).closeOnBlur){let n=e.open&&fW(this.view,e.open.tooltip);(!n||!n.dom.contains(t.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:X0.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Xv.of(!1)}),20),this.composing=0}}}),iTe=typeof navigator=="object"&&/Win/.test(navigator.platform),oTe=wc.highest(be.domEventHandlers({keydown(t,e){let n=e.state.field(fi,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||t.key.length>1||t.ctrlKey&&!(iTe&&t.altKey)||t.metaKey)return!1;let r=n.open.options[n.open.selected],i=n.active.find(s=>s.source==r.source),o=r.completion.commitCharacters||i.result.commitCharacters;return o&&o.indexOf(t.key)>-1&&M4(e,r),!1}})),YW=be.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class sTe{constructor(e,n,r,i){this.field=e,this.line=n,this.from=r,this.to=i}}class N4{constructor(e,n,r){this.field=e,this.from=n,this.to=r}map(e){let n=e.mapPos(this.from,-1,pr.TrackDel),r=e.mapPos(this.to,1,pr.TrackDel);return n==null||r==null?null:new N4(this.field,n,r)}}class O4{constructor(e,n){this.lines=e,this.fieldPositions=n}instantiate(e,n){let r=[],i=[n],o=e.doc.lineAt(n),s=/^\s*/.exec(o.text)[0];for(let l of this.lines){if(r.length){let c=s,u=/^\t*/.exec(l)[0].length;for(let h=0;h<u;h++)c+=e.facet(q_);i.push(n+c.length-u),l=c+l.slice(u)}r.push(l),n+=l.length+1}let a=this.fieldPositions.map(l=>new N4(l.field,i[l.line]+l.from,i[l.line]+l.to));return{text:r,ranges:a}}static parse(e){let n=[],r=[],i=[],o;for(let s of e.split(/\r\n?|\n/)){for(;o=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(s);){let a=o[1]?+o[1]:null,l=o[2]||o[3]||"",c=-1,u=l.replace(/\\[{}]/g,h=>h[1]);for(let h=0;h<n.length;h++)(a!=null?n[h].seq==a:u&&n[h].name==u)&&(c=h);if(c<0){let h=0;for(;h<n.length&&(a==null||n[h].seq!=null&&n[h].seq<a);)h++;n.splice(h,0,{seq:a,name:u}),c=h;for(let d of i)d.field>=c&&d.field++}i.push(new sTe(c,r.length,o.index,o.index+u.length)),s=s.slice(0,o.index)+l+s.slice(o.index+o[0].length)}s=s.replace(/\\([{}])/g,(a,l,c)=>{for(let u of i)u.line==r.length&&u.from>c&&(u.from--,u.to--);return l}),r.push(s)}return new O4(r,i)}}let aTe=Fe.widget({widget:new class extends La{toDOM(){let t=document.createElement("span");return t.className="cm-snippetFieldPosition",t}ignoreEvent(){return!1}}}),lTe=Fe.mark({class:"cm-snippetField"});class cf{constructor(e,n){this.ranges=e,this.active=n,this.deco=Fe.set(e.map(r=>(r.from==r.to?aTe:lTe).range(r.from,r.to)))}map(e){let n=[];for(let r of this.ranges){let i=r.map(e);if(!i)return null;n.push(i)}return new cf(n,this.active)}selectionInsideField(e){return e.ranges.every(n=>this.ranges.some(r=>r.field==this.active&&r.from<=n.from&&r.to>=n.to))}}const ng=et.define({map(t,e){return t&&t.map(e)}}),cTe=et.define(),Y0=ir.define({create(){return null},update(t,e){for(let n of e.effects){if(n.is(ng))return n.value;if(n.is(cTe)&&t)return new cf(t.ranges,n.value)}return t&&e.docChanged&&(t=t.map(e.changes)),t&&e.selection&&!t.selectionInsideField(e.selection)&&(t=null),t},provide:t=>be.decorations.from(t,e=>e?e.deco:Fe.none)});function L4(t,e){return se.create(t.filter(n=>n.field==e).map(n=>se.range(n.from,n.to)))}function uTe(t){let e=O4.parse(t);return(n,r,i,o)=>{let{text:s,ranges:a}=e.instantiate(n.state,i),l={changes:{from:i,to:o,insert:Rt.of(s)},scrollIntoView:!0,annotations:r?[D4.of(r),On.userEvent.of("input.complete")]:void 0};if(a.length&&(l.selection=L4(a,0)),a.some(c=>c.field>0)){let c=new cf(a,0),u=l.effects=[ng.of(c)];n.state.field(Y0,!1)===void 0&&u.push(et.appendConfig.of([Y0,mTe,gTe,YW]))}n.dispatch(n.state.update(l))}}function ZW(t){return({state:e,dispatch:n})=>{let r=e.field(Y0,!1);if(!r||t<0&&r.active==0)return!1;let i=r.active+t,o=t>0&&!r.ranges.some(s=>s.field==i+t);return n(e.update({selection:L4(r.ranges,i),effects:ng.of(o?null:new cf(r.ranges,i)),scrollIntoView:!0})),!0}}const hTe=({state:t,dispatch:e})=>t.field(Y0,!1)?(e(t.update({effects:ng.of(null)})),!0):!1,dTe=ZW(1),fTe=ZW(-1),pTe=[{key:"Tab",run:dTe,shift:fTe},{key:"Escape",run:hTe}],p7=ke.define({combine(t){return t.length?t[0]:pTe}}),mTe=wc.highest(U_.compute([p7],t=>t.facet(p7)));function m8e(t,e){return Object.assign(Object.assign({},e),{apply:uTe(t)})}const gTe=be.domEventHandlers({mousedown(t,e){let n=e.state.field(Y0,!1),r;if(!n||(r=e.posAtCoords({x:t.clientX,y:t.clientY}))==null)return!1;let i=n.ranges.find(o=>o.from<=r&&o.to>=r);return!i||i.field==n.active?!1:(e.dispatch({selection:L4(n.ranges,i.field),effects:ng.of(n.ranges.some(o=>o.field>i.field)?new cf(n.ranges,i.field):null),scrollIntoView:!0}),!0)}}),Z0={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Jc=et.define({map(t,e){let n=e.mapPos(t,-1,pr.TrackAfter);return n??void 0}}),F4=new class extends Su{};F4.startSide=1;F4.endSide=-1;const eq=ir.define({create(){return bt.empty},update(t,e){if(t=t.map(e.changes),e.selection){let n=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:r=>r>=n.from&&r<=n.to})}for(let n of e.effects)n.is(Jc)&&(t=t.update({add:[F4.range(n.value,n.value+1)]}));return t}});function xTe(){return[yTe,eq]}const RC="()[]{}<>";function tq(t){for(let e=0;e<RC.length;e+=2)if(RC.charCodeAt(e)==t)return RC.charAt(e+1);return l4(t<128?t:t+1)}function nq(t,e){return t.languageDataAt("closeBrackets",e)[0]||Z0}const vTe=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),yTe=be.inputHandler.of((t,e,n,r)=>{if((vTe?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let i=t.state.selection.main;if(r.length>2||r.length==2&&no(hr(r,0))==1||e!=i.from||n!=i.to)return!1;let o=CTe(t.state,r);return o?(t.dispatch(o),!0):!1}),_Te=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=nq(t,t.selection.main.head).brackets||Z0.brackets,i=null,o=t.changeByRange(s=>{if(s.empty){let a=bTe(t.doc,s.head);for(let l of r)if(l==a&&J_(t.doc,s.head)==tq(hr(l,0)))return{changes:{from:s.head-l.length,to:s.head+l.length},range:se.cursor(s.head-l.length)}}return{range:i=s}});return i||e(t.update(o,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},wTe=[{key:"Backspace",run:_Te}];function CTe(t,e){let n=nq(t,t.selection.main.head),r=n.brackets||Z0.brackets;for(let i of r){let o=tq(hr(i,0));if(e==i)return o==i?kTe(t,i,r.indexOf(i+i+i)>-1,n):ETe(t,i,o,n.before||Z0.before);if(e==o&&rq(t,t.selection.main.from))return STe(t,i,o)}return null}function rq(t,e){let n=!1;return t.field(eq).between(0,t.doc.length,r=>{r==e&&(n=!0)}),n}function J_(t,e){let n=t.sliceString(e,e+2);return n.slice(0,no(hr(n,0)))}function bTe(t,e){let n=t.sliceString(e-2,e);return no(hr(n,0))==n.length?n:n.slice(1)}function ETe(t,e,n,r){let i=null,o=t.changeByRange(s=>{if(!s.empty)return{changes:[{insert:e,from:s.from},{insert:n,from:s.to}],effects:Jc.of(s.to+e.length),range:se.range(s.anchor+e.length,s.head+e.length)};let a=J_(t.doc,s.head);return!a||/\s/.test(a)||r.indexOf(a)>-1?{changes:{insert:e+n,from:s.head},effects:Jc.of(s.head+e.length),range:se.cursor(s.head+e.length)}:{range:i=s}});return i?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function STe(t,e,n){let r=null,i=t.changeByRange(o=>o.empty&&J_(t.doc,o.head)==n?{changes:{from:o.head,to:o.head+n.length,insert:n},range:se.cursor(o.head+n.length)}:r={range:o});return r?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function kTe(t,e,n,r){let i=r.stringPrefixes||Z0.stringPrefixes,o=null,s=t.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:e,from:a.to}],effects:Jc.of(a.to+e.length),range:se.range(a.anchor+e.length,a.head+e.length)};let l=a.head,c=J_(t.doc,l),u;if(c==e){if(m7(t,l))return{changes:{insert:e+e,from:l},effects:Jc.of(l+e.length),range:se.cursor(l+e.length)};if(rq(t,l)){let d=n&&t.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+d.length,insert:d},range:se.cursor(l+d.length)}}}else{if(n&&t.sliceDoc(l-2*e.length,l)==e+e&&(u=g7(t,l-2*e.length,i))>-1&&m7(t,u))return{changes:{insert:e+e+e+e,from:l},effects:Jc.of(l+e.length),range:se.cursor(l+e.length)};if(t.charCategorizer(l)(c)!=rn.Word&&g7(t,l,i)>-1&&!TTe(t,l,e,i))return{changes:{insert:e+e,from:l},effects:Jc.of(l+e.length),range:se.cursor(l+e.length)}}return{range:o=a}});return o?null:t.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function m7(t,e){let n=nr(t).resolveInner(e+1);return n.parent&&n.from==e}function TTe(t,e,n,r){let i=nr(t).resolveInner(e,-1),o=r.reduce((s,a)=>Math.max(s,a.length),0);for(let s=0;s<5;s++){let a=t.sliceDoc(i.from,Math.min(i.to,i.from+n.length+o)),l=a.indexOf(n);if(!l||l>-1&&r.indexOf(a.slice(0,l))>-1){let u=i.firstChild;for(;u&&u.from==i.from&&u.to-u.from>n.length+l;){if(t.sliceDoc(u.to-n.length,u.to)==n)return!1;u=u.firstChild}return!0}let c=i.to==e&&i.parent;if(!c)break;i=c}return!1}function g7(t,e,n){let r=t.charCategorizer(e);if(r(t.sliceDoc(e-1,e))!=rn.Word)return e;for(let i of n){let o=e-i.length;if(t.sliceDoc(o,e)==i&&r(t.sliceDoc(o-1,o))!=rn.Word)return o}return-1}function ATe(t={}){return[oTe,fi,mr.of(t),rTe,ITe,YW]}const iq=[{key:"Ctrl-Space",run:Yke},{key:"Escape",run:Zke},{key:"ArrowDown",run:C1(!0)},{key:"ArrowUp",run:C1(!1)},{key:"PageDown",run:C1(!0,"page")},{key:"PageUp",run:C1(!1,"page")},{key:"Enter",run:Xke}],ITe=wc.highest(U_.computeN([mr],t=>t.facet(mr).defaultKeymap?[iq]:[])),RTe=t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),r=V4(t.state,n.from);return r.line?PTe(t):r.block?MTe(t):!1};function B4(t,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=t(e,n);return i?(r(n.update(i)),!0):!1}}const PTe=B4(LTe,0),DTe=B4(oq,0),MTe=B4((t,e)=>oq(t,e,OTe(e)),0);function V4(t,e){let n=t.languageDataAt("commentTokens",e);return n.length?n[0]:{}}const qf=50;function NTe(t,{open:e,close:n},r,i){let o=t.sliceDoc(r-qf,r),s=t.sliceDoc(i,i+qf),a=/\s*$/.exec(o)[0].length,l=/^\s*/.exec(s)[0].length,c=o.length-a;if(o.slice(c-e.length,c)==e&&s.slice(l,l+n.length)==n)return{open:{pos:r-a,margin:a&&1},close:{pos:i+l,margin:l&&1}};let u,h;i-r<=2*qf?u=h=t.sliceDoc(r,i):(u=t.sliceDoc(r,r+qf),h=t.sliceDoc(i-qf,i));let d=/^\s*/.exec(u)[0].length,f=/\s*$/.exec(h)[0].length,p=h.length-f-n.length;return u.slice(d,d+e.length)==e&&h.slice(p,p+n.length)==n?{open:{pos:r+d+e.length,margin:/\s/.test(u.charAt(d+e.length))?1:0},close:{pos:i-f-n.length,margin:/\s/.test(h.charAt(p-1))?1:0}}:null}function OTe(t){let e=[];for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),i=n.to<=r.to?r:t.doc.lineAt(n.to),o=e.length-1;o>=0&&e[o].to>r.from?e[o].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}function oq(t,e,n=e.selection.ranges){let r=n.map(o=>V4(e,o.from).block);if(!r.every(o=>o))return null;let i=n.map((o,s)=>NTe(e,r[s],o.from,o.to));if(t!=2&&!i.every(o=>o))return{changes:e.changes(n.map((o,s)=>i[s]?[]:[{from:o.from,insert:r[s].open+" "},{from:o.to,insert:" "+r[s].close}]))};if(t!=1&&i.some(o=>o)){let o=[];for(let s=0,a;s<i.length;s++)if(a=i[s]){let l=r[s],{open:c,close:u}=a;o.push({from:c.pos-l.open.length,to:c.pos+c.margin},{from:u.pos-u.margin,to:u.pos+l.close.length})}return{changes:o}}return null}function LTe(t,e,n=e.selection.ranges){let r=[],i=-1;for(let{from:o,to:s}of n){let a=r.length,l=1e9,c=V4(e,o).line;if(c){for(let u=o;u<=s;){let h=e.doc.lineAt(u);if(h.from>i&&(o==s||s>h.from)){i=h.from;let d=/^\s*/.exec(h.text)[0].length,f=d==h.length,p=h.text.slice(d,d+c.length)==c?d:-1;d<h.text.length&&d<l&&(l=d),r.push({line:h,comment:p,token:c,indent:d,empty:f,single:!1})}u=h.to+1}if(l<1e9)for(let u=a;u<r.length;u++)r[u].indent<r[u].line.text.length&&(r[u].indent=l);r.length==a+1&&(r[a].single=!0)}}if(t!=2&&r.some(o=>o.comment<0&&(!o.empty||o.single))){let o=[];for(let{line:a,token:l,indent:c,empty:u,single:h}of r)(h||!u)&&o.push({from:a.from+c,insert:l+" "});let s=e.changes(o);return{changes:s,selection:e.selection.map(s,1)}}else if(t!=1&&r.some(o=>o.comment>=0)){let o=[];for(let{line:s,comment:a,token:l}of r)if(a>=0){let c=s.from+a,u=c+l.length;s.text[u-s.from]==" "&&u++,o.push({from:c,to:u})}return{changes:o}}return null}const YS=Oa.define(),FTe=Oa.define(),BTe=ke.define(),sq=ke.define({combine(t){return Fs(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(r,i)=>e(r,i)||n(r,i)})}}),aq=ir.define({create(){return xs.empty},update(t,e){let n=e.state.facet(sq),r=e.annotation(YS);if(r){let l=gi.fromTransaction(e,r.selection),c=r.side,u=c==0?t.undone:t.done;return l?u=Zv(u,u.length,n.minDepth,l):u=uq(u,e.startState.selection),new xs(c==0?r.rest:u,c==0?u:r.rest)}let i=e.annotation(FTe);if((i=="full"||i=="before")&&(t=t.isolate()),e.annotation(On.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let o=gi.fromTransaction(e),s=e.annotation(On.time),a=e.annotation(On.userEvent);return o?t=t.addChanges(o,s,a,n,e):e.selection&&(t=t.addSelection(e.startState.selection,s,a,n.newGroupDelay)),(i=="full"||i=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new xs(t.done.map(gi.fromJSON),t.undone.map(gi.fromJSON))}});function VTe(t={}){return[aq,sq.of(t),be.domEventHandlers({beforeinput(e,n){let r=e.inputType=="historyUndo"?lq:e.inputType=="historyRedo"?ZS:null;return r?(e.preventDefault(),r(n)):!1}})]}function Q_(t,e){return function({state:n,dispatch:r}){if(!e&&n.readOnly)return!1;let i=n.field(aq,!1);if(!i)return!1;let o=i.pop(t,n,e);return o?(r(o),!0):!1}}const lq=Q_(0,!1),ZS=Q_(1,!1),jTe=Q_(0,!0),zTe=Q_(1,!0);class gi{constructor(e,n,r,i,o){this.changes=e,this.effects=n,this.mapped=r,this.startSelection=i,this.selectionsAfter=o}setSelAfter(e){return new gi(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new gi(e.changes&&$n.fromJSON(e.changes),[],e.mapped&&ks.fromJSON(e.mapped),e.startSelection&&se.fromJSON(e.startSelection),e.selectionsAfter.map(se.fromJSON))}static fromTransaction(e,n){let r=so;for(let i of e.startState.facet(BTe)){let o=i(e);o.length&&(r=r.concat(o))}return!r.length&&e.changes.empty?null:new gi(e.changes.invert(e.startState.doc),r,void 0,n||e.startState.selection,so)}static selection(e){return new gi(void 0,so,void 0,void 0,e)}}function Zv(t,e,n,r){let i=e+1>n+20?e-n-1:0,o=t.slice(i,e);return o.push(r),o}function $Te(t,e){let n=[],r=!1;return t.iterChangedRanges((i,o)=>n.push(i,o)),e.iterChangedRanges((i,o,s,a)=>{for(let l=0;l<n.length;){let c=n[l++],u=n[l++];a>=c&&s<=u&&(r=!0)}}),r}function HTe(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((n,r)=>n.empty!=e.ranges[r].empty).length===0}function cq(t,e){return t.length?e.length?t.concat(e):t:e}const so=[],UTe=200;function uq(t,e){if(t.length){let n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-UTe));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),Zv(t,t.length-1,1e9,n.setSelAfter(r)))}else return[gi.selection([e])]}function WTe(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function PC(t,e){if(!t.length)return t;let n=t.length,r=so;for(;n;){let i=qTe(t[n-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let o=t.slice(0,n);return o[n-1]=i,o}else e=i.mapped,n--,r=i.selectionsAfter}return r.length?[gi.selection(r)]:so}function qTe(t,e,n){let r=cq(t.selectionsAfter.length?t.selectionsAfter.map(a=>a.map(e)):so,n);if(!t.changes)return gi.selection(r);let i=t.changes.map(e),o=e.mapDesc(t.changes,!0),s=t.mapped?t.mapped.composeDesc(o):o;return new gi(i,et.mapEffects(t.effects,e),s,t.startSelection.map(o),r)}const KTe=/^(input\.type|delete)($|\.)/;class xs{constructor(e,n,r=0,i=void 0){this.done=e,this.undone=n,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new xs(this.done,this.undone):this}addChanges(e,n,r,i,o){let s=this.done,a=s[s.length-1];return a&&a.changes&&!a.changes.empty&&e.changes&&(!r||KTe.test(r))&&(!a.selectionsAfter.length&&n-this.prevTime<i.newGroupDelay&&i.joinToEvent(o,$Te(a.changes,e.changes))||r=="input.type.compose")?s=Zv(s,s.length-1,i.minDepth,new gi(e.changes.compose(a.changes),cq(et.mapEffects(e.effects,a.changes),a.effects),a.mapped,a.startSelection,so)):s=Zv(s,s.length,i.minDepth,e),new xs(s,so,n,r)}addSelection(e,n,r,i){let o=this.done.length?this.done[this.done.length-1].selectionsAfter:so;return o.length>0&&n-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&HTe(o[o.length-1],e)?this:new xs(uq(this.done,e),this.undone,n,r)}addMapping(e){return new xs(PC(this.done,e),PC(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let o=i[i.length-1],s=o.selectionsAfter[0]||n.selection;if(r&&o.selectionsAfter.length)return n.update({selection:o.selectionsAfter[o.selectionsAfter.length-1],annotations:YS.of({side:e,rest:WTe(i),selection:s}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(o.changes){let a=i.length==1?so:i.slice(0,i.length-1);return o.mapped&&(a=PC(a,o.mapped)),n.update({changes:o.changes,selection:o.startSelection,effects:o.effects,annotations:YS.of({side:e,rest:a,selection:s}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}xs.empty=new xs(so,so);const GTe=[{key:"Mod-z",run:lq,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:ZS,preventDefault:!0},{linux:"Ctrl-Shift-z",run:ZS,preventDefault:!0},{key:"Mod-u",run:jTe,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:zTe,preventDefault:!0}];function uf(t,e){return se.create(t.ranges.map(e),t.mainIndex)}function Bs(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Xo({state:t,dispatch:e},n){let r=uf(t.selection,n);return r.eq(t.selection,!0)?!1:(e(Bs(t,r)),!0)}function X_(t,e){return se.cursor(e?t.to:t.from)}function hq(t,e){return Xo(t,n=>n.empty?t.moveByChar(n,e):X_(n,e))}function $r(t){return t.textDirectionAt(t.state.selection.main.head)==Yt.LTR}const dq=t=>hq(t,!$r(t)),fq=t=>hq(t,$r(t));function pq(t,e){return Xo(t,n=>n.empty?t.moveByGroup(n,e):X_(n,e))}const JTe=t=>pq(t,!$r(t)),QTe=t=>pq(t,$r(t));function XTe(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function Y_(t,e,n){let r=nr(t).resolveInner(e.head),i=n?at.closedBy:at.openedBy;for(let l=e.head;;){let c=n?r.childAfter(l):r.childBefore(l);if(!c)break;XTe(t,c,i)?r=c:l=n?c.to:c.from}let o=r.type.prop(i),s,a;return o&&(s=n?gs(t,r.from,1):gs(t,r.to,-1))&&s.matched?a=n?s.end.to:s.end.from:a=n?r.to:r.from,se.cursor(a,n?-1:1)}const YTe=t=>Xo(t,e=>Y_(t.state,e,!$r(t))),ZTe=t=>Xo(t,e=>Y_(t.state,e,$r(t)));function mq(t,e){return Xo(t,n=>{if(!n.empty)return X_(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)})}const gq=t=>mq(t,!1),xq=t=>mq(t,!0);function vq(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,r=0,i;if(e){for(let o of t.state.facet(be.scrollMargins)){let s=o(t);s!=null&&s.top&&(n=Math.max(s==null?void 0:s.top,n)),s!=null&&s.bottom&&(r=Math.max(s==null?void 0:s.bottom,r))}i=t.scrollDOM.clientHeight-n-r}else i=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:r,selfScroll:e,height:Math.max(t.defaultLineHeight,i-5)}}function yq(t,e){let n=vq(t),{state:r}=t,i=uf(r.selection,s=>s.empty?t.moveVertically(s,e,n.height):X_(s,e));if(i.eq(r.selection))return!1;let o;if(n.selfScroll){let s=t.coordsAtPos(r.selection.main.head),a=t.scrollDOM.getBoundingClientRect(),l=a.top+n.marginTop,c=a.bottom-n.marginBottom;s&&s.top>l&&s.bottom<c&&(o=be.scrollIntoView(i.main.head,{y:"start",yMargin:s.top-l}))}return t.dispatch(Bs(r,i),{effects:o}),!0}const x7=t=>yq(t,!1),ek=t=>yq(t,!0);function Cc(t,e,n){let r=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,n);if(i.head==e.head&&i.head!=(n?r.to:r.from)&&(i=t.moveToLineBoundary(e,n,!1)),!n&&i.head==r.from&&r.length){let o=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;o&&e.head!=r.from+o&&(i=se.cursor(r.from+o))}return i}const e5e=t=>Xo(t,e=>Cc(t,e,!0)),t5e=t=>Xo(t,e=>Cc(t,e,!1)),n5e=t=>Xo(t,e=>Cc(t,e,!$r(t))),r5e=t=>Xo(t,e=>Cc(t,e,$r(t))),i5e=t=>Xo(t,e=>se.cursor(t.lineBlockAt(e.head).from,1)),o5e=t=>Xo(t,e=>se.cursor(t.lineBlockAt(e.head).to,-1));function s5e(t,e,n){let r=!1,i=uf(t.selection,o=>{let s=gs(t,o.head,-1)||gs(t,o.head,1)||o.head>0&&gs(t,o.head-1,1)||o.head<t.doc.length&&gs(t,o.head+1,-1);if(!s||!s.end)return o;r=!0;let a=s.start.from==o.head?s.end.to:s.end.from;return se.cursor(a)});return r?(e(Bs(t,i)),!0):!1}const a5e=({state:t,dispatch:e})=>s5e(t,e);function xo(t,e){let n=uf(t.state.selection,r=>{let i=e(r);return se.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return n.eq(t.state.selection)?!1:(t.dispatch(Bs(t.state,n)),!0)}function _q(t,e){return xo(t,n=>t.moveByChar(n,e))}const wq=t=>_q(t,!$r(t)),Cq=t=>_q(t,$r(t));function bq(t,e){return xo(t,n=>t.moveByGroup(n,e))}const l5e=t=>bq(t,!$r(t)),c5e=t=>bq(t,$r(t)),u5e=t=>xo(t,e=>Y_(t.state,e,!$r(t))),h5e=t=>xo(t,e=>Y_(t.state,e,$r(t)));function Eq(t,e){return xo(t,n=>t.moveVertically(n,e))}const Sq=t=>Eq(t,!1),kq=t=>Eq(t,!0);function Tq(t,e){return xo(t,n=>t.moveVertically(n,e,vq(t).height))}const v7=t=>Tq(t,!1),y7=t=>Tq(t,!0),d5e=t=>xo(t,e=>Cc(t,e,!0)),f5e=t=>xo(t,e=>Cc(t,e,!1)),p5e=t=>xo(t,e=>Cc(t,e,!$r(t))),m5e=t=>xo(t,e=>Cc(t,e,$r(t))),g5e=t=>xo(t,e=>se.cursor(t.lineBlockAt(e.head).from)),x5e=t=>xo(t,e=>se.cursor(t.lineBlockAt(e.head).to)),_7=({state:t,dispatch:e})=>(e(Bs(t,{anchor:0})),!0),w7=({state:t,dispatch:e})=>(e(Bs(t,{anchor:t.doc.length})),!0),C7=({state:t,dispatch:e})=>(e(Bs(t,{anchor:t.selection.main.anchor,head:0})),!0),b7=({state:t,dispatch:e})=>(e(Bs(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),v5e=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),y5e=({state:t,dispatch:e})=>{let n=Z_(t).map(({from:r,to:i})=>se.range(r,Math.min(i+1,t.doc.length)));return e(t.update({selection:se.create(n),userEvent:"select"})),!0},_5e=({state:t,dispatch:e})=>{let n=uf(t.selection,r=>{var i;let o=nr(t).resolveStack(r.from,1);for(let s=o;s;s=s.next){let{node:a}=s;if((a.from<r.from&&a.to>=r.to||a.to>r.to&&a.from<=r.from)&&(!((i=a.parent)===null||i===void 0)&&i.parent))return se.range(a.to,a.from)}return r});return e(Bs(t,n)),!0},w5e=({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=se.create([n.main]):n.main.empty||(r=se.create([se.cursor(n.main.head)])),r?(e(Bs(t,r)),!0):!1};function rg(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:r}=t,i=r.changeByRange(o=>{let{from:s,to:a}=o;if(s==a){let l=e(o);l<s?(n="delete.backward",l=b1(t,l,!1)):l>s&&(n="delete.forward",l=b1(t,l,!0)),s=Math.min(s,l),a=Math.max(a,l)}else s=b1(t,s,!1),a=b1(t,a,!0);return s==a?{range:o}:{changes:{from:s,to:a},range:se.cursor(s,s<o.head?-1:1)}});return i.changes.empty?!1:(t.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?be.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function b1(t,e,n){if(t instanceof be)for(let r of t.state.facet(be.atomicRanges).map(i=>i(t)))r.between(e,e,(i,o)=>{i<e&&o>e&&(e=n?o:i)});return e}const Aq=(t,e,n)=>rg(t,r=>{let i=r.from,{state:o}=t,s=o.doc.lineAt(i),a,l;if(n&&!e&&i>s.from&&i<s.from+200&&!/[^ \t]/.test(a=s.text.slice(0,i-s.from))){if(a[a.length-1]=="	")return i-1;let c=lf(a,o.tabSize),u=c%Iu(o)||Iu(o);for(let h=0;h<u&&a[a.length-1-h]==" ";h++)i--;l=i}else l=xr(s.text,i-s.from,e,e)+s.from,l==i&&s.number!=(e?o.doc.lines:1)?l+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(s.text.slice(l-s.from,i-s.from))&&(l=xr(s.text,l-s.from,!1,!1)+s.from);return l}),tk=t=>Aq(t,!1,!0),Iq=t=>Aq(t,!0,!1),Rq=(t,e)=>rg(t,n=>{let r=n.head,{state:i}=t,o=i.doc.lineAt(r),s=i.charCategorizer(r);for(let a=null;;){if(r==(e?o.to:o.from)){r==n.head&&o.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let l=xr(o.text,r-o.from,e)+o.from,c=o.text.slice(Math.min(r,l)-o.from,Math.max(r,l)-o.from),u=s(c);if(a!=null&&u!=a)break;(c!=" "||r!=n.head)&&(a=u),r=l}return r}),Pq=t=>Rq(t,!1),C5e=t=>Rq(t,!0),b5e=t=>rg(t,e=>{let n=t.lineBlockAt(e.head).to;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),E5e=t=>rg(t,e=>{let n=t.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}),S5e=t=>rg(t,e=>{let n=t.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),k5e=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:Rt.of(["",""])},range:se.cursor(r.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},T5e=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>{if(!r.empty||r.from==0||r.from==t.doc.length)return{range:r};let i=r.from,o=t.doc.lineAt(i),s=i==o.from?i-1:xr(o.text,i-o.from,!1)+o.from,a=i==o.to?i+1:xr(o.text,i-o.from,!0)+o.from;return{changes:{from:s,to:a,insert:t.doc.slice(i,a).append(t.doc.slice(s,i))},range:se.cursor(a)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Z_(t){let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.from),o=t.doc.lineAt(r.to);if(!r.empty&&r.to==o.from&&(o=t.doc.lineAt(r.to-1)),n>=i.number){let s=e[e.length-1];s.to=o.to,s.ranges.push(r)}else e.push({from:i.from,to:o.to,ranges:[r]});n=o.number+1}return e}function Dq(t,e,n){if(t.readOnly)return!1;let r=[],i=[];for(let o of Z_(t)){if(n?o.to==t.doc.length:o.from==0)continue;let s=t.doc.lineAt(n?o.to+1:o.from-1),a=s.length+1;if(n){r.push({from:o.to,to:s.to},{from:o.from,insert:s.text+t.lineBreak});for(let l of o.ranges)i.push(se.range(Math.min(t.doc.length,l.anchor+a),Math.min(t.doc.length,l.head+a)))}else{r.push({from:s.from,to:o.from},{from:o.to,insert:t.lineBreak+s.text});for(let l of o.ranges)i.push(se.range(l.anchor-a,l.head-a))}}return r.length?(e(t.update({changes:r,scrollIntoView:!0,selection:se.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const A5e=({state:t,dispatch:e})=>Dq(t,e,!1),I5e=({state:t,dispatch:e})=>Dq(t,e,!0);function Mq(t,e,n){if(t.readOnly)return!1;let r=[];for(let i of Z_(t))n?r.push({from:i.from,insert:t.doc.slice(i.from,i.to)+t.lineBreak}):r.push({from:i.to,insert:t.lineBreak+t.doc.slice(i.from,i.to)});return e(t.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const R5e=({state:t,dispatch:e})=>Mq(t,e,!1),P5e=({state:t,dispatch:e})=>Mq(t,e,!0),D5e=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(Z_(e).map(({from:i,to:o})=>(i>0?i--:o<e.doc.length&&o++,{from:i,to:o}))),r=uf(e.selection,i=>{let o;if(t.lineWrapping){let s=t.lineBlockAt(i.head),a=t.coordsAtPos(i.head,i.assoc||1);a&&(o=s.bottom+t.documentTop-a.bottom+t.defaultLineHeight/2)}return t.moveVertically(i,!0,o)}).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function M5e(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=nr(t).resolveInner(e),r=n.childBefore(e),i=n.childAfter(e),o;return r&&i&&r.to<=e&&i.from>=e&&(o=r.type.prop(at.closedBy))&&o.indexOf(i.name)>-1&&t.doc.lineAt(r.to).from==t.doc.lineAt(i.from).from&&!/\S/.test(t.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}const N5e=Nq(!1),O5e=Nq(!0);function Nq(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:o,to:s}=i,a=e.doc.lineAt(o),l=!t&&o==s&&M5e(e,o);t&&(o=s=(s<=a.to?a:e.doc.lineAt(s)).to);let c=new K_(e,{simulateBreak:o,simulateDoubleBreak:!!l}),u=T4(c,o);for(u==null&&(u=lf(/^\s*/.exec(e.doc.lineAt(o).text)[0],e.tabSize));s<a.to&&/\s/.test(a.text[s-a.from]);)s++;l?{from:o,to:s}=l:o>a.from&&o<a.from+100&&!/\S/.test(a.text.slice(0,o))&&(o=a.from);let h=["",J0(e,u)];return l&&h.push(J0(e,c.lineIndent(a.from,-1))),{changes:{from:o,to:s,insert:Rt.of(h)},range:se.cursor(o+1+h[1].length)}});return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function j4(t,e){let n=-1;return t.changeByRange(r=>{let i=[];for(let s=r.from;s<=r.to;){let a=t.doc.lineAt(s);a.number>n&&(r.empty||r.to>a.from)&&(e(a,i,r),n=a.number),s=a.to+1}let o=t.changes(i);return{changes:i,range:se.range(o.mapPos(r.anchor,1),o.mapPos(r.head,1))}})}const L5e=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new K_(t,{overrideIndentation:o=>{let s=n[o];return s??-1}}),i=j4(t,(o,s,a)=>{let l=T4(r,o.from);if(l==null)return;/\S/.test(o.text)||(l=0);let c=/^\s*/.exec(o.text)[0],u=J0(t,l);(c!=u||a.from<o.from+c.length)&&(n[o.from]=l,s.push({from:o.from,to:o.from+c.length,insert:u}))});return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0},F5e=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(j4(t,(n,r)=>{r.push({from:n.from,insert:t.facet(q_)})}),{userEvent:"input.indent"})),!0),B5e=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(j4(t,(n,r)=>{let i=/^\s*/.exec(n.text)[0];if(!i)return;let o=lf(i,t.tabSize),s=0,a=J0(t,Math.max(0,o-Iu(t)));for(;s<i.length&&s<a.length&&i.charCodeAt(s)==a.charCodeAt(s);)s++;r.push({from:n.from+s,to:n.from+i.length,insert:a.slice(s)})}),{userEvent:"delete.dedent"})),!0),V5e=t=>(t.setTabFocusMode(),!0),j5e=[{key:"Ctrl-b",run:dq,shift:wq,preventDefault:!0},{key:"Ctrl-f",run:fq,shift:Cq},{key:"Ctrl-p",run:gq,shift:Sq},{key:"Ctrl-n",run:xq,shift:kq},{key:"Ctrl-a",run:i5e,shift:g5e},{key:"Ctrl-e",run:o5e,shift:x5e},{key:"Ctrl-d",run:Iq},{key:"Ctrl-h",run:tk},{key:"Ctrl-k",run:b5e},{key:"Ctrl-Alt-h",run:Pq},{key:"Ctrl-o",run:k5e},{key:"Ctrl-t",run:T5e},{key:"Ctrl-v",run:ek}],z5e=[{key:"ArrowLeft",run:dq,shift:wq,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:JTe,shift:l5e,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:n5e,shift:p5e,preventDefault:!0},{key:"ArrowRight",run:fq,shift:Cq,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:QTe,shift:c5e,preventDefault:!0},{mac:"Cmd-ArrowRight",run:r5e,shift:m5e,preventDefault:!0},{key:"ArrowUp",run:gq,shift:Sq,preventDefault:!0},{mac:"Cmd-ArrowUp",run:_7,shift:C7},{mac:"Ctrl-ArrowUp",run:x7,shift:v7},{key:"ArrowDown",run:xq,shift:kq,preventDefault:!0},{mac:"Cmd-ArrowDown",run:w7,shift:b7},{mac:"Ctrl-ArrowDown",run:ek,shift:y7},{key:"PageUp",run:x7,shift:v7},{key:"PageDown",run:ek,shift:y7},{key:"Home",run:t5e,shift:f5e,preventDefault:!0},{key:"Mod-Home",run:_7,shift:C7},{key:"End",run:e5e,shift:d5e,preventDefault:!0},{key:"Mod-End",run:w7,shift:b7},{key:"Enter",run:N5e},{key:"Mod-a",run:v5e},{key:"Backspace",run:tk,shift:tk},{key:"Delete",run:Iq},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Pq},{key:"Mod-Delete",mac:"Alt-Delete",run:C5e},{mac:"Mod-Backspace",run:E5e},{mac:"Mod-Delete",run:S5e}].concat(j5e.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),$5e=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:YTe,shift:u5e},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:ZTe,shift:h5e},{key:"Alt-ArrowUp",run:A5e},{key:"Shift-Alt-ArrowUp",run:R5e},{key:"Alt-ArrowDown",run:I5e},{key:"Shift-Alt-ArrowDown",run:P5e},{key:"Escape",run:w5e},{key:"Mod-Enter",run:O5e},{key:"Alt-l",mac:"Ctrl-l",run:y5e},{key:"Mod-i",run:_5e,preventDefault:!0},{key:"Mod-[",run:B5e},{key:"Mod-]",run:F5e},{key:"Mod-Alt-\\",run:L5e},{key:"Shift-Mod-k",run:D5e},{key:"Shift-Mod-\\",run:a5e},{key:"Mod-/",run:RTe},{key:"Alt-A",run:DTe},{key:"Ctrl-m",mac:"Shift-Alt-m",run:V5e}].concat(z5e);function H5e(t,e,n,r){const i=Qr(ai),o=Ra(L_),s=F.useRef(null),{lexicalNode:a}=aS(),l=F.useRef(!1),c=F.useRef(!1),u=F.useCallback(()=>{o({editorType:e,rootNode:a})},[e,a,o]),h=F.useCallback(d=>{var f,p,m,x,v,y;if(d.key==="ArrowDown"){const _=(p=(f=s.current)==null?void 0:f.getCodemirror())==null?void 0:p.state;if(_){const C=_.doc.length,S=_.selection.ranges[0].to;C===S&&(l.current?(i==null||i.update(()=>{var k,b;const w=Wn(t);w.getNextSibling()?((b=(k=s.current)==null?void 0:k.getCodemirror())==null||b.contentDOM.blur(),w.selectNext()):w.insertAfter(Zt())}),l.current=!1):l.current=!0)}}else if(d.key==="ArrowUp"){const _=(x=(m=s.current)==null?void 0:m.getCodemirror())==null?void 0:x.state;_&&_.selection.ranges[0].from===0&&(c.current?(i==null||i.update(()=>{var S,k;const b=Wn(t);b.getPreviousSibling()&&((k=(S=s.current)==null?void 0:S.getCodemirror())==null||k.contentDOM.blur(),b.selectPrevious())}),c.current=!1):c.current=!0)}else if(d.key==="Enter")d.stopPropagation();else if(d.key==="Backspace"||d.key==="Delete"){const _=(y=(v=s.current)==null?void 0:v.getCodemirror())==null?void 0:y.state;(_==null?void 0:_.doc.length)===0&&(i==null||i.update(()=>{Wn(t).remove()}))}},[i,t]);return F.useEffect(()=>{const d=s.current;return setTimeout(()=>{var f,p;(f=d==null?void 0:d.getCodemirror())==null||f.contentDOM.addEventListener("focus",u),(p=d==null?void 0:d.getCodemirror())==null||p.contentDOM.addEventListener("keydown",h)},300),()=>{var f,p;(f=d==null?void 0:d.getCodemirror())==null||f.contentDOM.removeEventListener("focus",u),(p=d==null?void 0:d.getCodemirror())==null||p.contentDOM.removeEventListener("keydown",h)}},[s,u,h,n]),F.useEffect(()=>{r.subscribe(()=>{var d,f;(f=(d=s.current)==null?void 0:d.getCodemirror())==null||f.focus(),u()})},[r,s,t,u]),s}function ae(t){return new $Se(I4.define(t))}function Xa(t){return ne(()=>import("./index-C_uVmRAX.js"),__vite__mapDeps([0,1])).then(e=>e.sql({dialect:e[t]}))}const U5e=[Z.of({name:"C",extensions:["c","h","ino"],load(){return ne(()=>import("./index-CG8vT9cr.js"),__vite__mapDeps([2,1])).then(t=>t.cpp())}}),Z.of({name:"C++",alias:["cpp"],extensions:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],load(){return ne(()=>import("./index-CG8vT9cr.js"),__vite__mapDeps([2,1])).then(t=>t.cpp())}}),Z.of({name:"CQL",alias:["cassandra"],extensions:["cql"],load(){return Xa("Cassandra")}}),Z.of({name:"CSS",extensions:["css"],load(){return ne(()=>import("./index-ZD5zo2mB.js"),__vite__mapDeps([3,1])).then(t=>t.css())}}),Z.of({name:"Go",extensions:["go"],load(){return ne(()=>import("./index-DMeEMnP6.js"),__vite__mapDeps([4,1])).then(t=>t.go())}}),Z.of({name:"HTML",alias:["xhtml"],extensions:["html","htm","handlebars","hbs"],load(){return ne(()=>import("./index-C1fYQ4gV.js"),__vite__mapDeps([5,1,3,6])).then(t=>t.html())}}),Z.of({name:"Java",extensions:["java"],load(){return ne(()=>import("./index-oT0iW9Pp.js"),__vite__mapDeps([7,1])).then(t=>t.java())}}),Z.of({name:"JavaScript",alias:["ecmascript","js","node"],extensions:["js","mjs","cjs"],load(){return ne(()=>import("./index-DwXOSSl9.js"),__vite__mapDeps([6,1])).then(t=>t.javascript())}}),Z.of({name:"JSON",alias:["json5"],extensions:["json","map"],load(){return ne(()=>import("./index-EgiJiVsn.js"),__vite__mapDeps([8,1])).then(t=>t.json())}}),Z.of({name:"JSX",extensions:["jsx"],load(){return ne(()=>import("./index-DwXOSSl9.js"),__vite__mapDeps([6,1])).then(t=>t.javascript({jsx:!0}))}}),Z.of({name:"LESS",extensions:["less"],load(){return ne(()=>import("./index-CQGWMele.js"),__vite__mapDeps([9,3,1])).then(t=>t.less())}}),Z.of({name:"Liquid",extensions:["liquid"],load(){return ne(()=>import("./index-D3sqHzUC.js"),__vite__mapDeps([10,5,1,3,6])).then(t=>t.liquid())}}),Z.of({name:"MariaDB SQL",load(){return Xa("MariaSQL")}}),Z.of({name:"Markdown",extensions:["md","markdown","mkd"],load(){return ne(()=>import("./index-CcxiukFw.js"),__vite__mapDeps([11,5,1,3,6])).then(t=>t.markdown())}}),Z.of({name:"MS SQL",load(){return Xa("MSSQL")}}),Z.of({name:"MySQL",load(){return Xa("MySQL")}}),Z.of({name:"PHP",extensions:["php","php3","php4","php5","php7","phtml"],load(){return ne(()=>import("./index-D4zj7sM2.js"),__vite__mapDeps([12,1,5,3,6])).then(t=>t.php())}}),Z.of({name:"PLSQL",extensions:["pls"],load(){return Xa("PLSQL")}}),Z.of({name:"PostgreSQL",load(){return Xa("PostgreSQL")}}),Z.of({name:"Python",extensions:["BUILD","bzl","py","pyw"],filename:/^(BUCK|BUILD)$/,load(){return ne(()=>import("./index-CpbJ3QfP.js"),__vite__mapDeps([13,1])).then(t=>t.python())}}),Z.of({name:"Rust",extensions:["rs"],load(){return ne(()=>import("./index-ChYaissE.js"),__vite__mapDeps([14,1])).then(t=>t.rust())}}),Z.of({name:"Sass",extensions:["sass"],load(){return ne(()=>import("./index-D-AFqzxj.js"),__vite__mapDeps([15,1,3])).then(t=>t.sass({indented:!0}))}}),Z.of({name:"SCSS",extensions:["scss"],load(){return ne(()=>import("./index-D-AFqzxj.js"),__vite__mapDeps([15,1,3])).then(t=>t.sass())}}),Z.of({name:"SQL",extensions:["sql"],load(){return Xa("StandardSQL")}}),Z.of({name:"SQLite",load(){return Xa("SQLite")}}),Z.of({name:"TSX",extensions:["tsx"],load(){return ne(()=>import("./index-DwXOSSl9.js"),__vite__mapDeps([6,1])).then(t=>t.javascript({jsx:!0,typescript:!0}))}}),Z.of({name:"TypeScript",alias:["ts"],extensions:["ts","mts","cts"],load(){return ne(()=>import("./index-DwXOSSl9.js"),__vite__mapDeps([6,1])).then(t=>t.javascript({typescript:!0}))}}),Z.of({name:"WebAssembly",extensions:["wat","wast"],load(){return ne(()=>import("./index-DlUrENco.js"),__vite__mapDeps([16,1])).then(t=>t.wast())}}),Z.of({name:"XML",alias:["rss","wsdl","xsd"],extensions:["xml","xsl","xsd","svg"],load(){return ne(()=>import("./index-cP1tlfen.js"),__vite__mapDeps([17,1])).then(t=>t.xml())}}),Z.of({name:"YAML",alias:["yml"],extensions:["yaml","yml"],load(){return ne(()=>import("./index-Cji35-vZ.js"),__vite__mapDeps([18,1])).then(t=>t.yaml())}}),Z.of({name:"APL",extensions:["dyalog","apl"],load(){return ne(()=>import("./apl-B4CMkyY2.js"),[]).then(t=>ae(t.apl))}}),Z.of({name:"PGP",alias:["asciiarmor"],extensions:["asc","pgp","sig"],load(){return ne(()=>import("./asciiarmor-Df11BRmG.js"),[]).then(t=>ae(t.asciiArmor))}}),Z.of({name:"ASN.1",extensions:["asn","asn1"],load(){return ne(()=>import("./asn1-CGOzndHr.js"),[]).then(t=>ae(t.asn1({})))}}),Z.of({name:"Asterisk",filename:/^extensions\.conf$/i,load(){return ne(()=>import("./asterisk-B-8jnY81.js"),[]).then(t=>ae(t.asterisk))}}),Z.of({name:"Brainfuck",extensions:["b","bf"],load(){return ne(()=>import("./brainfuck-C4LP7Hcl.js"),[]).then(t=>ae(t.brainfuck))}}),Z.of({name:"Cobol",extensions:["cob","cpy"],load(){return ne(()=>import("./cobol-XrqhtCFE.js"),[]).then(t=>ae(t.cobol))}}),Z.of({name:"C#",alias:["csharp","cs"],extensions:["cs"],load(){return ne(()=>import("./clike-DWq2Y8ae.js"),[]).then(t=>ae(t.csharp))}}),Z.of({name:"Clojure",extensions:["clj","cljc","cljx"],load(){return ne(()=>import("./clojure-BMjYHr_A.js"),[]).then(t=>ae(t.clojure))}}),Z.of({name:"ClojureScript",extensions:["cljs"],load(){return ne(()=>import("./clojure-BMjYHr_A.js"),[]).then(t=>ae(t.clojure))}}),Z.of({name:"Closure Stylesheets (GSS)",extensions:["gss"],load(){return ne(()=>import("./css-BnMrqG3P.js"),[]).then(t=>ae(t.gss))}}),Z.of({name:"CMake",extensions:["cmake","cmake.in"],filename:/^CMakeLists\.txt$/,load(){return ne(()=>import("./cmake-BQqOBYOt.js"),[]).then(t=>ae(t.cmake))}}),Z.of({name:"CoffeeScript",alias:["coffee","coffee-script"],extensions:["coffee"],load(){return ne(()=>import("./coffeescript-S37ZYGWr.js"),[]).then(t=>ae(t.coffeeScript))}}),Z.of({name:"Common Lisp",alias:["lisp"],extensions:["cl","lisp","el"],load(){return ne(()=>import("./commonlisp-DBKNyK5s.js"),[]).then(t=>ae(t.commonLisp))}}),Z.of({name:"Cypher",extensions:["cyp","cypher"],load(){return ne(()=>import("./cypher-C_CwsFkJ.js"),[]).then(t=>ae(t.cypher))}}),Z.of({name:"Cython",extensions:["pyx","pxd","pxi"],load(){return ne(()=>import("./python-BuPzkPfP.js"),[]).then(t=>ae(t.cython))}}),Z.of({name:"Crystal",extensions:["cr"],load(){return ne(()=>import("./crystal-SjHAIU92.js"),[]).then(t=>ae(t.crystal))}}),Z.of({name:"D",extensions:["d"],load(){return ne(()=>import("./d-pRatUO7H.js"),[]).then(t=>ae(t.d))}}),Z.of({name:"Dart",extensions:["dart"],load(){return ne(()=>import("./clike-DWq2Y8ae.js"),[]).then(t=>ae(t.dart))}}),Z.of({name:"diff",extensions:["diff","patch"],load(){return ne(()=>import("./diff-DbItnlRl.js"),[]).then(t=>ae(t.diff))}}),Z.of({name:"Dockerfile",filename:/^Dockerfile$/,load(){return ne(()=>import("./dockerfile-BuNIbK2j.js"),__vite__mapDeps([19,20])).then(t=>ae(t.dockerFile))}}),Z.of({name:"DTD",extensions:["dtd"],load(){return ne(()=>import("./dtd-DF_7sFjM.js"),[]).then(t=>ae(t.dtd))}}),Z.of({name:"Dylan",extensions:["dylan","dyl","intr"],load(){return ne(()=>import("./dylan-DwRh75JA.js"),[]).then(t=>ae(t.dylan))}}),Z.of({name:"EBNF",load(){return ne(()=>import("./ebnf-CDyGwa7X.js"),[]).then(t=>ae(t.ebnf))}}),Z.of({name:"ECL",extensions:["ecl"],load(){return ne(()=>import("./ecl-Cabwm37j.js"),[]).then(t=>ae(t.ecl))}}),Z.of({name:"edn",extensions:["edn"],load(){return ne(()=>import("./clojure-BMjYHr_A.js"),[]).then(t=>ae(t.clojure))}}),Z.of({name:"Eiffel",extensions:["e"],load(){return ne(()=>import("./eiffel-CnydiIhH.js"),[]).then(t=>ae(t.eiffel))}}),Z.of({name:"Elm",extensions:["elm"],load(){return ne(()=>import("./elm-vLlmbW-K.js"),[]).then(t=>ae(t.elm))}}),Z.of({name:"Erlang",extensions:["erl"],load(){return ne(()=>import("./erlang-BNw1qcRV.js"),[]).then(t=>ae(t.erlang))}}),Z.of({name:"Esper",load(){return ne(()=>import("./sql-C4g8LzGK.js"),[]).then(t=>ae(t.esper))}}),Z.of({name:"Factor",extensions:["factor"],load(){return ne(()=>import("./factor-D8pE9siL.js"),__vite__mapDeps([21,20])).then(t=>ae(t.factor))}}),Z.of({name:"FCL",load(){return ne(()=>import("./fcl-Kvtd6kyn.js"),[]).then(t=>ae(t.fcl))}}),Z.of({name:"Forth",extensions:["forth","fth","4th"],load(){return ne(()=>import("./forth-Ffai-XNe.js"),[]).then(t=>ae(t.forth))}}),Z.of({name:"Fortran",extensions:["f","for","f77","f90","f95"],load(){return ne(()=>import("./fortran-DYz_wnZ1.js"),[]).then(t=>ae(t.fortran))}}),Z.of({name:"F#",alias:["fsharp"],extensions:["fs"],load(){return ne(()=>import("./mllike-C_8OmSiT.js"),[]).then(t=>ae(t.fSharp))}}),Z.of({name:"Gas",extensions:["s"],load(){return ne(()=>import("./gas-Bneqetm1.js"),[]).then(t=>ae(t.gas))}}),Z.of({name:"Gherkin",extensions:["feature"],load(){return ne(()=>import("./gherkin-heZmZLOM.js"),[]).then(t=>ae(t.gherkin))}}),Z.of({name:"Groovy",extensions:["groovy","gradle"],filename:/^Jenkinsfile$/,load(){return ne(()=>import("./groovy-DKLxxR9y.js"),[]).then(t=>ae(t.groovy))}}),Z.of({name:"Haskell",extensions:["hs"],load(){return ne(()=>import("./haskell-BWDZoCOh.js"),[]).then(t=>ae(t.haskell))}}),Z.of({name:"Haxe",extensions:["hx"],load(){return ne(()=>import("./haxe-pv4rovob.js"),[]).then(t=>ae(t.haxe))}}),Z.of({name:"HXML",extensions:["hxml"],load(){return ne(()=>import("./haxe-pv4rovob.js"),[]).then(t=>ae(t.hxml))}}),Z.of({name:"HTTP",load(){return ne(()=>import("./http-DBlCnlav.js"),[]).then(t=>ae(t.http))}}),Z.of({name:"IDL",extensions:["pro"],load(){return ne(()=>import("./idl-BEugSyMb.js"),[]).then(t=>ae(t.idl))}}),Z.of({name:"JSON-LD",alias:["jsonld"],extensions:["jsonld"],load(){return ne(()=>import("./javascript-iSgyE4tI.js"),[]).then(t=>ae(t.jsonld))}}),Z.of({name:"Jinja2",extensions:["j2","jinja","jinja2"],load(){return ne(()=>import("./jinja2-C4DGRd-O.js"),[]).then(t=>ae(t.jinja2))}}),Z.of({name:"Julia",extensions:["jl"],load(){return ne(()=>import("./julia-DuME0IfC.js"),[]).then(t=>ae(t.julia))}}),Z.of({name:"Kotlin",extensions:["kt","kts"],load(){return ne(()=>import("./clike-DWq2Y8ae.js"),[]).then(t=>ae(t.kotlin))}}),Z.of({name:"LiveScript",alias:["ls"],extensions:["ls"],load(){return ne(()=>import("./livescript-k3uCVVjK.js"),[]).then(t=>ae(t.liveScript))}}),Z.of({name:"Lua",extensions:["lua"],load(){return ne(()=>import("./lua-BgMRiT3U.js"),[]).then(t=>ae(t.lua))}}),Z.of({name:"mIRC",extensions:["mrc"],load(){return ne(()=>import("./mirc-CjQqDB4T.js"),[]).then(t=>ae(t.mirc))}}),Z.of({name:"Mathematica",extensions:["m","nb","wl","wls"],load(){return ne(()=>import("./mathematica-DTrFuWx2.js"),[]).then(t=>ae(t.mathematica))}}),Z.of({name:"Modelica",extensions:["mo"],load(){return ne(()=>import("./modelica-Dc1JOy9r.js"),[]).then(t=>ae(t.modelica))}}),Z.of({name:"MUMPS",extensions:["mps"],load(){return ne(()=>import("./mumps-BT43cFF4.js"),[]).then(t=>ae(t.mumps))}}),Z.of({name:"Mbox",extensions:["mbox"],load(){return ne(()=>import("./mbox-CNhZ1qSd.js"),[]).then(t=>ae(t.mbox))}}),Z.of({name:"Nginx",filename:/nginx.*\.conf$/i,load(){return ne(()=>import("./nginx-DdIZxoE0.js"),[]).then(t=>ae(t.nginx))}}),Z.of({name:"NSIS",extensions:["nsh","nsi"],load(){return ne(()=>import("./nsis-CEAdamBV.js"),__vite__mapDeps([22,20])).then(t=>ae(t.nsis))}}),Z.of({name:"NTriples",extensions:["nt","nq"],load(){return ne(()=>import("./ntriples-BfvgReVJ.js"),[]).then(t=>ae(t.ntriples))}}),Z.of({name:"Objective-C",alias:["objective-c","objc"],extensions:["m"],load(){return ne(()=>import("./clike-DWq2Y8ae.js"),[]).then(t=>ae(t.objectiveC))}}),Z.of({name:"Objective-C++",alias:["objective-c++","objc++"],extensions:["mm"],load(){return ne(()=>import("./clike-DWq2Y8ae.js"),[]).then(t=>ae(t.objectiveCpp))}}),Z.of({name:"OCaml",extensions:["ml","mli","mll","mly"],load(){return ne(()=>import("./mllike-C_8OmSiT.js"),[]).then(t=>ae(t.oCaml))}}),Z.of({name:"Octave",extensions:["m"],load(){return ne(()=>import("./octave-Ck1zUtKM.js"),[]).then(t=>ae(t.octave))}}),Z.of({name:"Oz",extensions:["oz"],load(){return ne(()=>import("./oz-BzwKVEFT.js"),[]).then(t=>ae(t.oz))}}),Z.of({name:"Pascal",extensions:["p","pas"],load(){return ne(()=>import("./pascal-B1wCu0_E.js"),[]).then(t=>ae(t.pascal))}}),Z.of({name:"Perl",extensions:["pl","pm"],load(){return ne(()=>import("./perl-CdXCOZ3F.js"),[]).then(t=>ae(t.perl))}}),Z.of({name:"Pig",extensions:["pig"],load(){return ne(()=>import("./pig-CevX1Tat.js"),[]).then(t=>ae(t.pig))}}),Z.of({name:"PowerShell",extensions:["ps1","psd1","psm1"],load(){return ne(()=>import("./powershell-CFHJl5sT.js"),[]).then(t=>ae(t.powerShell))}}),Z.of({name:"Properties files",alias:["ini","properties"],extensions:["properties","ini","in"],load(){return ne(()=>import("./properties-C78fOPTZ.js"),[]).then(t=>ae(t.properties))}}),Z.of({name:"ProtoBuf",extensions:["proto"],load(){return ne(()=>import("./protobuf-ChK-085T.js"),[]).then(t=>ae(t.protobuf))}}),Z.of({name:"Pug",alias:["jade"],extensions:["pug","jade"],load(){return ne(()=>import("./pug-BmUsPMDj.js"),__vite__mapDeps([23,24])).then(t=>ae(t.pug))}}),Z.of({name:"Puppet",extensions:["pp"],load(){return ne(()=>import("./puppet-DMA9R1ak.js"),[]).then(t=>ae(t.puppet))}}),Z.of({name:"Q",extensions:["q"],load(){return ne(()=>import("./q-ZnEupP5q.js"),[]).then(t=>ae(t.q))}}),Z.of({name:"R",alias:["rscript"],extensions:["r","R"],load(){return ne(()=>import("./r-DUYO_cvP.js"),[]).then(t=>ae(t.r))}}),Z.of({name:"RPM Changes",load(){return ne(()=>import("./rpm-CTu-6PCP.js"),[]).then(t=>ae(t.rpmChanges))}}),Z.of({name:"RPM Spec",extensions:["spec"],load(){return ne(()=>import("./rpm-CTu-6PCP.js"),[]).then(t=>ae(t.rpmSpec))}}),Z.of({name:"Ruby",alias:["jruby","macruby","rake","rb","rbx"],extensions:["rb"],filename:/^(Gemfile|Rakefile)$/,load(){return ne(()=>import("./ruby-B2Rjki9n.js"),[]).then(t=>ae(t.ruby))}}),Z.of({name:"SAS",extensions:["sas"],load(){return ne(()=>import("./sas-B4kiWyti.js"),[]).then(t=>ae(t.sas))}}),Z.of({name:"Scala",extensions:["scala"],load(){return ne(()=>import("./clike-DWq2Y8ae.js"),[]).then(t=>ae(t.scala))}}),Z.of({name:"Scheme",extensions:["scm","ss"],load(){return ne(()=>import("./scheme-C41bIUwD.js"),[]).then(t=>ae(t.scheme))}}),Z.of({name:"Shell",alias:["bash","sh","zsh"],extensions:["sh","ksh","bash"],filename:/^PKGBUILD$/,load(){return ne(()=>import("./shell-CjFT_Tl9.js"),[]).then(t=>ae(t.shell))}}),Z.of({name:"Sieve",extensions:["siv","sieve"],load(){return ne(()=>import("./sieve-C3Gn_uJK.js"),[]).then(t=>ae(t.sieve))}}),Z.of({name:"Smalltalk",extensions:["st"],load(){return ne(()=>import("./smalltalk-CnHTOXQT.js"),[]).then(t=>ae(t.smalltalk))}}),Z.of({name:"Solr",load(){return ne(()=>import("./solr-DehyRSwq.js"),[]).then(t=>ae(t.solr))}}),Z.of({name:"SML",extensions:["sml","sig","fun","smackspec"],load(){return ne(()=>import("./mllike-C_8OmSiT.js"),[]).then(t=>ae(t.sml))}}),Z.of({name:"SPARQL",alias:["sparul"],extensions:["rq","sparql"],load(){return ne(()=>import("./sparql-DkYu6x3z.js"),[]).then(t=>ae(t.sparql))}}),Z.of({name:"Spreadsheet",alias:["excel","formula"],load(){return ne(()=>import("./spreadsheet-BCZA_wO0.js"),[]).then(t=>ae(t.spreadsheet))}}),Z.of({name:"Squirrel",extensions:["nut"],load(){return ne(()=>import("./clike-DWq2Y8ae.js"),[]).then(t=>ae(t.squirrel))}}),Z.of({name:"Stylus",extensions:["styl"],load(){return ne(()=>import("./stylus-BdAi1jBa.js"),[]).then(t=>ae(t.stylus))}}),Z.of({name:"Swift",extensions:["swift"],load(){return ne(()=>import("./swift-BzpIVaGY.js"),[]).then(t=>ae(t.swift))}}),Z.of({name:"sTeX",load(){return ne(()=>import("./stex-C3f8Ysf7.js"),[]).then(t=>ae(t.stex))}}),Z.of({name:"LaTeX",alias:["tex"],extensions:["text","ltx","tex"],load(){return ne(()=>import("./stex-C3f8Ysf7.js"),[]).then(t=>ae(t.stex))}}),Z.of({name:"SystemVerilog",extensions:["v","sv","svh"],load(){return ne(()=>import("./verilog-C6RDOZhf.js"),[]).then(t=>ae(t.verilog))}}),Z.of({name:"Tcl",extensions:["tcl"],load(){return ne(()=>import("./tcl-DVfN8rqt.js"),[]).then(t=>ae(t.tcl))}}),Z.of({name:"Textile",extensions:["textile"],load(){return ne(()=>import("./textile-CnDTJFAw.js"),[]).then(t=>ae(t.textile))}}),Z.of({name:"TiddlyWiki",load(){return ne(()=>import("./tiddlywiki-DO-Gjzrf.js"),[]).then(t=>ae(t.tiddlyWiki))}}),Z.of({name:"Tiki wiki",load(){return ne(()=>import("./tiki-DGYXhP31.js"),[]).then(t=>ae(t.tiki))}}),Z.of({name:"TOML",extensions:["toml"],load(){return ne(()=>import("./toml-BXUEaScT.js"),[]).then(t=>ae(t.toml))}}),Z.of({name:"Troff",extensions:["1","2","3","4","5","6","7","8","9"],load(){return ne(()=>import("./troff-wAsdV37c.js"),[]).then(t=>ae(t.troff))}}),Z.of({name:"TTCN",extensions:["ttcn","ttcn3","ttcnpp"],load(){return ne(()=>import("./ttcn-CiGrtVSZ.js"),[]).then(t=>ae(t.ttcn))}}),Z.of({name:"TTCN_CFG",extensions:["cfg"],load(){return ne(()=>import("./ttcn-cfg-BIkV9KBc.js"),[]).then(t=>ae(t.ttcnCfg))}}),Z.of({name:"Turtle",extensions:["ttl"],load(){return ne(()=>import("./turtle-B1tBg_DP.js"),[]).then(t=>ae(t.turtle))}}),Z.of({name:"Web IDL",extensions:["webidl"],load(){return ne(()=>import("./webidl-ZXfAyPTL.js"),[]).then(t=>ae(t.webIDL))}}),Z.of({name:"VB.NET",extensions:["vb"],load(){return ne(()=>import("./vb-CmGdzxic.js"),[]).then(t=>ae(t.vb))}}),Z.of({name:"VBScript",extensions:["vbs"],load(){return ne(()=>import("./vbscript-BuJXcnF6.js"),[]).then(t=>ae(t.vbScript))}}),Z.of({name:"Velocity",extensions:["vtl"],load(){return ne(()=>import("./velocity-D8B20fx6.js"),[]).then(t=>ae(t.velocity))}}),Z.of({name:"Verilog",extensions:["v"],load(){return ne(()=>import("./verilog-C6RDOZhf.js"),[]).then(t=>ae(t.verilog))}}),Z.of({name:"VHDL",extensions:["vhd","vhdl"],load(){return ne(()=>import("./vhdl-lSbBsy5d.js"),[]).then(t=>ae(t.vhdl))}}),Z.of({name:"XQuery",extensions:["xy","xquery"],load(){return ne(()=>import("./xquery-WRlm2TX8.js"),[]).then(t=>ae(t.xQuery))}}),Z.of({name:"Yacas",extensions:["ys"],load(){return ne(()=>import("./yacas-BJ4BC0dw.js"),[]).then(t=>ae(t.yacas))}}),Z.of({name:"Z80",extensions:["z80"],load(){return ne(()=>import("./z80-Hz9HOZM7.js"),[]).then(t=>ae(t.z80))}}),Z.of({name:"MscGen",extensions:["mscgen","mscin","msc"],load(){return ne(()=>import("./mscgen-BA5vi2Kp.js"),[]).then(t=>ae(t.mscgen))}}),Z.of({name:"Xù",extensions:["xu"],load(){return ne(()=>import("./mscgen-BA5vi2Kp.js"),[]).then(t=>ae(t.xu))}}),Z.of({name:"MsGenny",extensions:["msgenny"],load(){return ne(()=>import("./mscgen-BA5vi2Kp.js"),[]).then(t=>ae(t.msgenny))}}),Z.of({name:"Vue",extensions:["vue"],load(){return ne(()=>import("./index-CO5WWHMz.js"),__vite__mapDeps([25,5,1,3,6])).then(t=>t.vue())}}),Z.of({name:"Angular Template",load(){return ne(()=>import("./index-DwKlgCrF.js"),__vite__mapDeps([26,5,1,3,6])).then(t=>t.angular())}})],E7="#2e3440",z4="#3b4252",S7="#434c5e",E1="#4c566a",k7="#e5e9f0",nk="#eceff4",DC="#8fbcbb",T7="#88c0d0",W5e="#81a1c1",Eo="#5e81ac",q5e="#bf616a",dh="#d08770",MC="#ebcb8b",A7="#a3be8c",K5e="#b48ead",I7="#d30102",$4=nk,NC=$4,G5e="#ffffff",OC=z4,J5e=$4,R7=z4,Q5e=be.theme({"&":{color:E7,backgroundColor:G5e},".cm-content":{caretColor:R7},".cm-cursor, .cm-dropCursor":{borderLeftColor:R7},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:J5e},".cm-panels":{backgroundColor:$4,color:E1},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:`1px solid ${E1}`},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:k7},".cm-activeLine":{backgroundColor:NC},".cm-selectionMatch":{backgroundColor:k7},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{outline:`1px solid ${E1}`},"&.cm-focused .cm-matchingBracket":{backgroundColor:nk},".cm-gutters":{backgroundColor:nk,color:E7,border:"none"},".cm-activeLineGutter":{backgroundColor:NC},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:OC},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:OC,borderBottomColor:OC},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:NC,color:E1}}},{dark:!1}),X5e=tg.define([{tag:te.keyword,color:Eo},{tag:[te.name,te.deleted,te.character,te.propertyName,te.macroName],color:dh},{tag:[te.variableName],color:dh},{tag:[te.function(te.variableName)],color:Eo},{tag:[te.labelName],color:W5e},{tag:[te.color,te.constant(te.name),te.standard(te.name)],color:Eo},{tag:[te.definition(te.name),te.separator],color:A7},{tag:[te.brace],color:DC},{tag:[te.annotation],color:I7},{tag:[te.number,te.changed,te.annotation,te.modifier,te.self,te.namespace],color:T7},{tag:[te.typeName,te.className],color:MC},{tag:[te.operator,te.operatorKeyword],color:A7},{tag:[te.tagName],color:K5e},{tag:[te.squareBracket],color:q5e},{tag:[te.angleBracket],color:dh},{tag:[te.attributeName],color:MC},{tag:[te.regexp],color:Eo},{tag:[te.quote],color:z4},{tag:[te.string],color:dh},{tag:te.link,color:DC,textDecoration:"underline",textUnderlinePosition:"under"},{tag:[te.url,te.escape,te.special(te.string)],color:dh},{tag:[te.meta],color:T7},{tag:[te.comment],color:S7,fontStyle:"italic"},{tag:te.strong,fontWeight:"bold",color:Eo},{tag:te.emphasis,fontStyle:"italic",color:Eo},{tag:te.strikethrough,textDecoration:"line-through"},{tag:te.heading,fontWeight:"bold",color:Eo},{tag:te.special(te.heading1),fontWeight:"bold",color:Eo},{tag:te.heading1,fontWeight:"bold",color:Eo},{tag:[te.heading2,te.heading3,te.heading4],fontWeight:"bold",color:Eo},{tag:[te.heading5,te.heading6],color:Eo},{tag:[te.atom,te.bool,te.special(te.variableName)],color:dh},{tag:[te.processingInstruction,te.inserted],color:DC},{tag:[te.contentSeparator],color:MC},{tag:te.invalid,color:S7,borderBottom:`1px dotted ${I7}`}]),Y5e=[Q5e,FW(X5e)];function $t(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&typeof n=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];typeof i=="string"?t.setAttribute(r,i):i!=null&&(t[r]=i)}e++}for(;e<arguments.length;e++)Oq(t,arguments[e]);return t}function Oq(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var n=0;n<e.length;n++)Oq(t,e[n]);else throw new RangeError("Unsupported child node: "+e)}const P7=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class Vd{constructor(e,n,r=0,i=e.length,o,s){this.test=s,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=o?a=>o(P7(a)):P7,this.query=this.normalize(n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return hr(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let n=l4(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=no(e);let i=this.normalize(n);for(let o=0,s=r;;o++){let a=i.charCodeAt(o),l=this.match(a,s,this.bufferPos+this.bufferStart);if(o==i.length-1){if(l)return this.value=l,this;break}s==r&&o<n.length&&n.charCodeAt(o)==a&&s++}}}match(e,n,r){let i=null;for(let o=0;o<this.matches.length;o+=2){let s=this.matches[o],a=!1;this.query.charCodeAt(s)==e&&(s==this.query.length-1?i={from:this.matches[o+1],to:r}:(this.matches[o]++,a=!0)),a||(this.matches.splice(o,2),o-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:n,to:r}:this.matches.push(1,n)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(Vd.prototype[Symbol.iterator]=function(){return this});const Lq={from:-1,to:-1,match:/.*/.exec("")},H4="gm"+(/x/.unicode==null?"":"u");class Fq{constructor(e,n,r,i=0,o=e.length){if(this.text=e,this.to=o,this.curLine="",this.done=!1,this.value=Lq,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new Bq(e,n,r,i,o);this.re=new RegExp(n,H4+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.iter=e.iter();let s=e.lineAt(i);this.curLineStart=s.from,this.matchPos=ey(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){let r=this.curLineStart+n.index,i=r+n[0].length;if(this.matchPos=ey(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const LC=new WeakMap;class ud{constructor(e,n){this.from=e,this.text=n}get to(){return this.from+this.text.length}static get(e,n,r){let i=LC.get(e);if(!i||i.from>=r||i.to<=n){let a=new ud(n,e.sliceString(n,r));return LC.set(e,a),a}if(i.from==n&&i.to==r)return i;let{text:o,from:s}=i;return s>n&&(o=e.sliceString(n,s)+o,s=n),i.to<r&&(o+=e.sliceString(i.to,r)),LC.set(e,new ud(s,o)),new ud(n,o.slice(n-s,r-s))}}class Bq{constructor(e,n,r,i,o){this.text=e,this.to=o,this.done=!1,this.value=Lq,this.matchPos=ey(e,i),this.re=new RegExp(n,H4+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.flat=ud.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==e&&(this.re.lastIndex=e+1,n=this.re.exec(this.flat.text)),n){let r=this.flat.from+n.index,i=r+n[0].length;if((this.flat.to>=this.to||n.index+n[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this.matchPos=ey(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=ud.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(Fq.prototype[Symbol.iterator]=Bq.prototype[Symbol.iterator]=function(){return this});function Z5e(t){try{return new RegExp(t,H4),!0}catch{return!1}}function ey(t,e){if(e>=t.length)return e;let n=t.lineAt(e),r;for(;e<n.to&&(r=n.text.charCodeAt(e-n.from))>=56320&&r<57344;)e++;return e}function rk(t){let e=String(t.state.doc.lineAt(t.state.selection.main.head).number),n=$t("input",{class:"cm-textfield",name:"line",value:e}),r=$t("form",{class:"cm-gotoLine",onkeydown:o=>{o.keyCode==27?(o.preventDefault(),t.dispatch({effects:ty.of(!1)}),t.focus()):o.keyCode==13&&(o.preventDefault(),i())},onsubmit:o=>{o.preventDefault(),i()}},$t("label",t.state.phrase("Go to line"),": ",n)," ",$t("button",{class:"cm-button",type:"submit"},t.state.phrase("go")));function i(){let o=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(n.value);if(!o)return;let{state:s}=t,a=s.doc.lineAt(s.selection.main.head),[,l,c,u,h]=o,d=u?+u.slice(1):0,f=c?+c:a.number;if(c&&h){let x=f/100;l&&(x=x*(l=="-"?-1:1)+a.number/s.doc.lines),f=Math.round(s.doc.lines*x)}else c&&l&&(f=f*(l=="-"?-1:1)+a.number);let p=s.doc.line(Math.max(1,Math.min(s.doc.lines,f))),m=se.cursor(p.from+Math.max(0,Math.min(d,p.length)));t.dispatch({effects:[ty.of(!1),be.scrollIntoView(m.from,{y:"center"})],selection:m}),t.focus()}return{dom:r}}const ty=et.define(),D7=ir.define({create(){return!0},update(t,e){for(let n of e.effects)n.is(ty)&&(t=n.value);return t},provide:t=>q0.from(t,e=>e?rk:null)}),eAe=t=>{let e=W0(t,rk);if(!e){let n=[ty.of(!0)];t.state.field(D7,!1)==null&&n.push(et.appendConfig.of([D7,tAe])),t.dispatch({effects:n}),e=W0(t,rk)}return e&&e.dom.querySelector("input").select(),!0},tAe=be.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),nAe={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},rAe=ke.define({combine(t){return Fs(t,nAe,{highlightWordAroundCursor:(e,n)=>e||n,minSelectionLength:Math.min,maxMatches:Math.min})}});function iAe(t){return[cAe,lAe]}const oAe=Fe.mark({class:"cm-selectionMatch"}),sAe=Fe.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function M7(t,e,n,r){return(n==0||t(e.sliceDoc(n-1,n))!=rn.Word)&&(r==e.doc.length||t(e.sliceDoc(r,r+1))!=rn.Word)}function aAe(t,e,n,r){return t(e.sliceDoc(n,n+1))==rn.Word&&t(e.sliceDoc(r-1,r))==rn.Word}const lAe=Ln.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(rAe),{state:n}=t,r=n.selection;if(r.ranges.length>1)return Fe.none;let i=r.main,o,s=null;if(i.empty){if(!e.highlightWordAroundCursor)return Fe.none;let l=n.wordAt(i.head);if(!l)return Fe.none;s=n.charCategorizer(i.head),o=n.sliceDoc(l.from,l.to)}else{let l=i.to-i.from;if(l<e.minSelectionLength||l>200)return Fe.none;if(e.wholeWords){if(o=n.sliceDoc(i.from,i.to),s=n.charCategorizer(i.head),!(M7(s,n,i.from,i.to)&&aAe(s,n,i.from,i.to)))return Fe.none}else if(o=n.sliceDoc(i.from,i.to),!o)return Fe.none}let a=[];for(let l of t.visibleRanges){let c=new Vd(n.doc,o,l.from,l.to);for(;!c.next().done;){let{from:u,to:h}=c.value;if((!s||M7(s,n,u,h))&&(i.empty&&u<=i.from&&h>=i.to?a.push(sAe.range(u,h)):(u>=i.to||h<=i.from)&&a.push(oAe.range(u,h)),a.length>e.maxMatches))return Fe.none}}return Fe.set(a)}},{decorations:t=>t.decorations}),cAe=be.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),uAe=({state:t,dispatch:e})=>{let{selection:n}=t,r=se.create(n.ranges.map(i=>t.wordAt(i.head)||se.cursor(i.head)),n.mainIndex);return r.eq(n)?!1:(e(t.update({selection:r})),!0)};function hAe(t,e){let{main:n,ranges:r}=t.selection,i=t.wordAt(n.head),o=i&&i.from==n.from&&i.to==n.to;for(let s=!1,a=new Vd(t.doc,e,r[r.length-1].to);;)if(a.next(),a.done){if(s)return null;a=new Vd(t.doc,e,0,Math.max(0,r[r.length-1].from-1)),s=!0}else{if(s&&r.some(l=>l.from==a.value.from))continue;if(o){let l=t.wordAt(a.value.from);if(!l||l.from!=a.value.from||l.to!=a.value.to)continue}return a.value}}const dAe=({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some(o=>o.from===o.to))return uAe({state:t,dispatch:e});let r=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some(o=>t.sliceDoc(o.from,o.to)!=r))return!1;let i=hAe(t,r);return i?(e(t.update({selection:t.selection.addRange(se.range(i.from,i.to),!1),effects:be.scrollIntoView(i.to)})),!0):!1},hf=ke.define({combine(t){return Fs(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new EAe(e),scrollToMatch:e=>be.scrollIntoView(e)})}});class Vq{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||Z5e(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(n,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new gAe(this):new pAe(this)}getCursor(e,n=0,r){let i=e.doc?e:_t.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?Ch(this,i,n,r):wh(this,i,n,r)}}class jq{constructor(e){this.spec=e}}function wh(t,e,n,r){return new Vd(e.doc,t.unquoted,n,r,t.caseSensitive?void 0:i=>i.toLowerCase(),t.wholeWord?fAe(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function fAe(t,e){return(n,r,i,o)=>((o>n||o+i.length<r)&&(o=Math.max(0,n-2),i=t.sliceString(o,Math.min(t.length,r+2))),(e(ny(i,n-o))!=rn.Word||e(ry(i,n-o))!=rn.Word)&&(e(ry(i,r-o))!=rn.Word||e(ny(i,r-o))!=rn.Word))}class pAe extends jq{constructor(e){super(e)}nextMatch(e,n,r){let i=wh(this.spec,e,r,e.doc.length).nextOverlapping();return i.done&&(i=wh(this.spec,e,0,n).nextOverlapping()),i.done?null:i.value}prevMatchInRange(e,n,r){for(let i=r;;){let o=Math.max(n,i-1e4-this.spec.unquoted.length),s=wh(this.spec,e,o,i),a=null;for(;!s.nextOverlapping().done;)a=s.value;if(a)return a;if(o==n)return null;i-=1e4}}prevMatch(e,n,r){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,n){let r=wh(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let o=wh(this.spec,e,Math.max(0,n-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!o.next().done;)i(o.value.from,o.value.to)}}function Ch(t,e,n,r){return new Fq(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?mAe(e.charCategorizer(e.selection.main.head)):void 0},n,r)}function ny(t,e){return t.slice(xr(t,e,!1),e)}function ry(t,e){return t.slice(e,xr(t,e))}function mAe(t){return(e,n,r)=>!r[0].length||(t(ny(r.input,r.index))!=rn.Word||t(ry(r.input,r.index))!=rn.Word)&&(t(ry(r.input,r.index+r[0].length))!=rn.Word||t(ny(r.input,r.index+r[0].length))!=rn.Word)}class gAe extends jq{nextMatch(e,n,r){let i=Ch(this.spec,e,r,e.doc.length).next();return i.done&&(i=Ch(this.spec,e,0,n).next()),i.done?null:i.value}prevMatchInRange(e,n,r){for(let i=1;;i++){let o=Math.max(n,r-i*1e4),s=Ch(this.spec,e,o,r),a=null;for(;!s.next().done;)a=s.value;if(a&&(o==n||a.from>o+10))return a;if(o==n)return null}}prevMatch(e,n,r){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,(n,r)=>r=="$"?"$":r=="&"?e.match[0]:r!="0"&&+r<e.match.length?e.match[r]:n)}matchAll(e,n){let r=Ch(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let o=Ch(this.spec,e,Math.max(0,n-250),Math.min(r+250,e.doc.length));for(;!o.next().done;)i(o.value.from,o.value.to)}}const em=et.define(),U4=et.define(),$l=ir.define({create(t){return new FC(ik(t).create(),null)},update(t,e){for(let n of e.effects)n.is(em)?t=new FC(n.value.create(),t.panel):n.is(U4)&&(t=new FC(t.query,n.value?W4:null));return t},provide:t=>q0.from(t,e=>e.panel)});class FC{constructor(e,n){this.query=e,this.panel=n}}const xAe=Fe.mark({class:"cm-searchMatch"}),vAe=Fe.mark({class:"cm-searchMatch cm-searchMatch-selected"}),yAe=Ln.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field($l))}update(t){let e=t.state.field($l);(e!=t.startState.field($l)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return Fe.none;let{view:n}=this,r=new rc;for(let i=0,o=n.visibleRanges,s=o.length;i<s;i++){let{from:a,to:l}=o[i];for(;i<s-1&&l>o[i+1].from-2*250;)l=o[++i].to;t.highlight(n.state,a,l,(c,u)=>{let h=n.state.selection.ranges.some(d=>d.from==c&&d.to==u);r.add(c,u,h?vAe:xAe)})}return r.finish()}},{decorations:t=>t.decorations});function ig(t){return e=>{let n=e.state.field($l,!1);return n&&n.query.spec.valid?t(e,n):Hq(e)}}const iy=ig((t,{query:e})=>{let{to:n}=t.state.selection.main,r=e.nextMatch(t.state,n,n);if(!r)return!1;let i=se.single(r.from,r.to),o=t.state.facet(hf);return t.dispatch({selection:i,effects:[q4(t,r),o.scrollToMatch(i.main,t)],userEvent:"select.search"}),$q(t),!0}),oy=ig((t,{query:e})=>{let{state:n}=t,{from:r}=n.selection.main,i=e.prevMatch(n,r,r);if(!i)return!1;let o=se.single(i.from,i.to),s=t.state.facet(hf);return t.dispatch({selection:o,effects:[q4(t,i),s.scrollToMatch(o.main,t)],userEvent:"select.search"}),$q(t),!0}),_Ae=ig((t,{query:e})=>{let n=e.matchAll(t.state,1e3);return!n||!n.length?!1:(t.dispatch({selection:se.create(n.map(r=>se.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),wAe=({state:t,dispatch:e})=>{let n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:i}=n.main,o=[],s=0;for(let a=new Vd(t.doc,t.sliceDoc(r,i));!a.next().done;){if(o.length>1e3)return!1;a.value.from==r&&(s=o.length),o.push(se.range(a.value.from,a.value.to))}return e(t.update({selection:se.create(o,s),userEvent:"select.search.matches"})),!0},N7=ig((t,{query:e})=>{let{state:n}=t,{from:r,to:i}=n.selection.main;if(n.readOnly)return!1;let o=e.nextMatch(n,r,r);if(!o)return!1;let s=[],a,l,c=[];if(o.from==r&&o.to==i&&(l=n.toText(e.getReplacement(o)),s.push({from:o.from,to:o.to,insert:l}),o=e.nextMatch(n,o.from,o.to),c.push(be.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(r).number)+"."))),o){let u=s.length==0||s[0].from>=o.to?0:o.to-o.from-l.length;a=se.single(o.from-u,o.to-u),c.push(q4(t,o)),c.push(n.facet(hf).scrollToMatch(a.main,t))}return t.dispatch({changes:s,selection:a,effects:c,userEvent:"input.replace"}),!0}),CAe=ig((t,{query:e})=>{if(t.state.readOnly)return!1;let n=e.matchAll(t.state,1e9).map(i=>{let{from:o,to:s}=i;return{from:o,to:s,insert:e.getReplacement(i)}});if(!n.length)return!1;let r=t.state.phrase("replaced $ matches",n.length)+".";return t.dispatch({changes:n,effects:be.announce.of(r),userEvent:"input.replace.all"}),!0});function W4(t){return t.state.facet(hf).createPanel(t)}function ik(t,e){var n,r,i,o,s;let a=t.selection.main,l=a.empty||a.to>a.from+100?"":t.sliceDoc(a.from,a.to);if(e&&!l)return e;let c=t.facet(hf);return new Vq({search:((n=e==null?void 0:e.literal)!==null&&n!==void 0?n:c.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(r=e==null?void 0:e.caseSensitive)!==null&&r!==void 0?r:c.caseSensitive,literal:(i=e==null?void 0:e.literal)!==null&&i!==void 0?i:c.literal,regexp:(o=e==null?void 0:e.regexp)!==null&&o!==void 0?o:c.regexp,wholeWord:(s=e==null?void 0:e.wholeWord)!==null&&s!==void 0?s:c.wholeWord})}function zq(t){let e=W0(t,W4);return e&&e.dom.querySelector("[main-field]")}function $q(t){let e=zq(t);e&&e==t.root.activeElement&&e.select()}const Hq=t=>{let e=t.state.field($l,!1);if(e&&e.panel){let n=zq(t);if(n&&n!=t.root.activeElement){let r=ik(t.state,e.query.spec);r.valid&&t.dispatch({effects:em.of(r)}),n.focus(),n.select()}}else t.dispatch({effects:[U4.of(!0),e?em.of(ik(t.state,e.query.spec)):et.appendConfig.of(kAe)]});return!0},Uq=t=>{let e=t.state.field($l,!1);if(!e||!e.panel)return!1;let n=W0(t,W4);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:U4.of(!1)}),!0},bAe=[{key:"Mod-f",run:Hq,scope:"editor search-panel"},{key:"F3",run:iy,shift:oy,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:iy,shift:oy,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:Uq,scope:"editor search-panel"},{key:"Mod-Shift-l",run:wAe},{key:"Mod-Alt-g",run:eAe},{key:"Mod-d",run:dAe,preventDefault:!0}];class EAe{constructor(e){this.view=e;let n=this.query=e.state.field($l).query.spec;this.commit=this.commit.bind(this),this.searchField=$t("input",{value:n.search,placeholder:Ti(e,"Find"),"aria-label":Ti(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=$t("input",{value:n.replace,placeholder:Ti(e,"Replace"),"aria-label":Ti(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=$t("input",{type:"checkbox",name:"case",form:"",checked:n.caseSensitive,onchange:this.commit}),this.reField=$t("input",{type:"checkbox",name:"re",form:"",checked:n.regexp,onchange:this.commit}),this.wordField=$t("input",{type:"checkbox",name:"word",form:"",checked:n.wholeWord,onchange:this.commit});function r(i,o,s){return $t("button",{class:"cm-button",name:i,onclick:o,type:"button"},s)}this.dom=$t("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>iy(e),[Ti(e,"next")]),r("prev",()=>oy(e),[Ti(e,"previous")]),r("select",()=>_Ae(e),[Ti(e,"all")]),$t("label",null,[this.caseField,Ti(e,"match case")]),$t("label",null,[this.reField,Ti(e,"regexp")]),$t("label",null,[this.wordField,Ti(e,"by word")]),...e.state.readOnly?[]:[$t("br"),this.replaceField,r("replace",()=>N7(e),[Ti(e,"replace")]),r("replaceAll",()=>CAe(e),[Ti(e,"replace all")])],$t("button",{name:"close",onclick:()=>Uq(e),"aria-label":Ti(e,"close"),type:"button"},["×"])])}commit(){let e=new Vq({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:em.of(e)}))}keydown(e){gEe(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?oy:iy)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),N7(this.view))}update(e){for(let n of e.transactions)for(let r of n.effects)r.is(em)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(hf).top}}function Ti(t,e){return t.state.phrase(e)}const S1=30,k1=/[\s\.,:;?!]/;function q4(t,{from:e,to:n}){let r=t.state.doc.lineAt(e),i=t.state.doc.lineAt(n).to,o=Math.max(r.from,e-S1),s=Math.min(i,n+S1),a=t.state.sliceDoc(o,s);if(o!=r.from){for(let l=0;l<S1;l++)if(!k1.test(a[l+1])&&k1.test(a[l])){a=a.slice(l);break}}if(s!=i){for(let l=a.length-1;l>a.length-S1;l--)if(!k1.test(a[l-1])&&k1.test(a[l])){a=a.slice(0,l);break}}return be.announce.of(`${t.state.phrase("current match")}. ${a} ${t.state.phrase("on line")} ${r.number}.`)}const SAe=be.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),kAe=[$l,wc.low(yAe),SAe];class TAe{constructor(e,n,r){this.from=e,this.to=n,this.diagnostic=r}}class jc{constructor(e,n,r){this.diagnostics=e,this.panel=n,this.selected=r}static init(e,n,r){let i=e,o=r.facet(tm).markerFilter;o&&(i=o(i,r));let s=Fe.set(i.map(a=>a.from==a.to||a.from==a.to-1&&r.doc.lineAt(a.from).to==a.from?Fe.widget({widget:new LAe(a),diagnostic:a}).range(a.from):Fe.mark({attributes:{class:"cm-lintRange cm-lintRange-"+a.severity+(a.markClass?" "+a.markClass:"")},diagnostic:a}).range(a.from,a.to)),!0);return new jc(s,n,jd(s))}}function jd(t,e=null,n=0){let r=null;return t.between(n,1e9,(i,o,{spec:s})=>{if(!(e&&s.diagnostic!=e))return r=new TAe(i,o,s.diagnostic),!1}),r}function AAe(t,e){let n=e.pos,r=e.end||n,i=t.state.facet(tm).hideOn(t,n,r);if(i!=null)return i;let o=t.startState.doc.lineAt(e.pos);return!!(t.effects.some(s=>s.is(Wq))||t.changes.touchesRange(o.from,Math.max(o.to,r)))}function IAe(t,e){return t.field(Li,!1)?e:e.concat(et.appendConfig.of(VAe))}const Wq=et.define(),K4=et.define(),qq=et.define(),Li=ir.define({create(){return new jc(Fe.none,null,null)},update(t,e){if(e.docChanged&&t.diagnostics.size){let n=t.diagnostics.map(e.changes),r=null,i=t.panel;if(t.selected){let o=e.changes.mapPos(t.selected.from,1);r=jd(n,t.selected.diagnostic,o)||jd(n,null,o)}!n.size&&i&&e.state.facet(tm).autoPanel&&(i=null),t=new jc(n,i,r)}for(let n of e.effects)if(n.is(Wq)){let r=e.state.facet(tm).autoPanel?n.value.length?nm.open:null:t.panel;t=jc.init(n.value,r,e.state)}else n.is(K4)?t=new jc(t.diagnostics,n.value?nm.open:null,t.selected):n.is(qq)&&(t=new jc(t.diagnostics,t.panel,n.value));return t},provide:t=>[q0.from(t,e=>e.panel),be.decorations.from(t,e=>e.diagnostics)]}),RAe=Fe.mark({class:"cm-lintRange cm-lintRange-active"});function PAe(t,e,n){let{diagnostics:r}=t.state.field(Li),i=[],o=2e8,s=0;r.between(e-(n<0?1:0),e+(n>0?1:0),(l,c,{spec:u})=>{e>=l&&e<=c&&(l==c||(e>l||n>0)&&(e<c||n<0))&&(i.push(u.diagnostic),o=Math.min(l,o),s=Math.max(c,s))});let a=t.state.facet(tm).tooltipFilter;return a&&(i=a(i,t.state)),i.length?{pos:o,end:s,above:t.state.doc.lineAt(o).to<s,create(){return{dom:DAe(t,i)}}}:null}function DAe(t,e){return $t("ul",{class:"cm-tooltip-lint"},e.map(n=>Gq(t,n,!1)))}const MAe=t=>{let e=t.state.field(Li,!1);(!e||!e.panel)&&t.dispatch({effects:IAe(t.state,[K4.of(!0)])});let n=W0(t,nm.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},O7=t=>{let e=t.state.field(Li,!1);return!e||!e.panel?!1:(t.dispatch({effects:K4.of(!1)}),!0)},NAe=t=>{let e=t.state.field(Li,!1);if(!e)return!1;let n=t.state.selection.main,r=e.diagnostics.iter(n.to+1);return!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==n.from&&r.to==n.to)?!1:(t.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},OAe=[{key:"Mod-Shift-m",run:MAe,preventDefault:!0},{key:"F8",run:NAe}],tm=ke.define({combine(t){return Object.assign({sources:t.map(e=>e.source).filter(e=>e!=null)},Fs(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,n)=>e?n?r=>e(r)||n(r):e:n}))}});function Kq(t){let e=[];if(t)e:for(let{name:n}of t){for(let r=0;r<n.length;r++){let i=n[r];if(/[a-zA-Z]/.test(i)&&!e.some(o=>o.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function Gq(t,e,n){var r;let i=n?Kq(e.actions):[];return $t("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},$t("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(t):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((o,s)=>{let a=!1,l=d=>{if(d.preventDefault(),a)return;a=!0;let f=jd(t.state.field(Li).diagnostics,e);f&&o.apply(t,f.from,f.to)},{name:c}=o,u=i[s]?c.indexOf(i[s]):-1,h=u<0?c:[c.slice(0,u),$t("u",c.slice(u,u+1)),c.slice(u+1)];return $t("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${c}${u<0?"":` (access key "${i[s]})"`}.`},h)}),e.source&&$t("div",{class:"cm-diagnosticSource"},e.source))}class LAe extends La{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return $t("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class L7{constructor(e,n){this.diagnostic=n,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=Gq(e,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class nm{constructor(e){this.view=e,this.items=[];let n=i=>{if(i.keyCode==27)O7(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:o}=this.items[this.selectedIndex],s=Kq(o.actions);for(let a=0;a<s.length;a++)if(s[a].toUpperCase().charCodeAt(0)==i.keyCode){let l=jd(this.view.state.field(Li).diagnostics,o);l&&o.actions[a].apply(e,l.from,l.to)}}else return;i.preventDefault()},r=i=>{for(let o=0;o<this.items.length;o++)this.items[o].dom.contains(i.target)&&this.moveSelection(o)};this.list=$t("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:n,onclick:r}),this.dom=$t("div",{class:"cm-panel-lint"},this.list,$t("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>O7(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(Li).selected;if(!e)return-1;for(let n=0;n<this.items.length;n++)if(this.items[n].diagnostic==e.diagnostic)return n;return-1}update(){let{diagnostics:e,selected:n}=this.view.state.field(Li),r=0,i=!1,o=null;for(e.between(0,this.view.state.doc.length,(s,a,{spec:l})=>{let c=-1,u;for(let h=r;h<this.items.length;h++)if(this.items[h].diagnostic==l.diagnostic){c=h;break}c<0?(u=new L7(this.view,l.diagnostic),this.items.splice(r,0,u),i=!0):(u=this.items[c],c>r&&(this.items.splice(r,c-r),i=!0)),n&&u.diagnostic==n.diagnostic?u.dom.hasAttribute("aria-selected")||(u.dom.setAttribute("aria-selected","true"),o=u):u.dom.hasAttribute("aria-selected")&&u.dom.removeAttribute("aria-selected"),r++});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new L7(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),o?(this.list.setAttribute("aria-activedescendant",o.id),this.view.requestMeasure({key:this,read:()=>({sel:o.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:s,panel:a})=>{let l=a.height/this.list.offsetHeight;s.top<a.top?this.list.scrollTop-=(a.top-s.top)/l:s.bottom>a.bottom&&(this.list.scrollTop+=(s.bottom-a.bottom)/l)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function n(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)n();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)n()}moveSelection(e){if(this.selectedIndex<0)return;let n=this.view.state.field(Li),r=jd(n.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:qq.of(r)})}static open(e){return new nm(e)}}function FAe(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function T1(t){return FAe(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const BAe=be.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:T1("#d11")},".cm-lintRange-warning":{backgroundImage:T1("orange")},".cm-lintRange-info":{backgroundImage:T1("#999")},".cm-lintRange-hint":{backgroundImage:T1("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),VAe=[Li,be.decorations.compute([Li],t=>{let{selected:e,panel:n}=t.field(Li);return!e||!n||e.from==e.to?Fe.none:Fe.set([RAe.range(e.from,e.to)])}),nSe(PAe,{hideOn:AAe}),BAe],jAe=[xW(),mSe(),MEe(),VTe(),hke(),CEe(),TEe(),_t.allowMultipleSelections.of(!0),XSe(),FW(mke,{fallback:!0}),Cke(),xTe(),ATe(),WEe(),GEe(),VEe(),iAe(),U_.of([...wTe,...$5e,...bAe,...GTe,...ake,...iq,...OAe])];function F7(t,[e,n]){return Math.min(n,Math.max(e,t))}function zAe(t){const e=T.useRef({value:t,previous:t});return T.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var $Ae=[" ","Enter","ArrowUp","ArrowDown"],HAe=[" ","Enter"],og="Select",[ew,tw,UAe]=r_(og),[df,g8e]=go(og,[UAe,gc]),nw=gc(),[WAe,bc]=df(og),[qAe,KAe]=df(og),Jq=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:o,value:s,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:h,disabled:d,required:f}=t,p=nw(e),[m,x]=T.useState(null),[v,y]=T.useState(null),[_,C]=T.useState(!1),S=Rm(c),[k=!1,b]=Uo({prop:r,defaultProp:i,onChange:o}),[w,A]=Uo({prop:s,defaultProp:a,onChange:l}),E=T.useRef(null),R=m?!!m.closest("form"):!0,[D,N]=T.useState(new Set),j=Array.from(D).map($=>$.props.value).join(";");return P.jsx(Xy,{...p,children:P.jsxs(WAe,{required:f,scope:e,trigger:m,onTriggerChange:x,valueNode:v,onValueNodeChange:y,valueNodeHasChildren:_,onValueNodeHasChildrenChange:C,contentId:Fo(),value:w,onValueChange:A,open:k,onOpenChange:b,dir:S,triggerPointerDownPosRef:E,disabled:d,children:[P.jsx(ew.Provider,{scope:e,children:P.jsx(qAe,{scope:t.__scopeSelect,onNativeOptionAdd:T.useCallback($=>{N(Q=>new Set(Q).add($))},[]),onNativeOptionRemove:T.useCallback($=>{N(Q=>{const X=new Set(Q);return X.delete($),X})},[]),children:n})}),R?P.jsxs(wK,{"aria-hidden":!0,required:f,tabIndex:-1,name:u,autoComplete:h,value:w,onChange:$=>A($.target.value),disabled:d,children:[w===void 0?P.jsx("option",{value:""}):null,Array.from(D)]},j):null]})})};Jq.displayName=og;var Qq="SelectTrigger",Xq=T.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,o=nw(n),s=bc(Qq,n),a=s.disabled||r,l=St(e,s.onTriggerChange),c=tw(n),[u,h,d]=CK(p=>{const m=c().filter(y=>!y.disabled),x=m.find(y=>y.value===s.value),v=bK(m,p,x);v!==void 0&&s.onValueChange(v.value)}),f=()=>{a||(s.onOpenChange(!0),d())};return P.jsx(Tm,{asChild:!0,...o,children:P.jsx(He.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":_K(s.value)?"":void 0,...i,ref:l,onClick:_e(i.onClick,p=>{p.currentTarget.focus()}),onPointerDown:_e(i.onPointerDown,p=>{const m=p.target;m.hasPointerCapture(p.pointerId)&&m.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&(f(),s.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)},p.preventDefault())}),onKeyDown:_e(i.onKeyDown,p=>{const m=u.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(m&&p.key===" ")&&$Ae.includes(p.key)&&(f(),p.preventDefault())})})})});Xq.displayName=Qq;var Yq="SelectValue",Zq=T.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:s="",...a}=t,l=bc(Yq,n),{onValueNodeHasChildrenChange:c}=l,u=o!==void 0,h=St(e,l.onValueNodeChange);return Vr(()=>{c(u)},[c,u]),P.jsx(He.span,{...a,ref:h,style:{pointerEvents:"none"},children:_K(l.value)?P.jsx(P.Fragment,{children:s}):o})});Zq.displayName=Yq;var GAe="SelectIcon",eK=T.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return P.jsx(He.span,{"aria-hidden":!0,...i,ref:e,children:r||"▼"})});eK.displayName=GAe;var JAe="SelectPortal",tK=t=>P.jsx($u,{asChild:!0,...t});tK.displayName=JAe;var Pu="SelectContent",nK=T.forwardRef((t,e)=>{const n=bc(Pu,t.__scopeSelect),[r,i]=T.useState();if(Vr(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?jo.createPortal(P.jsx(rK,{scope:t.__scopeSelect,children:P.jsx(ew.Slot,{scope:t.__scopeSelect,children:P.jsx("div",{children:t.children})})}),o):null}return P.jsx(iK,{...t,ref:e})});nK.displayName=Pu;var Js=10,[rK,Ec]=df(Pu),QAe="SelectContentImpl",iK=T.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:s,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:d,collisionPadding:f,sticky:p,hideWhenDetached:m,avoidCollisions:x,...v}=t,y=bc(Pu,n),[_,C]=T.useState(null),[S,k]=T.useState(null),b=St(e,ue=>C(ue)),[w,A]=T.useState(null),[E,R]=T.useState(null),D=tw(n),[N,j]=T.useState(!1),$=T.useRef(!1);T.useEffect(()=>{if(_)return a_(_)},[_]),i_();const Q=T.useCallback(ue=>{const[de,...ze]=D().map(Qe=>Qe.ref.current),[Oe]=ze.slice(-1),Be=document.activeElement;for(const Qe of ue)if(Qe===Be||(Qe==null||Qe.scrollIntoView({block:"nearest"}),Qe===de&&S&&(S.scrollTop=0),Qe===Oe&&S&&(S.scrollTop=S.scrollHeight),Qe==null||Qe.focus(),document.activeElement!==Be))return},[D,S]),X=T.useCallback(()=>Q([w,_]),[Q,w,_]);T.useEffect(()=>{N&&X()},[N,X]);const{onOpenChange:q,triggerPointerDownPosRef:H}=y;T.useEffect(()=>{if(_){let ue={x:0,y:0};const de=Oe=>{var Be,Qe;ue={x:Math.abs(Math.round(Oe.pageX)-(((Be=H.current)==null?void 0:Be.x)??0)),y:Math.abs(Math.round(Oe.pageY)-(((Qe=H.current)==null?void 0:Qe.y)??0))}},ze=Oe=>{ue.x<=10&&ue.y<=10?Oe.preventDefault():_.contains(Oe.target)||q(!1),document.removeEventListener("pointermove",de),H.current=null};return H.current!==null&&(document.addEventListener("pointermove",de),document.addEventListener("pointerup",ze,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",de),document.removeEventListener("pointerup",ze,{capture:!0})}}},[_,q,H]),T.useEffect(()=>{const ue=()=>q(!1);return window.addEventListener("blur",ue),window.addEventListener("resize",ue),()=>{window.removeEventListener("blur",ue),window.removeEventListener("resize",ue)}},[q]);const[L,U]=CK(ue=>{const de=D().filter(Be=>!Be.disabled),ze=de.find(Be=>Be.ref.current===document.activeElement),Oe=bK(de,ue,ze);Oe&&setTimeout(()=>Oe.ref.current.focus())}),K=T.useCallback((ue,de,ze)=>{const Oe=!$.current&&!ze;(y.value!==void 0&&y.value===de||Oe)&&(A(ue),Oe&&($.current=!0))},[y.value]),O=T.useCallback(()=>_==null?void 0:_.focus(),[_]),J=T.useCallback((ue,de,ze)=>{const Oe=!$.current&&!ze;(y.value!==void 0&&y.value===de||Oe)&&R(ue)},[y.value]),Ee=r==="popper"?ok:oK,fe=Ee===ok?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:d,collisionPadding:f,sticky:p,hideWhenDetached:m,avoidCollisions:x}:{};return P.jsx(rK,{scope:n,content:_,viewport:S,onViewportChange:k,itemRefCallback:K,selectedItem:w,onItemLeave:O,itemTextRefCallback:J,focusSelectedItem:X,selectedItemText:E,position:r,isPositioned:N,searchRef:L,children:P.jsx(Dm,{as:ya,allowPinchZoom:!0,children:P.jsx(Pm,{asChild:!0,trapped:y.open,onMountAutoFocus:ue=>{ue.preventDefault()},onUnmountAutoFocus:_e(i,ue=>{var de;(de=y.trigger)==null||de.focus({preventScroll:!0}),ue.preventDefault()}),children:P.jsx(zu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:ue=>ue.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:P.jsx(Ee,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:ue=>ue.preventDefault(),...v,...fe,onPlaced:()=>j(!0),ref:b,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:_e(v.onKeyDown,ue=>{const de=ue.ctrlKey||ue.altKey||ue.metaKey;if(ue.key==="Tab"&&ue.preventDefault(),!de&&ue.key.length===1&&U(ue.key),["ArrowUp","ArrowDown","Home","End"].includes(ue.key)){let Oe=D().filter(Be=>!Be.disabled).map(Be=>Be.ref.current);if(["ArrowUp","End"].includes(ue.key)&&(Oe=Oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(ue.key)){const Be=ue.target,Qe=Oe.indexOf(Be);Oe=Oe.slice(Qe+1)}setTimeout(()=>Q(Oe)),ue.preventDefault()}})})})})})})});iK.displayName=QAe;var XAe="SelectItemAlignedPosition",oK=T.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,o=bc(Pu,n),s=Ec(Pu,n),[a,l]=T.useState(null),[c,u]=T.useState(null),h=St(e,b=>u(b)),d=tw(n),f=T.useRef(!1),p=T.useRef(!0),{viewport:m,selectedItem:x,selectedItemText:v,focusSelectedItem:y}=s,_=T.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&c&&m&&x&&v){const b=o.trigger.getBoundingClientRect(),w=c.getBoundingClientRect(),A=o.valueNode.getBoundingClientRect(),E=v.getBoundingClientRect();if(o.dir!=="rtl"){const Be=E.left-w.left,Qe=A.left-Be,ct=b.left-Qe,We=b.width+ct,jt=Math.max(We,w.width),on=window.innerWidth-Js,Fn=F7(Qe,[Js,on-jt]);a.style.minWidth=We+"px",a.style.left=Fn+"px"}else{const Be=w.right-E.right,Qe=window.innerWidth-A.right-Be,ct=window.innerWidth-b.right-Qe,We=b.width+ct,jt=Math.max(We,w.width),on=window.innerWidth-Js,Fn=F7(Qe,[Js,on-jt]);a.style.minWidth=We+"px",a.style.right=Fn+"px"}const R=d(),D=window.innerHeight-Js*2,N=m.scrollHeight,j=window.getComputedStyle(c),$=parseInt(j.borderTopWidth,10),Q=parseInt(j.paddingTop,10),X=parseInt(j.borderBottomWidth,10),q=parseInt(j.paddingBottom,10),H=$+Q+N+q+X,L=Math.min(x.offsetHeight*5,H),U=window.getComputedStyle(m),K=parseInt(U.paddingTop,10),O=parseInt(U.paddingBottom,10),J=b.top+b.height/2-Js,Ee=D-J,fe=x.offsetHeight/2,ue=x.offsetTop+fe,de=$+Q+ue,ze=H-de;if(de<=J){const Be=x===R[R.length-1].ref.current;a.style.bottom="0px";const Qe=c.clientHeight-m.offsetTop-m.offsetHeight,ct=Math.max(Ee,fe+(Be?O:0)+Qe+X),We=de+ct;a.style.height=We+"px"}else{const Be=x===R[0].ref.current;a.style.top="0px";const ct=Math.max(J,$+m.offsetTop+(Be?K:0)+fe)+ze;a.style.height=ct+"px",m.scrollTop=de-J+m.offsetTop}a.style.margin=`${Js}px 0`,a.style.minHeight=L+"px",a.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>f.current=!0)}},[d,o.trigger,o.valueNode,a,c,m,x,v,o.dir,r]);Vr(()=>_(),[_]);const[C,S]=T.useState();Vr(()=>{c&&S(window.getComputedStyle(c).zIndex)},[c]);const k=T.useCallback(b=>{b&&p.current===!0&&(_(),y==null||y(),p.current=!1)},[_,y]);return P.jsx(ZAe,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:f,onScrollButtonChange:k,children:P.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:P.jsx(He.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});oK.displayName=XAe;var YAe="SelectPopperPosition",ok=T.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Js,...o}=t,s=nw(n);return P.jsx(Yy,{...s,...o,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});ok.displayName=YAe;var[ZAe,G4]=df(Pu,{}),sk="SelectViewport",sK=T.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,o=Ec(sk,n),s=G4(sk,n),a=St(e,o.onViewportChange),l=T.useRef(0);return P.jsxs(P.Fragment,{children:[P.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),P.jsx(ew.Slot,{scope:n,children:P.jsx(He.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"auto",...i.style},onScroll:_e(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:d}=s;if(d!=null&&d.current&&h){const f=Math.abs(l.current-u.scrollTop);if(f>0){const p=window.innerHeight-Js*2,m=parseFloat(h.style.minHeight),x=parseFloat(h.style.height),v=Math.max(m,x);if(v<p){const y=v+f,_=Math.min(p,y),C=y-_;h.style.height=_+"px",h.style.bottom==="0px"&&(u.scrollTop=C>0?C:0,h.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});sK.displayName=sk;var aK="SelectGroup",[e4e,t4e]=df(aK),lK=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Fo();return P.jsx(e4e,{scope:n,id:i,children:P.jsx(He.div,{role:"group","aria-labelledby":i,...r,ref:e})})});lK.displayName=aK;var cK="SelectLabel",uK=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=t4e(cK,n);return P.jsx(He.div,{id:i.id,...r,ref:e})});uK.displayName=cK;var sy="SelectItem",[n4e,hK]=df(sy),dK=T.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...s}=t,a=bc(sy,n),l=Ec(sy,n),c=a.value===r,[u,h]=T.useState(o??""),[d,f]=T.useState(!1),p=St(e,v=>{var y;return(y=l.itemRefCallback)==null?void 0:y.call(l,v,r,i)}),m=Fo(),x=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return P.jsx(n4e,{scope:n,value:r,disabled:i,textId:m,isSelected:c,onItemTextChange:T.useCallback(v=>{h(y=>y||((v==null?void 0:v.textContent)??"").trim())},[]),children:P.jsx(ew.ItemSlot,{scope:n,value:r,disabled:i,textValue:u,children:P.jsx(He.div,{role:"option","aria-labelledby":m,"data-highlighted":d?"":void 0,"aria-selected":c&&d,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:p,onFocus:_e(s.onFocus,()=>f(!0)),onBlur:_e(s.onBlur,()=>f(!1)),onPointerUp:_e(s.onPointerUp,x),onPointerMove:_e(s.onPointerMove,v=>{var y;i?(y=l.onItemLeave)==null||y.call(l):v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:_e(s.onPointerLeave,v=>{var y;v.currentTarget===document.activeElement&&((y=l.onItemLeave)==null||y.call(l))}),onKeyDown:_e(s.onKeyDown,v=>{var _;((_=l.searchRef)==null?void 0:_.current)!==""&&v.key===" "||(HAe.includes(v.key)&&x(),v.key===" "&&v.preventDefault())})})})})});dK.displayName=sy;var pp="SelectItemText",fK=T.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...o}=t,s=bc(pp,n),a=Ec(pp,n),l=hK(pp,n),c=KAe(pp,n),[u,h]=T.useState(null),d=St(e,v=>h(v),l.onItemTextChange,v=>{var y;return(y=a.itemTextRefCallback)==null?void 0:y.call(a,v,l.value,l.disabled)}),f=u==null?void 0:u.textContent,p=T.useMemo(()=>P.jsx("option",{value:l.value,disabled:l.disabled,children:f},l.value),[l.disabled,l.value,f]),{onNativeOptionAdd:m,onNativeOptionRemove:x}=c;return Vr(()=>(m(p),()=>x(p)),[m,x,p]),P.jsxs(P.Fragment,{children:[P.jsx(He.span,{id:l.textId,...o,ref:d}),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?jo.createPortal(o.children,s.valueNode):null]})});fK.displayName=pp;var pK="SelectItemIndicator",mK=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return hK(pK,n).isSelected?P.jsx(He.span,{"aria-hidden":!0,...r,ref:e}):null});mK.displayName=pK;var ak="SelectScrollUpButton",gK=T.forwardRef((t,e)=>{const n=Ec(ak,t.__scopeSelect),r=G4(ak,t.__scopeSelect),[i,o]=T.useState(!1),s=St(e,r.onScrollButtonChange);return Vr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;o(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?P.jsx(vK,{...t,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});gK.displayName=ak;var lk="SelectScrollDownButton",xK=T.forwardRef((t,e)=>{const n=Ec(lk,t.__scopeSelect),r=G4(lk,t.__scopeSelect),[i,o]=T.useState(!1),s=St(e,r.onScrollButtonChange);return Vr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;o(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?P.jsx(vK,{...t,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});xK.displayName=lk;var vK=T.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,o=Ec("SelectScrollButton",n),s=T.useRef(null),a=tw(n),l=T.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return T.useEffect(()=>()=>l(),[l]),Vr(()=>{var u;const c=a().find(h=>h.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),P.jsx(He.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:_e(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:_e(i.onPointerMove,()=>{var c;(c=o.onItemLeave)==null||c.call(o),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:_e(i.onPointerLeave,()=>{l()})})}),r4e="SelectSeparator",yK=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return P.jsx(He.div,{"aria-hidden":!0,...r,ref:e})});yK.displayName=r4e;var ck="SelectArrow",i4e=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=nw(n),o=bc(ck,n),s=Ec(ck,n);return o.open&&s.position==="popper"?P.jsx(Zy,{...i,...r,ref:e}):null});i4e.displayName=ck;function _K(t){return t===""||t===void 0}var wK=T.forwardRef((t,e)=>{const{value:n,...r}=t,i=T.useRef(null),o=St(e,i),s=zAe(n);return T.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==n&&u){const h=new Event("change",{bubbles:!0});u.call(a,n),a.dispatchEvent(h)}},[s,n]),P.jsx(Am,{asChild:!0,children:P.jsx("select",{...r,ref:o,defaultValue:n})})});wK.displayName="BubbleSelect";function CK(t){const e=Br(t),n=T.useRef(""),r=T.useRef(0),i=T.useCallback(s=>{const a=n.current+s;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),o=T.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return T.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function bK(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let s=o4e(t,Math.max(o,0));i.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function o4e(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var EK=Jq,J4=Xq,SK=Zq,kK=eK,TK=tK,Q4=nK,AK=sK,s4e=lK,IK=uK,X4=dK,RK=fK,a4e=mK,PK=gK,DK=xK,Y4=yK;const rw=F.forwardRef(({title:t,children:e},n)=>{const r=Qr(Km);return F.createElement(KB,{delayDuration:100},F.createElement(GB,null,F.createElement(JB,{ref:n,asChild:!0},F.createElement("span",{className:Ke.tooltipTrigger},e)),F.createElement(nhe,{container:r==null?void 0:r.current},F.createElement(E5,{className:ji(Ke.tooltipContent),sideOffset:10},t))))}),l4e=F.forwardRef(({children:t,className:e,...n},r)=>F.createElement(X4,{...n,ref:r,className:ji(e,Ke.selectItem)},F.createElement(RK,null,t))),c4e=({title:t,placeholder:e,className:n})=>{const[r,i]=qi(wu,Ki);return F.createElement(rw,{title:t},F.createElement(J4,{"aria-label":e,className:ji(Ke.selectTrigger,n),"data-toolbar-item":!0,disabled:r},F.createElement(SK,{placeholder:e}),F.createElement(kK,{className:Ke.selectDropdownArrow},i("arrow_drop_down"))))},u4e=({children:t,className:e=Ke.selectContainer})=>{const n=Qr(Km);return F.createElement(TK,{container:n==null?void 0:n.current},F.createElement(Q4,{className:ji(e,"mdxeditor-select-content"),onCloseAutoFocus:r=>{r.preventDefault()},position:"popper"},F.createElement(AK,{"data-editor-dropdown":!0},t)))},Z4=t=>F.createElement(EK,{value:t.value||void 0,onValueChange:t.onChange},F.createElement(c4e,{title:t.triggerTitle,placeholder:t.placeholder}),F.createElement(u4e,null,t.items.map((e,n)=>e==="separator"?F.createElement(Y4,{key:n}):F.createElement(l4e,{key:n,value:e.value},e.label)))),B7="__EMPTY_VALUE__",h4e=({language:t,nodeKey:e,code:n,focusEmitter:r})=>{const i=zr(),{parentEditor:o,lexicalNode:s}=aS(),[a,l,c,u,h]=qi(wu,uk,hk,Ki,ay),d=H5e(e,"codeblock",t,r),{setCode:f}=aS(),p=F.useRef(null),m=F.useRef(null),x=F.useRef(f);return x.current=f,d.current={getCodemirror:()=>p.current},F.useEffect(()=>((async()=>{const v=[...l,jAe,Y5e,xW(),be.lineWrapping,be.updateListener.of(({state:y})=>{x.current(y.doc.toString())})];if(a&&v.push(_t.readOnly.of(!0)),t!==""&&c){const y=U5e.find(_=>_.name===t||_.alias.includes(t)||_.extensions.includes(t));if(y)try{const _=await y.load();v.push(_.extension)}catch{console.warn("failed to load language support for",t)}}m.current.innerHTML="",p.current=new be({parent:m.current,state:_t.create({doc:n,extensions:v})})})(),()=>{var v;(v=p.current)==null||v.destroy(),p.current=null}),[a,t]),F.createElement("div",{className:Ke.codeMirrorWrapper,onKeyDown:v=>{v.stopPropagation()}},F.createElement("div",{className:Ke.codeMirrorToolbar},F.createElement(Z4,{value:t,onChange:v=>{o.update(()=>{s.setLanguage(v===B7?"":v),setTimeout(()=>{o.update(()=>{s.getLatest().select()})})})},triggerTitle:i("codeBlock.selectLanguage","Select code block language"),placeholder:i("codeBlock.inlineLanguage","Language"),items:Object.entries(h).map(([v,y])=>({value:v||B7,label:y}))}),F.createElement("button",{className:Ke.iconButton,type:"button",title:i("codeblock.delete","Delete code block"),onClick:v=>{v.preventDefault(),o.update(()=>{s.remove()})}},u("delete_small"))),F.createElement("div",{ref:m}))},ay=Ge({js:"JavaScript",ts:"TypeScript",tsx:"TypeScript (React)",jsx:"JavaScript (React)",css:"CSS"}),d4e=si(t=>{t.link(t.pipe(d4e,f_(({language:e,code:n})=>({code:n,language:e,meta:""}))),a4)}),uk=Ge([]),hk=Ge(!0),f4e=Pa({update(t,e){t.pubIn({[ay]:e==null?void 0:e.codeBlockLanguages,[uk]:(e==null?void 0:e.codeMirrorExtensions)??[],[hk]:(e==null?void 0:e.autoLoadLanguageSupport)??!0})},init(t,e){t.pubIn({[ay]:e==null?void 0:e.codeBlockLanguages,[uk]:(e==null?void 0:e.codeMirrorExtensions)??[],[yCe]:p4e((e==null?void 0:e.codeBlockLanguages)??{}),[hk]:(e==null?void 0:e.autoLoadLanguageSupport)??!0})}});function p4e(t){return{match(e,n){return!!Object.hasOwn(t,e??"")&&!n},priority:1,Editor:h4e}}function e3(t,e){return F.forwardRef((n,r)=>{const i=ji(e.className,n.className);return F.createElement(t,{...e,...n,className:i,ref:r})})}function m4e(t){return({title:e,children:n,...r})=>F.createElement(t,{...r},F.createElement(rw,{title:e},n))}const g4e=({readOnly:t,children:e})=>F.createElement(ZA,{className:ji("mdxeditor-toolbar",Ke.toolbarRoot,{[Ke.readOnlyToolbarRoot]:t}),...t?{tabIndex:-1}:{}},e),x4e=e3(ru,{className:Ke.toolbarButton,"data-toolbar-item":!0}),t3=m4e(x4e),MK=e3(ox,{className:Ke.toolbarToggleItem,"data-toolbar-item":!0});e3(V_,{type:"single",className:Ke.toolbarToggleSingleGroup});const NK=F.forwardRef(({on:t,title:e,children:n,disabled:r,...i},o)=>F.createElement(V_,{type:"single",className:Ke.toolbarToggleSingleGroup,...i,value:t?"on":"off",ref:o},F.createElement(MK,{title:e,value:"on",disabled:r},F.createElement(rw,{title:e},n)))),OK=({items:t})=>F.createElement("div",{className:Ke.toolbarGroupOfGroups},t.map((e,n)=>F.createElement(NK,{key:n,title:e.title,on:e.active,onValueChange:r=>{e.onChange(r==="on")},disabled:e.disabled},e.contents))),v4e=({value:t,onChange:e,className:n,items:r})=>{const i=zr();return F.createElement("div",{className:Ke.toolbarGroupOfGroups},F.createElement(V_,{"aria-label":i("toolbar.toggleGroup","toggle group"),type:"single",className:ji(Ke.toolbarToggleSingleGroup,n),onValueChange:e,value:t||"",onFocus:o=>{o.preventDefault()}},r.map((o,s)=>F.createElement(MK,{key:s,"aria-label":o.title,value:o.value},F.createElement(rw,{title:o.title},o.contents)))))};function V7(t){return Object.hasOwn(t,"when")}const y4e=({options:t})=>{const e=Qr(L_),n=F.useMemo(()=>{const r=t.find(i=>{if(V7(i)){if(i.when(e))return!0}else return!0});return r?V7(r)?r.contents():r.fallback():null},[t,e]);return F.createElement("div",{style:{display:"flex"}},n)},fh=vH,BC=Ge(()=>null),j7=()=>"This is an empty toolbar. Pass `{toolbarContents: () => { return <>toolbar components</> }}` to the toolbarPlugin to customize it.",_4e=Pa({init(t,e){t.pubIn({[BC]:(e==null?void 0:e.toolbarContents)??j7,[Mve]:()=>{const[n,r]=qi(BC,wu);return F.createElement(g4e,{readOnly:r},n())}})},update(t,e){t.pub(BC,(e==null?void 0:e.toolbarContents)??j7)}}),w4e=()=>{const t=Ra(Mv),e=Qr(_$),n=Qr(w$),r=n.includes("quote"),i=n.includes("headings"),o=zr();if(!r&&!i)return null;const s=[{label:o("toolbar.blockTypes.paragraph","Paragraph"),value:"paragraph"}];if(r&&s.push({label:o("toolbar.blockTypes.quote","Quote"),value:"quote"}),i){const a=Qr($A);s.push(...a.map(l=>({label:o("toolbar.blockTypes.heading","Heading {{level}}",{level:l}),value:`h${l}`})))}return F.createElement(Z4,{value:e,onChange:a=>{switch(a){case"quote":t(()=>R_());break;case"paragraph":t(()=>Zt());break;case"":break;default:if(a.startsWith("h"))t(()=>Cl(a));else throw new Error(`Unknown block type: ${a}`)}},triggerTitle:o("toolbar.blockTypeSelect.selectBlockTypeTooltip","Select block type"),placeholder:o("toolbar.blockTypeSelect.placeholder","Block type"),items:s})},hd=({format:t,addTitle:e,removeTitle:n,icon:r,formatName:i})=>{const[o,s]=qi(RA,Ki),a=Ra(PA),l=(o&t)!==0;return F.createElement(NK,{title:l?n:e,on:l,onValueChange:()=>{a(i)}},s(r))},C4e=({options:t})=>{const e=zr(),n=typeof t>"u";return F.createElement("div",{className:Ke.toolbarGroupOfGroups},n||t.includes("Bold")?F.createElement(hd,{format:Lp,addTitle:e("toolbar.bold","Bold"),removeTitle:e("toolbar.removeBold","Remove bold"),icon:"format_bold",formatName:"bold"}):null,n||t.includes("Italic")?F.createElement(hd,{format:Fp,addTitle:e("toolbar.italic","Italic"),removeTitle:e("toolbar.removeItalic","Remove italic"),icon:"format_italic",formatName:"italic"}):null,n||t.includes("Underline")?F.createElement(hd,{format:Vp,addTitle:e("toolbar.underline","Underline"),removeTitle:e("toolbar.removeUnderline","Remove underline"),icon:"format_underlined",formatName:"underline"}):null)},b4e=({options:t})=>{const e=zr(),n=typeof t>"u";return F.createElement("div",{className:Ke.toolbarGroupOfGroups},n||t.includes("Strikethrough")?F.createElement(hd,{format:Bp,addTitle:e("toolbar.strikethrough","Strikethrough"),removeTitle:e("toolbar.removeStrikethrough","Remove strikethrough"),icon:"strikeThrough",formatName:"strikethrough"}):null,n||t.includes("Sup")?F.createElement(hd,{format:zp,addTitle:e("toolbar.superscript","Superscript"),removeTitle:e("toolbar.removeSuperscript","Remove superscript"),icon:"superscript",formatName:"superscript"}):null,n||t.includes("Sub")?F.createElement(hd,{format:jp,addTitle:e("toolbar.subscript","Subscript"),removeTitle:e("toolbar.removeSubscript","Remove subscript"),icon:"subscript",formatName:"subscript"}):null)},VC="__EMPTY_VALUE__",E4e=()=>{const[t,e,n]=qi(L_,ai,ay),r=t.rootNode,i=zr();let o=r.getLanguage();return o===""&&(o=VC),F.createElement("div",{className:Ke.selectWithLabel},F.createElement("label",null,i("codeBlock.language","Code block language")),F.createElement(Z4,{value:o,onChange:s=>{e==null||e.update(()=>{r.setLanguage(s===VC?"":s),setTimeout(()=>{e.update(()=>{r.getLatest().select()})})})},triggerTitle:i("codeBlock.selectLanguage","Select code block language"),placeholder:i("codeBlock.language","Code block language"),items:Object.entries(n).map(([s,a])=>({value:s||VC,label:a}))}))},S4e=()=>{const[t,e]=qi(RA,Ki),n=Ra(PA),r=zr(),i=(t&N_)!==0,o=i?r("toolbar.removeInlineCode","Remove code format"):r("toolbar.inlineCode","Inline code format");return F.createElement(OK,{items:[{title:o,contents:e("code"),active:i,onChange:n.bind(null,"code")}]})},k4e=()=>{const t=Ra(a4),e=Qr(Ki),n=zr();return F.createElement(t3,{title:n("toolbar.codeBlock","Insert Code Block"),onClick:()=>{t({})}},e("frame_source"))},T4e=()=>{const t=Qr(Ki),e=Ra(CH),n=zr();return F.createElement(t3,{title:n("toolbar.table","Insert Table"),onClick:()=>{e({rows:3,columns:3})}},t("table"))},A4e=()=>{const t=Ra(N$),e=Qr(Ki),n=zr();return F.createElement(t3,{title:n("toolbar.thematicBreak","Insert thematic break"),onClick:()=>{t()}},e("horizontal_rule"))},I4e={bullet:"format_list_bulleted",number:"format_list_numbered",check:"format_list_checked"},R4e=({options:t=["bullet","number","check"]})=>{const[e,n]=qi(sS,Ki),r=Ra($$),i=zr(),o={bullet:i("toolbar.bulletedList","Bulleted list"),number:i("toolbar.numberedList","Numbered list"),check:i("toolbar.checkList","Check list")},s=t.map(a=>({value:a,title:o[a],contents:n(I4e[a])}));return F.createElement(v4e,{value:e||"",items:s,onChange:r})},P4e=()=>{const[t,e]=qi(Ki,ai),[n,r]=F.useState(!1),[i,o]=F.useState(!1),s=zr();return F.useEffect(()=>{if(e)return Ls(e.registerCommand(sp,a=>(r(a),!1),Ss),e.registerCommand(op,a=>(o(a),!1),Ss))},[e]),F.createElement(OK,{items:[{title:s("toolbar.undo","Undo {{shortcut}}",{shortcut:WE?"⌘Z":"Ctrl+Z"}),disabled:!n,contents:t("undo"),active:!1,onChange:()=>e==null?void 0:e.dispatchCommand(g_,void 0)},{title:s("toolbar.redo","Redo {{shortcut}}",{shortcut:WE?"⌘Y":"Ctrl+Y"}),disabled:!i,contents:t("redo"),active:!1,onChange:()=>e==null?void 0:e.dispatchCommand(x_,void 0)}]})},D4e=T.forwardRef(function({content:e,handleEditContent:n},r){return P.jsx(P.Fragment,{children:P.jsx(swe,{ref:r,markdown:e,onBlur:n,onError:console.log,plugins:[hwe(),uCe(),J2e(),vwe(),zwe(),_Ce({defaultCodeBlockLanguage:"js"}),f4e({codeBlockLanguages:{js:" JavaScript",css:"CSS",jsx:"JavaScript (React)",ts:"TypeScript",tsx:"TypeScript (React)"}}),_4e({toolbarContents:()=>P.jsx(P.Fragment,{children:P.jsx(y4e,{options:[{when:i=>(i==null?void 0:i.editorType)==="codeblock",contents:()=>P.jsx(E4e,{})},{fallback:()=>P.jsxs(P.Fragment,{children:[P.jsx(P4e,{}),P.jsx(fh,{}),P.jsx(w4e,{}),P.jsx(fh,{}),P.jsx(C4e,{}),P.jsx(fh,{}),P.jsx(b4e,{}),P.jsx(fh,{}),P.jsx(S4e,{}),P.jsx(k4e,{}),P.jsx(fh,{}),P.jsx(T4e,{}),P.jsx(A4e,{}),P.jsx(fh,{}),P.jsx(R4e,{})]})}]})})})],className:"[&_div.mdxeditor-toolbar]:rounded-b-none",contentEditableClassName:"bg-zinc-600 rounded-b prose prose-invert font-['Poppins'] max-w-none"})})}),M4e=T.forwardRef(function({encrypted:e,...n},r){return P.jsx(Ko,{ref:r,...n,message:e?"Decrypt Content":"Encrypt Content",children:e?P.jsx(Yle,{}):P.jsx(Zle,{})})}),N4e=iCe,O4e=oCe,L4e=sCe,LK=T.forwardRef(({className:t,...e},n)=>P.jsx(VH,{ref:n,className:dt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));LK.displayName=VH.displayName;const FK=T.forwardRef(({className:t,children:e,...n},r)=>P.jsxs(L4e,{children:[P.jsx(LK,{}),P.jsxs(jH,{ref:r,className:dt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,P.jsxs(aCe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[P.jsx(pB,{className:"h-4 w-4"}),P.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));FK.displayName=jH.displayName;const BK=({className:t,...e})=>P.jsx("div",{className:dt("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});BK.displayName="DialogHeader";const VK=({className:t,...e})=>P.jsx("div",{className:dt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});VK.displayName="DialogFooter";const jK=T.forwardRef(({className:t,...e},n)=>P.jsx(zH,{ref:n,className:dt("text-lg font-semibold leading-none tracking-tight",t),...e}));jK.displayName=zH.displayName;const zK=T.forwardRef(({className:t,...e},n)=>P.jsx($H,{ref:n,className:dt("text-sm text-muted-foreground",t),...e}));zK.displayName=$H.displayName;var F4e="Label",$K=T.forwardRef((t,e)=>P.jsx(He.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));$K.displayName=F4e;var HK=$K;const B4e=d5("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),UK=T.forwardRef(({className:t,...e},n)=>P.jsx(HK,{ref:n,className:dt(B4e(),t),...e}));UK.displayName=HK.displayName;function V4e({handleEncryptContent:t,encrypted:e,openDialog:n,handleDialog:r}){const i=T.useRef(null);function o(){const s=i.current.value;t(s)}return P.jsxs(N4e,{open:n,onOpenChange:r,children:[P.jsx(O4e,{asChild:!0,children:P.jsx(M4e,{encrypted:e})}),P.jsxs(FK,{className:"sm:max-w-[425px]",children:[P.jsxs(BK,{children:[P.jsx(jK,{children:"Secret Key"}),P.jsx(zK,{children:"Type in your secret key to encrypt or decrypt your content."})]}),P.jsx("div",{className:"py-4",children:P.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[P.jsx(UK,{htmlFor:"secret-key",className:"text-right",children:"Secret Key"}),P.jsx(E0,{id:"secret-key",className:"col-span-3",ref:i,autoComplete:"off"})]})}),P.jsx(VK,{children:P.jsx(Ql,{onClick:o,children:e?"Decrypt":"Encrypt"})})]})]})}function n3({selected:t,...e}){return P.jsx(Ko,{...e,message:"Select Note",children:t?P.jsx(ice,{}):P.jsx(oce,{})})}function j4e({eachContent:t,handleUpdateEncryptContent:e,handleUpdateEditContent:n,handleUpdateSelectContent:r,isEditing:i}){const o=T.useRef(null),[s,a]=T.useState(!1);function l(){const h=o.current.getMarkdown();n(t.id,h)}function c(h){if(t.encrypted===!1){const d=oee(h,t.textValue);e(t.id,d),a(!1)}else{const d=see(h,t.textValue);e(t.id,d),a(!1)}}function u(){r(t.id)}return P.jsxs("div",{className:"flex flex-col gap-3",children:[P.jsxs("div",{className:"flex items-center gap-1",children:[P.jsx(n3,{selected:t.selected,onClick:u,disabled:i}),P.jsx(V4e,{handleEncryptContent:c,encrypted:t.encrypted,openDialog:s,handleDialog:a,disabled:i})]}),P.jsx(D4e,{ref:o,content:t.textValue,handleEditContent:l},Date.now())]})}function z4e({handleUpdateSelectContent:t,eachContent:e}){function n(){t(e.id)}return P.jsxs("div",{className:"flex flex-col gap-3 xs:flex-row xs:items-center",children:[P.jsx(n3,{selected:e.selected,onClick:n}),e.audioUrl&&P.jsx("audio",{controls:!0,src:e.audioUrl,className:"w-full max-w-xs"})]})}const $4e=EK,H4e=s4e,U4e=SK,WK=T.forwardRef(({className:t,children:e,...n},r)=>P.jsxs(J4,{ref:r,className:dt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,P.jsx(kK,{asChild:!0,children:P.jsx(fB,{className:"h-4 w-4 opacity-50"})})]}));WK.displayName=J4.displayName;const qK=T.forwardRef(({className:t,...e},n)=>P.jsx(PK,{ref:n,className:dt("flex cursor-default items-center justify-center py-1",t),...e,children:P.jsx(Wle,{className:"h-4 w-4"})}));qK.displayName=PK.displayName;const KK=T.forwardRef(({className:t,...e},n)=>P.jsx(DK,{ref:n,className:dt("flex cursor-default items-center justify-center py-1",t),...e,children:P.jsx(fB,{className:"h-4 w-4"})}));KK.displayName=DK.displayName;const GK=T.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>P.jsx(TK,{children:P.jsxs(Q4,{ref:i,className:dt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[P.jsx(qK,{}),P.jsx(AK,{className:dt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),P.jsx(KK,{})]})}));GK.displayName=Q4.displayName;const W4e=T.forwardRef(({className:t,...e},n)=>P.jsx(IK,{ref:n,className:dt("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));W4e.displayName=IK.displayName;const JK=T.forwardRef(({className:t,children:e,...n},r)=>P.jsxs(X4,{ref:r,className:dt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[P.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:P.jsx(a4e,{children:P.jsx(dB,{className:"h-4 w-4"})})}),P.jsx(RK,{children:e})]}));JK.displayName=X4.displayName;const q4e=T.forwardRef(({className:t,...e},n)=>P.jsx(Y4,{ref:n,className:dt("-mx-1 my-1 h-px bg-muted",t),...e}));q4e.displayName=Y4.displayName;const QK=[{name:"British English",code:"en-GB"},{name:"China Chinese",code:"zh-CN"}];function K4e({handleSelectLanguage:t,className:e}){return P.jsxs($4e,{onValueChange:t,children:[P.jsx(WK,{className:e,children:P.jsx(U4e,{placeholder:"Select a language"})}),P.jsx(GK,{children:P.jsx(H4e,{children:QK.map(n=>P.jsx(JK,{value:n.code,children:n.name},n.code))})})]})}function z7(t,e){if(t==="en-GB")return e.replaceAll("punctuation comma",", ").replaceAll("punctuation period",". ").replaceAll("punctuation semicolon","; ").replaceAll("punctuation dash","- ").replaceAll("punctuation underscore","_").replaceAll("punctuation quotation mark",'"').replaceAll("punctuation colon",": ").replaceAll("punctuation apostrophe","'").replaceAll("punctuation exclamation point","! ").replaceAll("punctuation question mark","? ").replaceAll("punctuation opening paranthenses","(").replaceAll("punctuation closing paranthenses",")").replaceAll("punctuation opening bracket","{").replaceAll("punctuation closing bracket","}");if(t==="zh-CN")return e.replaceAll("逗号","，").replaceAll("句号","。").replaceAll("分号","；").replaceAll("破折号","- ").replaceAll("引号","‘").replaceAll("冒号","：").replaceAll("感叹号","！").replaceAll("问号","？").replaceAll("开括号","（").replaceAll("关括号","）").replaceAll("顿号","、")}function G4e(t){const[e,n]=T.useState(!1),[r,i]=T.useState(!1),[o,s]=T.useState(null),[a,l]=T.useState(""),[c,u]=T.useState(""),h=T.useRef(null),d=T.useRef([]),f=T.useRef(null),p=T.useRef(null),{toast:m}=Ms();T.useEffect(()=>(navigator.mediaDevices.getUserMedia({audio:!0}).then(_=>{h.current=new MediaRecorder(_),h.current.ondataavailable=C=>{d.current.push(C.data)},h.current.onstop=()=>{const C=new Blob(d.current,{type:"audio/wav"}),S=URL.createObjectURL(C);p.current=C,s(S),d.current=[]}}).catch(_=>m({title:"Error accessing microphone:",description:_.message})),f.current=new(window.SpeechRecognition||window.webkitSpeechRecognition),f.current.interimResults=!0,f.current.continuous=!0,f.current.lang=t,f.current.onresult=_=>{let C="";for(let S=_.resultIndex;S<_.results.length;S++){const k=_.results[S][0].transcript;_.results[S].isFinal?(l(b=>z7(t,`${b} ${k}`)),u("")):(C+=k,u(z7(t,C)))}},()=>{console.log("Cleanup"),h.current&&h.current.stream.getTracks().forEach(_=>_.stop()),f.current&&(f.current.stop(),f.current.onresult=null)}),[t,m]);const x=()=>{if(!h.current||!f.current){m({title:"Error",description:"Audio initialization failed."});return}h.current.state!=="paused"?h.current.start():h.current.resume(),f.current.start(),n(!0)},v=()=>{h.current&&h.current.pause(),f.current&&f.current.stop(),n(!1)},y=()=>{if(!a)return m({title:"Start Recording",description:"No recording process can be stopped!"});h.current&&h.current.stop(),f.current&&f.current.stop(),n(!1),i(!0),h.current.stream.getTracks().forEach(_=>_.stop()),f.current.onresult=null};return{isRecording:e,doneRecording:r,audioUrl:o,audioFile:p.current,transcript:a,interimScript:c,startRecording:x,pauseRecording:v,stopRecording:y}}function J4e({eachContent:t,handleAddNewAudioTextContent:e,handleUpdateSelectContent:n}){const[r,i]=T.useState(QK[0].code),{isRecording:o,doneRecording:s,audioUrl:a,audioFile:l,transcript:c,interimScript:u,startRecording:h,pauseRecording:d,stopRecording:f}=G4e(r);T.useEffect(()=>{a&&l&&s&&e(t.id,a,l,c)},[a,l,e,t.id,c,s]);function p(){n(t.id)}const m=(c+" "+u).trim();return P.jsxs("div",{className:"flex flex-col gap-3",children:[!s&&P.jsxs("div",{className:"flex flex-col flex-wrap gap-3 md:flex-row",children:[P.jsx(n3,{selected:t.selected,onClick:p}),P.jsx(K4e,{handleSelectLanguage:i,className:"w-auto max-w-xs"}),P.jsx(Ql,{onClick:o?d:h,className:"max-w-xs bg-zinc-200 text-black hover:bg-zinc-200/90 md:self-start",children:o?"Pause Recording ⏸️":"Start Recording 🎙️"}),P.jsx(Ql,{onClick:f,className:"max-w-xs bg-zinc-200 text-black hover:bg-zinc-200/90 md:self-start",children:"Stop Recording 🛑"})]}),!s&&m&&P.jsx("p",{className:"rounded bg-zinc-600 px-4 py-2 text-white",children:m})]})}function Q4e({temperoraryContent:t,handleUpdateEncryptContent:e,handleUpdateEditContent:n,handleUpdateSelectContent:r,handleAddNewAudioTextContent:i,isEditing:o}){const s=T.useRef(null),{selectedNoteId:a}=Ry();T.useEffect(()=>{s.current&&s.current.scrollIntoView({behavior:"instant"})},[a]);const l=t.sort((c,u)=>c.createdAt-u.createdAt);return P.jsxs("div",{className:"flex flex-col gap-9 px-4 py-2",children:[l.map(c=>c.type==="audio"&&c.recorded?P.jsx(z4e,{eachContent:c,handleUpdateSelectContent:r},c.id):c.type==="audio"&&!c.recorded?P.jsx(J4e,{eachContent:c,handleUpdateSelectContent:r,handleAddNewAudioTextContent:i},c.id):P.jsx(j4e,{eachContent:c,handleUpdateEncryptContent:e,handleUpdateEditContent:n,handleUpdateSelectContent:r,isEditing:o},c.id)),P.jsx("div",{ref:s})]})}function X4e(){const t=um(),{isLoading:e,mutate:n}=Lu({mutationFn:({noteId:r,content:i})=>Fle(i,r),onSuccess:()=>{t.invalidateQueries({queryKey:["notes"]})}});return{isEditing:e,editNoteContent:n}}function Y4e(){return P.jsx(Ql,{size:"icon",className:"fixed bottom-4 right-4 z-10 h-9 w-9 border-0 bg-zinc-300 hover:bg-zinc-300/90 lg:h-10 lg:w-10",onClick:()=>document.getElementById("contentIdentifier").scrollTo({top:0,left:0,behavior:"smooth"}),children:P.jsx(Hle,{className:"h-5 w-5 text-zinc-800 lg:h-6 lg:w-6"})})}function Z4e({noteContent:t,handleToggleSidebar:e}){const[n,r]=T.useState(t.content||[]),{editedRef:i}=Ry(),{isEditing:o,editNoteContent:s}=X4e(),{toast:a}=Ms();function l(){iee()?(i.current=!0,r(x=>{const v=Date.now();return[...x,{id:v,createdAt:v,type:"audio",selected:!1,recorded:!1}]})):a({title:"Error",description:"Your browser has no support of audio"})}const c=T.useCallback(function(v,y,_,C){i.current=!0,r(S=>{const k=S.map(A=>A.id===v?{...A,audioUrl:y,audioFile:_,recorded:!0}:A),b=Date.now();return[...k,{id:b,createdAt:b,type:"text",selected:!1,encrypted:!1,textValue:C,audioId:v}]})},[i]);function u(){i.current=!0,r(x=>{const v=Date.now();return[...x,{id:v,createdAt:v,type:"text",selected:!1,encrypted:!1,textValue:"",audioId:null}]})}function h(){if(i.current=!0,!n.some(_=>_.selected===!0))return;const v=n.filter(_=>_.selected!==!0);n.forEach(_=>{if(_.type==="audio"&&_.audioUrl)return URL.revokeObjectURL(_.audioUrl)});const y=v.map(_=>_.type==="text"&&_.audioId?{..._,audioId:null}:_);r(y)}function d(x){r(v=>v.map(y=>y.id===x?{...y,selected:!y.selected}:y))}function f(x,v){i.current=!0,r(y=>y.map(_=>_.id===x?{..._,textValue:v}:_))}function p(x,v){i.current=!0,r(y=>y.map(_=>_.id===x?{..._,textValue:v,encrypted:!_.encrypted}:_))}function m(){if(n.some(v=>v.type==="audio"&&v.recorded===!1))return a({title:"Error",description:"You have un-recorded audio pending"});s({noteId:t.id,content:n},{onSuccess:()=>{i.current=!1},onError:v=>a({title:v.name,description:v.message})})}return P.jsxs(P.Fragment,{children:[P.jsx(Tfe,{noteId:t.id,noteTitle:t.title,handleDeleteContent:h,handleAddNewAudioContent:l,handleAddNewTextContent:u,handleSaveContent:m,handleToggleSidebar:e,isEditing:o}),P.jsx(Q4e,{temperoraryContent:n,handleUpdateEncryptContent:p,handleUpdateEditContent:f,handleUpdateSelectContent:d,handleAddNewAudioTextContent:c,isEditing:o}),P.jsx(Y4e,{})]})}function XK({className:t,...e}){return P.jsx(Xle,{...e,className:cm("animate-spin",t)})}function e3e({selectedNoteId:t,handleToggleSidebar:e}){const{isLoading:n,noteContent:r=[],error:i}=Vle(t);return n?P.jsx("div",{className:"flex h-full items-center justify-center",children:P.jsx(XK,{className:"h-16 w-16 text-white"})}):i?null:P.jsx(P.Fragment,{children:P.jsx(Z4e,{noteContent:r,handleToggleSidebar:e})})}function t3e({className:t,selectedNoteId:e,handleToggleSidebar:n}){let r=P.jsxs(P.Fragment,{children:[P.jsx("div",{className:"sticky top-0 z-10 bg-zinc-800 px-4 py-2 sm:hidden",children:P.jsx(XB,{onClick:n})}),P.jsx("div",{className:"flex min-h-56 items-center justify-center px-4 text-center text-xl text-zinc-300",children:"Select A Note Or Create A Note By Pressing The Sidebar Button"})]});return e&&(r=P.jsx(e3e,{selectedNoteId:e,handleToggleSidebar:n},e)),P.jsx("div",{className:cm("overflow-auto",t),id:"contentIdentifier",children:r})}function n3e({className:t,children:e,...n}){return P.jsx("aside",{className:cm("overflow-auto",t),...n,children:e})}function r3e(){const t=um(),{isLoading:e,mutate:n}=Lu({mutationFn:({noteId:r})=>Ole(r),onSuccess:()=>{t.invalidateQueries({queryKey:["notes"]})}});return{isDeleting:e,deleteNote:n}}function i3e({selectedNoteId:t}){const{isDeleting:e,deleteNote:n}=r3e(),{deselectNote:r}=Ry(),{toast:i}=Ms();function o(){n({noteId:t},{onSuccess:r,onError:s=>i({title:s.name,description:s.message})})}return P.jsx(Ko,{onClick:o,message:"Delete Selected Note",disabled:e,children:P.jsx(ace,{})})}function o3e(){const{isLoading:t,mutate:e}=Lu({mutationFn:Ple});return{isLoggingOut:t,logoutUser:e}}function s3e(){const{isLoggingOut:t,logoutUser:e}=o3e(),{toast:n}=Ms();function r(){e({},{onError:i=>{n({title:i.name,description:i.message})}})}return P.jsx(Ko,{message:"Logout",disabled:t,onClick:r,children:P.jsx(ece,{})})}function a3e(){const t=um(),{isLoading:e,mutate:n}=Lu({mutationFn:Mle,onSuccess:()=>{t.invalidateQueries({queryKey:["notes"]})}});return{isCreating:e,createNote:n}}function l3e(){const{isCreating:t,createNote:e}=a3e(),{toast:n}=Ms();function r(){e({},{onError:i=>n({title:i.name,description:i.message})})}return P.jsx(Ko,{onClick:r,message:"New Note",disabled:t,children:P.jsx(nce,{})})}function c3e({selectedNoteId:t}){return P.jsxs("div",{className:"flex items-center justify-between border-b border-zinc-700 px-3 py-2",children:[P.jsx(s3e,{}),P.jsxs("div",{children:[P.jsx(l3e,{}),P.jsx(i3e,{selectedNoteId:t})]})]})}function u3e(){const t=um(),{isLoading:e,mutate:n}=Lu({mutationFn:Nle,onSuccess:()=>{t.invalidateQueries({queryKey:["notes"]})}});return{isEditing:e,editNote:n}}function h3e({note:t,isActive:e,...n}){const{editNote:r}=u3e(),{id:i,title:o,lastEditTime:s,pinned:a}=t,l=ree(s),{toast:c}=Ms();function u(h){h.target.closest("svg")&&(h.stopPropagation(),r({noteId:i},{onError:d=>c({title:d.name,description:d.message})}))}return P.jsxs("li",{...n,className:dt("flex flex-col gap-2 border-b border-zinc-700 p-2",{"bg-zinc-700":e,"hover:bg-zinc-700":!e}),children:[P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsx("h3",{className:"text-lg font-medium text-white",children:o}),P.jsx(tce,{className:dt("h-4 w-4 text-slate-600",{"text-slate-50":a,"hover:text-slate-50":!a}),onClick:u})]}),P.jsx("span",{className:"text-sm text-slate-400",children:l})]})}function d3e(){const{isLoading:t,data:e,error:n}=PO({queryKey:["notes"],queryFn:Dle});return{isLoading:t,notesData:e,error:n}}function f3e({handleSelectNote:t,selectedNoteId:e}){const{isLoading:n,error:r,notesData:i=[]}=d3e();return n?P.jsx("div",{className:"flex h-full items-center justify-center",children:P.jsx(XK,{className:"h-10 w-10 text-white"})}):!i||i.length===0?P.jsx("ul",{className:"flex h-full items-center justify-center",children:P.jsx("span",{className:"text-zinc-300",children:"No Notes yet"})}):r?P.jsx("ul",{className:"flex h-full items-center justify-center",children:P.jsx("span",{className:"text-zinc-300",children:"There's a problem loading notes. Please try to reload the page."})}):(i.sort((o,s)=>s.pinned-o.pinned),P.jsx("ul",{children:i.map(o=>P.jsx(h3e,{note:o,onClick:()=>{t(o.id)},isActive:o.id===e},o.id))}))}var r3="ToastProvider",[i3,p3e,m3e]=r_("Toast"),[YK,x8e]=go("Toast",[m3e]),[g3e,iw]=YK(r3),ZK=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:s}=t,[a,l]=T.useState(null),[c,u]=T.useState(0),h=T.useRef(!1),d=T.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${r3}\`. Expected non-empty \`string\`.`),P.jsx(i3.Provider,{scope:e,children:P.jsx(g3e,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:T.useCallback(()=>u(f=>f+1),[]),onToastRemove:T.useCallback(()=>u(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:d,children:s})})};ZK.displayName=r3;var eG="ToastViewport",x3e=["F8"],dk="toast.viewportPause",fk="toast.viewportResume",tG=T.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=x3e,label:i="Notifications ({hotkey})",...o}=t,s=iw(eG,n),a=p3e(n),l=T.useRef(null),c=T.useRef(null),u=T.useRef(null),h=T.useRef(null),d=St(e,h,s.onViewportChange),f=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=s.toastCount>0;T.useEffect(()=>{const x=v=>{var _;r.every(C=>v[C]||v.code===C)&&((_=h.current)==null||_.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),T.useEffect(()=>{const x=l.current,v=h.current;if(p&&x&&v){const y=()=>{if(!s.isClosePausedRef.current){const k=new CustomEvent(dk);v.dispatchEvent(k),s.isClosePausedRef.current=!0}},_=()=>{if(s.isClosePausedRef.current){const k=new CustomEvent(fk);v.dispatchEvent(k),s.isClosePausedRef.current=!1}},C=k=>{!x.contains(k.relatedTarget)&&_()},S=()=>{x.contains(document.activeElement)||_()};return x.addEventListener("focusin",y),x.addEventListener("focusout",C),x.addEventListener("pointermove",y),x.addEventListener("pointerleave",S),window.addEventListener("blur",y),window.addEventListener("focus",_),()=>{x.removeEventListener("focusin",y),x.removeEventListener("focusout",C),x.removeEventListener("pointermove",y),x.removeEventListener("pointerleave",S),window.removeEventListener("blur",y),window.removeEventListener("focus",_)}}},[p,s.isClosePausedRef]);const m=T.useCallback(({tabbingDirection:x})=>{const y=a().map(_=>{const C=_.ref.current,S=[C,...R3e(C)];return x==="forwards"?S:S.reverse()});return(x==="forwards"?y.reverse():y).flat()},[a]);return T.useEffect(()=>{const x=h.current;if(x){const v=y=>{var S,k,b;const _=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!_){const w=document.activeElement,A=y.shiftKey;if(y.target===x&&A){(S=c.current)==null||S.focus();return}const D=m({tabbingDirection:A?"backwards":"forwards"}),N=D.findIndex(j=>j===w);jC(D.slice(N+1))?y.preventDefault():A?(k=c.current)==null||k.focus():(b=u.current)==null||b.focus()}};return x.addEventListener("keydown",v),()=>x.removeEventListener("keydown",v)}},[a,m]),P.jsxs(Sce,{ref:l,role:"region","aria-label":i.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&P.jsx(pk,{ref:c,onFocusFromOutsideViewport:()=>{const x=m({tabbingDirection:"forwards"});jC(x)}}),P.jsx(i3.Slot,{scope:n,children:P.jsx(He.ol,{tabIndex:-1,...o,ref:d})}),p&&P.jsx(pk,{ref:u,onFocusFromOutsideViewport:()=>{const x=m({tabbingDirection:"backwards"});jC(x)}})]})});tG.displayName=eG;var nG="ToastFocusProxy",pk=T.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,o=iw(nG,n);return P.jsx(Am,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:s=>{var c;const a=s.relatedTarget;!((c=o.viewport)!=null&&c.contains(a))&&r()}})});pk.displayName=nG;var ow="Toast",v3e="toast.swipeStart",y3e="toast.swipeMove",_3e="toast.swipeCancel",w3e="toast.swipeEnd",rG=T.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...s}=t,[a=!0,l]=Uo({prop:r,defaultProp:i,onChange:o});return P.jsx(Wi,{present:n||a,children:P.jsx(E3e,{open:a,...s,ref:e,onClose:()=>l(!1),onPause:Br(t.onPause),onResume:Br(t.onResume),onSwipeStart:_e(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:_e(t.onSwipeMove,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:_e(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:_e(t.onSwipeEnd,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});rG.displayName=ow;var[C3e,b3e]=YK(ow,{onClose(){}}),E3e=T.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:s,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:d,onSwipeEnd:f,...p}=t,m=iw(ow,n),[x,v]=T.useState(null),y=St(e,j=>v(j)),_=T.useRef(null),C=T.useRef(null),S=i||m.duration,k=T.useRef(0),b=T.useRef(S),w=T.useRef(0),{onToastAdd:A,onToastRemove:E}=m,R=Br(()=>{var $;(x==null?void 0:x.contains(document.activeElement))&&(($=m.viewport)==null||$.focus()),s()}),D=T.useCallback(j=>{!j||j===1/0||(window.clearTimeout(w.current),k.current=new Date().getTime(),w.current=window.setTimeout(R,j))},[R]);T.useEffect(()=>{const j=m.viewport;if(j){const $=()=>{D(b.current),c==null||c()},Q=()=>{const X=new Date().getTime()-k.current;b.current=b.current-X,window.clearTimeout(w.current),l==null||l()};return j.addEventListener(dk,Q),j.addEventListener(fk,$),()=>{j.removeEventListener(dk,Q),j.removeEventListener(fk,$)}}},[m.viewport,S,l,c,D]),T.useEffect(()=>{o&&!m.isClosePausedRef.current&&D(S)},[o,S,m.isClosePausedRef,D]),T.useEffect(()=>(A(),()=>E()),[A,E]);const N=T.useMemo(()=>x?uG(x):null,[x]);return m.viewport?P.jsxs(P.Fragment,{children:[N&&P.jsx(S3e,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:N}),P.jsx(C3e,{scope:n,onClose:R,children:jo.createPortal(P.jsx(i3.ItemSlot,{scope:n,children:P.jsx(Ece,{asChild:!0,onEscapeKeyDown:_e(a,()=>{m.isFocusedToastEscapeKeyDownRef.current||R(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:P.jsx(He.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":m.swipeDirection,...p,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:_e(t.onKeyDown,j=>{j.key==="Escape"&&(a==null||a(j.nativeEvent),j.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:_e(t.onPointerDown,j=>{j.button===0&&(_.current={x:j.clientX,y:j.clientY})}),onPointerMove:_e(t.onPointerMove,j=>{if(!_.current)return;const $=j.clientX-_.current.x,Q=j.clientY-_.current.y,X=!!C.current,q=["left","right"].includes(m.swipeDirection),H=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,L=q?H(0,$):0,U=q?0:H(0,Q),K=j.pointerType==="touch"?10:2,O={x:L,y:U},J={originalEvent:j,delta:O};X?(C.current=O,A1(y3e,h,J,{discrete:!1})):$7(O,m.swipeDirection,K)?(C.current=O,A1(v3e,u,J,{discrete:!1}),j.target.setPointerCapture(j.pointerId)):(Math.abs($)>K||Math.abs(Q)>K)&&(_.current=null)}),onPointerUp:_e(t.onPointerUp,j=>{const $=C.current,Q=j.target;if(Q.hasPointerCapture(j.pointerId)&&Q.releasePointerCapture(j.pointerId),C.current=null,_.current=null,$){const X=j.currentTarget,q={originalEvent:j,delta:$};$7($,m.swipeDirection,m.swipeThreshold)?A1(w3e,f,q,{discrete:!0}):A1(_3e,d,q,{discrete:!0}),X.addEventListener("click",H=>H.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),S3e=t=>{const{__scopeToast:e,children:n,...r}=t,i=iw(ow,e),[o,s]=T.useState(!1),[a,l]=T.useState(!1);return A3e(()=>s(!0)),T.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:P.jsx($u,{asChild:!0,children:P.jsx(Am,{...r,children:o&&P.jsxs(P.Fragment,{children:[i.label," ",n]})})})},k3e="ToastTitle",iG=T.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return P.jsx(He.div,{...r,ref:e})});iG.displayName=k3e;var T3e="ToastDescription",oG=T.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return P.jsx(He.div,{...r,ref:e})});oG.displayName=T3e;var sG="ToastAction",aG=T.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?P.jsx(cG,{altText:n,asChild:!0,children:P.jsx(o3,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${sG}\`. Expected non-empty \`string\`.`),null)});aG.displayName=sG;var lG="ToastClose",o3=T.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=b3e(lG,n);return P.jsx(cG,{asChild:!0,children:P.jsx(He.button,{type:"button",...r,ref:e,onClick:_e(t.onClick,i.onClose)})})});o3.displayName=lG;var cG=T.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return P.jsx(He.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function uG(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),I3e(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const s=r.dataset.radixToastAnnounceAlt;s&&e.push(s)}else e.push(...uG(r))}}),e}function A1(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?f5(i,o):i.dispatchEvent(o)}var $7=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),o=r>i;return e==="left"||e==="right"?o&&r>n:!o&&i>n};function A3e(t=()=>{}){const e=Br(t);Vr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function I3e(t){return t.nodeType===t.ELEMENT_NODE}function R3e(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function jC(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var P3e=ZK,hG=tG,dG=rG,fG=iG,pG=oG,mG=aG,gG=o3;const D3e=P3e,xG=T.forwardRef(({className:t,...e},n)=>P.jsx(hG,{ref:n,className:dt("fixed top-0 z-[100] flex max-h-svh w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));xG.displayName=hG.displayName;const M3e=d5("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),vG=T.forwardRef(({className:t,variant:e,...n},r)=>P.jsx(dG,{ref:r,className:dt(M3e({variant:e}),t),...n}));vG.displayName=dG.displayName;const N3e=T.forwardRef(({className:t,...e},n)=>P.jsx(mG,{ref:n,className:dt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));N3e.displayName=mG.displayName;const yG=T.forwardRef(({className:t,...e},n)=>P.jsx(gG,{ref:n,className:dt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:P.jsx(pB,{className:"h-4 w-4"})}));yG.displayName=gG.displayName;const _G=T.forwardRef(({className:t,...e},n)=>P.jsx(fG,{ref:n,className:dt("text-sm font-semibold",t),...e}));_G.displayName=fG.displayName;const wG=T.forwardRef(({className:t,...e},n)=>P.jsx(pG,{ref:n,className:dt("text-sm opacity-90",t),...e}));wG.displayName=pG.displayName;function O3e(){const{toasts:t}=Ms();return P.jsxs(D3e,{children:[t.map(function({id:e,title:n,description:r,action:i,...o}){return P.jsxs(vG,{...o,duration:6e4,className:"bg-zinc-800 text-zinc-300",children:[P.jsxs("div",{className:"grid gap-1",children:[n&&P.jsx(_G,{children:n}),r&&P.jsx(wG,{children:r})]}),i,P.jsx(yG,{className:"opacity-100 [&>svg]:text-zinc-300"})]},e)}),P.jsx(xG,{})]})}function L3e(){const{selectedNoteId:t,selectNote:e}=Ry(),[n,r]=T.useState(!1);function i(){r(s=>!s)}function o(s){e(s),r(!1)}return T.useEffect(()=>{const s=a=>{a.preventDefault(),a.returnValue=""};return window.addEventListener("beforeunload",s),()=>{window.removeEventListener("beforeunload",s)}},[]),P.jsxs(P.Fragment,{children:[P.jsxs("main",{className:"grid h-svh grid-cols-[auto_auto] overflow-hidden sm:grid-cols-[auto_1fr]",children:[P.jsxs(n3e,{className:dt("-ml-64 w-64 border-r bg-zinc-900 transition-all duration-300 ease-in-out xs:-ml-80 xs:w-80 sm:ml-0 sm:w-80",{"!ml-0":n}),children:[P.jsx(c3e,{selectedNoteId:t}),P.jsx(f3e,{handleSelectNote:o,selectedNoteId:t})]}),P.jsx(t3e,{className:"w-screen bg-zinc-800 sm:w-auto",selectedNoteId:t,handleToggleSidebar:i})]}),P.jsx(O3e,{})]})}function F3e(){const{isLoading:t,mutate:e}=Lu({mutationFn:Rle});return{isLoggingIn:t,loginUser:e}}function B3e(){const t=fT(),{userState:e}=uB(),{isLoggingIn:n,loginUser:r}=F3e(),{toast:i}=Ms();if(e)return P.jsx(wO,{to:"/"});async function o(s){s.preventDefault();const a=new FormData(s.target),l=a.get("email"),c=a.get("password");r({email:l,password:c},{onSuccess:()=>{t("/")},onError:u=>{i({title:u.name,description:u.message})}})}return P.jsx("main",{className:"flex min-h-svh items-center justify-center bg-zinc-800",children:P.jsxs("form",{onSubmit:o,className:"grid w-5/6 max-w-xs gap-y-5 rounded-2xl bg-zinc-700 px-4 py-6 text-center sm:max-w-sm sm:gap-y-7 sm:px-6 sm:py-8 lg:max-w-md lg:px-8 lg:py-10",children:[P.jsx("h2",{className:"text-xl font-semibold text-zinc-300 sm:text-2xl lg:text-3xl",children:"Login Form"}),P.jsx(E0,{name:"email",type:"email",placeholder:"Email",autoComplete:"off",className:"h-9 border-zinc-400 bg-transparent text-sm text-zinc-300 ring-offset-zinc-400 focus-visible:ring-transparent sm:py-5 sm:text-base lg:h-12 lg:text-lg"}),P.jsx(E0,{name:"password",type:"password",placeholder:"Password",autoComplete:"off",className:"h-9 border-zinc-400 bg-transparent text-sm text-zinc-300 ring-offset-zinc-400 focus-visible:ring-transparent sm:py-5 sm:text-base lg:h-12 lg:text-lg"}),P.jsx(Ql,{type:"submit",disabled:n,className:"bg-zinc-400 capitalize text-zinc-700 hover:bg-zinc-400/90 sm:py-5 sm:text-base lg:py-6 lg:text-lg",children:"Login"})]})})}function V3e(){const t=_O();let e="An error occurred!",n="Something went wrong!";return t.status===500&&(n=t.message),t.status===404&&(e="Page Not found",n="Could not find resource or page"),P.jsx("div",{className:"flex min-h-dvh items-center justify-center bg-zinc-800",children:P.jsxs("div",{className:"space-y-4 text-center",children:[P.jsx("h1",{className:"text-2xl font-semibold text-zinc-300 lg:text-4xl",children:e}),P.jsx("p",{className:"text-zinc-400 lg:text-2xl",children:n}),P.jsx(Ql,{asChild:!0,className:"bg-zinc-400 text-zinc-700 hover:bg-zinc-400/90 lg:px-4 lg:py-6 lg:text-lg",children:P.jsx($Y,{to:"/",children:"Go Back Home"})})]})})}function j3e({children:t}){const{userState:e}=uB();return e?t:P.jsx(wO,{to:"/login"})}const z3e=AY([{path:"/",element:P.jsx(cee,{children:P.jsx(j3e,{children:P.jsx(hee,{children:P.jsx(L3e,{})})})}),errorElement:P.jsx(V3e,{})},{path:"/login",element:P.jsx(B3e,{})}]);function $3e(){return P.jsx(Ale,{children:P.jsx(FY,{router:z3e})})}iO(document.getElementById("root")).render(P.jsx(T.StrictMode,{children:P.jsx($3e,{})}));export{Gc as A,YSe as B,KW as C,Z as D,be as E,Fd as F,bke as G,gSe as H,ln as I,VSe as J,GS as L,a8e as N,wW as P,eo as T,$Se as a,p8e as b,d8e as c,Nke as d,nr as e,ZSe as f,h8e as g,u8e as h,HSe as i,f8e as j,m8e as k,se as l,ni as m,at as n,b4 as o,l8e as p,Ut as q,lf as r,NSe as s,te as t,wc as u,U_ as v,_t as w,oo as x,q_ as y,EW as z};
