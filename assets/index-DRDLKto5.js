const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-BGkErQ6C.js","assets/index-9PRA8rmz.js","assets/index-DEerTSLA.js","assets/index-C1cNdc-e.js","assets/index-CR2r7iGy.js","assets/index-YWTuFXqI.js","assets/index-wyoDbrW_.js","assets/index-oV4hYAg3.js","assets/index-D0wlqgmv.js","assets/index-DOgh3wKP.js","assets/index-BMQ6lzD8.js","assets/index-D7vu9ixQ.js","assets/index-CfiW5RV8.js","assets/index-38oxiX-K.js","assets/index-CmkYm639.js","assets/index-CG1KT4BU.js","assets/index-NQgUaYS3.js","assets/index-CIQDOMVW.js","assets/index-DakM2rNs.js","assets/dockerfile-BuNIbK2j.js","assets/simple-mode-C4Nsj8zu.js","assets/factor-D8pE9siL.js","assets/nsis-CEAdamBV.js","assets/pug-BmUsPMDj.js","assets/javascript-iSgyE4tI.js","assets/index-C8z6VPRh.js","assets/index-CDeU1Alp.js"])))=>i.map(i=>d[i]);
function p7(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var ot=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function KK(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var m7={exports:{}},Kv={},g7={exports:{}},lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K0=Symbol.for("react.element"),GK=Symbol.for("react.portal"),JK=Symbol.for("react.fragment"),QK=Symbol.for("react.strict_mode"),YK=Symbol.for("react.profiler"),XK=Symbol.for("react.provider"),ZK=Symbol.for("react.context"),eG=Symbol.for("react.forward_ref"),tG=Symbol.for("react.suspense"),nG=Symbol.for("react.memo"),rG=Symbol.for("react.lazy"),c3=Symbol.iterator;function iG(t){return t===null||typeof t!="object"?null:(t=c3&&t[c3]||t["@@iterator"],typeof t=="function"?t:null)}var x7={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v7=Object.assign,y7={};function Mf(t,e,n){this.props=t,this.context=e,this.refs=y7,this.updater=n||x7}Mf.prototype.isReactComponent={};Mf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Mf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function _7(){}_7.prototype=Mf.prototype;function QS(t,e,n){this.props=t,this.context=e,this.refs=y7,this.updater=n||x7}var YS=QS.prototype=new _7;YS.constructor=QS;v7(YS,Mf.prototype);YS.isPureReactComponent=!0;var u3=Array.isArray,w7=Object.prototype.hasOwnProperty,XS={current:null},C7={key:!0,ref:!0,__self:!0,__source:!0};function b7(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)w7.call(e,r)&&!C7.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:K0,type:t,key:o,ref:s,props:i,_owner:XS.current}}function oG(t,e){return{$$typeof:K0,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ZS(t){return typeof t=="object"&&t!==null&&t.$$typeof===K0}function sG(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var h3=/\/+/g;function G_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?sG(""+t.key):e.toString(36)}function m1(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case K0:case GK:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+G_(s,0):r,u3(i)?(n="",t!=null&&(n=t.replace(h3,"$&/")+"/"),m1(i,e,n,"",function(c){return c})):i!=null&&(ZS(i)&&(i=oG(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(h3,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",u3(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+G_(o,a);s+=m1(o,e,n,l,i)}else if(l=iG(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+G_(o,a++),s+=m1(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function ag(t,e,n){if(t==null)return t;var r=[],i=0;return m1(t,r,"","",function(o){return e.call(n,o,i++)}),r}function aG(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Zr={current:null},g1={transition:null},lG={ReactCurrentDispatcher:Zr,ReactCurrentBatchConfig:g1,ReactCurrentOwner:XS};function E7(){throw Error("act(...) is not supported in production builds of React.")}lt.Children={map:ag,forEach:function(t,e,n){ag(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ag(t,function(){e++}),e},toArray:function(t){return ag(t,function(e){return e})||[]},only:function(t){if(!ZS(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};lt.Component=Mf;lt.Fragment=JK;lt.Profiler=YK;lt.PureComponent=QS;lt.StrictMode=QK;lt.Suspense=tG;lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lG;lt.act=E7;lt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=v7({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=XS.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)w7.call(e,l)&&!C7.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:K0,type:t.type,key:i,ref:o,props:r,_owner:s}};lt.createContext=function(t){return t={$$typeof:ZK,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:XK,_context:t},t.Consumer=t};lt.createElement=b7;lt.createFactory=function(t){var e=b7.bind(null,t);return e.type=t,e};lt.createRef=function(){return{current:null}};lt.forwardRef=function(t){return{$$typeof:eG,render:t}};lt.isValidElement=ZS;lt.lazy=function(t){return{$$typeof:rG,_payload:{_status:-1,_result:t},_init:aG}};lt.memo=function(t,e){return{$$typeof:nG,type:t,compare:e===void 0?null:e}};lt.startTransition=function(t){var e=g1.transition;g1.transition={};try{t()}finally{g1.transition=e}};lt.unstable_act=E7;lt.useCallback=function(t,e){return Zr.current.useCallback(t,e)};lt.useContext=function(t){return Zr.current.useContext(t)};lt.useDebugValue=function(){};lt.useDeferredValue=function(t){return Zr.current.useDeferredValue(t)};lt.useEffect=function(t,e){return Zr.current.useEffect(t,e)};lt.useId=function(){return Zr.current.useId()};lt.useImperativeHandle=function(t,e,n){return Zr.current.useImperativeHandle(t,e,n)};lt.useInsertionEffect=function(t,e){return Zr.current.useInsertionEffect(t,e)};lt.useLayoutEffect=function(t,e){return Zr.current.useLayoutEffect(t,e)};lt.useMemo=function(t,e){return Zr.current.useMemo(t,e)};lt.useReducer=function(t,e,n){return Zr.current.useReducer(t,e,n)};lt.useRef=function(t){return Zr.current.useRef(t)};lt.useState=function(t){return Zr.current.useState(t)};lt.useSyncExternalStore=function(t,e,n){return Zr.current.useSyncExternalStore(t,e,n)};lt.useTransition=function(){return Zr.current.useTransition()};lt.version="18.3.1";g7.exports=lt;var k=g7.exports;const F=qv(k),S7=p7({__proto__:null,default:F},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cG=k,uG=Symbol.for("react.element"),hG=Symbol.for("react.fragment"),fG=Object.prototype.hasOwnProperty,dG=cG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pG={key:!0,ref:!0,__self:!0,__source:!0};function k7(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)fG.call(e,r)&&!pG.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:uG,type:t,key:o,ref:s,props:i,_owner:dG.current}}Kv.Fragment=hG;Kv.jsx=k7;Kv.jsxs=k7;m7.exports=Kv;var P=m7.exports,T7={exports:{}},Vi={},A7={exports:{}},I7={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,H){var O=q.length;q.push(H);e:for(;0<O;){var U=O-1>>>1,K=q[U];if(0<i(K,H))q[U]=H,q[O]=K,O=U;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var H=q[0],O=q.pop();if(O!==H){q[0]=O;e:for(var U=0,K=q.length,L=K>>>1;U<L;){var J=2*(U+1)-1,Ee=q[J],de=J+1,ue=q[de];if(0>i(Ee,O))de<K&&0>i(ue,Ee)?(q[U]=ue,q[de]=O,U=de):(q[U]=Ee,q[J]=O,U=J);else if(de<K&&0>i(ue,O))q[U]=ue,q[de]=O,U=de;else break e}}return H}function i(q,H){var O=q.sortIndex-H.sortIndex;return O!==0?O:q.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,h=null,f=3,d=!1,p=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(q){for(var H=n(c);H!==null;){if(H.callback===null)r(c);else if(H.startTime<=q)r(c),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(c)}}function C(q){if(m=!1,_(q),!p)if(n(l)!==null)p=!0,Q(S);else{var H=n(c);H!==null&&Y(C,H.startTime-q)}}function S(q,H){p=!1,m&&(m=!1,x(w),w=-1),d=!0;var O=f;try{for(_(H),h=n(l);h!==null&&(!(h.expirationTime>H)||q&&!R());){var U=h.callback;if(typeof U=="function"){h.callback=null,f=h.priorityLevel;var K=U(h.expirationTime<=H);H=t.unstable_now(),typeof K=="function"?h.callback=K:h===n(l)&&r(l),_(H)}else r(l);h=n(l)}if(h!==null)var L=!0;else{var J=n(c);J!==null&&Y(C,J.startTime-H),L=!1}return L}finally{h=null,f=O,d=!1}}var T=!1,b=null,w=-1,I=5,E=-1;function R(){return!(t.unstable_now()-E<I)}function D(){if(b!==null){var q=t.unstable_now();E=q;var H=!0;try{H=b(!0,q)}finally{H?N():(T=!1,b=null)}}else T=!1}var N;if(typeof y=="function")N=function(){y(D)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,$=z.port2;z.port1.onmessage=D,N=function(){$.postMessage(null)}}else N=function(){v(D,0)};function Q(q){b=q,T||(T=!0,N())}function Y(q,H){w=v(function(){q(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){p||d||(p=!0,Q(S))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(q){switch(f){case 1:case 2:case 3:var H=3;break;default:H=f}var O=f;f=H;try{return q()}finally{f=O}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,H){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var O=f;f=q;try{return H()}finally{f=O}},t.unstable_scheduleCallback=function(q,H,O){var U=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?U+O:U):O=U,q){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=O+K,q={id:u++,callback:H,priorityLevel:q,startTime:O,expirationTime:K,sortIndex:-1},O>U?(q.sortIndex=O,e(c,q),n(l)===null&&q===n(c)&&(m?(x(w),w=-1):m=!0,Y(C,O-U))):(q.sortIndex=K,e(l,q),p||d||(p=!0,Q(S))),q},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(q){var H=f;return function(){var O=f;f=H;try{return q.apply(this,arguments)}finally{f=O}}}})(I7);A7.exports=I7;var mG=A7.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gG=k,Fi=mG;function pe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var R7=new Set,Fp={};function bu(t,e){nf(t,e),nf(t+"Capture",e)}function nf(t,e){for(Fp[t]=e,t=0;t<e.length;t++)R7.add(e[t])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bC=Object.prototype.hasOwnProperty,xG=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f3={},d3={};function vG(t){return bC.call(d3,t)?!0:bC.call(f3,t)?!1:xG.test(t)?d3[t]=!0:(f3[t]=!0,!1)}function yG(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _G(t,e,n,r){if(e===null||typeof e>"u"||yG(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ei(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var xr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){xr[t]=new ei(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];xr[e]=new ei(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){xr[t]=new ei(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){xr[t]=new ei(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){xr[t]=new ei(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){xr[t]=new ei(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){xr[t]=new ei(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){xr[t]=new ei(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){xr[t]=new ei(t,5,!1,t.toLowerCase(),null,!1,!1)});var ek=/[\-:]([a-z])/g;function tk(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ek,tk);xr[e]=new ei(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ek,tk);xr[e]=new ei(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ek,tk);xr[e]=new ei(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){xr[t]=new ei(t,1,!1,t.toLowerCase(),null,!1,!1)});xr.xlinkHref=new ei("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){xr[t]=new ei(t,1,!1,t.toLowerCase(),null,!0,!0)});function nk(t,e,n,r){var i=xr.hasOwnProperty(e)?xr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_G(e,n,i,r)&&(n=null),r||i===null?vG(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var _a=gG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lg=Symbol.for("react.element"),dh=Symbol.for("react.portal"),ph=Symbol.for("react.fragment"),rk=Symbol.for("react.strict_mode"),EC=Symbol.for("react.profiler"),P7=Symbol.for("react.provider"),D7=Symbol.for("react.context"),ik=Symbol.for("react.forward_ref"),SC=Symbol.for("react.suspense"),kC=Symbol.for("react.suspense_list"),ok=Symbol.for("react.memo"),Ja=Symbol.for("react.lazy"),M7=Symbol.for("react.offscreen"),p3=Symbol.iterator;function dd(t){return t===null||typeof t!="object"?null:(t=p3&&t[p3]||t["@@iterator"],typeof t=="function"?t:null)}var un=Object.assign,J_;function Bd(t){if(J_===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);J_=e&&e[1]||""}return`
`+J_+t}var Q_=!1;function Y_(t,e){if(!t||Q_)return"";Q_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{Q_=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Bd(t):""}function wG(t){switch(t.tag){case 5:return Bd(t.type);case 16:return Bd("Lazy");case 13:return Bd("Suspense");case 19:return Bd("SuspenseList");case 0:case 2:case 15:return t=Y_(t.type,!1),t;case 11:return t=Y_(t.type.render,!1),t;case 1:return t=Y_(t.type,!0),t;default:return""}}function TC(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ph:return"Fragment";case dh:return"Portal";case EC:return"Profiler";case rk:return"StrictMode";case SC:return"Suspense";case kC:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case D7:return(t.displayName||"Context")+".Consumer";case P7:return(t._context.displayName||"Context")+".Provider";case ik:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ok:return e=t.displayName||null,e!==null?e:TC(t.type)||"Memo";case Ja:e=t._payload,t=t._init;try{return TC(t(e))}catch{}}return null}function CG(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return TC(e);case 8:return e===rk?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Fl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function N7(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function bG(t){var e=N7(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function cg(t){t._valueTracker||(t._valueTracker=bG(t))}function L7(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=N7(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function tx(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function AC(t,e){var n=e.checked;return un({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function m3(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Fl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function O7(t,e){e=e.checked,e!=null&&nk(t,"checked",e,!1)}function IC(t,e){O7(t,e);var n=Fl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?RC(t,e.type,n):e.hasOwnProperty("defaultValue")&&RC(t,e.type,Fl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function g3(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function RC(t,e,n){(e!=="number"||tx(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Vd=Array.isArray;function Ph(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Fl(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function PC(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(pe(91));return un({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function x3(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(pe(92));if(Vd(n)){if(1<n.length)throw Error(pe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Fl(n)}}function F7(t,e){var n=Fl(e.value),r=Fl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function v3(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function B7(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function DC(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?B7(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ug,V7=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ug=ug||document.createElement("div"),ug.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ug.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Bp(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var sp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},EG=["Webkit","ms","Moz","O"];Object.keys(sp).forEach(function(t){EG.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),sp[e]=sp[t]})});function z7(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||sp.hasOwnProperty(t)&&sp[t]?(""+e).trim():e+"px"}function j7(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=z7(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var SG=un({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function MC(t,e){if(e){if(SG[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(pe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(pe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(pe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(pe(62))}}function NC(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var LC=null;function sk(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var OC=null,Dh=null,Mh=null;function y3(t){if(t=Q0(t)){if(typeof OC!="function")throw Error(pe(280));var e=t.stateNode;e&&(e=Xv(e),OC(t.stateNode,t.type,e))}}function $7(t){Dh?Mh?Mh.push(t):Mh=[t]:Dh=t}function H7(){if(Dh){var t=Dh,e=Mh;if(Mh=Dh=null,y3(t),e)for(t=0;t<e.length;t++)y3(e[t])}}function U7(t,e){return t(e)}function W7(){}var X_=!1;function q7(t,e,n){if(X_)return t(e,n);X_=!0;try{return U7(t,e,n)}finally{X_=!1,(Dh!==null||Mh!==null)&&(W7(),H7())}}function Vp(t,e){var n=t.stateNode;if(n===null)return null;var r=Xv(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(pe(231,e,typeof n));return n}var FC=!1;if(ia)try{var pd={};Object.defineProperty(pd,"passive",{get:function(){FC=!0}}),window.addEventListener("test",pd,pd),window.removeEventListener("test",pd,pd)}catch{FC=!1}function kG(t,e,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var ap=!1,nx=null,rx=!1,BC=null,TG={onError:function(t){ap=!0,nx=t}};function AG(t,e,n,r,i,o,s,a,l){ap=!1,nx=null,kG.apply(TG,arguments)}function IG(t,e,n,r,i,o,s,a,l){if(AG.apply(this,arguments),ap){if(ap){var c=nx;ap=!1,nx=null}else throw Error(pe(198));rx||(rx=!0,BC=c)}}function Eu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function K7(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _3(t){if(Eu(t)!==t)throw Error(pe(188))}function RG(t){var e=t.alternate;if(!e){if(e=Eu(t),e===null)throw Error(pe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return _3(i),t;if(o===r)return _3(i),e;o=o.sibling}throw Error(pe(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(pe(189))}}if(n.alternate!==r)throw Error(pe(190))}if(n.tag!==3)throw Error(pe(188));return n.stateNode.current===n?t:e}function G7(t){return t=RG(t),t!==null?J7(t):null}function J7(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=J7(t);if(e!==null)return e;t=t.sibling}return null}var Q7=Fi.unstable_scheduleCallback,w3=Fi.unstable_cancelCallback,PG=Fi.unstable_shouldYield,DG=Fi.unstable_requestPaint,Sn=Fi.unstable_now,MG=Fi.unstable_getCurrentPriorityLevel,ak=Fi.unstable_ImmediatePriority,Y7=Fi.unstable_UserBlockingPriority,ix=Fi.unstable_NormalPriority,NG=Fi.unstable_LowPriority,X7=Fi.unstable_IdlePriority,Gv=null,ds=null;function LG(t){if(ds&&typeof ds.onCommitFiberRoot=="function")try{ds.onCommitFiberRoot(Gv,t,void 0,(t.current.flags&128)===128)}catch{}}var Ro=Math.clz32?Math.clz32:BG,OG=Math.log,FG=Math.LN2;function BG(t){return t>>>=0,t===0?32:31-(OG(t)/FG|0)|0}var hg=64,fg=4194304;function zd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ox(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=zd(a):(o&=s,o!==0&&(r=zd(o)))}else s=n&~i,s!==0?r=zd(s):o!==0&&(r=zd(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ro(e),i=1<<n,r|=t[n],e&=~i;return r}function VG(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zG(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-Ro(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=VG(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function VC(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Z7(){var t=hg;return hg<<=1,!(hg&4194240)&&(hg=64),t}function Z_(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function G0(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ro(e),t[e]=n}function jG(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ro(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function lk(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ro(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Dt=0;function eM(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var tM,ck,nM,rM,iM,zC=!1,dg=[],yl=null,_l=null,wl=null,zp=new Map,jp=new Map,tl=[],$G="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function C3(t,e){switch(t){case"focusin":case"focusout":yl=null;break;case"dragenter":case"dragleave":_l=null;break;case"mouseover":case"mouseout":wl=null;break;case"pointerover":case"pointerout":zp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":jp.delete(e.pointerId)}}function md(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Q0(e),e!==null&&ck(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function HG(t,e,n,r,i){switch(e){case"focusin":return yl=md(yl,t,e,n,r,i),!0;case"dragenter":return _l=md(_l,t,e,n,r,i),!0;case"mouseover":return wl=md(wl,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return zp.set(o,md(zp.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,jp.set(o,md(jp.get(o)||null,t,e,n,r,i)),!0}return!1}function oM(t){var e=Nc(t.target);if(e!==null){var n=Eu(e);if(n!==null){if(e=n.tag,e===13){if(e=K7(n),e!==null){t.blockedOn=e,iM(t.priority,function(){nM(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function x1(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=jC(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);LC=r,n.target.dispatchEvent(r),LC=null}else return e=Q0(n),e!==null&&ck(e),t.blockedOn=n,!1;e.shift()}return!0}function b3(t,e,n){x1(t)&&n.delete(e)}function UG(){zC=!1,yl!==null&&x1(yl)&&(yl=null),_l!==null&&x1(_l)&&(_l=null),wl!==null&&x1(wl)&&(wl=null),zp.forEach(b3),jp.forEach(b3)}function gd(t,e){t.blockedOn===e&&(t.blockedOn=null,zC||(zC=!0,Fi.unstable_scheduleCallback(Fi.unstable_NormalPriority,UG)))}function $p(t){function e(i){return gd(i,t)}if(0<dg.length){gd(dg[0],t);for(var n=1;n<dg.length;n++){var r=dg[n];r.blockedOn===t&&(r.blockedOn=null)}}for(yl!==null&&gd(yl,t),_l!==null&&gd(_l,t),wl!==null&&gd(wl,t),zp.forEach(e),jp.forEach(e),n=0;n<tl.length;n++)r=tl[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<tl.length&&(n=tl[0],n.blockedOn===null);)oM(n),n.blockedOn===null&&tl.shift()}var Nh=_a.ReactCurrentBatchConfig,sx=!0;function WG(t,e,n,r){var i=Dt,o=Nh.transition;Nh.transition=null;try{Dt=1,uk(t,e,n,r)}finally{Dt=i,Nh.transition=o}}function qG(t,e,n,r){var i=Dt,o=Nh.transition;Nh.transition=null;try{Dt=4,uk(t,e,n,r)}finally{Dt=i,Nh.transition=o}}function uk(t,e,n,r){if(sx){var i=jC(t,e,n,r);if(i===null)cw(t,e,r,ax,n),C3(t,r);else if(HG(i,t,e,n,r))r.stopPropagation();else if(C3(t,r),e&4&&-1<$G.indexOf(t)){for(;i!==null;){var o=Q0(i);if(o!==null&&tM(o),o=jC(t,e,n,r),o===null&&cw(t,e,r,ax,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else cw(t,e,r,null,n)}}var ax=null;function jC(t,e,n,r){if(ax=null,t=sk(r),t=Nc(t),t!==null)if(e=Eu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=K7(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ax=t,null}function sM(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(MG()){case ak:return 1;case Y7:return 4;case ix:case NG:return 16;case X7:return 536870912;default:return 16}default:return 16}}var cl=null,hk=null,v1=null;function aM(){if(v1)return v1;var t,e=hk,n=e.length,r,i="value"in cl?cl.value:cl.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return v1=i.slice(t,1<r?1-r:void 0)}function y1(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function pg(){return!0}function E3(){return!1}function zi(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?pg:E3,this.isPropagationStopped=E3,this}return un(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=pg)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=pg)},persist:function(){},isPersistent:pg}),e}var Nf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fk=zi(Nf),J0=un({},Nf,{view:0,detail:0}),KG=zi(J0),ew,tw,xd,Jv=un({},J0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dk,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xd&&(xd&&t.type==="mousemove"?(ew=t.screenX-xd.screenX,tw=t.screenY-xd.screenY):tw=ew=0,xd=t),ew)},movementY:function(t){return"movementY"in t?t.movementY:tw}}),S3=zi(Jv),GG=un({},Jv,{dataTransfer:0}),JG=zi(GG),QG=un({},J0,{relatedTarget:0}),nw=zi(QG),YG=un({},Nf,{animationName:0,elapsedTime:0,pseudoElement:0}),XG=zi(YG),ZG=un({},Nf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),eJ=zi(ZG),tJ=un({},Nf,{data:0}),k3=zi(tJ),nJ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rJ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iJ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oJ(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=iJ[t])?!!e[t]:!1}function dk(){return oJ}var sJ=un({},J0,{key:function(t){if(t.key){var e=nJ[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=y1(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?rJ[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dk,charCode:function(t){return t.type==="keypress"?y1(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?y1(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),aJ=zi(sJ),lJ=un({},Jv,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),T3=zi(lJ),cJ=un({},J0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dk}),uJ=zi(cJ),hJ=un({},Nf,{propertyName:0,elapsedTime:0,pseudoElement:0}),fJ=zi(hJ),dJ=un({},Jv,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pJ=zi(dJ),mJ=[9,13,27,32],pk=ia&&"CompositionEvent"in window,lp=null;ia&&"documentMode"in document&&(lp=document.documentMode);var gJ=ia&&"TextEvent"in window&&!lp,lM=ia&&(!pk||lp&&8<lp&&11>=lp),A3=" ",I3=!1;function cM(t,e){switch(t){case"keyup":return mJ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uM(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var mh=!1;function xJ(t,e){switch(t){case"compositionend":return uM(e);case"keypress":return e.which!==32?null:(I3=!0,A3);case"textInput":return t=e.data,t===A3&&I3?null:t;default:return null}}function vJ(t,e){if(mh)return t==="compositionend"||!pk&&cM(t,e)?(t=aM(),v1=hk=cl=null,mh=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return lM&&e.locale!=="ko"?null:e.data;default:return null}}var yJ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function R3(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!yJ[t.type]:e==="textarea"}function hM(t,e,n,r){$7(r),e=lx(e,"onChange"),0<e.length&&(n=new fk("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var cp=null,Hp=null;function _J(t){CM(t,0)}function Qv(t){var e=vh(t);if(L7(e))return t}function wJ(t,e){if(t==="change")return e}var fM=!1;if(ia){var rw;if(ia){var iw="oninput"in document;if(!iw){var P3=document.createElement("div");P3.setAttribute("oninput","return;"),iw=typeof P3.oninput=="function"}rw=iw}else rw=!1;fM=rw&&(!document.documentMode||9<document.documentMode)}function D3(){cp&&(cp.detachEvent("onpropertychange",dM),Hp=cp=null)}function dM(t){if(t.propertyName==="value"&&Qv(Hp)){var e=[];hM(e,Hp,t,sk(t)),q7(_J,e)}}function CJ(t,e,n){t==="focusin"?(D3(),cp=e,Hp=n,cp.attachEvent("onpropertychange",dM)):t==="focusout"&&D3()}function bJ(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qv(Hp)}function EJ(t,e){if(t==="click")return Qv(e)}function SJ(t,e){if(t==="input"||t==="change")return Qv(e)}function kJ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Lo=typeof Object.is=="function"?Object.is:kJ;function Up(t,e){if(Lo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!bC.call(e,i)||!Lo(t[i],e[i]))return!1}return!0}function M3(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function N3(t,e){var n=M3(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=M3(n)}}function pM(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?pM(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function mM(){for(var t=window,e=tx();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=tx(t.document)}return e}function mk(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function TJ(t){var e=mM(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&pM(n.ownerDocument.documentElement,n)){if(r!==null&&mk(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=N3(n,o);var s=N3(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var AJ=ia&&"documentMode"in document&&11>=document.documentMode,gh=null,$C=null,up=null,HC=!1;function L3(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;HC||gh==null||gh!==tx(r)||(r=gh,"selectionStart"in r&&mk(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),up&&Up(up,r)||(up=r,r=lx($C,"onSelect"),0<r.length&&(e=new fk("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=gh)))}function mg(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xh={animationend:mg("Animation","AnimationEnd"),animationiteration:mg("Animation","AnimationIteration"),animationstart:mg("Animation","AnimationStart"),transitionend:mg("Transition","TransitionEnd")},ow={},gM={};ia&&(gM=document.createElement("div").style,"AnimationEvent"in window||(delete xh.animationend.animation,delete xh.animationiteration.animation,delete xh.animationstart.animation),"TransitionEvent"in window||delete xh.transitionend.transition);function Yv(t){if(ow[t])return ow[t];if(!xh[t])return t;var e=xh[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in gM)return ow[t]=e[n];return t}var xM=Yv("animationend"),vM=Yv("animationiteration"),yM=Yv("animationstart"),_M=Yv("transitionend"),wM=new Map,O3="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nc(t,e){wM.set(t,e),bu(e,[t])}for(var sw=0;sw<O3.length;sw++){var aw=O3[sw],IJ=aw.toLowerCase(),RJ=aw[0].toUpperCase()+aw.slice(1);nc(IJ,"on"+RJ)}nc(xM,"onAnimationEnd");nc(vM,"onAnimationIteration");nc(yM,"onAnimationStart");nc("dblclick","onDoubleClick");nc("focusin","onFocus");nc("focusout","onBlur");nc(_M,"onTransitionEnd");nf("onMouseEnter",["mouseout","mouseover"]);nf("onMouseLeave",["mouseout","mouseover"]);nf("onPointerEnter",["pointerout","pointerover"]);nf("onPointerLeave",["pointerout","pointerover"]);bu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bu("onBeforeInput",["compositionend","keypress","textInput","paste"]);bu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PJ=new Set("cancel close invalid load scroll toggle".split(" ").concat(jd));function F3(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,IG(r,e,void 0,t),t.currentTarget=null}function CM(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;F3(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;F3(i,a,c),o=l}}}if(rx)throw t=BC,rx=!1,BC=null,t}function Jt(t,e){var n=e[GC];n===void 0&&(n=e[GC]=new Set);var r=t+"__bubble";n.has(r)||(bM(e,t,2,!1),n.add(r))}function lw(t,e,n){var r=0;e&&(r|=4),bM(n,t,r,e)}var gg="_reactListening"+Math.random().toString(36).slice(2);function Wp(t){if(!t[gg]){t[gg]=!0,R7.forEach(function(n){n!=="selectionchange"&&(PJ.has(n)||lw(n,!1,t),lw(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[gg]||(e[gg]=!0,lw("selectionchange",!1,e))}}function bM(t,e,n,r){switch(sM(e)){case 1:var i=WG;break;case 4:i=qG;break;default:i=uk}n=i.bind(null,e,n,t),i=void 0,!FC||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function cw(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Nc(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}q7(function(){var c=o,u=sk(n),h=[];e:{var f=wM.get(t);if(f!==void 0){var d=fk,p=t;switch(t){case"keypress":if(y1(n)===0)break e;case"keydown":case"keyup":d=aJ;break;case"focusin":p="focus",d=nw;break;case"focusout":p="blur",d=nw;break;case"beforeblur":case"afterblur":d=nw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=S3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=JG;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=uJ;break;case xM:case vM:case yM:d=XG;break;case _M:d=fJ;break;case"scroll":d=KG;break;case"wheel":d=pJ;break;case"copy":case"cut":case"paste":d=eJ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=T3}var m=(e&4)!==0,v=!m&&t==="scroll",x=m?f!==null?f+"Capture":null:f;m=[];for(var y=c,_;y!==null;){_=y;var C=_.stateNode;if(_.tag===5&&C!==null&&(_=C,x!==null&&(C=Vp(y,x),C!=null&&m.push(qp(y,C,_)))),v)break;y=y.return}0<m.length&&(f=new d(f,p,null,n,u),h.push({event:f,listeners:m}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",f&&n!==LC&&(p=n.relatedTarget||n.fromElement)&&(Nc(p)||p[oa]))break e;if((d||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,d?(p=n.relatedTarget||n.toElement,d=c,p=p?Nc(p):null,p!==null&&(v=Eu(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(d=null,p=c),d!==p)){if(m=S3,C="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(m=T3,C="onPointerLeave",x="onPointerEnter",y="pointer"),v=d==null?f:vh(d),_=p==null?f:vh(p),f=new m(C,y+"leave",d,n,u),f.target=v,f.relatedTarget=_,C=null,Nc(u)===c&&(m=new m(x,y+"enter",p,n,u),m.target=_,m.relatedTarget=v,C=m),v=C,d&&p)t:{for(m=d,x=p,y=0,_=m;_;_=Ku(_))y++;for(_=0,C=x;C;C=Ku(C))_++;for(;0<y-_;)m=Ku(m),y--;for(;0<_-y;)x=Ku(x),_--;for(;y--;){if(m===x||x!==null&&m===x.alternate)break t;m=Ku(m),x=Ku(x)}m=null}else m=null;d!==null&&B3(h,f,d,m,!1),p!==null&&v!==null&&B3(h,v,p,m,!0)}}e:{if(f=c?vh(c):window,d=f.nodeName&&f.nodeName.toLowerCase(),d==="select"||d==="input"&&f.type==="file")var S=wJ;else if(R3(f))if(fM)S=SJ;else{S=bJ;var T=CJ}else(d=f.nodeName)&&d.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=EJ);if(S&&(S=S(t,c))){hM(h,S,n,u);break e}T&&T(t,f,c),t==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&RC(f,"number",f.value)}switch(T=c?vh(c):window,t){case"focusin":(R3(T)||T.contentEditable==="true")&&(gh=T,$C=c,up=null);break;case"focusout":up=$C=gh=null;break;case"mousedown":HC=!0;break;case"contextmenu":case"mouseup":case"dragend":HC=!1,L3(h,n,u);break;case"selectionchange":if(AJ)break;case"keydown":case"keyup":L3(h,n,u)}var b;if(pk)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else mh?cM(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(lM&&n.locale!=="ko"&&(mh||w!=="onCompositionStart"?w==="onCompositionEnd"&&mh&&(b=aM()):(cl=u,hk="value"in cl?cl.value:cl.textContent,mh=!0)),T=lx(c,w),0<T.length&&(w=new k3(w,t,null,n,u),h.push({event:w,listeners:T}),b?w.data=b:(b=uM(n),b!==null&&(w.data=b)))),(b=gJ?xJ(t,n):vJ(t,n))&&(c=lx(c,"onBeforeInput"),0<c.length&&(u=new k3("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=b))}CM(h,e)})}function qp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function lx(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Vp(t,n),o!=null&&r.unshift(qp(t,o,i)),o=Vp(t,e),o!=null&&r.push(qp(t,o,i))),t=t.return}return r}function Ku(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function B3(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Vp(n,o),l!=null&&s.unshift(qp(n,l,a))):i||(l=Vp(n,o),l!=null&&s.push(qp(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var DJ=/\r\n?/g,MJ=/\u0000|\uFFFD/g;function V3(t){return(typeof t=="string"?t:""+t).replace(DJ,`
`).replace(MJ,"")}function xg(t,e,n){if(e=V3(e),V3(t)!==e&&n)throw Error(pe(425))}function cx(){}var UC=null,WC=null;function qC(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var KC=typeof setTimeout=="function"?setTimeout:void 0,NJ=typeof clearTimeout=="function"?clearTimeout:void 0,z3=typeof Promise=="function"?Promise:void 0,LJ=typeof queueMicrotask=="function"?queueMicrotask:typeof z3<"u"?function(t){return z3.resolve(null).then(t).catch(OJ)}:KC;function OJ(t){setTimeout(function(){throw t})}function uw(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),$p(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);$p(e)}function Cl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function j3(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Lf=Math.random().toString(36).slice(2),ns="__reactFiber$"+Lf,Kp="__reactProps$"+Lf,oa="__reactContainer$"+Lf,GC="__reactEvents$"+Lf,FJ="__reactListeners$"+Lf,BJ="__reactHandles$"+Lf;function Nc(t){var e=t[ns];if(e)return e;for(var n=t.parentNode;n;){if(e=n[oa]||n[ns]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=j3(t);t!==null;){if(n=t[ns])return n;t=j3(t)}return e}t=n,n=t.parentNode}return null}function Q0(t){return t=t[ns]||t[oa],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function vh(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(pe(33))}function Xv(t){return t[Kp]||null}var JC=[],yh=-1;function rc(t){return{current:t}}function Yt(t){0>yh||(t.current=JC[yh],JC[yh]=null,yh--)}function Ht(t,e){yh++,JC[yh]=t.current,t.current=e}var Bl={},Mr=rc(Bl),di=rc(!1),Qc=Bl;function rf(t,e){var n=t.type.contextTypes;if(!n)return Bl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function pi(t){return t=t.childContextTypes,t!=null}function ux(){Yt(di),Yt(Mr)}function $3(t,e,n){if(Mr.current!==Bl)throw Error(pe(168));Ht(Mr,e),Ht(di,n)}function EM(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(pe(108,CG(t)||"Unknown",i));return un({},n,r)}function hx(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Bl,Qc=Mr.current,Ht(Mr,t),Ht(di,di.current),!0}function H3(t,e,n){var r=t.stateNode;if(!r)throw Error(pe(169));n?(t=EM(t,e,Qc),r.__reactInternalMemoizedMergedChildContext=t,Yt(di),Yt(Mr),Ht(Mr,t)):Yt(di),Ht(di,n)}var Hs=null,Zv=!1,hw=!1;function SM(t){Hs===null?Hs=[t]:Hs.push(t)}function VJ(t){Zv=!0,SM(t)}function ic(){if(!hw&&Hs!==null){hw=!0;var t=0,e=Dt;try{var n=Hs;for(Dt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Hs=null,Zv=!1}catch(i){throw Hs!==null&&(Hs=Hs.slice(t+1)),Q7(ak,ic),i}finally{Dt=e,hw=!1}}return null}var _h=[],wh=0,fx=null,dx=0,Ki=[],Gi=0,Yc=null,Ws=1,qs="";function Ac(t,e){_h[wh++]=dx,_h[wh++]=fx,fx=t,dx=e}function kM(t,e,n){Ki[Gi++]=Ws,Ki[Gi++]=qs,Ki[Gi++]=Yc,Yc=t;var r=Ws;t=qs;var i=32-Ro(r)-1;r&=~(1<<i),n+=1;var o=32-Ro(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ws=1<<32-Ro(e)+i|n<<i|r,qs=o+t}else Ws=1<<o|n<<i|r,qs=t}function gk(t){t.return!==null&&(Ac(t,1),kM(t,1,0))}function xk(t){for(;t===fx;)fx=_h[--wh],_h[wh]=null,dx=_h[--wh],_h[wh]=null;for(;t===Yc;)Yc=Ki[--Gi],Ki[Gi]=null,qs=Ki[--Gi],Ki[Gi]=null,Ws=Ki[--Gi],Ki[Gi]=null}var Mi=null,Pi=null,tn=!1,To=null;function TM(t,e){var n=Zi(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function U3(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Mi=t,Pi=Cl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Mi=t,Pi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Yc!==null?{id:Ws,overflow:qs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Zi(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Mi=t,Pi=null,!0):!1;default:return!1}}function QC(t){return(t.mode&1)!==0&&(t.flags&128)===0}function YC(t){if(tn){var e=Pi;if(e){var n=e;if(!U3(t,e)){if(QC(t))throw Error(pe(418));e=Cl(n.nextSibling);var r=Mi;e&&U3(t,e)?TM(r,n):(t.flags=t.flags&-4097|2,tn=!1,Mi=t)}}else{if(QC(t))throw Error(pe(418));t.flags=t.flags&-4097|2,tn=!1,Mi=t}}}function W3(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Mi=t}function vg(t){if(t!==Mi)return!1;if(!tn)return W3(t),tn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!qC(t.type,t.memoizedProps)),e&&(e=Pi)){if(QC(t))throw AM(),Error(pe(418));for(;e;)TM(t,e),e=Cl(e.nextSibling)}if(W3(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(pe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Pi=Cl(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Pi=null}}else Pi=Mi?Cl(t.stateNode.nextSibling):null;return!0}function AM(){for(var t=Pi;t;)t=Cl(t.nextSibling)}function of(){Pi=Mi=null,tn=!1}function vk(t){To===null?To=[t]:To.push(t)}var zJ=_a.ReactCurrentBatchConfig;function vd(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(pe(309));var r=n.stateNode}if(!r)throw Error(pe(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(pe(284));if(!n._owner)throw Error(pe(290,t))}return t}function yg(t,e){throw t=Object.prototype.toString.call(e),Error(pe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function q3(t){var e=t._init;return e(t._payload)}function IM(t){function e(x,y){if(t){var _=x.deletions;_===null?(x.deletions=[y],x.flags|=16):_.push(y)}}function n(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function r(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function i(x,y){return x=kl(x,y),x.index=0,x.sibling=null,x}function o(x,y,_){return x.index=_,t?(_=x.alternate,_!==null?(_=_.index,_<y?(x.flags|=2,y):_):(x.flags|=2,y)):(x.flags|=1048576,y)}function s(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,y,_,C){return y===null||y.tag!==6?(y=vw(_,x.mode,C),y.return=x,y):(y=i(y,_),y.return=x,y)}function l(x,y,_,C){var S=_.type;return S===ph?u(x,y,_.props.children,C,_.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ja&&q3(S)===y.type)?(C=i(y,_.props),C.ref=vd(x,y,_),C.return=x,C):(C=k1(_.type,_.key,_.props,null,x.mode,C),C.ref=vd(x,y,_),C.return=x,C)}function c(x,y,_,C){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=yw(_,x.mode,C),y.return=x,y):(y=i(y,_.children||[]),y.return=x,y)}function u(x,y,_,C,S){return y===null||y.tag!==7?(y=Uc(_,x.mode,C,S),y.return=x,y):(y=i(y,_),y.return=x,y)}function h(x,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return y=vw(""+y,x.mode,_),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case lg:return _=k1(y.type,y.key,y.props,null,x.mode,_),_.ref=vd(x,null,y),_.return=x,_;case dh:return y=yw(y,x.mode,_),y.return=x,y;case Ja:var C=y._init;return h(x,C(y._payload),_)}if(Vd(y)||dd(y))return y=Uc(y,x.mode,_,null),y.return=x,y;yg(x,y)}return null}function f(x,y,_,C){var S=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:a(x,y,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case lg:return _.key===S?l(x,y,_,C):null;case dh:return _.key===S?c(x,y,_,C):null;case Ja:return S=_._init,f(x,y,S(_._payload),C)}if(Vd(_)||dd(_))return S!==null?null:u(x,y,_,C,null);yg(x,_)}return null}function d(x,y,_,C,S){if(typeof C=="string"&&C!==""||typeof C=="number")return x=x.get(_)||null,a(y,x,""+C,S);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case lg:return x=x.get(C.key===null?_:C.key)||null,l(y,x,C,S);case dh:return x=x.get(C.key===null?_:C.key)||null,c(y,x,C,S);case Ja:var T=C._init;return d(x,y,_,T(C._payload),S)}if(Vd(C)||dd(C))return x=x.get(_)||null,u(y,x,C,S,null);yg(y,C)}return null}function p(x,y,_,C){for(var S=null,T=null,b=y,w=y=0,I=null;b!==null&&w<_.length;w++){b.index>w?(I=b,b=null):I=b.sibling;var E=f(x,b,_[w],C);if(E===null){b===null&&(b=I);break}t&&b&&E.alternate===null&&e(x,b),y=o(E,y,w),T===null?S=E:T.sibling=E,T=E,b=I}if(w===_.length)return n(x,b),tn&&Ac(x,w),S;if(b===null){for(;w<_.length;w++)b=h(x,_[w],C),b!==null&&(y=o(b,y,w),T===null?S=b:T.sibling=b,T=b);return tn&&Ac(x,w),S}for(b=r(x,b);w<_.length;w++)I=d(b,x,w,_[w],C),I!==null&&(t&&I.alternate!==null&&b.delete(I.key===null?w:I.key),y=o(I,y,w),T===null?S=I:T.sibling=I,T=I);return t&&b.forEach(function(R){return e(x,R)}),tn&&Ac(x,w),S}function m(x,y,_,C){var S=dd(_);if(typeof S!="function")throw Error(pe(150));if(_=S.call(_),_==null)throw Error(pe(151));for(var T=S=null,b=y,w=y=0,I=null,E=_.next();b!==null&&!E.done;w++,E=_.next()){b.index>w?(I=b,b=null):I=b.sibling;var R=f(x,b,E.value,C);if(R===null){b===null&&(b=I);break}t&&b&&R.alternate===null&&e(x,b),y=o(R,y,w),T===null?S=R:T.sibling=R,T=R,b=I}if(E.done)return n(x,b),tn&&Ac(x,w),S;if(b===null){for(;!E.done;w++,E=_.next())E=h(x,E.value,C),E!==null&&(y=o(E,y,w),T===null?S=E:T.sibling=E,T=E);return tn&&Ac(x,w),S}for(b=r(x,b);!E.done;w++,E=_.next())E=d(b,x,w,E.value,C),E!==null&&(t&&E.alternate!==null&&b.delete(E.key===null?w:E.key),y=o(E,y,w),T===null?S=E:T.sibling=E,T=E);return t&&b.forEach(function(D){return e(x,D)}),tn&&Ac(x,w),S}function v(x,y,_,C){if(typeof _=="object"&&_!==null&&_.type===ph&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case lg:e:{for(var S=_.key,T=y;T!==null;){if(T.key===S){if(S=_.type,S===ph){if(T.tag===7){n(x,T.sibling),y=i(T,_.props.children),y.return=x,x=y;break e}}else if(T.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ja&&q3(S)===T.type){n(x,T.sibling),y=i(T,_.props),y.ref=vd(x,T,_),y.return=x,x=y;break e}n(x,T);break}else e(x,T);T=T.sibling}_.type===ph?(y=Uc(_.props.children,x.mode,C,_.key),y.return=x,x=y):(C=k1(_.type,_.key,_.props,null,x.mode,C),C.ref=vd(x,y,_),C.return=x,x=C)}return s(x);case dh:e:{for(T=_.key;y!==null;){if(y.key===T)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){n(x,y.sibling),y=i(y,_.children||[]),y.return=x,x=y;break e}else{n(x,y);break}else e(x,y);y=y.sibling}y=yw(_,x.mode,C),y.return=x,x=y}return s(x);case Ja:return T=_._init,v(x,y,T(_._payload),C)}if(Vd(_))return p(x,y,_,C);if(dd(_))return m(x,y,_,C);yg(x,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,y!==null&&y.tag===6?(n(x,y.sibling),y=i(y,_),y.return=x,x=y):(n(x,y),y=vw(_,x.mode,C),y.return=x,x=y),s(x)):n(x,y)}return v}var sf=IM(!0),RM=IM(!1),px=rc(null),mx=null,Ch=null,yk=null;function _k(){yk=Ch=mx=null}function wk(t){var e=px.current;Yt(px),t._currentValue=e}function XC(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Lh(t,e){mx=t,yk=Ch=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ui=!0),t.firstContext=null)}function ao(t){var e=t._currentValue;if(yk!==t)if(t={context:t,memoizedValue:e,next:null},Ch===null){if(mx===null)throw Error(pe(308));Ch=t,mx.dependencies={lanes:0,firstContext:t}}else Ch=Ch.next=t;return e}var Lc=null;function Ck(t){Lc===null?Lc=[t]:Lc.push(t)}function PM(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Ck(e)):(n.next=i.next,i.next=n),e.interleaved=n,sa(t,r)}function sa(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Qa=!1;function bk(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function DM(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function bl(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Et&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,sa(t,n)}return i=r.interleaved,i===null?(e.next=e,Ck(r)):(e.next=i.next,i.next=e),r.interleaved=e,sa(t,n)}function _1(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,lk(t,n)}}function K3(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function gx(t,e,n,r){var i=t.updateQueue;Qa=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var h=i.baseState;s=0,u=c=l=null,a=o;do{var f=a.lane,d=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,m=a;switch(f=e,d=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,f=typeof p=="function"?p.call(d,h,f):p,f==null)break e;h=un({},h,f);break e;case 2:Qa=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else d={eventTime:d,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=d,l=h):u=u.next=d,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Zc|=s,t.lanes=s,t.memoizedState=h}}function G3(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(pe(191,i));i.call(r)}}}var Y0={},ps=rc(Y0),Gp=rc(Y0),Jp=rc(Y0);function Oc(t){if(t===Y0)throw Error(pe(174));return t}function Ek(t,e){switch(Ht(Jp,e),Ht(Gp,t),Ht(ps,Y0),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:DC(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=DC(e,t)}Yt(ps),Ht(ps,e)}function af(){Yt(ps),Yt(Gp),Yt(Jp)}function MM(t){Oc(Jp.current);var e=Oc(ps.current),n=DC(e,t.type);e!==n&&(Ht(Gp,t),Ht(ps,n))}function Sk(t){Gp.current===t&&(Yt(ps),Yt(Gp))}var an=rc(0);function xx(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var fw=[];function kk(){for(var t=0;t<fw.length;t++)fw[t]._workInProgressVersionPrimary=null;fw.length=0}var w1=_a.ReactCurrentDispatcher,dw=_a.ReactCurrentBatchConfig,Xc=0,cn=null,Vn=null,Jn=null,vx=!1,hp=!1,Qp=0,jJ=0;function Er(){throw Error(pe(321))}function Tk(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Lo(t[n],e[n]))return!1;return!0}function Ak(t,e,n,r,i,o){if(Xc=o,cn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,w1.current=t===null||t.memoizedState===null?WJ:qJ,t=n(r,i),hp){o=0;do{if(hp=!1,Qp=0,25<=o)throw Error(pe(301));o+=1,Jn=Vn=null,e.updateQueue=null,w1.current=KJ,t=n(r,i)}while(hp)}if(w1.current=yx,e=Vn!==null&&Vn.next!==null,Xc=0,Jn=Vn=cn=null,vx=!1,e)throw Error(pe(300));return t}function Ik(){var t=Qp!==0;return Qp=0,t}function es(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jn===null?cn.memoizedState=Jn=t:Jn=Jn.next=t,Jn}function lo(){if(Vn===null){var t=cn.alternate;t=t!==null?t.memoizedState:null}else t=Vn.next;var e=Jn===null?cn.memoizedState:Jn.next;if(e!==null)Jn=e,Vn=t;else{if(t===null)throw Error(pe(310));Vn=t,t={memoizedState:Vn.memoizedState,baseState:Vn.baseState,baseQueue:Vn.baseQueue,queue:Vn.queue,next:null},Jn===null?cn.memoizedState=Jn=t:Jn=Jn.next=t}return Jn}function Yp(t,e){return typeof e=="function"?e(t):e}function pw(t){var e=lo(),n=e.queue;if(n===null)throw Error(pe(311));n.lastRenderedReducer=t;var r=Vn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((Xc&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,s=r):l=l.next=h,cn.lanes|=u,Zc|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,Lo(r,e.memoizedState)||(ui=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,cn.lanes|=o,Zc|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function mw(t){var e=lo(),n=e.queue;if(n===null)throw Error(pe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Lo(o,e.memoizedState)||(ui=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function NM(){}function LM(t,e){var n=cn,r=lo(),i=e(),o=!Lo(r.memoizedState,i);if(o&&(r.memoizedState=i,ui=!0),r=r.queue,Rk(BM.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Jn!==null&&Jn.memoizedState.tag&1){if(n.flags|=2048,Xp(9,FM.bind(null,n,r,i,e),void 0,null),Xn===null)throw Error(pe(349));Xc&30||OM(n,e,i)}return i}function OM(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=cn.updateQueue,e===null?(e={lastEffect:null,stores:null},cn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function FM(t,e,n,r){e.value=n,e.getSnapshot=r,VM(e)&&zM(t)}function BM(t,e,n){return n(function(){VM(e)&&zM(t)})}function VM(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Lo(t,n)}catch{return!0}}function zM(t){var e=sa(t,1);e!==null&&Po(e,t,1,-1)}function J3(t){var e=es();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yp,lastRenderedState:t},e.queue=t,t=t.dispatch=UJ.bind(null,cn,t),[e.memoizedState,t]}function Xp(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=cn.updateQueue,e===null?(e={lastEffect:null,stores:null},cn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function jM(){return lo().memoizedState}function C1(t,e,n,r){var i=es();cn.flags|=t,i.memoizedState=Xp(1|e,n,void 0,r===void 0?null:r)}function ey(t,e,n,r){var i=lo();r=r===void 0?null:r;var o=void 0;if(Vn!==null){var s=Vn.memoizedState;if(o=s.destroy,r!==null&&Tk(r,s.deps)){i.memoizedState=Xp(e,n,o,r);return}}cn.flags|=t,i.memoizedState=Xp(1|e,n,o,r)}function Q3(t,e){return C1(8390656,8,t,e)}function Rk(t,e){return ey(2048,8,t,e)}function $M(t,e){return ey(4,2,t,e)}function HM(t,e){return ey(4,4,t,e)}function UM(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function WM(t,e,n){return n=n!=null?n.concat([t]):null,ey(4,4,UM.bind(null,e,t),n)}function Pk(){}function qM(t,e){var n=lo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Tk(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function KM(t,e){var n=lo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Tk(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function GM(t,e,n){return Xc&21?(Lo(n,e)||(n=Z7(),cn.lanes|=n,Zc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ui=!0),t.memoizedState=n)}function $J(t,e){var n=Dt;Dt=n!==0&&4>n?n:4,t(!0);var r=dw.transition;dw.transition={};try{t(!1),e()}finally{Dt=n,dw.transition=r}}function JM(){return lo().memoizedState}function HJ(t,e,n){var r=Sl(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},QM(t))YM(e,n);else if(n=PM(t,e,n,r),n!==null){var i=Wr();Po(n,t,r,i),XM(n,e,r)}}function UJ(t,e,n){var r=Sl(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(QM(t))YM(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Lo(a,s)){var l=e.interleaved;l===null?(i.next=i,Ck(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=PM(t,e,i,r),n!==null&&(i=Wr(),Po(n,t,r,i),XM(n,e,r))}}function QM(t){var e=t.alternate;return t===cn||e!==null&&e===cn}function YM(t,e){hp=vx=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function XM(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,lk(t,n)}}var yx={readContext:ao,useCallback:Er,useContext:Er,useEffect:Er,useImperativeHandle:Er,useInsertionEffect:Er,useLayoutEffect:Er,useMemo:Er,useReducer:Er,useRef:Er,useState:Er,useDebugValue:Er,useDeferredValue:Er,useTransition:Er,useMutableSource:Er,useSyncExternalStore:Er,useId:Er,unstable_isNewReconciler:!1},WJ={readContext:ao,useCallback:function(t,e){return es().memoizedState=[t,e===void 0?null:e],t},useContext:ao,useEffect:Q3,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,C1(4194308,4,UM.bind(null,e,t),n)},useLayoutEffect:function(t,e){return C1(4194308,4,t,e)},useInsertionEffect:function(t,e){return C1(4,2,t,e)},useMemo:function(t,e){var n=es();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=es();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=HJ.bind(null,cn,t),[r.memoizedState,t]},useRef:function(t){var e=es();return t={current:t},e.memoizedState=t},useState:J3,useDebugValue:Pk,useDeferredValue:function(t){return es().memoizedState=t},useTransition:function(){var t=J3(!1),e=t[0];return t=$J.bind(null,t[1]),es().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=cn,i=es();if(tn){if(n===void 0)throw Error(pe(407));n=n()}else{if(n=e(),Xn===null)throw Error(pe(349));Xc&30||OM(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Q3(BM.bind(null,r,o,t),[t]),r.flags|=2048,Xp(9,FM.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=es(),e=Xn.identifierPrefix;if(tn){var n=qs,r=Ws;n=(r&~(1<<32-Ro(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Qp++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=jJ++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},qJ={readContext:ao,useCallback:qM,useContext:ao,useEffect:Rk,useImperativeHandle:WM,useInsertionEffect:$M,useLayoutEffect:HM,useMemo:KM,useReducer:pw,useRef:jM,useState:function(){return pw(Yp)},useDebugValue:Pk,useDeferredValue:function(t){var e=lo();return GM(e,Vn.memoizedState,t)},useTransition:function(){var t=pw(Yp)[0],e=lo().memoizedState;return[t,e]},useMutableSource:NM,useSyncExternalStore:LM,useId:JM,unstable_isNewReconciler:!1},KJ={readContext:ao,useCallback:qM,useContext:ao,useEffect:Rk,useImperativeHandle:WM,useInsertionEffect:$M,useLayoutEffect:HM,useMemo:KM,useReducer:mw,useRef:jM,useState:function(){return mw(Yp)},useDebugValue:Pk,useDeferredValue:function(t){var e=lo();return Vn===null?e.memoizedState=t:GM(e,Vn.memoizedState,t)},useTransition:function(){var t=mw(Yp)[0],e=lo().memoizedState;return[t,e]},useMutableSource:NM,useSyncExternalStore:LM,useId:JM,unstable_isNewReconciler:!1};function bo(t,e){if(t&&t.defaultProps){e=un({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ZC(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:un({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ty={isMounted:function(t){return(t=t._reactInternals)?Eu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Wr(),i=Sl(t),o=Zs(r,i);o.payload=e,n!=null&&(o.callback=n),e=bl(t,o,i),e!==null&&(Po(e,t,i,r),_1(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Wr(),i=Sl(t),o=Zs(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=bl(t,o,i),e!==null&&(Po(e,t,i,r),_1(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Wr(),r=Sl(t),i=Zs(n,r);i.tag=2,e!=null&&(i.callback=e),e=bl(t,i,r),e!==null&&(Po(e,t,r,n),_1(e,t,r))}};function Y3(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Up(n,r)||!Up(i,o):!0}function ZM(t,e,n){var r=!1,i=Bl,o=e.contextType;return typeof o=="object"&&o!==null?o=ao(o):(i=pi(e)?Qc:Mr.current,r=e.contextTypes,o=(r=r!=null)?rf(t,i):Bl),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ty,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function X3(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ty.enqueueReplaceState(e,e.state,null)}function eb(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},bk(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=ao(o):(o=pi(e)?Qc:Mr.current,i.context=rf(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(ZC(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ty.enqueueReplaceState(i,i.state,null),gx(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function lf(t,e){try{var n="",r=e;do n+=wG(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function gw(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function tb(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var GJ=typeof WeakMap=="function"?WeakMap:Map;function eN(t,e,n){n=Zs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){wx||(wx=!0,hb=r),tb(t,e)},n}function tN(t,e,n){n=Zs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){tb(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){tb(t,e),typeof r!="function"&&(El===null?El=new Set([this]):El.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Z3(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new GJ;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=lQ.bind(null,t,e,n),e.then(t,t))}function e8(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function t8(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Zs(-1,1),e.tag=2,bl(n,e,1))),n.lanes|=1),t)}var JJ=_a.ReactCurrentOwner,ui=!1;function jr(t,e,n,r){e.child=t===null?RM(e,null,n,r):sf(e,t.child,n,r)}function n8(t,e,n,r,i){n=n.render;var o=e.ref;return Lh(e,i),r=Ak(t,e,n,r,o,i),n=Ik(),t!==null&&!ui?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,aa(t,e,i)):(tn&&n&&gk(e),e.flags|=1,jr(t,e,r,i),e.child)}function r8(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!Vk(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,nN(t,e,o,r,i)):(t=k1(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Up,n(s,r)&&t.ref===e.ref)return aa(t,e,i)}return e.flags|=1,t=kl(o,r),t.ref=e.ref,t.return=e,e.child=t}function nN(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Up(o,r)&&t.ref===e.ref)if(ui=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(ui=!0);else return e.lanes=t.lanes,aa(t,e,i)}return nb(t,e,n,r,i)}function rN(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ht(Eh,Si),Si|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ht(Eh,Si),Si|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ht(Eh,Si),Si|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Ht(Eh,Si),Si|=r;return jr(t,e,i,n),e.child}function iN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function nb(t,e,n,r,i){var o=pi(n)?Qc:Mr.current;return o=rf(e,o),Lh(e,i),n=Ak(t,e,n,r,o,i),r=Ik(),t!==null&&!ui?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,aa(t,e,i)):(tn&&r&&gk(e),e.flags|=1,jr(t,e,n,i),e.child)}function i8(t,e,n,r,i){if(pi(n)){var o=!0;hx(e)}else o=!1;if(Lh(e,i),e.stateNode===null)b1(t,e),ZM(e,n,r),eb(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=ao(c):(c=pi(n)?Qc:Mr.current,c=rf(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";h||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&X3(e,s,r,c),Qa=!1;var f=e.memoizedState;s.state=f,gx(e,r,s,i),l=e.memoizedState,a!==r||f!==l||di.current||Qa?(typeof u=="function"&&(ZC(e,n,u,r),l=e.memoizedState),(a=Qa||Y3(e,n,a,r,f,l,c))?(h||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,DM(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:bo(e.type,a),s.props=c,h=e.pendingProps,f=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=ao(l):(l=pi(n)?Qc:Mr.current,l=rf(e,l));var d=n.getDerivedStateFromProps;(u=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==h||f!==l)&&X3(e,s,r,l),Qa=!1,f=e.memoizedState,s.state=f,gx(e,r,s,i);var p=e.memoizedState;a!==h||f!==p||di.current||Qa?(typeof d=="function"&&(ZC(e,n,d,r),p=e.memoizedState),(c=Qa||Y3(e,n,c,r,f,p,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),s.props=r,s.state=p,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return rb(t,e,n,r,o,i)}function rb(t,e,n,r,i,o){iN(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&H3(e,n,!1),aa(t,e,o);r=e.stateNode,JJ.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=sf(e,t.child,null,o),e.child=sf(e,null,a,o)):jr(t,e,a,o),e.memoizedState=r.state,i&&H3(e,n,!0),e.child}function oN(t){var e=t.stateNode;e.pendingContext?$3(t,e.pendingContext,e.pendingContext!==e.context):e.context&&$3(t,e.context,!1),Ek(t,e.containerInfo)}function o8(t,e,n,r,i){return of(),vk(i),e.flags|=256,jr(t,e,n,r),e.child}var ib={dehydrated:null,treeContext:null,retryLane:0};function ob(t){return{baseLanes:t,cachePool:null,transitions:null}}function sN(t,e,n){var r=e.pendingProps,i=an.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ht(an,i&1),t===null)return YC(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=iy(s,r,0,null),t=Uc(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=ob(n),e.memoizedState=ib,t):Dk(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return QJ(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=kl(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=kl(a,o):(o=Uc(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?ob(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=ib,r}return o=t.child,t=o.sibling,r=kl(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Dk(t,e){return e=iy({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function _g(t,e,n,r){return r!==null&&vk(r),sf(e,t.child,null,n),t=Dk(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function QJ(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=gw(Error(pe(422))),_g(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=iy({mode:"visible",children:r.children},i,0,null),o=Uc(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&sf(e,t.child,null,s),e.child.memoizedState=ob(s),e.memoizedState=ib,o);if(!(e.mode&1))return _g(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(pe(419)),r=gw(o,r,void 0),_g(t,e,s,r)}if(a=(s&t.childLanes)!==0,ui||a){if(r=Xn,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,sa(t,i),Po(r,t,i,-1))}return Bk(),r=gw(Error(pe(421))),_g(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=cQ.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Pi=Cl(i.nextSibling),Mi=e,tn=!0,To=null,t!==null&&(Ki[Gi++]=Ws,Ki[Gi++]=qs,Ki[Gi++]=Yc,Ws=t.id,qs=t.overflow,Yc=e),e=Dk(e,r.children),e.flags|=4096,e)}function s8(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),XC(t.return,e,n)}function xw(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function aN(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(jr(t,e,r.children,n),r=an.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&s8(t,n,e);else if(t.tag===19)s8(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ht(an,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&xx(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),xw(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&xx(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}xw(e,!0,n,null,o);break;case"together":xw(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function b1(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function aa(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Zc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(pe(153));if(e.child!==null){for(t=e.child,n=kl(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=kl(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function YJ(t,e,n){switch(e.tag){case 3:oN(e),of();break;case 5:MM(e);break;case 1:pi(e.type)&&hx(e);break;case 4:Ek(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ht(px,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ht(an,an.current&1),e.flags|=128,null):n&e.child.childLanes?sN(t,e,n):(Ht(an,an.current&1),t=aa(t,e,n),t!==null?t.sibling:null);Ht(an,an.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return aN(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ht(an,an.current),r)break;return null;case 22:case 23:return e.lanes=0,rN(t,e,n)}return aa(t,e,n)}var lN,sb,cN,uN;lN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};sb=function(){};cN=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Oc(ps.current);var o=null;switch(n){case"input":i=AC(t,i),r=AC(t,r),o=[];break;case"select":i=un({},i,{value:void 0}),r=un({},r,{value:void 0}),o=[];break;case"textarea":i=PC(t,i),r=PC(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=cx)}MC(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Fp.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Fp.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Jt("scroll",t),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};uN=function(t,e,n,r){n!==r&&(e.flags|=4)};function yd(t,e){if(!tn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Sr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function XJ(t,e,n){var r=e.pendingProps;switch(xk(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Sr(e),null;case 1:return pi(e.type)&&ux(),Sr(e),null;case 3:return r=e.stateNode,af(),Yt(di),Yt(Mr),kk(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(vg(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,To!==null&&(pb(To),To=null))),sb(t,e),Sr(e),null;case 5:Sk(e);var i=Oc(Jp.current);if(n=e.type,t!==null&&e.stateNode!=null)cN(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(pe(166));return Sr(e),null}if(t=Oc(ps.current),vg(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[ns]=e,r[Kp]=o,t=(e.mode&1)!==0,n){case"dialog":Jt("cancel",r),Jt("close",r);break;case"iframe":case"object":case"embed":Jt("load",r);break;case"video":case"audio":for(i=0;i<jd.length;i++)Jt(jd[i],r);break;case"source":Jt("error",r);break;case"img":case"image":case"link":Jt("error",r),Jt("load",r);break;case"details":Jt("toggle",r);break;case"input":m3(r,o),Jt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Jt("invalid",r);break;case"textarea":x3(r,o),Jt("invalid",r)}MC(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&xg(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&xg(r.textContent,a,t),i=["children",""+a]):Fp.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Jt("scroll",r)}switch(n){case"input":cg(r),g3(r,o,!0);break;case"textarea":cg(r),v3(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=cx)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=B7(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[ns]=e,t[Kp]=r,lN(t,e,!1,!1),e.stateNode=t;e:{switch(s=NC(n,r),n){case"dialog":Jt("cancel",t),Jt("close",t),i=r;break;case"iframe":case"object":case"embed":Jt("load",t),i=r;break;case"video":case"audio":for(i=0;i<jd.length;i++)Jt(jd[i],t);i=r;break;case"source":Jt("error",t),i=r;break;case"img":case"image":case"link":Jt("error",t),Jt("load",t),i=r;break;case"details":Jt("toggle",t),i=r;break;case"input":m3(t,r),i=AC(t,r),Jt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=un({},r,{value:void 0}),Jt("invalid",t);break;case"textarea":x3(t,r),i=PC(t,r),Jt("invalid",t);break;default:i=r}MC(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?j7(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&V7(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Bp(t,l):typeof l=="number"&&Bp(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Fp.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Jt("scroll",t):l!=null&&nk(t,o,l,s))}switch(n){case"input":cg(t),g3(t,r,!1);break;case"textarea":cg(t),v3(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Fl(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Ph(t,!!r.multiple,o,!1):r.defaultValue!=null&&Ph(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=cx)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Sr(e),null;case 6:if(t&&e.stateNode!=null)uN(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(pe(166));if(n=Oc(Jp.current),Oc(ps.current),vg(e)){if(r=e.stateNode,n=e.memoizedProps,r[ns]=e,(o=r.nodeValue!==n)&&(t=Mi,t!==null))switch(t.tag){case 3:xg(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&xg(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ns]=e,e.stateNode=r}return Sr(e),null;case 13:if(Yt(an),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(tn&&Pi!==null&&e.mode&1&&!(e.flags&128))AM(),of(),e.flags|=98560,o=!1;else if(o=vg(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(pe(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(pe(317));o[ns]=e}else of(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Sr(e),o=!1}else To!==null&&(pb(To),To=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||an.current&1?Un===0&&(Un=3):Bk())),e.updateQueue!==null&&(e.flags|=4),Sr(e),null);case 4:return af(),sb(t,e),t===null&&Wp(e.stateNode.containerInfo),Sr(e),null;case 10:return wk(e.type._context),Sr(e),null;case 17:return pi(e.type)&&ux(),Sr(e),null;case 19:if(Yt(an),o=e.memoizedState,o===null)return Sr(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)yd(o,!1);else{if(Un!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=xx(t),s!==null){for(e.flags|=128,yd(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ht(an,an.current&1|2),e.child}t=t.sibling}o.tail!==null&&Sn()>cf&&(e.flags|=128,r=!0,yd(o,!1),e.lanes=4194304)}else{if(!r)if(t=xx(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),yd(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!tn)return Sr(e),null}else 2*Sn()-o.renderingStartTime>cf&&n!==1073741824&&(e.flags|=128,r=!0,yd(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Sn(),e.sibling=null,n=an.current,Ht(an,r?n&1|2:n&1),e):(Sr(e),null);case 22:case 23:return Fk(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Si&1073741824&&(Sr(e),e.subtreeFlags&6&&(e.flags|=8192)):Sr(e),null;case 24:return null;case 25:return null}throw Error(pe(156,e.tag))}function ZJ(t,e){switch(xk(e),e.tag){case 1:return pi(e.type)&&ux(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return af(),Yt(di),Yt(Mr),kk(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Sk(e),null;case 13:if(Yt(an),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(pe(340));of()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Yt(an),null;case 4:return af(),null;case 10:return wk(e.type._context),null;case 22:case 23:return Fk(),null;case 24:return null;default:return null}}var wg=!1,Ir=!1,eQ=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function bh(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){vn(t,e,r)}else n.current=null}function ab(t,e,n){try{n()}catch(r){vn(t,e,r)}}var a8=!1;function tQ(t,e){if(UC=sx,t=mM(),mk(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,h=t,f=null;t:for(;;){for(var d;h!==n||i!==0&&h.nodeType!==3||(a=s+i),h!==o||r!==0&&h.nodeType!==3||(l=s+r),h.nodeType===3&&(s+=h.nodeValue.length),(d=h.firstChild)!==null;)f=h,h=d;for(;;){if(h===t)break t;if(f===n&&++c===i&&(a=s),f===o&&++u===r&&(l=s),(d=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=d}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(WC={focusedElem:t,selectionRange:n},sx=!1,Ie=e;Ie!==null;)if(e=Ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ie=t;else for(;Ie!==null;){e=Ie;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,v=p.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?m:bo(e.type,m),v);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(pe(163))}}catch(C){vn(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,Ie=t;break}Ie=e.return}return p=a8,a8=!1,p}function fp(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&ab(e,n,o)}i=i.next}while(i!==r)}}function ny(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function lb(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function hN(t){var e=t.alternate;e!==null&&(t.alternate=null,hN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ns],delete e[Kp],delete e[GC],delete e[FJ],delete e[BJ])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function fN(t){return t.tag===5||t.tag===3||t.tag===4}function l8(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cb(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=cx));else if(r!==4&&(t=t.child,t!==null))for(cb(t,e,n),t=t.sibling;t!==null;)cb(t,e,n),t=t.sibling}function ub(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ub(t,e,n),t=t.sibling;t!==null;)ub(t,e,n),t=t.sibling}var ir=null,So=!1;function Ba(t,e,n){for(n=n.child;n!==null;)dN(t,e,n),n=n.sibling}function dN(t,e,n){if(ds&&typeof ds.onCommitFiberUnmount=="function")try{ds.onCommitFiberUnmount(Gv,n)}catch{}switch(n.tag){case 5:Ir||bh(n,e);case 6:var r=ir,i=So;ir=null,Ba(t,e,n),ir=r,So=i,ir!==null&&(So?(t=ir,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ir.removeChild(n.stateNode));break;case 18:ir!==null&&(So?(t=ir,n=n.stateNode,t.nodeType===8?uw(t.parentNode,n):t.nodeType===1&&uw(t,n),$p(t)):uw(ir,n.stateNode));break;case 4:r=ir,i=So,ir=n.stateNode.containerInfo,So=!0,Ba(t,e,n),ir=r,So=i;break;case 0:case 11:case 14:case 15:if(!Ir&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&ab(n,e,s),i=i.next}while(i!==r)}Ba(t,e,n);break;case 1:if(!Ir&&(bh(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){vn(n,e,a)}Ba(t,e,n);break;case 21:Ba(t,e,n);break;case 22:n.mode&1?(Ir=(r=Ir)||n.memoizedState!==null,Ba(t,e,n),Ir=r):Ba(t,e,n);break;default:Ba(t,e,n)}}function c8(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new eQ),e.forEach(function(r){var i=uQ.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function xo(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:ir=a.stateNode,So=!1;break e;case 3:ir=a.stateNode.containerInfo,So=!0;break e;case 4:ir=a.stateNode.containerInfo,So=!0;break e}a=a.return}if(ir===null)throw Error(pe(160));dN(o,s,i),ir=null,So=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){vn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)pN(e,t),e=e.sibling}function pN(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xo(e,t),Jo(t),r&4){try{fp(3,t,t.return),ny(3,t)}catch(m){vn(t,t.return,m)}try{fp(5,t,t.return)}catch(m){vn(t,t.return,m)}}break;case 1:xo(e,t),Jo(t),r&512&&n!==null&&bh(n,n.return);break;case 5:if(xo(e,t),Jo(t),r&512&&n!==null&&bh(n,n.return),t.flags&32){var i=t.stateNode;try{Bp(i,"")}catch(m){vn(t,t.return,m)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&O7(i,o),NC(a,s);var c=NC(a,o);for(s=0;s<l.length;s+=2){var u=l[s],h=l[s+1];u==="style"?j7(i,h):u==="dangerouslySetInnerHTML"?V7(i,h):u==="children"?Bp(i,h):nk(i,u,h,c)}switch(a){case"input":IC(i,o);break;case"textarea":F7(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var d=o.value;d!=null?Ph(i,!!o.multiple,d,!1):f!==!!o.multiple&&(o.defaultValue!=null?Ph(i,!!o.multiple,o.defaultValue,!0):Ph(i,!!o.multiple,o.multiple?[]:"",!1))}i[Kp]=o}catch(m){vn(t,t.return,m)}}break;case 6:if(xo(e,t),Jo(t),r&4){if(t.stateNode===null)throw Error(pe(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(m){vn(t,t.return,m)}}break;case 3:if(xo(e,t),Jo(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$p(e.containerInfo)}catch(m){vn(t,t.return,m)}break;case 4:xo(e,t),Jo(t);break;case 13:xo(e,t),Jo(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Lk=Sn())),r&4&&c8(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Ir=(c=Ir)||u,xo(e,t),Ir=c):xo(e,t),Jo(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Ie=t,u=t.child;u!==null;){for(h=Ie=u;Ie!==null;){switch(f=Ie,d=f.child,f.tag){case 0:case 11:case 14:case 15:fp(4,f,f.return);break;case 1:bh(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){vn(r,n,m)}}break;case 5:bh(f,f.return);break;case 22:if(f.memoizedState!==null){h8(h);continue}}d!==null?(d.return=f,Ie=d):h8(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{i=h.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=z7("display",s))}catch(m){vn(t,t.return,m)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(m){vn(t,t.return,m)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:xo(e,t),Jo(t),r&4&&c8(t);break;case 21:break;default:xo(e,t),Jo(t)}}function Jo(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(fN(n)){var r=n;break e}n=n.return}throw Error(pe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Bp(i,""),r.flags&=-33);var o=l8(t);ub(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=l8(t);cb(t,a,s);break;default:throw Error(pe(161))}}catch(l){vn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function nQ(t,e,n){Ie=t,mN(t)}function mN(t,e,n){for(var r=(t.mode&1)!==0;Ie!==null;){var i=Ie,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||wg;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ir;a=wg;var c=Ir;if(wg=s,(Ir=l)&&!c)for(Ie=i;Ie!==null;)s=Ie,l=s.child,s.tag===22&&s.memoizedState!==null?f8(i):l!==null?(l.return=s,Ie=l):f8(i);for(;o!==null;)Ie=o,mN(o),o=o.sibling;Ie=i,wg=a,Ir=c}u8(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Ie=o):u8(t)}}function u8(t){for(;Ie!==null;){var e=Ie;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ir||ny(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ir)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:bo(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&G3(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}G3(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&$p(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(pe(163))}Ir||e.flags&512&&lb(e)}catch(f){vn(e,e.return,f)}}if(e===t){Ie=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ie=n;break}Ie=e.return}}function h8(t){for(;Ie!==null;){var e=Ie;if(e===t){Ie=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ie=n;break}Ie=e.return}}function f8(t){for(;Ie!==null;){var e=Ie;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ny(4,e)}catch(l){vn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){vn(e,i,l)}}var o=e.return;try{lb(e)}catch(l){vn(e,o,l)}break;case 5:var s=e.return;try{lb(e)}catch(l){vn(e,s,l)}}}catch(l){vn(e,e.return,l)}if(e===t){Ie=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ie=a;break}Ie=e.return}}var rQ=Math.ceil,_x=_a.ReactCurrentDispatcher,Mk=_a.ReactCurrentOwner,ro=_a.ReactCurrentBatchConfig,Et=0,Xn=null,Dn=null,mr=0,Si=0,Eh=rc(0),Un=0,Zp=null,Zc=0,ry=0,Nk=0,dp=null,si=null,Lk=0,cf=1/0,js=null,wx=!1,hb=null,El=null,Cg=!1,ul=null,Cx=0,pp=0,fb=null,E1=-1,S1=0;function Wr(){return Et&6?Sn():E1!==-1?E1:E1=Sn()}function Sl(t){return t.mode&1?Et&2&&mr!==0?mr&-mr:zJ.transition!==null?(S1===0&&(S1=Z7()),S1):(t=Dt,t!==0||(t=window.event,t=t===void 0?16:sM(t.type)),t):1}function Po(t,e,n,r){if(50<pp)throw pp=0,fb=null,Error(pe(185));G0(t,n,r),(!(Et&2)||t!==Xn)&&(t===Xn&&(!(Et&2)&&(ry|=n),Un===4&&nl(t,mr)),mi(t,r),n===1&&Et===0&&!(e.mode&1)&&(cf=Sn()+500,Zv&&ic()))}function mi(t,e){var n=t.callbackNode;zG(t,e);var r=ox(t,t===Xn?mr:0);if(r===0)n!==null&&w3(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&w3(n),e===1)t.tag===0?VJ(d8.bind(null,t)):SM(d8.bind(null,t)),LJ(function(){!(Et&6)&&ic()}),n=null;else{switch(eM(r)){case 1:n=ak;break;case 4:n=Y7;break;case 16:n=ix;break;case 536870912:n=X7;break;default:n=ix}n=bN(n,gN.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function gN(t,e){if(E1=-1,S1=0,Et&6)throw Error(pe(327));var n=t.callbackNode;if(Oh()&&t.callbackNode!==n)return null;var r=ox(t,t===Xn?mr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=bx(t,r);else{e=r;var i=Et;Et|=2;var o=vN();(Xn!==t||mr!==e)&&(js=null,cf=Sn()+500,Hc(t,e));do try{sQ();break}catch(a){xN(t,a)}while(!0);_k(),_x.current=o,Et=i,Dn!==null?e=0:(Xn=null,mr=0,e=Un)}if(e!==0){if(e===2&&(i=VC(t),i!==0&&(r=i,e=db(t,i))),e===1)throw n=Zp,Hc(t,0),nl(t,r),mi(t,Sn()),n;if(e===6)nl(t,r);else{if(i=t.current.alternate,!(r&30)&&!iQ(i)&&(e=bx(t,r),e===2&&(o=VC(t),o!==0&&(r=o,e=db(t,o))),e===1))throw n=Zp,Hc(t,0),nl(t,r),mi(t,Sn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(pe(345));case 2:Ic(t,si,js);break;case 3:if(nl(t,r),(r&130023424)===r&&(e=Lk+500-Sn(),10<e)){if(ox(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Wr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=KC(Ic.bind(null,t,si,js),e);break}Ic(t,si,js);break;case 4:if(nl(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-Ro(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Sn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rQ(r/1960))-r,10<r){t.timeoutHandle=KC(Ic.bind(null,t,si,js),r);break}Ic(t,si,js);break;case 5:Ic(t,si,js);break;default:throw Error(pe(329))}}}return mi(t,Sn()),t.callbackNode===n?gN.bind(null,t):null}function db(t,e){var n=dp;return t.current.memoizedState.isDehydrated&&(Hc(t,e).flags|=256),t=bx(t,e),t!==2&&(e=si,si=n,e!==null&&pb(e)),t}function pb(t){si===null?si=t:si.push.apply(si,t)}function iQ(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Lo(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function nl(t,e){for(e&=~Nk,e&=~ry,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ro(e),r=1<<n;t[n]=-1,e&=~r}}function d8(t){if(Et&6)throw Error(pe(327));Oh();var e=ox(t,0);if(!(e&1))return mi(t,Sn()),null;var n=bx(t,e);if(t.tag!==0&&n===2){var r=VC(t);r!==0&&(e=r,n=db(t,r))}if(n===1)throw n=Zp,Hc(t,0),nl(t,e),mi(t,Sn()),n;if(n===6)throw Error(pe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ic(t,si,js),mi(t,Sn()),null}function Ok(t,e){var n=Et;Et|=1;try{return t(e)}finally{Et=n,Et===0&&(cf=Sn()+500,Zv&&ic())}}function eu(t){ul!==null&&ul.tag===0&&!(Et&6)&&Oh();var e=Et;Et|=1;var n=ro.transition,r=Dt;try{if(ro.transition=null,Dt=1,t)return t()}finally{Dt=r,ro.transition=n,Et=e,!(Et&6)&&ic()}}function Fk(){Si=Eh.current,Yt(Eh)}function Hc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,NJ(n)),Dn!==null)for(n=Dn.return;n!==null;){var r=n;switch(xk(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ux();break;case 3:af(),Yt(di),Yt(Mr),kk();break;case 5:Sk(r);break;case 4:af();break;case 13:Yt(an);break;case 19:Yt(an);break;case 10:wk(r.type._context);break;case 22:case 23:Fk()}n=n.return}if(Xn=t,Dn=t=kl(t.current,null),mr=Si=e,Un=0,Zp=null,Nk=ry=Zc=0,si=dp=null,Lc!==null){for(e=0;e<Lc.length;e++)if(n=Lc[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Lc=null}return t}function xN(t,e){do{var n=Dn;try{if(_k(),w1.current=yx,vx){for(var r=cn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}vx=!1}if(Xc=0,Jn=Vn=cn=null,hp=!1,Qp=0,Mk.current=null,n===null||n.return===null){Un=1,Zp=e,Dn=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=mr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var d=e8(s);if(d!==null){d.flags&=-257,t8(d,s,a,o,e),d.mode&1&&Z3(o,c,e),e=d,l=c;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if(!(e&1)){Z3(o,c,e),Bk();break e}l=Error(pe(426))}}else if(tn&&a.mode&1){var v=e8(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),t8(v,s,a,o,e),vk(lf(l,a));break e}}o=l=lf(l,a),Un!==4&&(Un=2),dp===null?dp=[o]:dp.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var x=eN(o,l,e);K3(o,x);break e;case 1:a=l;var y=o.type,_=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(El===null||!El.has(_)))){o.flags|=65536,e&=-e,o.lanes|=e;var C=tN(o,a,e);K3(o,C);break e}}o=o.return}while(o!==null)}_N(n)}catch(S){e=S,Dn===n&&n!==null&&(Dn=n=n.return);continue}break}while(!0)}function vN(){var t=_x.current;return _x.current=yx,t===null?yx:t}function Bk(){(Un===0||Un===3||Un===2)&&(Un=4),Xn===null||!(Zc&268435455)&&!(ry&268435455)||nl(Xn,mr)}function bx(t,e){var n=Et;Et|=2;var r=vN();(Xn!==t||mr!==e)&&(js=null,Hc(t,e));do try{oQ();break}catch(i){xN(t,i)}while(!0);if(_k(),Et=n,_x.current=r,Dn!==null)throw Error(pe(261));return Xn=null,mr=0,Un}function oQ(){for(;Dn!==null;)yN(Dn)}function sQ(){for(;Dn!==null&&!PG();)yN(Dn)}function yN(t){var e=CN(t.alternate,t,Si);t.memoizedProps=t.pendingProps,e===null?_N(t):Dn=e,Mk.current=null}function _N(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=ZJ(n,e),n!==null){n.flags&=32767,Dn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Un=6,Dn=null;return}}else if(n=XJ(n,e,Si),n!==null){Dn=n;return}if(e=e.sibling,e!==null){Dn=e;return}Dn=e=t}while(e!==null);Un===0&&(Un=5)}function Ic(t,e,n){var r=Dt,i=ro.transition;try{ro.transition=null,Dt=1,aQ(t,e,n,r)}finally{ro.transition=i,Dt=r}return null}function aQ(t,e,n,r){do Oh();while(ul!==null);if(Et&6)throw Error(pe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(pe(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(jG(t,o),t===Xn&&(Dn=Xn=null,mr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Cg||(Cg=!0,bN(ix,function(){return Oh(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=ro.transition,ro.transition=null;var s=Dt;Dt=1;var a=Et;Et|=4,Mk.current=null,tQ(t,n),pN(n,t),TJ(WC),sx=!!UC,WC=UC=null,t.current=n,nQ(n),DG(),Et=a,Dt=s,ro.transition=o}else t.current=n;if(Cg&&(Cg=!1,ul=t,Cx=i),o=t.pendingLanes,o===0&&(El=null),LG(n.stateNode),mi(t,Sn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(wx)throw wx=!1,t=hb,hb=null,t;return Cx&1&&t.tag!==0&&Oh(),o=t.pendingLanes,o&1?t===fb?pp++:(pp=0,fb=t):pp=0,ic(),null}function Oh(){if(ul!==null){var t=eM(Cx),e=ro.transition,n=Dt;try{if(ro.transition=null,Dt=16>t?16:t,ul===null)var r=!1;else{if(t=ul,ul=null,Cx=0,Et&6)throw Error(pe(331));var i=Et;for(Et|=4,Ie=t.current;Ie!==null;){var o=Ie,s=o.child;if(Ie.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Ie=c;Ie!==null;){var u=Ie;switch(u.tag){case 0:case 11:case 15:fp(8,u,o)}var h=u.child;if(h!==null)h.return=u,Ie=h;else for(;Ie!==null;){u=Ie;var f=u.sibling,d=u.return;if(hN(u),u===c){Ie=null;break}if(f!==null){f.return=d,Ie=f;break}Ie=d}}}var p=o.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}Ie=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Ie=s;else e:for(;Ie!==null;){if(o=Ie,o.flags&2048)switch(o.tag){case 0:case 11:case 15:fp(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,Ie=x;break e}Ie=o.return}}var y=t.current;for(Ie=y;Ie!==null;){s=Ie;var _=s.child;if(s.subtreeFlags&2064&&_!==null)_.return=s,Ie=_;else e:for(s=y;Ie!==null;){if(a=Ie,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ny(9,a)}}catch(S){vn(a,a.return,S)}if(a===s){Ie=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,Ie=C;break e}Ie=a.return}}if(Et=i,ic(),ds&&typeof ds.onPostCommitFiberRoot=="function")try{ds.onPostCommitFiberRoot(Gv,t)}catch{}r=!0}return r}finally{Dt=n,ro.transition=e}}return!1}function p8(t,e,n){e=lf(n,e),e=eN(t,e,1),t=bl(t,e,1),e=Wr(),t!==null&&(G0(t,1,e),mi(t,e))}function vn(t,e,n){if(t.tag===3)p8(t,t,n);else for(;e!==null;){if(e.tag===3){p8(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(El===null||!El.has(r))){t=lf(n,t),t=tN(e,t,1),e=bl(e,t,1),t=Wr(),e!==null&&(G0(e,1,t),mi(e,t));break}}e=e.return}}function lQ(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Wr(),t.pingedLanes|=t.suspendedLanes&n,Xn===t&&(mr&n)===n&&(Un===4||Un===3&&(mr&130023424)===mr&&500>Sn()-Lk?Hc(t,0):Nk|=n),mi(t,e)}function wN(t,e){e===0&&(t.mode&1?(e=fg,fg<<=1,!(fg&130023424)&&(fg=4194304)):e=1);var n=Wr();t=sa(t,e),t!==null&&(G0(t,e,n),mi(t,n))}function cQ(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),wN(t,n)}function uQ(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(pe(314))}r!==null&&r.delete(e),wN(t,n)}var CN;CN=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||di.current)ui=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ui=!1,YJ(t,e,n);ui=!!(t.flags&131072)}else ui=!1,tn&&e.flags&1048576&&kM(e,dx,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;b1(t,e),t=e.pendingProps;var i=rf(e,Mr.current);Lh(e,n),i=Ak(null,e,r,t,i,n);var o=Ik();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pi(r)?(o=!0,hx(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,bk(e),i.updater=ty,e.stateNode=i,i._reactInternals=e,eb(e,r,t,n),e=rb(null,e,r,!0,o,n)):(e.tag=0,tn&&o&&gk(e),jr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(b1(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=fQ(r),t=bo(r,t),i){case 0:e=nb(null,e,r,t,n);break e;case 1:e=i8(null,e,r,t,n);break e;case 11:e=n8(null,e,r,t,n);break e;case 14:e=r8(null,e,r,bo(r.type,t),n);break e}throw Error(pe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:bo(r,i),nb(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:bo(r,i),i8(t,e,r,i,n);case 3:e:{if(oN(e),t===null)throw Error(pe(387));r=e.pendingProps,o=e.memoizedState,i=o.element,DM(t,e),gx(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=lf(Error(pe(423)),e),e=o8(t,e,r,n,i);break e}else if(r!==i){i=lf(Error(pe(424)),e),e=o8(t,e,r,n,i);break e}else for(Pi=Cl(e.stateNode.containerInfo.firstChild),Mi=e,tn=!0,To=null,n=RM(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(of(),r===i){e=aa(t,e,n);break e}jr(t,e,r,n)}e=e.child}return e;case 5:return MM(e),t===null&&YC(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,qC(r,i)?s=null:o!==null&&qC(r,o)&&(e.flags|=32),iN(t,e),jr(t,e,s,n),e.child;case 6:return t===null&&YC(e),null;case 13:return sN(t,e,n);case 4:return Ek(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=sf(e,null,r,n):jr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:bo(r,i),n8(t,e,r,i,n);case 7:return jr(t,e,e.pendingProps,n),e.child;case 8:return jr(t,e,e.pendingProps.children,n),e.child;case 12:return jr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Ht(px,r._currentValue),r._currentValue=s,o!==null)if(Lo(o.value,s)){if(o.children===i.children&&!di.current){e=aa(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Zs(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),XC(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(pe(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),XC(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}jr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Lh(e,n),i=ao(i),r=r(i),e.flags|=1,jr(t,e,r,n),e.child;case 14:return r=e.type,i=bo(r,e.pendingProps),i=bo(r.type,i),r8(t,e,r,i,n);case 15:return nN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:bo(r,i),b1(t,e),e.tag=1,pi(r)?(t=!0,hx(e)):t=!1,Lh(e,n),ZM(e,r,i),eb(e,r,i,n),rb(null,e,r,!0,t,n);case 19:return aN(t,e,n);case 22:return rN(t,e,n)}throw Error(pe(156,e.tag))};function bN(t,e){return Q7(t,e)}function hQ(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zi(t,e,n,r){return new hQ(t,e,n,r)}function Vk(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fQ(t){if(typeof t=="function")return Vk(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ik)return 11;if(t===ok)return 14}return 2}function kl(t,e){var n=t.alternate;return n===null?(n=Zi(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function k1(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")Vk(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case ph:return Uc(n.children,i,o,e);case rk:s=8,i|=8;break;case EC:return t=Zi(12,n,e,i|2),t.elementType=EC,t.lanes=o,t;case SC:return t=Zi(13,n,e,i),t.elementType=SC,t.lanes=o,t;case kC:return t=Zi(19,n,e,i),t.elementType=kC,t.lanes=o,t;case M7:return iy(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case P7:s=10;break e;case D7:s=9;break e;case ik:s=11;break e;case ok:s=14;break e;case Ja:s=16,r=null;break e}throw Error(pe(130,t==null?t:typeof t,""))}return e=Zi(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Uc(t,e,n,r){return t=Zi(7,t,r,e),t.lanes=n,t}function iy(t,e,n,r){return t=Zi(22,t,r,e),t.elementType=M7,t.lanes=n,t.stateNode={isHidden:!1},t}function vw(t,e,n){return t=Zi(6,t,null,e),t.lanes=n,t}function yw(t,e,n){return e=Zi(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function dQ(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Z_(0),this.expirationTimes=Z_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Z_(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zk(t,e,n,r,i,o,s,a,l){return t=new dQ(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Zi(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},bk(o),t}function pQ(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:dh,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function EN(t){if(!t)return Bl;t=t._reactInternals;e:{if(Eu(t)!==t||t.tag!==1)throw Error(pe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(pe(171))}if(t.tag===1){var n=t.type;if(pi(n))return EM(t,n,e)}return e}function SN(t,e,n,r,i,o,s,a,l){return t=zk(n,r,!0,t,i,o,s,a,l),t.context=EN(null),n=t.current,r=Wr(),i=Sl(n),o=Zs(r,i),o.callback=e??null,bl(n,o,i),t.current.lanes=i,G0(t,i,r),mi(t,r),t}function oy(t,e,n,r){var i=e.current,o=Wr(),s=Sl(i);return n=EN(n),e.context===null?e.context=n:e.pendingContext=n,e=Zs(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=bl(i,e,s),t!==null&&(Po(t,i,s,o),_1(t,i,s)),s}function Ex(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function m8(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function jk(t,e){m8(t,e),(t=t.alternate)&&m8(t,e)}function mQ(){return null}var kN=typeof reportError=="function"?reportError:function(t){console.error(t)};function $k(t){this._internalRoot=t}sy.prototype.render=$k.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(pe(409));oy(t,e,null,null)};sy.prototype.unmount=$k.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;eu(function(){oy(null,t,null,null)}),e[oa]=null}};function sy(t){this._internalRoot=t}sy.prototype.unstable_scheduleHydration=function(t){if(t){var e=rM();t={blockedOn:null,target:t,priority:e};for(var n=0;n<tl.length&&e!==0&&e<tl[n].priority;n++);tl.splice(n,0,t),n===0&&oM(t)}};function Hk(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ay(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function g8(){}function gQ(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Ex(s);o.call(c)}}var s=SN(e,r,t,0,null,!1,!1,"",g8);return t._reactRootContainer=s,t[oa]=s.current,Wp(t.nodeType===8?t.parentNode:t),eu(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Ex(l);a.call(c)}}var l=zk(t,0,!1,null,null,!1,!1,"",g8);return t._reactRootContainer=l,t[oa]=l.current,Wp(t.nodeType===8?t.parentNode:t),eu(function(){oy(e,l,n,r)}),l}function ly(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Ex(s);a.call(l)}}oy(e,s,t,i)}else s=gQ(n,e,t,i,r);return Ex(s)}tM=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=zd(e.pendingLanes);n!==0&&(lk(e,n|1),mi(e,Sn()),!(Et&6)&&(cf=Sn()+500,ic()))}break;case 13:eu(function(){var r=sa(t,1);if(r!==null){var i=Wr();Po(r,t,1,i)}}),jk(t,1)}};ck=function(t){if(t.tag===13){var e=sa(t,134217728);if(e!==null){var n=Wr();Po(e,t,134217728,n)}jk(t,134217728)}};nM=function(t){if(t.tag===13){var e=Sl(t),n=sa(t,e);if(n!==null){var r=Wr();Po(n,t,e,r)}jk(t,e)}};rM=function(){return Dt};iM=function(t,e){var n=Dt;try{return Dt=t,e()}finally{Dt=n}};OC=function(t,e,n){switch(e){case"input":if(IC(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Xv(r);if(!i)throw Error(pe(90));L7(r),IC(r,i)}}}break;case"textarea":F7(t,n);break;case"select":e=n.value,e!=null&&Ph(t,!!n.multiple,e,!1)}};U7=Ok;W7=eu;var xQ={usingClientEntryPoint:!1,Events:[Q0,vh,Xv,$7,H7,Ok]},_d={findFiberByHostInstance:Nc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vQ={bundleType:_d.bundleType,version:_d.version,rendererPackageName:_d.rendererPackageName,rendererConfig:_d.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_a.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=G7(t),t===null?null:t.stateNode},findFiberByHostInstance:_d.findFiberByHostInstance||mQ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bg.isDisabled&&bg.supportsFiber)try{Gv=bg.inject(vQ),ds=bg}catch{}}Vi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xQ;Vi.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hk(e))throw Error(pe(200));return pQ(t,e,null,n)};Vi.createRoot=function(t,e){if(!Hk(t))throw Error(pe(299));var n=!1,r="",i=kN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=zk(t,1,!1,null,null,n,!1,r,i),t[oa]=e.current,Wp(t.nodeType===8?t.parentNode:t),new $k(e)};Vi.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(pe(188)):(t=Object.keys(t).join(","),Error(pe(268,t)));return t=G7(e),t=t===null?null:t.stateNode,t};Vi.flushSync=function(t){return eu(t)};Vi.hydrate=function(t,e,n){if(!ay(e))throw Error(pe(200));return ly(null,t,e,!0,n)};Vi.hydrateRoot=function(t,e,n){if(!Hk(t))throw Error(pe(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=kN;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=SN(e,null,t,1,n??null,i,!1,o,s),t[oa]=e.current,Wp(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new sy(e)};Vi.render=function(t,e,n){if(!ay(e))throw Error(pe(200));return ly(null,t,e,!1,n)};Vi.unmountComponentAtNode=function(t){if(!ay(t))throw Error(pe(40));return t._reactRootContainer?(eu(function(){ly(null,null,t,!1,function(){t._reactRootContainer=null,t[oa]=null})}),!0):!1};Vi.unstable_batchedUpdates=Ok;Vi.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ay(n))throw Error(pe(200));if(t==null||t._reactInternals===void 0)throw Error(pe(38));return ly(t,e,n,!1,r)};Vi.version="18.3.1-next-f1338f8080-20240426";function TN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(TN)}catch(t){console.error(t)}}TN(),T7.exports=Vi;var Oo=T7.exports;const AN=qv(Oo),yQ=p7({__proto__:null,default:AN},[Oo]);var IN,x8=Oo;IN=x8.createRoot,x8.hydrateRoot;/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sn(){return sn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sn.apply(this,arguments)}var Rn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Rn||(Rn={}));const v8="popstate";function _Q(t){t===void 0&&(t={});function e(i,o){let{pathname:s="/",search:a="",hash:l=""}=wa(i.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),e0("",{pathname:s,search:a,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let s=i.document.querySelector("base"),a="";if(s&&s.getAttribute("href")){let l=i.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof o=="string"?o:nu(o))}function r(i,o){tu(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return CQ(e,n,r,t)}function st(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tu(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wQ(){return Math.random().toString(36).substr(2,8)}function y8(t,e){return{usr:t.state,key:t.key,idx:e}}function e0(t,e,n,r){return n===void 0&&(n=null),sn({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?wa(e):e,{state:n,key:e&&e.key||r||wQ()})}function nu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function wa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function CQ(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Rn.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(sn({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function h(){a=Rn.Pop;let v=u(),x=v==null?null:v-c;c=v,l&&l({action:a,location:m.location,delta:x})}function f(v,x){a=Rn.Push;let y=e0(m.location,v,x);n&&n(y,v),c=u()+1;let _=y8(y,c),C=m.createHref(y);try{s.pushState(_,"",C)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(C)}o&&l&&l({action:a,location:m.location,delta:1})}function d(v,x){a=Rn.Replace;let y=e0(m.location,v,x);n&&n(y,v),c=u();let _=y8(y,c),C=m.createHref(y);s.replaceState(_,"",C),o&&l&&l({action:a,location:m.location,delta:0})}function p(v){let x=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof v=="string"?v:nu(v);return y=y.replace(/ $/,"%20"),st(x,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,x)}let m={get action(){return a},get location(){return t(i,s)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(v8,h),l=v,()=>{i.removeEventListener(v8,h),l=null}},createHref(v){return e(i,v)},createURL:p,encodeLocation(v){let x=p(v);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:f,replace:d,go(v){return s.go(v)}};return m}var Nt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Nt||(Nt={}));const bQ=new Set(["lazy","caseSensitive","path","id","index","children"]);function EQ(t){return t.index===!0}function t0(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,o)=>{let s=[...n,String(o)],a=typeof i.id=="string"?i.id:s.join("-");if(st(i.index!==!0||!i.children,"Cannot specify children on an index route"),st(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),EQ(i)){let l=sn({},i,e(i),{id:a});return r[a]=l,l}else{let l=sn({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=t0(i.children,e,s,r)),l}})}function Pc(t,e,n){return n===void 0&&(n="/"),T1(t,e,n,!1)}function T1(t,e,n,r){let i=typeof e=="string"?wa(e):e,o=Of(i.pathname||"/",n);if(o==null)return null;let s=RN(t);kQ(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=FQ(o);a=LQ(s[l],c,r)}return a}function SQ(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function RN(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(st(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ea([r,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(st(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),RN(o.children,e,u,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:MQ(c,o.index),routesMeta:u})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of PN(o.path))i(o,s,l)}),e}function PN(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=PN(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function kQ(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:NQ(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const TQ=/^:[\w-]+$/,AQ=3,IQ=2,RQ=1,PQ=10,DQ=-2,_8=t=>t==="*";function MQ(t,e){let n=t.split("/"),r=n.length;return n.some(_8)&&(r+=DQ),e&&(r+=IQ),n.filter(i=>!_8(i)).reduce((i,o)=>i+(TQ.test(o)?AQ:o===""?RQ:PQ),r)}function NQ(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function LQ(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=o==="/"?e:e.slice(o.length)||"/",h=w8({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=w8({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!h)return null;Object.assign(i,h.params),s.push({params:i,pathname:ea([o,h.pathname]),pathnameBase:zQ(ea([o,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(o=ea([o,h.pathnameBase]))}return s}function w8(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=OQ(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,h)=>{let{paramName:f,isOptional:d}=u;if(f==="*"){let m=a[h]||"";s=o.slice(0,o.length-m.length).replace(/(.)\/+$/,"$1")}const p=a[h];return d&&!p?c[f]=void 0:c[f]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function OQ(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),tu(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function FQ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tu(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Of(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function BQ(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?wa(t):t;return{pathname:n?n.startsWith("/")?n:VQ(n,e):e,search:jQ(r),hash:$Q(i)}}function VQ(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function _w(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function DN(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function cy(t,e){let n=DN(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function uy(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=wa(t):(i=sn({},t),st(!i.pathname||!i.pathname.includes("?"),_w("?","pathname","search",i)),st(!i.pathname||!i.pathname.includes("#"),_w("#","pathname","hash",i)),st(!i.search||!i.search.includes("#"),_w("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let h=e.length-1;if(!r&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=BQ(i,a),c=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const ea=t=>t.join("/").replace(/\/\/+/g,"/"),zQ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),jQ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,$Q=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Sx{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function hy(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const MN=["post","put","patch","delete"],HQ=new Set(MN),UQ=["get",...MN],WQ=new Set(UQ),qQ=new Set([301,302,303,307,308]),KQ=new Set([307,308]),ww={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},GQ={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},wd={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Uk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,JQ=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),NN="remix-router-transitions";function QQ(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;st(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let j=t.detectErrorBoundary;i=W=>({hasErrorBoundary:j(W)})}else i=JQ;let o={},s=t0(t.routes,i,void 0,o),a,l=t.basename||"/",c=t.unstable_dataStrategy||nY,u=t.unstable_patchRoutesOnNavigation,h=sn({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),f=null,d=new Set,p=1e3,m=new Set,v=null,x=null,y=null,_=t.hydrationData!=null,C=Pc(s,t.history.location,l),S=null;if(C==null&&!u){let j=zr(404,{pathname:t.history.location.pathname}),{matches:W,route:ee}=R8(s);C=W,S={[ee.id]:j}}C&&!t.hydrationData&&mn(C,s,t.history.location.pathname).active&&(C=null);let T;if(C)if(C.some(j=>j.route.lazy))T=!1;else if(!C.some(j=>j.route.loader))T=!0;else if(h.v7_partialHydration){let j=t.hydrationData?t.hydrationData.loaderData:null,W=t.hydrationData?t.hydrationData.errors:null,ee=le=>le.route.loader?typeof le.route.loader=="function"&&le.route.loader.hydrate===!0?!1:j&&j[le.route.id]!==void 0||W&&W[le.route.id]!==void 0:!0;if(W){let le=C.findIndex(Ce=>W[Ce.route.id]!==void 0);T=C.slice(0,le+1).every(ee)}else T=C.every(ee)}else T=t.hydrationData!=null;else if(T=!1,C=[],h.v7_partialHydration){let j=mn(null,s,t.history.location.pathname);j.active&&j.matches&&(C=j.matches)}let b,w={historyAction:t.history.action,location:t.history.location,matches:C,initialized:T,navigation:ww,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||S,fetchers:new Map,blockers:new Map},I=Rn.Pop,E=!1,R,D=!1,N=new Map,z=null,$=!1,Q=!1,Y=[],q=new Set,H=new Map,O=0,U=-1,K=new Map,L=new Set,J=new Map,Ee=new Map,de=new Set,ue=new Map,fe=new Map,je=new Map,Le;function Be(){if(f=t.history.listen(j=>{let{action:W,location:ee,delta:le}=j;if(Le){Le(),Le=void 0;return}tu(fe.size===0||le!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ce=Ds({currentLocation:w.location,nextLocation:ee,historyAction:W});if(Ce&&le!=null){let Oe=new Promise(Ue=>{Le=Ue});t.history.go(le*-1),Wi(Ce,{state:"blocked",location:ee,proceed(){Wi(Ce,{state:"proceeding",proceed:void 0,reset:void 0,location:ee}),Oe.then(()=>t.history.go(le))},reset(){let Ue=new Map(w.blockers);Ue.set(Ce,wd),We({blockers:Ue})}});return}return fn(W,ee)}),n){xY(e,N);let j=()=>vY(e,N);e.addEventListener("pagehide",j),z=()=>e.removeEventListener("pagehide",j)}return w.initialized||fn(Rn.Pop,w.location,{initialHydration:!0}),b}function Qe(){f&&f(),z&&z(),d.clear(),R&&R.abort(),w.fetchers.forEach((j,W)=>On(W)),w.blockers.forEach((j,W)=>Pa(W))}function ct(j){return d.add(j),()=>d.delete(j)}function We(j,W){W===void 0&&(W={}),w=sn({},w,j);let ee=[],le=[];h.v7_fetcherPersist&&w.fetchers.forEach((Ce,Oe)=>{Ce.state==="idle"&&(de.has(Oe)?le.push(Oe):ee.push(Oe))}),[...d].forEach(Ce=>Ce(w,{deletedFetchers:le,unstable_viewTransitionOpts:W.viewTransitionOpts,unstable_flushSync:W.flushSync===!0})),h.v7_fetcherPersist&&(ee.forEach(Ce=>w.fetchers.delete(Ce)),le.forEach(Ce=>On(Ce)))}function zt(j,W,ee){var le,Ce;let{flushSync:Oe}=ee===void 0?{}:ee,Ue=w.actionData!=null&&w.navigation.formMethod!=null&&ko(w.navigation.formMethod)&&w.navigation.state==="loading"&&((le=j.state)==null?void 0:le._isRedirect)!==!0,ge;W.actionData?Object.keys(W.actionData).length>0?ge=W.actionData:ge=null:Ue?ge=w.actionData:ge=null;let Ne=W.loaderData?A8(w.loaderData,W.loaderData,W.matches||[],W.errors):w.loaderData,Re=w.blockers;Re.size>0&&(Re=new Map(Re),Re.forEach((Ct,Mt)=>Re.set(Mt,wd)));let Me=E===!0||w.navigation.formMethod!=null&&ko(w.navigation.formMethod)&&((Ce=j.state)==null?void 0:Ce._isRedirect)!==!0;a&&(s=a,a=void 0),$||I===Rn.Pop||(I===Rn.Push?t.history.push(j,j.state):I===Rn.Replace&&t.history.replace(j,j.state));let dt;if(I===Rn.Pop){let Ct=N.get(w.location.pathname);Ct&&Ct.has(j.pathname)?dt={currentLocation:w.location,nextLocation:j}:N.has(j.pathname)&&(dt={currentLocation:j,nextLocation:w.location})}else if(D){let Ct=N.get(w.location.pathname);Ct?Ct.add(j.pathname):(Ct=new Set([j.pathname]),N.set(w.location.pathname,Ct)),dt={currentLocation:w.location,nextLocation:j}}We(sn({},W,{actionData:ge,loaderData:Ne,historyAction:I,location:j,initialized:!0,navigation:ww,revalidation:"idle",restoreScrollPosition:Ma(j,W.matches||w.matches),preventScrollReset:Me,blockers:Re}),{viewTransitionOpts:dt,flushSync:Oe===!0}),I=Rn.Pop,E=!1,D=!1,$=!1,Q=!1,Y=[]}async function on(j,W){if(typeof j=="number"){t.history.go(j);return}let ee=mb(w.location,w.matches,l,h.v7_prependBasename,j,h.v7_relativeSplatPath,W==null?void 0:W.fromRouteId,W==null?void 0:W.relative),{path:le,submission:Ce,error:Oe}=C8(h.v7_normalizeFormMethod,!1,ee,W),Ue=w.location,ge=e0(w.location,le,W&&W.state);ge=sn({},ge,t.history.encodeLocation(ge));let Ne=W&&W.replace!=null?W.replace:void 0,Re=Rn.Push;Ne===!0?Re=Rn.Replace:Ne===!1||Ce!=null&&ko(Ce.formMethod)&&Ce.formAction===w.location.pathname+w.location.search&&(Re=Rn.Replace);let Me=W&&"preventScrollReset"in W?W.preventScrollReset===!0:void 0,dt=(W&&W.unstable_flushSync)===!0,Ct=Ds({currentLocation:Ue,nextLocation:ge,historyAction:Re});if(Ct){Wi(Ct,{state:"blocked",location:ge,proceed(){Wi(Ct,{state:"proceeding",proceed:void 0,reset:void 0,location:ge}),on(j,W)},reset(){let Mt=new Map(w.blockers);Mt.set(Ct,wd),We({blockers:Mt})}});return}return await fn(Re,ge,{submission:Ce,pendingError:Oe,preventScrollReset:Me,replace:W&&W.replace,enableViewTransition:W&&W.unstable_viewTransition,flushSync:dt})}function Ln(){if($e(),We({revalidation:"loading"}),w.navigation.state!=="submitting"){if(w.navigation.state==="idle"){fn(w.historyAction,w.location,{startUninterruptedRevalidation:!0});return}fn(I||w.historyAction,w.navigation.location,{overrideNavigation:w.navigation,enableViewTransition:D===!0})}}async function fn(j,W,ee){R&&R.abort(),R=null,I=j,$=(ee&&ee.startUninterruptedRevalidation)===!0,Ls(w.location,w.matches),E=(ee&&ee.preventScrollReset)===!0,D=(ee&&ee.enableViewTransition)===!0;let le=a||s,Ce=ee&&ee.overrideNavigation,Oe=Pc(le,W,l),Ue=(ee&&ee.flushSync)===!0,ge=mn(Oe,le,W.pathname);if(ge.active&&ge.matches&&(Oe=ge.matches),!Oe){let{error:ut,notFoundMatches:An,route:Wt}=Ms(W.pathname);zt(W,{matches:An,loaderData:{},errors:{[Wt.id]:ut}},{flushSync:Ue});return}if(w.initialized&&!Q&&lY(w.location,W)&&!(ee&&ee.submission&&ko(ee.submission.formMethod))){zt(W,{matches:Oe},{flushSync:Ue});return}R=new AbortController;let Ne=Gu(t.history,W,R.signal,ee&&ee.submission),Re;if(ee&&ee.pendingError)Re=[Sh(Oe).route.id,{type:Nt.error,error:ee.pendingError}];else if(ee&&ee.submission&&ko(ee.submission.formMethod)){let ut=await qn(Ne,W,ee.submission,Oe,ge.active,{replace:ee.replace,flushSync:Ue});if(ut.shortCircuited)return;if(ut.pendingActionResult){let[An,Wt]=ut.pendingActionResult;if(Ti(Wt)&&hy(Wt.error)&&Wt.error.status===404){R=null,zt(W,{matches:ut.matches,loaderData:{},errors:{[An]:Wt.error}});return}}Oe=ut.matches||Oe,Re=ut.pendingActionResult,Ce=Cw(W,ee.submission),Ue=!1,ge.active=!1,Ne=Gu(t.history,Ne.url,Ne.signal)}let{shortCircuited:Me,matches:dt,loaderData:Ct,errors:Mt}=await Kn(Ne,W,Oe,ge.active,Ce,ee&&ee.submission,ee&&ee.fetcherSubmission,ee&&ee.replace,ee&&ee.initialHydration===!0,Ue,Re);Me||(R=null,zt(W,sn({matches:dt||Oe},I8(Re),{loaderData:Ct,errors:Mt})))}async function qn(j,W,ee,le,Ce,Oe){Oe===void 0&&(Oe={}),$e();let Ue=mY(W,ee);if(We({navigation:Ue},{flushSync:Oe.flushSync===!0}),Ce){let Re=await Go(le,W.pathname,j.signal);if(Re.type==="aborted")return{shortCircuited:!0};if(Re.type==="error"){let{boundaryId:Me,error:dt}=ii(W.pathname,Re);return{matches:Re.partialMatches,pendingActionResult:[Me,{type:Nt.error,error:dt}]}}else if(Re.matches)le=Re.matches;else{let{notFoundMatches:Me,error:dt,route:Ct}=Ms(W.pathname);return{matches:Me,pendingActionResult:[Ct.id,{type:Nt.error,error:dt}]}}}let ge,Ne=$d(le,W);if(!Ne.route.action&&!Ne.route.lazy)ge={type:Nt.error,error:zr(405,{method:j.method,pathname:W.pathname,routeId:Ne.route.id})};else if(ge=(await ie("action",w,j,[Ne],le,null))[Ne.route.id],j.signal.aborted)return{shortCircuited:!0};if(Fc(ge)){let Re;return Oe&&Oe.replace!=null?Re=Oe.replace:Re=S8(ge.response.headers.get("Location"),new URL(j.url),l)===w.location.pathname+w.location.search,await X(j,ge,!0,{submission:ee,replace:Re}),{shortCircuited:!0}}if(hl(ge))throw zr(400,{type:"defer-action"});if(Ti(ge)){let Re=Sh(le,Ne.route.id);return(Oe&&Oe.replace)!==!0&&(I=Rn.Push),{matches:le,pendingActionResult:[Re.route.id,ge]}}return{matches:le,pendingActionResult:[Ne.route.id,ge]}}async function Kn(j,W,ee,le,Ce,Oe,Ue,ge,Ne,Re,Me){let dt=Ce||Cw(W,Oe),Ct=Oe||Ue||D8(dt),Mt=!$&&(!h.v7_partialHydration||!Ne);if(le){if(Mt){let jt=dn(Me);We(sn({navigation:dt},jt!==void 0?{actionData:jt}:{}),{flushSync:Re})}let Xe=await Go(ee,W.pathname,j.signal);if(Xe.type==="aborted")return{shortCircuited:!0};if(Xe.type==="error"){let{boundaryId:jt,error:wr}=ii(W.pathname,Xe);return{matches:Xe.partialMatches,loaderData:{},errors:{[jt]:wr}}}else if(Xe.matches)ee=Xe.matches;else{let{error:jt,notFoundMatches:wr,route:qt}=Ms(W.pathname);return{matches:wr,loaderData:{},errors:{[qt.id]:jt}}}}let ut=a||s,[An,Wt]=b8(t.history,w,ee,Ct,W,h.v7_partialHydration&&Ne===!0,h.v7_skipActionErrorRevalidation,Q,Y,q,de,J,L,ut,l,Me);if(Da(Xe=>!(ee&&ee.some(jt=>jt.route.id===Xe))||An&&An.some(jt=>jt.route.id===Xe)),U=++O,An.length===0&&Wt.length===0){let Xe=wi();return zt(W,sn({matches:ee,loaderData:{},errors:Me&&Ti(Me[1])?{[Me[0]]:Me[1].error}:null},I8(Me),Xe?{fetchers:new Map(w.fetchers)}:{}),{flushSync:Re}),{shortCircuited:!0}}if(Mt){let Xe={};if(!le){Xe.navigation=dt;let jt=dn(Me);jt!==void 0&&(Xe.actionData=jt)}Wt.length>0&&(Xe.fetchers=kn(Wt)),We(Xe,{flushSync:Re})}Wt.forEach(Xe=>{H.has(Xe.key)&&Cn(Xe.key),Xe.controller&&H.set(Xe.key,Xe.controller)});let Na=()=>Wt.forEach(Xe=>Cn(Xe.key));R&&R.signal.addEventListener("abort",Na);let{loaderResults:Ci,fetcherResults:qi}=await V(w,ee,An,Wt,j);if(j.signal.aborted)return{shortCircuited:!0};R&&R.signal.removeEventListener("abort",Na),Wt.forEach(Xe=>H.delete(Xe.key));let _r=Eg(Ci);if(_r)return await X(j,_r.result,!0,{replace:ge}),{shortCircuited:!0};if(_r=Eg(qi),_r)return L.add(_r.key),await X(j,_r.result,!0,{replace:ge}),{shortCircuited:!0};let{loaderData:La,errors:po}=T8(w,ee,An,Ci,Me,Wt,qi,ue);ue.forEach((Xe,jt)=>{Xe.subscribe(wr=>{(wr||Xe.done)&&ue.delete(jt)})}),h.v7_partialHydration&&Ne&&w.errors&&Object.entries(w.errors).filter(Xe=>{let[jt]=Xe;return!An.some(wr=>wr.route.id===jt)}).forEach(Xe=>{let[jt,wr]=Xe;po=Object.assign(po||{},{[jt]:wr})});let yc=wi(),_c=Fn(U),wc=yc||_c||Wt.length>0;return sn({matches:ee,loaderData:La,errors:po},wc?{fetchers:new Map(w.fetchers)}:{})}function dn(j){if(j&&!Ti(j[1]))return{[j[0]]:j[1].data};if(w.actionData)return Object.keys(w.actionData).length===0?null:w.actionData}function kn(j){return j.forEach(W=>{let ee=w.fetchers.get(W.key),le=Cd(void 0,ee?ee.data:void 0);w.fetchers.set(W.key,le)}),new Map(w.fetchers)}function wn(j,W,ee,le){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");H.has(j)&&Cn(j);let Ce=(le&&le.unstable_flushSync)===!0,Oe=a||s,Ue=mb(w.location,w.matches,l,h.v7_prependBasename,ee,h.v7_relativeSplatPath,W,le==null?void 0:le.relative),ge=Pc(Oe,Ue,l),Ne=mn(ge,Oe,Ue);if(Ne.active&&Ne.matches&&(ge=Ne.matches),!ge){wt(j,W,zr(404,{pathname:Ue}),{flushSync:Ce});return}let{path:Re,submission:Me,error:dt}=C8(h.v7_normalizeFormMethod,!0,Ue,le);if(dt){wt(j,W,dt,{flushSync:Ce});return}let Ct=$d(ge,Re);if(E=(le&&le.preventScrollReset)===!0,Me&&ko(Me.formMethod)){vt(j,W,Re,Ct,ge,Ne.active,Ce,Me);return}J.set(j,{routeId:W,path:Re}),Ui(j,W,Re,Ct,ge,Ne.active,Ce,Me)}async function vt(j,W,ee,le,Ce,Oe,Ue,ge){$e(),J.delete(j);function Ne(qt){if(!qt.route.action&&!qt.route.lazy){let mo=zr(405,{method:ge.formMethod,pathname:ee,routeId:W});return wt(j,W,mo,{flushSync:Ue}),!0}return!1}if(!Oe&&Ne(le))return;let Re=w.fetchers.get(j);Ye(j,gY(ge,Re),{flushSync:Ue});let Me=new AbortController,dt=Gu(t.history,ee,Me.signal,ge);if(Oe){let qt=await Go(Ce,ee,dt.signal);if(qt.type==="aborted")return;if(qt.type==="error"){let{error:mo}=ii(ee,qt);wt(j,W,mo,{flushSync:Ue});return}else if(qt.matches){if(Ce=qt.matches,le=$d(Ce,ee),Ne(le))return}else{wt(j,W,zr(404,{pathname:ee}),{flushSync:Ue});return}}H.set(j,Me);let Ct=O,ut=(await ie("action",w,dt,[le],Ce,j))[le.route.id];if(dt.signal.aborted){H.get(j)===Me&&H.delete(j);return}if(h.v7_fetcherPersist&&de.has(j)){if(Fc(ut)||Ti(ut)){Ye(j,qa(void 0));return}}else{if(Fc(ut))if(H.delete(j),U>Ct){Ye(j,qa(void 0));return}else return L.add(j),Ye(j,Cd(ge)),X(dt,ut,!1,{fetcherSubmission:ge});if(Ti(ut)){wt(j,W,ut.error);return}}if(hl(ut))throw zr(400,{type:"defer-action"});let An=w.navigation.location||w.location,Wt=Gu(t.history,An,Me.signal),Na=a||s,Ci=w.navigation.state!=="idle"?Pc(Na,w.navigation.location,l):w.matches;st(Ci,"Didn't find any matches after fetcher action");let qi=++O;K.set(j,qi);let _r=Cd(ge,ut.data);w.fetchers.set(j,_r);let[La,po]=b8(t.history,w,Ci,ge,An,!1,h.v7_skipActionErrorRevalidation,Q,Y,q,de,J,L,Na,l,[le.route.id,ut]);po.filter(qt=>qt.key!==j).forEach(qt=>{let mo=qt.key,Jm=w.fetchers.get(mo),Qm=Cd(void 0,Jm?Jm.data:void 0);w.fetchers.set(mo,Qm),H.has(mo)&&Cn(mo),qt.controller&&H.set(mo,qt.controller)}),We({fetchers:new Map(w.fetchers)});let yc=()=>po.forEach(qt=>Cn(qt.key));Me.signal.addEventListener("abort",yc);let{loaderResults:_c,fetcherResults:wc}=await V(w,Ci,La,po,Wt);if(Me.signal.aborted)return;Me.signal.removeEventListener("abort",yc),K.delete(j),H.delete(j),po.forEach(qt=>H.delete(qt.key));let Xe=Eg(_c);if(Xe)return X(Wt,Xe.result,!1);if(Xe=Eg(wc),Xe)return L.add(Xe.key),X(Wt,Xe.result,!1);let{loaderData:jt,errors:wr}=T8(w,Ci,La,_c,void 0,po,wc,ue);if(w.fetchers.has(j)){let qt=qa(ut.data);w.fetchers.set(j,qt)}Fn(qi),w.navigation.state==="loading"&&qi>U?(st(I,"Expected pending action"),R&&R.abort(),zt(w.navigation.location,{matches:Ci,loaderData:jt,errors:wr,fetchers:new Map(w.fetchers)})):(We({errors:wr,loaderData:A8(w.loaderData,jt,Ci,wr),fetchers:new Map(w.fetchers)}),Q=!1)}async function Ui(j,W,ee,le,Ce,Oe,Ue,ge){let Ne=w.fetchers.get(j);Ye(j,Cd(ge,Ne?Ne.data:void 0),{flushSync:Ue});let Re=new AbortController,Me=Gu(t.history,ee,Re.signal);if(Oe){let ut=await Go(Ce,ee,Me.signal);if(ut.type==="aborted")return;if(ut.type==="error"){let{error:An}=ii(ee,ut);wt(j,W,An,{flushSync:Ue});return}else if(ut.matches)Ce=ut.matches,le=$d(Ce,ee);else{wt(j,W,zr(404,{pathname:ee}),{flushSync:Ue});return}}H.set(j,Re);let dt=O,Mt=(await ie("loader",w,Me,[le],Ce,j))[le.route.id];if(hl(Mt)&&(Mt=await Wk(Mt,Me.signal,!0)||Mt),H.get(j)===Re&&H.delete(j),!Me.signal.aborted){if(de.has(j)){Ye(j,qa(void 0));return}if(Fc(Mt))if(U>dt){Ye(j,qa(void 0));return}else{L.add(j),await X(Me,Mt,!1);return}if(Ti(Mt)){wt(j,W,Mt.error);return}st(!hl(Mt),"Unhandled fetcher deferred data"),Ye(j,qa(Mt.data))}}async function X(j,W,ee,le){let{submission:Ce,fetcherSubmission:Oe,replace:Ue}=le===void 0?{}:le;W.response.headers.has("X-Remix-Revalidate")&&(Q=!0);let ge=W.response.headers.get("Location");st(ge,"Expected a Location header on the redirect Response"),ge=S8(ge,new URL(j.url),l);let Ne=e0(w.location,ge,{_isRedirect:!0});if(n){let ut=!1;if(W.response.headers.has("X-Remix-Reload-Document"))ut=!0;else if(Uk.test(ge)){const An=t.history.createURL(ge);ut=An.origin!==e.location.origin||Of(An.pathname,l)==null}if(ut){Ue?e.location.replace(ge):e.location.assign(ge);return}}R=null;let Re=Ue===!0||W.response.headers.has("X-Remix-Replace")?Rn.Replace:Rn.Push,{formMethod:Me,formAction:dt,formEncType:Ct}=w.navigation;!Ce&&!Oe&&Me&&dt&&Ct&&(Ce=D8(w.navigation));let Mt=Ce||Oe;if(KQ.has(W.response.status)&&Mt&&ko(Mt.formMethod))await fn(Re,Ne,{submission:sn({},Mt,{formAction:ge}),preventScrollReset:E,enableViewTransition:ee?D:void 0});else{let ut=Cw(Ne,Ce);await fn(Re,Ne,{overrideNavigation:ut,fetcherSubmission:Oe,preventScrollReset:E,enableViewTransition:ee?D:void 0})}}async function ie(j,W,ee,le,Ce,Oe){let Ue,ge={};try{Ue=await rY(c,j,W,ee,le,Ce,Oe,o,i)}catch(Ne){return le.forEach(Re=>{ge[Re.route.id]={type:Nt.error,error:Ne}}),ge}for(let[Ne,Re]of Object.entries(Ue))if(uY(Re)){let Me=Re.result;ge[Ne]={type:Nt.redirect,response:sY(Me,ee,Ne,Ce,l,h.v7_relativeSplatPath)}}else ge[Ne]=await oY(Re);return ge}async function V(j,W,ee,le,Ce){let Oe=j.matches,Ue=ie("loader",j,Ce,ee,W,null),ge=Promise.all(le.map(async Me=>{if(Me.matches&&Me.match&&Me.controller){let Ct=(await ie("loader",j,Gu(t.history,Me.path,Me.controller.signal),[Me.match],Me.matches,Me.key))[Me.match.route.id];return{[Me.key]:Ct}}else return Promise.resolve({[Me.key]:{type:Nt.error,error:zr(404,{pathname:Me.path})}})})),Ne=await Ue,Re=(await ge).reduce((Me,dt)=>Object.assign(Me,dt),{});return await Promise.all([dY(W,Ne,Ce.signal,Oe,j.loaderData),pY(W,Re,le)]),{loaderResults:Ne,fetcherResults:Re}}function $e(){Q=!0,Y.push(...Da()),J.forEach((j,W)=>{H.has(W)&&(q.add(W),Cn(W))})}function Ye(j,W,ee){ee===void 0&&(ee={}),w.fetchers.set(j,W),We({fetchers:new Map(w.fetchers)},{flushSync:(ee&&ee.flushSync)===!0})}function wt(j,W,ee,le){le===void 0&&(le={});let Ce=Sh(w.matches,W);On(j),We({errors:{[Ce.route.id]:ee},fetchers:new Map(w.fetchers)},{flushSync:(le&&le.flushSync)===!0})}function pn(j){return h.v7_fetcherPersist&&(Ee.set(j,(Ee.get(j)||0)+1),de.has(j)&&de.delete(j)),w.fetchers.get(j)||GQ}function On(j){let W=w.fetchers.get(j);H.has(j)&&!(W&&W.state==="loading"&&K.has(j))&&Cn(j),J.delete(j),K.delete(j),L.delete(j),de.delete(j),q.delete(j),w.fetchers.delete(j)}function _i(j){if(h.v7_fetcherPersist){let W=(Ee.get(j)||0)-1;W<=0?(Ee.delete(j),de.add(j)):Ee.set(j,W)}else On(j);We({fetchers:new Map(w.fetchers)})}function Cn(j){let W=H.get(j);st(W,"Expected fetch controller: "+j),W.abort(),H.delete(j)}function Tn(j){for(let W of j){let ee=pn(W),le=qa(ee.data);w.fetchers.set(W,le)}}function wi(){let j=[],W=!1;for(let ee of L){let le=w.fetchers.get(ee);st(le,"Expected fetcher: "+ee),le.state==="loading"&&(L.delete(ee),j.push(ee),W=!0)}return Tn(j),W}function Fn(j){let W=[];for(let[ee,le]of K)if(le<j){let Ce=w.fetchers.get(ee);st(Ce,"Expected fetcher: "+ee),Ce.state==="loading"&&(Cn(ee),K.delete(ee),W.push(ee))}return Tn(W),W.length>0}function $u(j,W){let ee=w.blockers.get(j)||wd;return fe.get(j)!==W&&fe.set(j,W),ee}function Pa(j){w.blockers.delete(j),fe.delete(j)}function Wi(j,W){let ee=w.blockers.get(j)||wd;st(ee.state==="unblocked"&&W.state==="blocked"||ee.state==="blocked"&&W.state==="blocked"||ee.state==="blocked"&&W.state==="proceeding"||ee.state==="blocked"&&W.state==="unblocked"||ee.state==="proceeding"&&W.state==="unblocked","Invalid blocker state transition: "+ee.state+" -> "+W.state);let le=new Map(w.blockers);le.set(j,W),We({blockers:le})}function Ds(j){let{currentLocation:W,nextLocation:ee,historyAction:le}=j;if(fe.size===0)return;fe.size>1&&tu(!1,"A router only supports one blocker at a time");let Ce=Array.from(fe.entries()),[Oe,Ue]=Ce[Ce.length-1],ge=w.blockers.get(Oe);if(!(ge&&ge.state==="proceeding")&&Ue({currentLocation:W,nextLocation:ee,historyAction:le}))return Oe}function Ms(j){let W=zr(404,{pathname:j}),ee=a||s,{matches:le,route:Ce}=R8(ee);return Da(),{notFoundMatches:le,route:Ce,error:W}}function ii(j,W){return{boundaryId:Sh(W.partialMatches).route.id,error:zr(400,{type:"route-discovery",pathname:j,message:W.error!=null&&"message"in W.error?W.error:String(W.error)})}}function Da(j){let W=[];return ue.forEach((ee,le)=>{(!j||j(le))&&(ee.cancel(),W.push(le),ue.delete(le))}),W}function Ns(j,W,ee){if(v=j,y=W,x=ee||null,!_&&w.navigation===ww){_=!0;let le=Ma(w.location,w.matches);le!=null&&We({restoreScrollPosition:le})}return()=>{v=null,y=null,x=null}}function vc(j,W){return x&&x(j,W.map(le=>SQ(le,w.loaderData)))||j.key}function Ls(j,W){if(v&&y){let ee=vc(j,W);v[ee]=y()}}function Ma(j,W){if(v){let ee=vc(j,W),le=v[ee];if(typeof le=="number")return le}return null}function mn(j,W,ee){if(u){if(m.has(ee))return{active:!1,matches:j};if(j){if(Object.keys(j[0].params).length>0)return{active:!0,matches:T1(W,ee,l,!0)}}else return{active:!0,matches:T1(W,ee,l,!0)||[]}}return{active:!1,matches:null}}async function Go(j,W,ee){let le=j;for(;;){let Ce=a==null,Oe=a||s;try{await eY(u,W,le,Oe,o,i,je,ee)}catch(Ne){return{type:"error",error:Ne,partialMatches:le}}finally{Ce&&(s=[...s])}if(ee.aborted)return{type:"aborted"};let Ue=Pc(Oe,W,l);if(Ue)return gn(W,m),{type:"success",matches:Ue};let ge=T1(Oe,W,l,!0);if(!ge||le.length===ge.length&&le.every((Ne,Re)=>Ne.route.id===ge[Re].route.id))return gn(W,m),{type:"success",matches:null};le=ge}}function gn(j,W){if(W.size>=p){let ee=W.values().next().value;W.delete(ee)}W.add(j)}function yr(j){o={},a=t0(j,i,void 0,o)}function Hu(j,W){let ee=a==null;ON(j,W,a||s,o,i),ee&&(s=[...s],We({}))}return b={get basename(){return l},get future(){return h},get state(){return w},get routes(){return s},get window(){return e},initialize:Be,subscribe:ct,enableScrollRestoration:Ns,navigate:on,fetch:wn,revalidate:Ln,createHref:j=>t.history.createHref(j),encodeLocation:j=>t.history.encodeLocation(j),getFetcher:pn,deleteFetcher:_i,dispose:Qe,getBlocker:$u,deleteBlocker:Pa,patchRoutes:Hu,_internalFetchControllers:H,_internalActiveDeferreds:ue,_internalSetRoutes:yr},b}function YQ(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function mb(t,e,n,r,i,o,s,a){let l,c;if(s){l=[];for(let h of e)if(l.push(h),h.route.id===s){c=h;break}}else l=e,c=e[e.length-1];let u=uy(i||".",cy(l,o),Of(t.pathname,n)||t.pathname,a==="path");return i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&c&&c.route.index&&!qk(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:ea([n,u.pathname])),nu(u)}function C8(t,e,n,r){if(!r||!YQ(r))return{path:n};if(r.formMethod&&!fY(r.formMethod))return{path:n,error:zr(405,{method:r.formMethod})};let i=()=>({path:n,error:zr(400,{type:"invalid-body"})}),o=r.formMethod||"get",s=t?o.toUpperCase():o.toLowerCase(),a=FN(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!ko(s))return i();let f=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((d,p)=>{let[m,v]=p;return""+d+m+"="+v+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:f}}}else if(r.formEncType==="application/json"){if(!ko(s))return i();try{let f=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:a,formEncType:r.formEncType,formData:void 0,json:f,text:void 0}}}catch{return i()}}}st(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=gb(r.formData),c=r.formData;else if(r.body instanceof FormData)l=gb(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=k8(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=k8(l)}catch{return i()}let u={formMethod:s,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(ko(u.formMethod))return{path:n,submission:u};let h=wa(n);return e&&h.search&&qk(h.search)&&l.append("index",""),h.search="?"+l,{path:nu(h),submission:u}}function XQ(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function b8(t,e,n,r,i,o,s,a,l,c,u,h,f,d,p,m){let v=m?Ti(m[1])?m[1].error:m[1].data:void 0,x=t.createURL(e.location),y=t.createURL(i),_=m&&Ti(m[1])?m[0]:void 0,C=_?XQ(n,_):n,S=m?m[1].statusCode:void 0,T=s&&S&&S>=400,b=C.filter((I,E)=>{let{route:R}=I;if(R.lazy)return!0;if(R.loader==null)return!1;if(o)return typeof R.loader!="function"||R.loader.hydrate?!0:e.loaderData[R.id]===void 0&&(!e.errors||e.errors[R.id]===void 0);if(ZQ(e.loaderData,e.matches[E],I)||l.some(z=>z===I.route.id))return!0;let D=e.matches[E],N=I;return E8(I,sn({currentUrl:x,currentParams:D.params,nextUrl:y,nextParams:N.params},r,{actionResult:v,actionStatus:S,defaultShouldRevalidate:T?!1:a||x.pathname+x.search===y.pathname+y.search||x.search!==y.search||LN(D,N)}))}),w=[];return h.forEach((I,E)=>{if(o||!n.some($=>$.route.id===I.routeId)||u.has(E))return;let R=Pc(d,I.path,p);if(!R){w.push({key:E,routeId:I.routeId,path:I.path,matches:null,match:null,controller:null});return}let D=e.fetchers.get(E),N=$d(R,I.path),z=!1;f.has(E)?z=!1:c.has(E)?(c.delete(E),z=!0):D&&D.state!=="idle"&&D.data===void 0?z=a:z=E8(N,sn({currentUrl:x,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:v,actionStatus:S,defaultShouldRevalidate:T?!1:a})),z&&w.push({key:E,routeId:I.routeId,path:I.path,matches:R,match:N,controller:new AbortController})}),[b,w]}function ZQ(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function LN(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function E8(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function eY(t,e,n,r,i,o,s,a){let l=[e,...n.map(c=>c.route.id)].join("-");try{let c=s.get(l);c||(c=t({path:e,matches:n,patch:(u,h)=>{a.aborted||ON(u,h,r,i,o)}}),s.set(l,c)),c&&cY(c)&&await c}finally{s.delete(l)}}function ON(t,e,n,r,i){if(t){var o;let s=r[t];st(s,"No route found to patch children into: routeId = "+t);let a=t0(e,i,[t,"patch",String(((o=s.children)==null?void 0:o.length)||"0")],r);s.children?s.children.push(...a):s.children=a}else{let s=t0(e,i,["patch",String(n.length||"0")],r);n.push(...s)}}async function tY(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];st(i,"No route found in manifest");let o={};for(let s in r){let l=i[s]!==void 0&&s!=="hasErrorBoundary";tu(!l,'Route "'+i.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!l&&!bQ.has(s)&&(o[s]=r[s])}Object.assign(i,o),Object.assign(i,sn({},e(i),{lazy:void 0}))}async function nY(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,o,s)=>Object.assign(i,{[n[s].route.id]:o}),{})}async function rY(t,e,n,r,i,o,s,a,l,c){let u=o.map(d=>d.route.lazy?tY(d.route,l,a):void 0),h=o.map((d,p)=>{let m=u[p],v=i.some(y=>y.route.id===d.route.id);return sn({},d,{shouldLoad:v,resolve:async y=>(y&&r.method==="GET"&&(d.route.lazy||d.route.loader)&&(v=!0),v?iY(e,r,d,m,y,c):Promise.resolve({type:Nt.data,result:void 0}))})}),f=await t({matches:h,request:r,params:o[0].params,fetcherKey:s,context:c});try{await Promise.all(u)}catch{}return f}async function iY(t,e,n,r,i,o){let s,a,l=c=>{let u,h=new Promise((p,m)=>u=m);a=()=>u(),e.signal.addEventListener("abort",a);let f=p=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:o},...p!==void 0?[p]:[]),d=(async()=>{try{return{type:"data",result:await(i?i(m=>f(m)):f())}}catch(p){return{type:"error",result:p}}})();return Promise.race([d,h])};try{let c=n.route[t];if(r)if(c){let u,[h]=await Promise.all([l(c).catch(f=>{u=f}),r]);if(u!==void 0)throw u;s=h}else if(await r,c=n.route[t],c)s=await l(c);else if(t==="action"){let u=new URL(e.url),h=u.pathname+u.search;throw zr(405,{method:e.method,pathname:h,routeId:n.route.id})}else return{type:Nt.data,result:void 0};else if(c)s=await l(c);else{let u=new URL(e.url),h=u.pathname+u.search;throw zr(404,{pathname:h})}st(s.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:Nt.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return s}async function oY(t){let{result:e,type:n}=t;if(BN(e)){let c;try{let u=e.headers.get("Content-Type");u&&/\bapplication\/json\b/.test(u)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(u){return{type:Nt.error,error:u}}return n===Nt.error?{type:Nt.error,error:new Sx(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:Nt.data,data:c,statusCode:e.status,headers:e.headers}}if(n===Nt.error){if(P8(e)){var r;if(e.data instanceof Error){var i;return{type:Nt.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new Sx(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:Nt.error,error:e,statusCode:hy(e)?e.status:void 0}}if(hY(e)){var o,s;return{type:Nt.deferred,deferredData:e,statusCode:(o=e.init)==null?void 0:o.status,headers:((s=e.init)==null?void 0:s.headers)&&new Headers(e.init.headers)}}if(P8(e)){var a,l;return{type:Nt.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:Nt.data,data:e}}function sY(t,e,n,r,i,o){let s=t.headers.get("Location");if(st(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!Uk.test(s)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);s=mb(new URL(e.url),a,i,!0,s,o),t.headers.set("Location",s)}return t}function S8(t,e,n){if(Uk.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=Of(i.pathname,n)!=null;if(i.origin===e.origin&&o)return i.pathname+i.search+i.hash}return t}function Gu(t,e,n,r){let i=t.createURL(FN(e)).toString(),o={signal:n};if(r&&ko(r.formMethod)){let{formMethod:s,formEncType:a}=r;o.method=s.toUpperCase(),a==="application/json"?(o.headers=new Headers({"Content-Type":a}),o.body=JSON.stringify(r.json)):a==="text/plain"?o.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?o.body=gb(r.formData):o.body=r.formData}return new Request(i,o)}function gb(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function k8(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function aY(t,e,n,r,i){let o={},s=null,a,l=!1,c={},u=n&&Ti(n[1])?n[1].error:void 0;return t.forEach(h=>{if(!(h.route.id in e))return;let f=h.route.id,d=e[f];if(st(!Fc(d),"Cannot handle redirect results in processLoaderData"),Ti(d)){let p=d.error;u!==void 0&&(p=u,u=void 0),s=s||{};{let m=Sh(t,f);s[m.route.id]==null&&(s[m.route.id]=p)}o[f]=void 0,l||(l=!0,a=hy(d.error)?d.error.status:500),d.headers&&(c[f]=d.headers)}else hl(d)?(r.set(f,d.deferredData),o[f]=d.deferredData.data,d.statusCode!=null&&d.statusCode!==200&&!l&&(a=d.statusCode),d.headers&&(c[f]=d.headers)):(o[f]=d.data,d.statusCode&&d.statusCode!==200&&!l&&(a=d.statusCode),d.headers&&(c[f]=d.headers))}),u!==void 0&&n&&(s={[n[0]]:u},o[n[0]]=void 0),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:c}}function T8(t,e,n,r,i,o,s,a){let{loaderData:l,errors:c}=aY(e,r,i,a);return o.forEach(u=>{let{key:h,match:f,controller:d}=u,p=s[h];if(st(p,"Did not find corresponding fetcher result"),!(d&&d.signal.aborted))if(Ti(p)){let m=Sh(t.matches,f==null?void 0:f.route.id);c&&c[m.route.id]||(c=sn({},c,{[m.route.id]:p.error})),t.fetchers.delete(h)}else if(Fc(p))st(!1,"Unhandled fetcher revalidation redirect");else if(hl(p))st(!1,"Unhandled fetcher deferred data");else{let m=qa(p.data);t.fetchers.set(h,m)}}),{loaderData:l,errors:c}}function A8(t,e,n,r){let i=sn({},e);for(let o of n){let s=o.route.id;if(e.hasOwnProperty(s)?e[s]!==void 0&&(i[s]=e[s]):t[s]!==void 0&&o.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function I8(t){return t?Ti(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Sh(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function R8(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function zr(t,e){let{pathname:n,routeId:r,method:i,type:o,message:s}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",o==="route-discovery"?l='Unable to match URL "'+n+'" - the `unstable_patchRoutesOnNavigation()` '+(`function threw the following error:
`+s):i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":o==="defer-action"?l="defer() is not supported in actions":o==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new Sx(t||500,a,new Error(l),!0)}function Eg(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(Fc(i))return{key:r,result:i}}}function FN(t){let e=typeof t=="string"?wa(t):t;return nu(sn({},e,{hash:""}))}function lY(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function cY(t){return typeof t=="object"&&t!=null&&"then"in t}function uY(t){return BN(t.result)&&qQ.has(t.result.status)}function hl(t){return t.type===Nt.deferred}function Ti(t){return t.type===Nt.error}function Fc(t){return(t&&t.type)===Nt.redirect}function P8(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function hY(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function BN(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function fY(t){return WQ.has(t.toLowerCase())}function ko(t){return HQ.has(t.toLowerCase())}async function dY(t,e,n,r,i){let o=Object.entries(e);for(let s=0;s<o.length;s++){let[a,l]=o[s],c=t.find(f=>(f==null?void 0:f.route.id)===a);if(!c)continue;let u=r.find(f=>f.route.id===c.route.id),h=u!=null&&!LN(u,c)&&(i&&i[c.route.id])!==void 0;hl(l)&&h&&await Wk(l,n,!1).then(f=>{f&&(e[a]=f)})}}async function pY(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:o,controller:s}=n[r],a=e[i];t.find(c=>(c==null?void 0:c.route.id)===o)&&hl(a)&&(st(s,"Expected an AbortController for revalidating fetcher deferred result"),await Wk(a,s.signal,!0).then(c=>{c&&(e[i]=c)}))}}async function Wk(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Nt.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Nt.error,error:i}}return{type:Nt.data,data:t.deferredData.data}}}function qk(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function $d(t,e){let n=typeof e=="string"?wa(e).search:e.search;if(t[t.length-1].route.index&&qk(n||""))return t[t.length-1];let r=DN(t);return r[r.length-1]}function D8(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:o,json:s}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function Cw(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function mY(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Cd(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function gY(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function qa(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function xY(t,e){try{let n=t.sessionStorage.getItem(NN);if(n){let r=JSON.parse(n);for(let[i,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(i,new Set(o||[]))}}catch{}}function vY(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(NN,JSON.stringify(n))}catch(r){tu(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kx(){return kx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kx.apply(this,arguments)}const fy=k.createContext(null),VN=k.createContext(null),oc=k.createContext(null),Kk=k.createContext(null),sc=k.createContext({outlet:null,matches:[],isDataRoute:!1}),zN=k.createContext(null);function yY(t,e){let{relative:n}=e===void 0?{}:e;Ff()||st(!1);let{basename:r,navigator:i}=k.useContext(oc),{hash:o,pathname:s,search:a}=$N(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:ea([r,s])),i.createHref({pathname:l,search:a,hash:o})}function Ff(){return k.useContext(Kk)!=null}function X0(){return Ff()||st(!1),k.useContext(Kk).location}function jN(t){k.useContext(oc).static||k.useLayoutEffect(t)}function Gk(){let{isDataRoute:t}=k.useContext(sc);return t?RY():_Y()}function _Y(){Ff()||st(!1);let t=k.useContext(fy),{basename:e,future:n,navigator:r}=k.useContext(oc),{matches:i}=k.useContext(sc),{pathname:o}=X0(),s=JSON.stringify(cy(i,n.v7_relativeSplatPath)),a=k.useRef(!1);return jN(()=>{a.current=!0}),k.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=uy(c,JSON.parse(s),o,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ea([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,s,o,t])}function $N(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=k.useContext(oc),{matches:i}=k.useContext(sc),{pathname:o}=X0(),s=JSON.stringify(cy(i,r.v7_relativeSplatPath));return k.useMemo(()=>uy(t,JSON.parse(s),o,n==="path"),[t,s,o,n])}function wY(t,e,n,r){Ff()||st(!1);let{navigator:i}=k.useContext(oc),{matches:o}=k.useContext(sc),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=X0(),u;u=c;let h=u.pathname||"/",f=h;if(l!=="/"){let m=l.replace(/^\//,"").split("/");f="/"+h.replace(/^\//,"").split("/").slice(m.length).join("/")}let d=Pc(t,{pathname:f});return kY(d&&d.map(m=>Object.assign({},m,{params:Object.assign({},a,m.params),pathname:ea([l,i.encodeLocation?i.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?l:ea([l,i.encodeLocation?i.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),o,n,r)}function CY(){let t=WN(),e=hy(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:i},n):null,null)}const bY=k.createElement(CY,null);class EY extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?k.createElement(sc.Provider,{value:this.props.routeContext},k.createElement(zN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function SY(t){let{routeContext:e,match:n,children:r}=t,i=k.useContext(fy);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(sc.Provider,{value:e},r)}function kY(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=s.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||st(!1),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<s.length;u++){let h=s[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:f,errors:d}=n,p=h.route.loader&&f[h.route.id]===void 0&&(!d||d[h.route.id]===void 0);if(h.route.lazy||p){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,h,f)=>{let d,p=!1,m=null,v=null;n&&(d=a&&h.route.id?a[h.route.id]:void 0,m=h.route.errorElement||bY,l&&(c<0&&f===0?(p=!0,v=null):c===f&&(p=!0,v=h.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,f+1)),y=()=>{let _;return d?_=m:p?_=v:h.route.Component?_=k.createElement(h.route.Component,null):h.route.element?_=h.route.element:_=u,k.createElement(SY,{match:h,routeContext:{outlet:u,matches:x,isDataRoute:n!=null},children:_})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?k.createElement(EY,{location:n.location,revalidation:n.revalidation,component:m,error:d,children:y(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):y()},null)}var HN=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(HN||{}),Tx=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Tx||{});function TY(t){let e=k.useContext(fy);return e||st(!1),e}function AY(t){let e=k.useContext(VN);return e||st(!1),e}function IY(t){let e=k.useContext(sc);return e||st(!1),e}function UN(t){let e=IY(),n=e.matches[e.matches.length-1];return n.route.id||st(!1),n.route.id}function WN(){var t;let e=k.useContext(zN),n=AY(Tx.UseRouteError),r=UN(Tx.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function RY(){let{router:t}=TY(HN.UseNavigateStable),e=UN(Tx.UseNavigateStable),n=k.useRef(!1);return jN(()=>{n.current=!0}),k.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,kx({fromRouteId:e},o)))},[t,e])}function qN(t){let{to:e,replace:n,state:r,relative:i}=t;Ff()||st(!1);let{future:o,static:s}=k.useContext(oc),{matches:a}=k.useContext(sc),{pathname:l}=X0(),c=Gk(),u=uy(e,cy(a,o.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(u);return k.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:i}),[c,h,i,n,r]),null}function PY(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Rn.Pop,navigator:o,static:s=!1,future:a}=t;Ff()&&st(!1);let l=e.replace(/^\/*/,"/"),c=k.useMemo(()=>({basename:l,navigator:o,static:s,future:kx({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=wa(r));let{pathname:u="/",search:h="",hash:f="",state:d=null,key:p="default"}=r,m=k.useMemo(()=>{let v=Of(u,l);return v==null?null:{location:{pathname:v,search:h,hash:f,state:d,key:p},navigationType:i}},[l,u,h,f,d,p,i]);return m==null?null:k.createElement(oc.Provider,{value:c},k.createElement(Kk.Provider,{children:n,value:m}))}new Promise(()=>{});function DY(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:k.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:k.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:k.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function n0(){return n0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n0.apply(this,arguments)}function MY(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function NY(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function LY(t,e){return t.button===0&&(!e||e==="_self")&&!NY(t)}const OY=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],FY="6";try{window.__reactRouterVersion=FY}catch{}function BY(t,e){return QQ({basename:void 0,future:n0({},void 0,{v7_prependBasename:!0}),history:_Q({window:void 0}),hydrationData:VY(),routes:t,mapRouteProperties:DY,unstable_dataStrategy:void 0,unstable_patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function VY(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=n0({},e,{errors:zY(e.errors)})),e}function zY(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Sx(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let o=new Error(i.message);o.stack="",n[r]=o}}else n[r]=i;return n}const jY=k.createContext({isTransitioning:!1}),$Y=k.createContext(new Map),HY="startTransition",M8=S7[HY],UY="flushSync",N8=yQ[UY];function WY(t){M8?M8(t):t()}function bd(t){N8?N8(t):t()}let qY=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function KY(t){let{fallbackElement:e,router:n,future:r}=t,[i,o]=k.useState(n.state),[s,a]=k.useState(),[l,c]=k.useState({isTransitioning:!1}),[u,h]=k.useState(),[f,d]=k.useState(),[p,m]=k.useState(),v=k.useRef(new Map),{v7_startTransition:x}=r||{},y=k.useCallback(w=>{x?WY(w):w()},[x]),_=k.useCallback((w,I)=>{let{deletedFetchers:E,unstable_flushSync:R,unstable_viewTransitionOpts:D}=I;E.forEach(z=>v.current.delete(z)),w.fetchers.forEach((z,$)=>{z.data!==void 0&&v.current.set($,z.data)});let N=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!D||N){R?bd(()=>o(w)):y(()=>o(w));return}if(R){bd(()=>{f&&(u&&u.resolve(),f.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:D.currentLocation,nextLocation:D.nextLocation})});let z=n.window.document.startViewTransition(()=>{bd(()=>o(w))});z.finished.finally(()=>{bd(()=>{h(void 0),d(void 0),a(void 0),c({isTransitioning:!1})})}),bd(()=>d(z));return}f?(u&&u.resolve(),f.skipTransition(),m({state:w,currentLocation:D.currentLocation,nextLocation:D.nextLocation})):(a(w),c({isTransitioning:!0,flushSync:!1,currentLocation:D.currentLocation,nextLocation:D.nextLocation}))},[n.window,f,u,v,y]);k.useLayoutEffect(()=>n.subscribe(_),[n,_]),k.useEffect(()=>{l.isTransitioning&&!l.flushSync&&h(new qY)},[l]),k.useEffect(()=>{if(u&&s&&n.window){let w=s,I=u.promise,E=n.window.document.startViewTransition(async()=>{y(()=>o(w)),await I});E.finished.finally(()=>{h(void 0),d(void 0),a(void 0),c({isTransitioning:!1})}),d(E)}},[y,s,u,n.window]),k.useEffect(()=>{u&&s&&i.location.key===s.location.key&&u.resolve()},[u,f,i.location,s]),k.useEffect(()=>{!l.isTransitioning&&p&&(a(p.state),c({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),m(void 0))},[l.isTransitioning,p]),k.useEffect(()=>{},[]);let C=k.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:w=>n.navigate(w),push:(w,I,E)=>n.navigate(w,{state:I,preventScrollReset:E==null?void 0:E.preventScrollReset}),replace:(w,I,E)=>n.navigate(w,{replace:!0,state:I,preventScrollReset:E==null?void 0:E.preventScrollReset})}),[n]),S=n.basename||"/",T=k.useMemo(()=>({router:n,navigator:C,static:!1,basename:S}),[n,C,S]),b=k.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return k.createElement(k.Fragment,null,k.createElement(fy.Provider,{value:T},k.createElement(VN.Provider,{value:i},k.createElement($Y.Provider,{value:v.current},k.createElement(jY.Provider,{value:l},k.createElement(PY,{basename:S,location:i.location,navigationType:i.historyAction,navigator:C,future:b},i.initialized||n.future.v7_partialHydration?k.createElement(GY,{routes:n.routes,future:n.future,state:i}):e))))),null)}const GY=k.memo(JY);function JY(t){let{routes:e,future:n,state:r}=t;return wY(e,void 0,r,n)}const QY=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",YY=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,XY=k.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:h}=e,f=MY(e,OY),{basename:d}=k.useContext(oc),p,m=!1;if(typeof c=="string"&&YY.test(c)&&(p=c,QY))try{let _=new URL(window.location.href),C=c.startsWith("//")?new URL(_.protocol+c):new URL(c),S=Of(C.pathname,d);C.origin===_.origin&&S!=null?c=S+C.search+C.hash:m=!0}catch{}let v=yY(c,{relative:i}),x=ZY(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:i,unstable_viewTransition:h});function y(_){r&&r(_),_.defaultPrevented||x(_)}return k.createElement("a",n0({},f,{href:p||v,onClick:m||o?r:y,ref:n,target:l}))});var L8;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(L8||(L8={}));var O8;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(O8||(O8={}));function ZY(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a}=e===void 0?{}:e,l=Gk(),c=X0(),u=$N(t,{relative:s});return k.useCallback(h=>{if(LY(h,n)){h.preventDefault();let f=r!==void 0?r:nu(c)===nu(u);l(t,{replace:f,state:i,preventScrollReset:o,relative:s,unstable_viewTransition:a})}},[c,l,u,r,i,n,t,o,s,a])}const eX=1,tX=1e6;let bw=0;function nX(){return bw=(bw+1)%Number.MAX_SAFE_INTEGER,bw.toString()}const Ew=new Map,F8=t=>{if(Ew.has(t))return;const e=setTimeout(()=>{Ew.delete(t),mp({type:"REMOVE_TOAST",toastId:t})},tX);Ew.set(t,e)},rX=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,eX)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?F8(n):t.toasts.forEach(r=>{F8(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},A1=[];let I1={toasts:[]};function mp(t){I1=rX(I1,t),A1.forEach(e=>{e(I1)})}function iX({...t}){const e=nX(),n=i=>mp({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>mp({type:"DISMISS_TOAST",toastId:e});return mp({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Ts(){const[t,e]=k.useState(I1);return k.useEffect(()=>(A1.push(e),()=>{const n=A1.indexOf(e);n>-1&&A1.splice(n,1)}),[t]),{...t,toast:iX,dismiss:n=>mp({type:"DISMISS_TOAST",toastId:n})}}function KN(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=KN(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function oX(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=KN(t))&&(r&&(r+=" "),r+=e);return r}const Jk="-",sX=t=>{const e=lX(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:s=>{const a=s.split(Jk);return a[0]===""&&a.length!==1&&a.shift(),GN(a,e)||aX(s)},getConflictingClassGroupIds:(s,a)=>{const l=n[s]||[];return a&&r[s]?[...l,...r[s]]:l}}},GN=(t,e)=>{var s;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?GN(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join(Jk);return(s=e.validators.find(({validator:a})=>a(o)))==null?void 0:s.classGroupId},B8=/^\[(.+)\]$/,aX=t=>{if(B8.test(t)){const e=B8.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},lX=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return uX(Object.entries(t.classGroups),n).forEach(([o,s])=>{xb(s,r,o,e)}),r},xb=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:V8(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(cX(i)){xb(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,s])=>{xb(s,V8(e,o),n,r)})})},V8=(t,e)=>{let n=t;return e.split(Jk).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},cX=t=>t.isThemeGetter,uX=(t,e)=>e?t.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([s,a])=>[e+s,a])):o);return[n,i]}):t,hX=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(o,s)=>{n.set(o,s),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let s=n.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return i(o,s),s},set(o,s){n.has(o)?n.set(o,s):i(o,s)}}},JN="!",fX=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],o=e.length,s=a=>{const l=[];let c=0,u=0,h;for(let v=0;v<a.length;v++){let x=a[v];if(c===0){if(x===i&&(r||a.slice(v,v+o)===e)){l.push(a.slice(u,v)),u=v+o;continue}if(x==="/"){h=v;continue}}x==="["?c++:x==="]"&&c--}const f=l.length===0?a:a.substring(u),d=f.startsWith(JN),p=d?f.substring(1):f,m=h&&h>u?h-u:void 0;return{modifiers:l,hasImportantModifier:d,baseClassName:p,maybePostfixModifierPosition:m}};return n?a=>n({className:a,parseClassName:s}):s},dX=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},pX=t=>({cache:hX(t.cacheSize),parseClassName:fX(t),...sX(t)}),mX=/\s+/,gX=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,o=[],s=t.trim().split(mX);let a="";for(let l=s.length-1;l>=0;l-=1){const c=s[l],{modifiers:u,hasImportantModifier:h,baseClassName:f,maybePostfixModifierPosition:d}=n(c);let p=!!d,m=r(p?f.substring(0,d):f);if(!m){if(!p){a=c+(a.length>0?" "+a:a);continue}if(m=r(f),!m){a=c+(a.length>0?" "+a:a);continue}p=!1}const v=dX(u).join(":"),x=h?v+JN:v,y=x+m;if(o.includes(y))continue;o.push(y);const _=i(m,p);for(let C=0;C<_.length;++C){const S=_[C];o.push(x+S)}a=c+(a.length>0?" "+a:a)}return a};function xX(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=QN(e))&&(r&&(r+=" "),r+=n);return r}const QN=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=QN(t[r]))&&(n&&(n+=" "),n+=e);return n};function vX(t,...e){let n,r,i,o=s;function s(l){const c=e.reduce((u,h)=>h(u),t());return n=pX(c),r=n.cache.get,i=n.cache.set,o=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=gX(l,n);return i(l,u),u}return function(){return o(xX.apply(null,arguments))}}const Gt=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},YN=/^\[(?:([a-z-]+):)?(.+)\]$/i,yX=/^\d+\/\d+$/,_X=new Set(["px","full","screen"]),wX=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,CX=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,bX=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,EX=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,SX=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Bs=t=>Fh(t)||_X.has(t)||yX.test(t),Va=t=>Bf(t,"length",MX),Fh=t=>!!t&&!Number.isNaN(Number(t)),Sw=t=>Bf(t,"number",Fh),Ed=t=>!!t&&Number.isInteger(Number(t)),kX=t=>t.endsWith("%")&&Fh(t.slice(0,-1)),nt=t=>YN.test(t),za=t=>wX.test(t),TX=new Set(["length","size","percentage"]),AX=t=>Bf(t,TX,XN),IX=t=>Bf(t,"position",XN),RX=new Set(["image","url"]),PX=t=>Bf(t,RX,LX),DX=t=>Bf(t,"",NX),Sd=()=>!0,Bf=(t,e,n)=>{const r=YN.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},MX=t=>CX.test(t)&&!bX.test(t),XN=()=>!1,NX=t=>EX.test(t),LX=t=>SX.test(t),OX=()=>{const t=Gt("colors"),e=Gt("spacing"),n=Gt("blur"),r=Gt("brightness"),i=Gt("borderColor"),o=Gt("borderRadius"),s=Gt("borderSpacing"),a=Gt("borderWidth"),l=Gt("contrast"),c=Gt("grayscale"),u=Gt("hueRotate"),h=Gt("invert"),f=Gt("gap"),d=Gt("gradientColorStops"),p=Gt("gradientColorStopPositions"),m=Gt("inset"),v=Gt("margin"),x=Gt("opacity"),y=Gt("padding"),_=Gt("saturate"),C=Gt("scale"),S=Gt("sepia"),T=Gt("skew"),b=Gt("space"),w=Gt("translate"),I=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],R=()=>["auto",nt,e],D=()=>[nt,e],N=()=>["",Bs,Va],z=()=>["auto",Fh,nt],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Q=()=>["solid","dashed","dotted","double","none"],Y=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],H=()=>["","0",nt],O=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[Fh,nt];return{cacheSize:500,separator:":",theme:{colors:[Sd],spacing:[Bs,Va],blur:["none","",za,nt],brightness:U(),borderColor:[t],borderRadius:["none","","full",za,nt],borderSpacing:D(),borderWidth:N(),contrast:U(),grayscale:H(),hueRotate:U(),invert:H(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[kX,Va],inset:R(),margin:R(),opacity:U(),padding:D(),saturate:U(),scale:U(),sepia:H(),skew:U(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",nt]}],container:["container"],columns:[{columns:[za]}],"break-after":[{"break-after":O()}],"break-before":[{"break-before":O()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),nt]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:I()}],"overscroll-x":[{"overscroll-x":I()}],"overscroll-y":[{"overscroll-y":I()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ed,nt]}],basis:[{basis:R()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",nt]}],grow:[{grow:H()}],shrink:[{shrink:H()}],order:[{order:["first","last","none",Ed,nt]}],"grid-cols":[{"grid-cols":[Sd]}],"col-start-end":[{col:["auto",{span:["full",Ed,nt]},nt]}],"col-start":[{"col-start":z()}],"col-end":[{"col-end":z()}],"grid-rows":[{"grid-rows":[Sd]}],"row-start-end":[{row:["auto",{span:[Ed,nt]},nt]}],"row-start":[{"row-start":z()}],"row-end":[{"row-end":z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",nt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",nt]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[b]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[b]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",nt,e]}],"min-w":[{"min-w":[nt,e,"min","max","fit"]}],"max-w":[{"max-w":[nt,e,"none","full","min","max","fit","prose",{screen:[za]},za]}],h:[{h:[nt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[nt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[nt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[nt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",za,Va]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Sw]}],"font-family":[{font:[Sd]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",nt]}],"line-clamp":[{"line-clamp":["none",Fh,Sw]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Bs,nt]}],"list-image":[{"list-image":["none",nt]}],"list-style-type":[{list:["none","disc","decimal",nt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Bs,Va]}],"underline-offset":[{"underline-offset":["auto",Bs,nt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",nt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",nt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),IX]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",AX]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},PX]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[d]}],"gradient-via":[{via:[d]}],"gradient-to":[{to:[d]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...Q(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:Q()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...Q()]}],"outline-offset":[{"outline-offset":[Bs,nt]}],"outline-w":[{outline:[Bs,Va]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[Bs,Va]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",za,DX]}],"shadow-color":[{shadow:[Sd]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...Y(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Y()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",za,nt]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[h]}],saturate:[{saturate:[_]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",nt]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",nt]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",nt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[Ed,nt]}],"translate-x":[{"translate-x":[w]}],"translate-y":[{"translate-y":[w]}],"skew-x":[{"skew-x":[T]}],"skew-y":[{"skew-y":[T]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",nt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",nt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",nt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Bs,Va,Sw]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},dy=vX(OX);var ZN={exports:{}};function FX(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var kw={exports:{}};const BX={},VX=Object.freeze(Object.defineProperty({__proto__:null,default:BX},Symbol.toStringTag,{value:"Module"})),zX=KK(VX);var z8;function xt(){return z8||(z8=1,function(t,e){(function(n,r){t.exports=r()})(ot,function(){var n=n||function(r,i){var o;if(typeof window<"u"&&window.crypto&&(o=window.crypto),typeof self<"u"&&self.crypto&&(o=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(o=globalThis.crypto),!o&&typeof window<"u"&&window.msCrypto&&(o=window.msCrypto),!o&&typeof ot<"u"&&ot.crypto&&(o=ot.crypto),!o&&typeof FX=="function")try{o=zX}catch{}var s=function(){if(o){if(typeof o.getRandomValues=="function")try{return o.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof o.randomBytes=="function")try{return o.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function y(){}return function(_){var C;return y.prototype=_,C=new y,y.prototype=null,C}}(),l={},c=l.lib={},u=c.Base=function(){return{extend:function(y){var _=a(this);return y&&_.mixIn(y),(!_.hasOwnProperty("init")||this.init===_.init)&&(_.init=function(){_.$super.init.apply(this,arguments)}),_.init.prototype=_,_.$super=this,_},create:function(){var y=this.extend();return y.init.apply(y,arguments),y},init:function(){},mixIn:function(y){for(var _ in y)y.hasOwnProperty(_)&&(this[_]=y[_]);y.hasOwnProperty("toString")&&(this.toString=y.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),h=c.WordArray=u.extend({init:function(y,_){y=this.words=y||[],_!=i?this.sigBytes=_:this.sigBytes=y.length*4},toString:function(y){return(y||d).stringify(this)},concat:function(y){var _=this.words,C=y.words,S=this.sigBytes,T=y.sigBytes;if(this.clamp(),S%4)for(var b=0;b<T;b++){var w=C[b>>>2]>>>24-b%4*8&255;_[S+b>>>2]|=w<<24-(S+b)%4*8}else for(var I=0;I<T;I+=4)_[S+I>>>2]=C[I>>>2];return this.sigBytes+=T,this},clamp:function(){var y=this.words,_=this.sigBytes;y[_>>>2]&=4294967295<<32-_%4*8,y.length=r.ceil(_/4)},clone:function(){var y=u.clone.call(this);return y.words=this.words.slice(0),y},random:function(y){for(var _=[],C=0;C<y;C+=4)_.push(s());return new h.init(_,y)}}),f=l.enc={},d=f.Hex={stringify:function(y){for(var _=y.words,C=y.sigBytes,S=[],T=0;T<C;T++){var b=_[T>>>2]>>>24-T%4*8&255;S.push((b>>>4).toString(16)),S.push((b&15).toString(16))}return S.join("")},parse:function(y){for(var _=y.length,C=[],S=0;S<_;S+=2)C[S>>>3]|=parseInt(y.substr(S,2),16)<<24-S%8*4;return new h.init(C,_/2)}},p=f.Latin1={stringify:function(y){for(var _=y.words,C=y.sigBytes,S=[],T=0;T<C;T++){var b=_[T>>>2]>>>24-T%4*8&255;S.push(String.fromCharCode(b))}return S.join("")},parse:function(y){for(var _=y.length,C=[],S=0;S<_;S++)C[S>>>2]|=(y.charCodeAt(S)&255)<<24-S%4*8;return new h.init(C,_)}},m=f.Utf8={stringify:function(y){try{return decodeURIComponent(escape(p.stringify(y)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(y){return p.parse(unescape(encodeURIComponent(y)))}},v=c.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new h.init,this._nDataBytes=0},_append:function(y){typeof y=="string"&&(y=m.parse(y)),this._data.concat(y),this._nDataBytes+=y.sigBytes},_process:function(y){var _,C=this._data,S=C.words,T=C.sigBytes,b=this.blockSize,w=b*4,I=T/w;y?I=r.ceil(I):I=r.max((I|0)-this._minBufferSize,0);var E=I*b,R=r.min(E*4,T);if(E){for(var D=0;D<E;D+=b)this._doProcessBlock(S,D);_=S.splice(0,E),C.sigBytes-=R}return new h.init(_,R)},clone:function(){var y=u.clone.call(this);return y._data=this._data.clone(),y},_minBufferSize:0});c.Hasher=v.extend({cfg:u.extend(),init:function(y){this.cfg=this.cfg.extend(y),this.reset()},reset:function(){v.reset.call(this),this._doReset()},update:function(y){return this._append(y),this._process(),this},finalize:function(y){y&&this._append(y);var _=this._doFinalize();return _},blockSize:16,_createHelper:function(y){return function(_,C){return new y.init(C).finalize(_)}},_createHmacHelper:function(y){return function(_,C){return new x.HMAC.init(y,C).finalize(_)}}});var x=l.algo={};return l}(Math);return n})}(kw)),kw.exports}var Tw={exports:{}},j8;function py(){return j8||(j8=1,function(t,e){(function(n,r){t.exports=r(xt())})(ot,function(n){return function(r){var i=n,o=i.lib,s=o.Base,a=o.WordArray,l=i.x64={};l.Word=s.extend({init:function(c,u){this.high=c,this.low=u}}),l.WordArray=s.extend({init:function(c,u){c=this.words=c||[],u!=r?this.sigBytes=u:this.sigBytes=c.length*8},toX32:function(){for(var c=this.words,u=c.length,h=[],f=0;f<u;f++){var d=c[f];h.push(d.high),h.push(d.low)}return a.create(h,this.sigBytes)},clone:function(){for(var c=s.clone.call(this),u=c.words=this.words.slice(0),h=u.length,f=0;f<h;f++)u[f]=u[f].clone();return c}})}(),n})}(Tw)),Tw.exports}var Aw={exports:{}},$8;function jX(){return $8||($8=1,function(t,e){(function(n,r){t.exports=r(xt())})(ot,function(n){return function(){if(typeof ArrayBuffer=="function"){var r=n,i=r.lib,o=i.WordArray,s=o.init,a=o.init=function(l){if(l instanceof ArrayBuffer&&(l=new Uint8Array(l)),(l instanceof Int8Array||typeof Uint8ClampedArray<"u"&&l instanceof Uint8ClampedArray||l instanceof Int16Array||l instanceof Uint16Array||l instanceof Int32Array||l instanceof Uint32Array||l instanceof Float32Array||l instanceof Float64Array)&&(l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength)),l instanceof Uint8Array){for(var c=l.byteLength,u=[],h=0;h<c;h++)u[h>>>2]|=l[h]<<24-h%4*8;s.call(this,u,c)}else s.apply(this,arguments)};a.prototype=o}}(),n.lib.WordArray})}(Aw)),Aw.exports}var Iw={exports:{}},H8;function $X(){return H8||(H8=1,function(t,e){(function(n,r){t.exports=r(xt())})(ot,function(n){return function(){var r=n,i=r.lib,o=i.WordArray,s=r.enc;s.Utf16=s.Utf16BE={stringify:function(l){for(var c=l.words,u=l.sigBytes,h=[],f=0;f<u;f+=2){var d=c[f>>>2]>>>16-f%4*8&65535;h.push(String.fromCharCode(d))}return h.join("")},parse:function(l){for(var c=l.length,u=[],h=0;h<c;h++)u[h>>>1]|=l.charCodeAt(h)<<16-h%2*16;return o.create(u,c*2)}},s.Utf16LE={stringify:function(l){for(var c=l.words,u=l.sigBytes,h=[],f=0;f<u;f+=2){var d=a(c[f>>>2]>>>16-f%4*8&65535);h.push(String.fromCharCode(d))}return h.join("")},parse:function(l){for(var c=l.length,u=[],h=0;h<c;h++)u[h>>>1]|=a(l.charCodeAt(h)<<16-h%2*16);return o.create(u,c*2)}};function a(l){return l<<8&4278255360|l>>>8&16711935}}(),n.enc.Utf16})}(Iw)),Iw.exports}var Rw={exports:{}},U8;function Su(){return U8||(U8=1,function(t,e){(function(n,r){t.exports=r(xt())})(ot,function(n){return function(){var r=n,i=r.lib,o=i.WordArray,s=r.enc;s.Base64={stringify:function(l){var c=l.words,u=l.sigBytes,h=this._map;l.clamp();for(var f=[],d=0;d<u;d+=3)for(var p=c[d>>>2]>>>24-d%4*8&255,m=c[d+1>>>2]>>>24-(d+1)%4*8&255,v=c[d+2>>>2]>>>24-(d+2)%4*8&255,x=p<<16|m<<8|v,y=0;y<4&&d+y*.75<u;y++)f.push(h.charAt(x>>>6*(3-y)&63));var _=h.charAt(64);if(_)for(;f.length%4;)f.push(_);return f.join("")},parse:function(l){var c=l.length,u=this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var f=0;f<u.length;f++)h[u.charCodeAt(f)]=f}var d=u.charAt(64);if(d){var p=l.indexOf(d);p!==-1&&(c=p)}return a(l,c,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(l,c,u){for(var h=[],f=0,d=0;d<c;d++)if(d%4){var p=u[l.charCodeAt(d-1)]<<d%4*2,m=u[l.charCodeAt(d)]>>>6-d%4*2,v=p|m;h[f>>>2]|=v<<24-f%4*8,f++}return o.create(h,f)}}(),n.enc.Base64})}(Rw)),Rw.exports}var Pw={exports:{}},W8;function HX(){return W8||(W8=1,function(t,e){(function(n,r){t.exports=r(xt())})(ot,function(n){return function(){var r=n,i=r.lib,o=i.WordArray,s=r.enc;s.Base64url={stringify:function(l,c){c===void 0&&(c=!0);var u=l.words,h=l.sigBytes,f=c?this._safe_map:this._map;l.clamp();for(var d=[],p=0;p<h;p+=3)for(var m=u[p>>>2]>>>24-p%4*8&255,v=u[p+1>>>2]>>>24-(p+1)%4*8&255,x=u[p+2>>>2]>>>24-(p+2)%4*8&255,y=m<<16|v<<8|x,_=0;_<4&&p+_*.75<h;_++)d.push(f.charAt(y>>>6*(3-_)&63));var C=f.charAt(64);if(C)for(;d.length%4;)d.push(C);return d.join("")},parse:function(l,c){c===void 0&&(c=!0);var u=l.length,h=c?this._safe_map:this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var d=0;d<h.length;d++)f[h.charCodeAt(d)]=d}var p=h.charAt(64);if(p){var m=l.indexOf(p);m!==-1&&(u=m)}return a(l,u,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(l,c,u){for(var h=[],f=0,d=0;d<c;d++)if(d%4){var p=u[l.charCodeAt(d-1)]<<d%4*2,m=u[l.charCodeAt(d)]>>>6-d%4*2,v=p|m;h[f>>>2]|=v<<24-f%4*8,f++}return o.create(h,f)}}(),n.enc.Base64url})}(Pw)),Pw.exports}var Dw={exports:{}},q8;function ku(){return q8||(q8=1,function(t,e){(function(n,r){t.exports=r(xt())})(ot,function(n){return function(r){var i=n,o=i.lib,s=o.WordArray,a=o.Hasher,l=i.algo,c=[];(function(){for(var m=0;m<64;m++)c[m]=r.abs(r.sin(m+1))*4294967296|0})();var u=l.MD5=a.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(m,v){for(var x=0;x<16;x++){var y=v+x,_=m[y];m[y]=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360}var C=this._hash.words,S=m[v+0],T=m[v+1],b=m[v+2],w=m[v+3],I=m[v+4],E=m[v+5],R=m[v+6],D=m[v+7],N=m[v+8],z=m[v+9],$=m[v+10],Q=m[v+11],Y=m[v+12],q=m[v+13],H=m[v+14],O=m[v+15],U=C[0],K=C[1],L=C[2],J=C[3];U=h(U,K,L,J,S,7,c[0]),J=h(J,U,K,L,T,12,c[1]),L=h(L,J,U,K,b,17,c[2]),K=h(K,L,J,U,w,22,c[3]),U=h(U,K,L,J,I,7,c[4]),J=h(J,U,K,L,E,12,c[5]),L=h(L,J,U,K,R,17,c[6]),K=h(K,L,J,U,D,22,c[7]),U=h(U,K,L,J,N,7,c[8]),J=h(J,U,K,L,z,12,c[9]),L=h(L,J,U,K,$,17,c[10]),K=h(K,L,J,U,Q,22,c[11]),U=h(U,K,L,J,Y,7,c[12]),J=h(J,U,K,L,q,12,c[13]),L=h(L,J,U,K,H,17,c[14]),K=h(K,L,J,U,O,22,c[15]),U=f(U,K,L,J,T,5,c[16]),J=f(J,U,K,L,R,9,c[17]),L=f(L,J,U,K,Q,14,c[18]),K=f(K,L,J,U,S,20,c[19]),U=f(U,K,L,J,E,5,c[20]),J=f(J,U,K,L,$,9,c[21]),L=f(L,J,U,K,O,14,c[22]),K=f(K,L,J,U,I,20,c[23]),U=f(U,K,L,J,z,5,c[24]),J=f(J,U,K,L,H,9,c[25]),L=f(L,J,U,K,w,14,c[26]),K=f(K,L,J,U,N,20,c[27]),U=f(U,K,L,J,q,5,c[28]),J=f(J,U,K,L,b,9,c[29]),L=f(L,J,U,K,D,14,c[30]),K=f(K,L,J,U,Y,20,c[31]),U=d(U,K,L,J,E,4,c[32]),J=d(J,U,K,L,N,11,c[33]),L=d(L,J,U,K,Q,16,c[34]),K=d(K,L,J,U,H,23,c[35]),U=d(U,K,L,J,T,4,c[36]),J=d(J,U,K,L,I,11,c[37]),L=d(L,J,U,K,D,16,c[38]),K=d(K,L,J,U,$,23,c[39]),U=d(U,K,L,J,q,4,c[40]),J=d(J,U,K,L,S,11,c[41]),L=d(L,J,U,K,w,16,c[42]),K=d(K,L,J,U,R,23,c[43]),U=d(U,K,L,J,z,4,c[44]),J=d(J,U,K,L,Y,11,c[45]),L=d(L,J,U,K,O,16,c[46]),K=d(K,L,J,U,b,23,c[47]),U=p(U,K,L,J,S,6,c[48]),J=p(J,U,K,L,D,10,c[49]),L=p(L,J,U,K,H,15,c[50]),K=p(K,L,J,U,E,21,c[51]),U=p(U,K,L,J,Y,6,c[52]),J=p(J,U,K,L,w,10,c[53]),L=p(L,J,U,K,$,15,c[54]),K=p(K,L,J,U,T,21,c[55]),U=p(U,K,L,J,N,6,c[56]),J=p(J,U,K,L,O,10,c[57]),L=p(L,J,U,K,R,15,c[58]),K=p(K,L,J,U,q,21,c[59]),U=p(U,K,L,J,I,6,c[60]),J=p(J,U,K,L,Q,10,c[61]),L=p(L,J,U,K,b,15,c[62]),K=p(K,L,J,U,z,21,c[63]),C[0]=C[0]+U|0,C[1]=C[1]+K|0,C[2]=C[2]+L|0,C[3]=C[3]+J|0},_doFinalize:function(){var m=this._data,v=m.words,x=this._nDataBytes*8,y=m.sigBytes*8;v[y>>>5]|=128<<24-y%32;var _=r.floor(x/4294967296),C=x;v[(y+64>>>9<<4)+15]=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,v[(y+64>>>9<<4)+14]=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,m.sigBytes=(v.length+1)*4,this._process();for(var S=this._hash,T=S.words,b=0;b<4;b++){var w=T[b];T[b]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360}return S},clone:function(){var m=a.clone.call(this);return m._hash=this._hash.clone(),m}});function h(m,v,x,y,_,C,S){var T=m+(v&x|~v&y)+_+S;return(T<<C|T>>>32-C)+v}function f(m,v,x,y,_,C,S){var T=m+(v&y|x&~y)+_+S;return(T<<C|T>>>32-C)+v}function d(m,v,x,y,_,C,S){var T=m+(v^x^y)+_+S;return(T<<C|T>>>32-C)+v}function p(m,v,x,y,_,C,S){var T=m+(x^(v|~y))+_+S;return(T<<C|T>>>32-C)+v}i.MD5=a._createHelper(u),i.HmacMD5=a._createHmacHelper(u)}(Math),n.MD5})}(Dw)),Dw.exports}var Mw={exports:{}},K8;function eL(){return K8||(K8=1,function(t,e){(function(n,r){t.exports=r(xt())})(ot,function(n){return function(){var r=n,i=r.lib,o=i.WordArray,s=i.Hasher,a=r.algo,l=[],c=a.SHA1=s.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(u,h){for(var f=this._hash.words,d=f[0],p=f[1],m=f[2],v=f[3],x=f[4],y=0;y<80;y++){if(y<16)l[y]=u[h+y]|0;else{var _=l[y-3]^l[y-8]^l[y-14]^l[y-16];l[y]=_<<1|_>>>31}var C=(d<<5|d>>>27)+x+l[y];y<20?C+=(p&m|~p&v)+1518500249:y<40?C+=(p^m^v)+1859775393:y<60?C+=(p&m|p&v|m&v)-1894007588:C+=(p^m^v)-899497514,x=v,v=m,m=p<<30|p>>>2,p=d,d=C}f[0]=f[0]+d|0,f[1]=f[1]+p|0,f[2]=f[2]+m|0,f[3]=f[3]+v|0,f[4]=f[4]+x|0},_doFinalize:function(){var u=this._data,h=u.words,f=this._nDataBytes*8,d=u.sigBytes*8;return h[d>>>5]|=128<<24-d%32,h[(d+64>>>9<<4)+14]=Math.floor(f/4294967296),h[(d+64>>>9<<4)+15]=f,u.sigBytes=h.length*4,this._process(),this._hash},clone:function(){var u=s.clone.call(this);return u._hash=this._hash.clone(),u}});r.SHA1=s._createHelper(c),r.HmacSHA1=s._createHmacHelper(c)}(),n.SHA1})}(Mw)),Mw.exports}var Nw={exports:{}},G8;function Qk(){return G8||(G8=1,function(t,e){(function(n,r){t.exports=r(xt())})(ot,function(n){return function(r){var i=n,o=i.lib,s=o.WordArray,a=o.Hasher,l=i.algo,c=[],u=[];(function(){function d(x){for(var y=r.sqrt(x),_=2;_<=y;_++)if(!(x%_))return!1;return!0}function p(x){return(x-(x|0))*4294967296|0}for(var m=2,v=0;v<64;)d(m)&&(v<8&&(c[v]=p(r.pow(m,1/2))),u[v]=p(r.pow(m,1/3)),v++),m++})();var h=[],f=l.SHA256=a.extend({_doReset:function(){this._hash=new s.init(c.slice(0))},_doProcessBlock:function(d,p){for(var m=this._hash.words,v=m[0],x=m[1],y=m[2],_=m[3],C=m[4],S=m[5],T=m[6],b=m[7],w=0;w<64;w++){if(w<16)h[w]=d[p+w]|0;else{var I=h[w-15],E=(I<<25|I>>>7)^(I<<14|I>>>18)^I>>>3,R=h[w-2],D=(R<<15|R>>>17)^(R<<13|R>>>19)^R>>>10;h[w]=E+h[w-7]+D+h[w-16]}var N=C&S^~C&T,z=v&x^v&y^x&y,$=(v<<30|v>>>2)^(v<<19|v>>>13)^(v<<10|v>>>22),Q=(C<<26|C>>>6)^(C<<21|C>>>11)^(C<<7|C>>>25),Y=b+Q+N+u[w]+h[w],q=$+z;b=T,T=S,S=C,C=_+Y|0,_=y,y=x,x=v,v=Y+q|0}m[0]=m[0]+v|0,m[1]=m[1]+x|0,m[2]=m[2]+y|0,m[3]=m[3]+_|0,m[4]=m[4]+C|0,m[5]=m[5]+S|0,m[6]=m[6]+T|0,m[7]=m[7]+b|0},_doFinalize:function(){var d=this._data,p=d.words,m=this._nDataBytes*8,v=d.sigBytes*8;return p[v>>>5]|=128<<24-v%32,p[(v+64>>>9<<4)+14]=r.floor(m/4294967296),p[(v+64>>>9<<4)+15]=m,d.sigBytes=p.length*4,this._process(),this._hash},clone:function(){var d=a.clone.call(this);return d._hash=this._hash.clone(),d}});i.SHA256=a._createHelper(f),i.HmacSHA256=a._createHmacHelper(f)}(Math),n.SHA256})}(Nw)),Nw.exports}var Lw={exports:{}},J8;function UX(){return J8||(J8=1,function(t,e){(function(n,r,i){t.exports=r(xt(),Qk())})(ot,function(n){return function(){var r=n,i=r.lib,o=i.WordArray,s=r.algo,a=s.SHA256,l=s.SHA224=a.extend({_doReset:function(){this._hash=new o.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var c=a._doFinalize.call(this);return c.sigBytes-=4,c}});r.SHA224=a._createHelper(l),r.HmacSHA224=a._createHmacHelper(l)}(),n.SHA224})}(Lw)),Lw.exports}var Ow={exports:{}},Q8;function tL(){return Q8||(Q8=1,function(t,e){(function(n,r,i){t.exports=r(xt(),py())})(ot,function(n){return function(){var r=n,i=r.lib,o=i.Hasher,s=r.x64,a=s.Word,l=s.WordArray,c=r.algo;function u(){return a.create.apply(a,arguments)}var h=[u(1116352408,3609767458),u(1899447441,602891725),u(3049323471,3964484399),u(3921009573,2173295548),u(961987163,4081628472),u(1508970993,3053834265),u(2453635748,2937671579),u(2870763221,3664609560),u(3624381080,2734883394),u(310598401,1164996542),u(607225278,1323610764),u(1426881987,3590304994),u(1925078388,4068182383),u(2162078206,991336113),u(2614888103,633803317),u(3248222580,3479774868),u(3835390401,2666613458),u(4022224774,944711139),u(264347078,2341262773),u(604807628,2007800933),u(770255983,1495990901),u(1249150122,1856431235),u(1555081692,3175218132),u(1996064986,2198950837),u(2554220882,3999719339),u(2821834349,766784016),u(2952996808,2566594879),u(3210313671,3203337956),u(3336571891,1034457026),u(3584528711,2466948901),u(113926993,3758326383),u(338241895,168717936),u(666307205,1188179964),u(773529912,1546045734),u(1294757372,1522805485),u(1396182291,2643833823),u(1695183700,2343527390),u(1986661051,1014477480),u(2177026350,1206759142),u(2456956037,344077627),u(2730485921,1290863460),u(2820302411,3158454273),u(3259730800,3505952657),u(3345764771,106217008),u(3516065817,3606008344),u(3600352804,1432725776),u(4094571909,1467031594),u(275423344,851169720),u(430227734,3100823752),u(506948616,1363258195),u(659060556,3750685593),u(883997877,3785050280),u(958139571,3318307427),u(1322822218,3812723403),u(1537002063,2003034995),u(1747873779,3602036899),u(1955562222,1575990012),u(2024104815,1125592928),u(2227730452,2716904306),u(2361852424,442776044),u(2428436474,593698344),u(2756734187,3733110249),u(3204031479,2999351573),u(3329325298,3815920427),u(3391569614,3928383900),u(3515267271,566280711),u(3940187606,3454069534),u(4118630271,4000239992),u(116418474,1914138554),u(174292421,2731055270),u(289380356,3203993006),u(460393269,320620315),u(685471733,587496836),u(852142971,1086792851),u(1017036298,365543100),u(1126000580,2618297676),u(1288033470,3409855158),u(1501505948,4234509866),u(1607167915,987167468),u(1816402316,1246189591)],f=[];(function(){for(var p=0;p<80;p++)f[p]=u()})();var d=c.SHA512=o.extend({_doReset:function(){this._hash=new l.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(p,m){for(var v=this._hash.words,x=v[0],y=v[1],_=v[2],C=v[3],S=v[4],T=v[5],b=v[6],w=v[7],I=x.high,E=x.low,R=y.high,D=y.low,N=_.high,z=_.low,$=C.high,Q=C.low,Y=S.high,q=S.low,H=T.high,O=T.low,U=b.high,K=b.low,L=w.high,J=w.low,Ee=I,de=E,ue=R,fe=D,je=N,Le=z,Be=$,Qe=Q,ct=Y,We=q,zt=H,on=O,Ln=U,fn=K,qn=L,Kn=J,dn=0;dn<80;dn++){var kn,wn,vt=f[dn];if(dn<16)wn=vt.high=p[m+dn*2]|0,kn=vt.low=p[m+dn*2+1]|0;else{var Ui=f[dn-15],X=Ui.high,ie=Ui.low,V=(X>>>1|ie<<31)^(X>>>8|ie<<24)^X>>>7,$e=(ie>>>1|X<<31)^(ie>>>8|X<<24)^(ie>>>7|X<<25),Ye=f[dn-2],wt=Ye.high,pn=Ye.low,On=(wt>>>19|pn<<13)^(wt<<3|pn>>>29)^wt>>>6,_i=(pn>>>19|wt<<13)^(pn<<3|wt>>>29)^(pn>>>6|wt<<26),Cn=f[dn-7],Tn=Cn.high,wi=Cn.low,Fn=f[dn-16],$u=Fn.high,Pa=Fn.low;kn=$e+wi,wn=V+Tn+(kn>>>0<$e>>>0?1:0),kn=kn+_i,wn=wn+On+(kn>>>0<_i>>>0?1:0),kn=kn+Pa,wn=wn+$u+(kn>>>0<Pa>>>0?1:0),vt.high=wn,vt.low=kn}var Wi=ct&zt^~ct&Ln,Ds=We&on^~We&fn,Ms=Ee&ue^Ee&je^ue&je,ii=de&fe^de&Le^fe&Le,Da=(Ee>>>28|de<<4)^(Ee<<30|de>>>2)^(Ee<<25|de>>>7),Ns=(de>>>28|Ee<<4)^(de<<30|Ee>>>2)^(de<<25|Ee>>>7),vc=(ct>>>14|We<<18)^(ct>>>18|We<<14)^(ct<<23|We>>>9),Ls=(We>>>14|ct<<18)^(We>>>18|ct<<14)^(We<<23|ct>>>9),Ma=h[dn],mn=Ma.high,Go=Ma.low,gn=Kn+Ls,yr=qn+vc+(gn>>>0<Kn>>>0?1:0),gn=gn+Ds,yr=yr+Wi+(gn>>>0<Ds>>>0?1:0),gn=gn+Go,yr=yr+mn+(gn>>>0<Go>>>0?1:0),gn=gn+kn,yr=yr+wn+(gn>>>0<kn>>>0?1:0),Hu=Ns+ii,j=Da+Ms+(Hu>>>0<Ns>>>0?1:0);qn=Ln,Kn=fn,Ln=zt,fn=on,zt=ct,on=We,We=Qe+gn|0,ct=Be+yr+(We>>>0<Qe>>>0?1:0)|0,Be=je,Qe=Le,je=ue,Le=fe,ue=Ee,fe=de,de=gn+Hu|0,Ee=yr+j+(de>>>0<gn>>>0?1:0)|0}E=x.low=E+de,x.high=I+Ee+(E>>>0<de>>>0?1:0),D=y.low=D+fe,y.high=R+ue+(D>>>0<fe>>>0?1:0),z=_.low=z+Le,_.high=N+je+(z>>>0<Le>>>0?1:0),Q=C.low=Q+Qe,C.high=$+Be+(Q>>>0<Qe>>>0?1:0),q=S.low=q+We,S.high=Y+ct+(q>>>0<We>>>0?1:0),O=T.low=O+on,T.high=H+zt+(O>>>0<on>>>0?1:0),K=b.low=K+fn,b.high=U+Ln+(K>>>0<fn>>>0?1:0),J=w.low=J+Kn,w.high=L+qn+(J>>>0<Kn>>>0?1:0)},_doFinalize:function(){var p=this._data,m=p.words,v=this._nDataBytes*8,x=p.sigBytes*8;m[x>>>5]|=128<<24-x%32,m[(x+128>>>10<<5)+30]=Math.floor(v/4294967296),m[(x+128>>>10<<5)+31]=v,p.sigBytes=m.length*4,this._process();var y=this._hash.toX32();return y},clone:function(){var p=o.clone.call(this);return p._hash=this._hash.clone(),p},blockSize:1024/32});r.SHA512=o._createHelper(d),r.HmacSHA512=o._createHmacHelper(d)}(),n.SHA512})}(Ow)),Ow.exports}var Fw={exports:{}},Y8;function WX(){return Y8||(Y8=1,function(t,e){(function(n,r,i){t.exports=r(xt(),py(),tL())})(ot,function(n){return function(){var r=n,i=r.x64,o=i.Word,s=i.WordArray,a=r.algo,l=a.SHA512,c=a.SHA384=l.extend({_doReset:function(){this._hash=new s.init([new o.init(3418070365,3238371032),new o.init(1654270250,914150663),new o.init(2438529370,812702999),new o.init(355462360,4144912697),new o.init(1731405415,4290775857),new o.init(2394180231,1750603025),new o.init(3675008525,1694076839),new o.init(1203062813,3204075428)])},_doFinalize:function(){var u=l._doFinalize.call(this);return u.sigBytes-=16,u}});r.SHA384=l._createHelper(c),r.HmacSHA384=l._createHmacHelper(c)}(),n.SHA384})}(Fw)),Fw.exports}var Bw={exports:{}},X8;function qX(){return X8||(X8=1,function(t,e){(function(n,r,i){t.exports=r(xt(),py())})(ot,function(n){return function(r){var i=n,o=i.lib,s=o.WordArray,a=o.Hasher,l=i.x64,c=l.Word,u=i.algo,h=[],f=[],d=[];(function(){for(var v=1,x=0,y=0;y<24;y++){h[v+5*x]=(y+1)*(y+2)/2%64;var _=x%5,C=(2*v+3*x)%5;v=_,x=C}for(var v=0;v<5;v++)for(var x=0;x<5;x++)f[v+5*x]=x+(2*v+3*x)%5*5;for(var S=1,T=0;T<24;T++){for(var b=0,w=0,I=0;I<7;I++){if(S&1){var E=(1<<I)-1;E<32?w^=1<<E:b^=1<<E-32}S&128?S=S<<1^113:S<<=1}d[T]=c.create(b,w)}})();var p=[];(function(){for(var v=0;v<25;v++)p[v]=c.create()})();var m=u.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var v=this._state=[],x=0;x<25;x++)v[x]=new c.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(v,x){for(var y=this._state,_=this.blockSize/2,C=0;C<_;C++){var S=v[x+2*C],T=v[x+2*C+1];S=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,T=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360;var b=y[C];b.high^=T,b.low^=S}for(var w=0;w<24;w++){for(var I=0;I<5;I++){for(var E=0,R=0,D=0;D<5;D++){var b=y[I+5*D];E^=b.high,R^=b.low}var N=p[I];N.high=E,N.low=R}for(var I=0;I<5;I++)for(var z=p[(I+4)%5],$=p[(I+1)%5],Q=$.high,Y=$.low,E=z.high^(Q<<1|Y>>>31),R=z.low^(Y<<1|Q>>>31),D=0;D<5;D++){var b=y[I+5*D];b.high^=E,b.low^=R}for(var q=1;q<25;q++){var E,R,b=y[q],H=b.high,O=b.low,U=h[q];U<32?(E=H<<U|O>>>32-U,R=O<<U|H>>>32-U):(E=O<<U-32|H>>>64-U,R=H<<U-32|O>>>64-U);var K=p[f[q]];K.high=E,K.low=R}var L=p[0],J=y[0];L.high=J.high,L.low=J.low;for(var I=0;I<5;I++)for(var D=0;D<5;D++){var q=I+5*D,b=y[q],Ee=p[q],de=p[(I+1)%5+5*D],ue=p[(I+2)%5+5*D];b.high=Ee.high^~de.high&ue.high,b.low=Ee.low^~de.low&ue.low}var b=y[0],fe=d[w];b.high^=fe.high,b.low^=fe.low}},_doFinalize:function(){var v=this._data,x=v.words;this._nDataBytes*8;var y=v.sigBytes*8,_=this.blockSize*32;x[y>>>5]|=1<<24-y%32,x[(r.ceil((y+1)/_)*_>>>5)-1]|=128,v.sigBytes=x.length*4,this._process();for(var C=this._state,S=this.cfg.outputLength/8,T=S/8,b=[],w=0;w<T;w++){var I=C[w],E=I.high,R=I.low;E=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360,R=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360,b.push(R),b.push(E)}return new s.init(b,S)},clone:function(){for(var v=a.clone.call(this),x=v._state=this._state.slice(0),y=0;y<25;y++)x[y]=x[y].clone();return v}});i.SHA3=a._createHelper(m),i.HmacSHA3=a._createHmacHelper(m)}(Math),n.SHA3})}(Bw)),Bw.exports}var Vw={exports:{}},Z8;function KX(){return Z8||(Z8=1,function(t,e){(function(n,r){t.exports=r(xt())})(ot,function(n){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(r){var i=n,o=i.lib,s=o.WordArray,a=o.Hasher,l=i.algo,c=s.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),u=s.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),h=s.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),f=s.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=s.create([0,1518500249,1859775393,2400959708,2840853838]),p=s.create([1352829926,1548603684,1836072691,2053994217,0]),m=l.RIPEMD160=a.extend({_doReset:function(){this._hash=s.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(T,b){for(var w=0;w<16;w++){var I=b+w,E=T[I];T[I]=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360}var R=this._hash.words,D=d.words,N=p.words,z=c.words,$=u.words,Q=h.words,Y=f.words,q,H,O,U,K,L,J,Ee,de,ue;L=q=R[0],J=H=R[1],Ee=O=R[2],de=U=R[3],ue=K=R[4];for(var fe,w=0;w<80;w+=1)fe=q+T[b+z[w]]|0,w<16?fe+=v(H,O,U)+D[0]:w<32?fe+=x(H,O,U)+D[1]:w<48?fe+=y(H,O,U)+D[2]:w<64?fe+=_(H,O,U)+D[3]:fe+=C(H,O,U)+D[4],fe=fe|0,fe=S(fe,Q[w]),fe=fe+K|0,q=K,K=U,U=S(O,10),O=H,H=fe,fe=L+T[b+$[w]]|0,w<16?fe+=C(J,Ee,de)+N[0]:w<32?fe+=_(J,Ee,de)+N[1]:w<48?fe+=y(J,Ee,de)+N[2]:w<64?fe+=x(J,Ee,de)+N[3]:fe+=v(J,Ee,de)+N[4],fe=fe|0,fe=S(fe,Y[w]),fe=fe+ue|0,L=ue,ue=de,de=S(Ee,10),Ee=J,J=fe;fe=R[1]+O+de|0,R[1]=R[2]+U+ue|0,R[2]=R[3]+K+L|0,R[3]=R[4]+q+J|0,R[4]=R[0]+H+Ee|0,R[0]=fe},_doFinalize:function(){var T=this._data,b=T.words,w=this._nDataBytes*8,I=T.sigBytes*8;b[I>>>5]|=128<<24-I%32,b[(I+64>>>9<<4)+14]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,T.sigBytes=(b.length+1)*4,this._process();for(var E=this._hash,R=E.words,D=0;D<5;D++){var N=R[D];R[D]=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360}return E},clone:function(){var T=a.clone.call(this);return T._hash=this._hash.clone(),T}});function v(T,b,w){return T^b^w}function x(T,b,w){return T&b|~T&w}function y(T,b,w){return(T|~b)^w}function _(T,b,w){return T&w|b&~w}function C(T,b,w){return T^(b|~w)}function S(T,b){return T<<b|T>>>32-b}i.RIPEMD160=a._createHelper(m),i.HmacRIPEMD160=a._createHmacHelper(m)}(),n.RIPEMD160})}(Vw)),Vw.exports}var zw={exports:{}},e9;function Yk(){return e9||(e9=1,function(t,e){(function(n,r){t.exports=r(xt())})(ot,function(n){(function(){var r=n,i=r.lib,o=i.Base,s=r.enc,a=s.Utf8,l=r.algo;l.HMAC=o.extend({init:function(c,u){c=this._hasher=new c.init,typeof u=="string"&&(u=a.parse(u));var h=c.blockSize,f=h*4;u.sigBytes>f&&(u=c.finalize(u)),u.clamp();for(var d=this._oKey=u.clone(),p=this._iKey=u.clone(),m=d.words,v=p.words,x=0;x<h;x++)m[x]^=1549556828,v[x]^=909522486;d.sigBytes=p.sigBytes=f,this.reset()},reset:function(){var c=this._hasher;c.reset(),c.update(this._iKey)},update:function(c){return this._hasher.update(c),this},finalize:function(c){var u=this._hasher,h=u.finalize(c);u.reset();var f=u.finalize(this._oKey.clone().concat(h));return f}})})()})}(zw)),zw.exports}var jw={exports:{}},t9;function GX(){return t9||(t9=1,function(t,e){(function(n,r,i){t.exports=r(xt(),Qk(),Yk())})(ot,function(n){return function(){var r=n,i=r.lib,o=i.Base,s=i.WordArray,a=r.algo,l=a.SHA256,c=a.HMAC,u=a.PBKDF2=o.extend({cfg:o.extend({keySize:128/32,hasher:l,iterations:25e4}),init:function(h){this.cfg=this.cfg.extend(h)},compute:function(h,f){for(var d=this.cfg,p=c.create(d.hasher,h),m=s.create(),v=s.create([1]),x=m.words,y=v.words,_=d.keySize,C=d.iterations;x.length<_;){var S=p.update(f).finalize(v);p.reset();for(var T=S.words,b=T.length,w=S,I=1;I<C;I++){w=p.finalize(w),p.reset();for(var E=w.words,R=0;R<b;R++)T[R]^=E[R]}m.concat(S),y[0]++}return m.sigBytes=_*4,m}});r.PBKDF2=function(h,f,d){return u.create(d).compute(h,f)}}(),n.PBKDF2})}(jw)),jw.exports}var $w={exports:{}},n9;function ac(){return n9||(n9=1,function(t,e){(function(n,r,i){t.exports=r(xt(),eL(),Yk())})(ot,function(n){return function(){var r=n,i=r.lib,o=i.Base,s=i.WordArray,a=r.algo,l=a.MD5,c=a.EvpKDF=o.extend({cfg:o.extend({keySize:128/32,hasher:l,iterations:1}),init:function(u){this.cfg=this.cfg.extend(u)},compute:function(u,h){for(var f,d=this.cfg,p=d.hasher.create(),m=s.create(),v=m.words,x=d.keySize,y=d.iterations;v.length<x;){f&&p.update(f),f=p.update(u).finalize(h),p.reset();for(var _=1;_<y;_++)f=p.finalize(f),p.reset();m.concat(f)}return m.sigBytes=x*4,m}});r.EvpKDF=function(u,h,f){return c.create(f).compute(u,h)}}(),n.EvpKDF})}($w)),$w.exports}var Hw={exports:{}},r9;function er(){return r9||(r9=1,function(t,e){(function(n,r,i){t.exports=r(xt(),ac())})(ot,function(n){n.lib.Cipher||function(r){var i=n,o=i.lib,s=o.Base,a=o.WordArray,l=o.BufferedBlockAlgorithm,c=i.enc;c.Utf8;var u=c.Base64,h=i.algo,f=h.EvpKDF,d=o.Cipher=l.extend({cfg:s.extend(),createEncryptor:function(E,R){return this.create(this._ENC_XFORM_MODE,E,R)},createDecryptor:function(E,R){return this.create(this._DEC_XFORM_MODE,E,R)},init:function(E,R,D){this.cfg=this.cfg.extend(D),this._xformMode=E,this._key=R,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(E){return this._append(E),this._process()},finalize:function(E){E&&this._append(E);var R=this._doFinalize();return R},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function E(R){return typeof R=="string"?I:T}return function(R){return{encrypt:function(D,N,z){return E(N).encrypt(R,D,N,z)},decrypt:function(D,N,z){return E(N).decrypt(R,D,N,z)}}}}()});o.StreamCipher=d.extend({_doFinalize:function(){var E=this._process(!0);return E},blockSize:1});var p=i.mode={},m=o.BlockCipherMode=s.extend({createEncryptor:function(E,R){return this.Encryptor.create(E,R)},createDecryptor:function(E,R){return this.Decryptor.create(E,R)},init:function(E,R){this._cipher=E,this._iv=R}}),v=p.CBC=function(){var E=m.extend();E.Encryptor=E.extend({processBlock:function(D,N){var z=this._cipher,$=z.blockSize;R.call(this,D,N,$),z.encryptBlock(D,N),this._prevBlock=D.slice(N,N+$)}}),E.Decryptor=E.extend({processBlock:function(D,N){var z=this._cipher,$=z.blockSize,Q=D.slice(N,N+$);z.decryptBlock(D,N),R.call(this,D,N,$),this._prevBlock=Q}});function R(D,N,z){var $,Q=this._iv;Q?($=Q,this._iv=r):$=this._prevBlock;for(var Y=0;Y<z;Y++)D[N+Y]^=$[Y]}return E}(),x=i.pad={},y=x.Pkcs7={pad:function(E,R){for(var D=R*4,N=D-E.sigBytes%D,z=N<<24|N<<16|N<<8|N,$=[],Q=0;Q<N;Q+=4)$.push(z);var Y=a.create($,N);E.concat(Y)},unpad:function(E){var R=E.words[E.sigBytes-1>>>2]&255;E.sigBytes-=R}};o.BlockCipher=d.extend({cfg:d.cfg.extend({mode:v,padding:y}),reset:function(){var E;d.reset.call(this);var R=this.cfg,D=R.iv,N=R.mode;this._xformMode==this._ENC_XFORM_MODE?E=N.createEncryptor:(E=N.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==E?this._mode.init(this,D&&D.words):(this._mode=E.call(N,this,D&&D.words),this._mode.__creator=E)},_doProcessBlock:function(E,R){this._mode.processBlock(E,R)},_doFinalize:function(){var E,R=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(R.pad(this._data,this.blockSize),E=this._process(!0)):(E=this._process(!0),R.unpad(E)),E},blockSize:128/32});var _=o.CipherParams=s.extend({init:function(E){this.mixIn(E)},toString:function(E){return(E||this.formatter).stringify(this)}}),C=i.format={},S=C.OpenSSL={stringify:function(E){var R,D=E.ciphertext,N=E.salt;return N?R=a.create([1398893684,1701076831]).concat(N).concat(D):R=D,R.toString(u)},parse:function(E){var R,D=u.parse(E),N=D.words;return N[0]==1398893684&&N[1]==1701076831&&(R=a.create(N.slice(2,4)),N.splice(0,4),D.sigBytes-=16),_.create({ciphertext:D,salt:R})}},T=o.SerializableCipher=s.extend({cfg:s.extend({format:S}),encrypt:function(E,R,D,N){N=this.cfg.extend(N);var z=E.createEncryptor(D,N),$=z.finalize(R),Q=z.cfg;return _.create({ciphertext:$,key:D,iv:Q.iv,algorithm:E,mode:Q.mode,padding:Q.padding,blockSize:E.blockSize,formatter:N.format})},decrypt:function(E,R,D,N){N=this.cfg.extend(N),R=this._parse(R,N.format);var z=E.createDecryptor(D,N).finalize(R.ciphertext);return z},_parse:function(E,R){return typeof E=="string"?R.parse(E,this):E}}),b=i.kdf={},w=b.OpenSSL={execute:function(E,R,D,N,z){if(N||(N=a.random(64/8)),z)var $=f.create({keySize:R+D,hasher:z}).compute(E,N);else var $=f.create({keySize:R+D}).compute(E,N);var Q=a.create($.words.slice(R),D*4);return $.sigBytes=R*4,_.create({key:$,iv:Q,salt:N})}},I=o.PasswordBasedCipher=T.extend({cfg:T.cfg.extend({kdf:w}),encrypt:function(E,R,D,N){N=this.cfg.extend(N);var z=N.kdf.execute(D,E.keySize,E.ivSize,N.salt,N.hasher);N.iv=z.iv;var $=T.encrypt.call(this,E,R,z.key,N);return $.mixIn(z),$},decrypt:function(E,R,D,N){N=this.cfg.extend(N),R=this._parse(R,N.format);var z=N.kdf.execute(D,E.keySize,E.ivSize,R.salt,N.hasher);N.iv=z.iv;var $=T.decrypt.call(this,E,R,z.key,N);return $}})}()})}(Hw)),Hw.exports}var Uw={exports:{}},i9;function JX(){return i9||(i9=1,function(t,e){(function(n,r,i){t.exports=r(xt(),er())})(ot,function(n){return n.mode.CFB=function(){var r=n.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(o,s){var a=this._cipher,l=a.blockSize;i.call(this,o,s,l,a),this._prevBlock=o.slice(s,s+l)}}),r.Decryptor=r.extend({processBlock:function(o,s){var a=this._cipher,l=a.blockSize,c=o.slice(s,s+l);i.call(this,o,s,l,a),this._prevBlock=c}});function i(o,s,a,l){var c,u=this._iv;u?(c=u.slice(0),this._iv=void 0):c=this._prevBlock,l.encryptBlock(c,0);for(var h=0;h<a;h++)o[s+h]^=c[h]}return r}(),n.mode.CFB})}(Uw)),Uw.exports}var Ww={exports:{}},o9;function QX(){return o9||(o9=1,function(t,e){(function(n,r,i){t.exports=r(xt(),er())})(ot,function(n){return n.mode.CTR=function(){var r=n.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(o,s){var a=this._cipher,l=a.blockSize,c=this._iv,u=this._counter;c&&(u=this._counter=c.slice(0),this._iv=void 0);var h=u.slice(0);a.encryptBlock(h,0),u[l-1]=u[l-1]+1|0;for(var f=0;f<l;f++)o[s+f]^=h[f]}});return r.Decryptor=i,r}(),n.mode.CTR})}(Ww)),Ww.exports}var qw={exports:{}},s9;function YX(){return s9||(s9=1,function(t,e){(function(n,r,i){t.exports=r(xt(),er())})(ot,function(n){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return n.mode.CTRGladman=function(){var r=n.lib.BlockCipherMode.extend();function i(a){if((a>>24&255)===255){var l=a>>16&255,c=a>>8&255,u=a&255;l===255?(l=0,c===255?(c=0,u===255?u=0:++u):++c):++l,a=0,a+=l<<16,a+=c<<8,a+=u}else a+=1<<24;return a}function o(a){return(a[0]=i(a[0]))===0&&(a[1]=i(a[1])),a}var s=r.Encryptor=r.extend({processBlock:function(a,l){var c=this._cipher,u=c.blockSize,h=this._iv,f=this._counter;h&&(f=this._counter=h.slice(0),this._iv=void 0),o(f);var d=f.slice(0);c.encryptBlock(d,0);for(var p=0;p<u;p++)a[l+p]^=d[p]}});return r.Decryptor=s,r}(),n.mode.CTRGladman})}(qw)),qw.exports}var Kw={exports:{}},a9;function XX(){return a9||(a9=1,function(t,e){(function(n,r,i){t.exports=r(xt(),er())})(ot,function(n){return n.mode.OFB=function(){var r=n.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(o,s){var a=this._cipher,l=a.blockSize,c=this._iv,u=this._keystream;c&&(u=this._keystream=c.slice(0),this._iv=void 0),a.encryptBlock(u,0);for(var h=0;h<l;h++)o[s+h]^=u[h]}});return r.Decryptor=i,r}(),n.mode.OFB})}(Kw)),Kw.exports}var Gw={exports:{}},l9;function ZX(){return l9||(l9=1,function(t,e){(function(n,r,i){t.exports=r(xt(),er())})(ot,function(n){return n.mode.ECB=function(){var r=n.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(i,o){this._cipher.encryptBlock(i,o)}}),r.Decryptor=r.extend({processBlock:function(i,o){this._cipher.decryptBlock(i,o)}}),r}(),n.mode.ECB})}(Gw)),Gw.exports}var Jw={exports:{}},c9;function eZ(){return c9||(c9=1,function(t,e){(function(n,r,i){t.exports=r(xt(),er())})(ot,function(n){return n.pad.AnsiX923={pad:function(r,i){var o=r.sigBytes,s=i*4,a=s-o%s,l=o+a-1;r.clamp(),r.words[l>>>2]|=a<<24-l%4*8,r.sigBytes+=a},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},n.pad.Ansix923})}(Jw)),Jw.exports}var Qw={exports:{}},u9;function tZ(){return u9||(u9=1,function(t,e){(function(n,r,i){t.exports=r(xt(),er())})(ot,function(n){return n.pad.Iso10126={pad:function(r,i){var o=i*4,s=o-r.sigBytes%o;r.concat(n.lib.WordArray.random(s-1)).concat(n.lib.WordArray.create([s<<24],1))},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},n.pad.Iso10126})}(Qw)),Qw.exports}var Yw={exports:{}},h9;function nZ(){return h9||(h9=1,function(t,e){(function(n,r,i){t.exports=r(xt(),er())})(ot,function(n){return n.pad.Iso97971={pad:function(r,i){r.concat(n.lib.WordArray.create([2147483648],1)),n.pad.ZeroPadding.pad(r,i)},unpad:function(r){n.pad.ZeroPadding.unpad(r),r.sigBytes--}},n.pad.Iso97971})}(Yw)),Yw.exports}var Xw={exports:{}},f9;function rZ(){return f9||(f9=1,function(t,e){(function(n,r,i){t.exports=r(xt(),er())})(ot,function(n){return n.pad.ZeroPadding={pad:function(r,i){var o=i*4;r.clamp(),r.sigBytes+=o-(r.sigBytes%o||o)},unpad:function(r){for(var i=r.words,o=r.sigBytes-1,o=r.sigBytes-1;o>=0;o--)if(i[o>>>2]>>>24-o%4*8&255){r.sigBytes=o+1;break}}},n.pad.ZeroPadding})}(Xw)),Xw.exports}var Zw={exports:{}},d9;function iZ(){return d9||(d9=1,function(t,e){(function(n,r,i){t.exports=r(xt(),er())})(ot,function(n){return n.pad.NoPadding={pad:function(){},unpad:function(){}},n.pad.NoPadding})}(Zw)),Zw.exports}var e2={exports:{}},p9;function oZ(){return p9||(p9=1,function(t,e){(function(n,r,i){t.exports=r(xt(),er())})(ot,function(n){return function(r){var i=n,o=i.lib,s=o.CipherParams,a=i.enc,l=a.Hex,c=i.format;c.Hex={stringify:function(u){return u.ciphertext.toString(l)},parse:function(u){var h=l.parse(u);return s.create({ciphertext:h})}}}(),n.format.Hex})}(e2)),e2.exports}var t2={exports:{}},m9;function sZ(){return m9||(m9=1,function(t,e){(function(n,r,i){t.exports=r(xt(),Su(),ku(),ac(),er())})(ot,function(n){return function(){var r=n,i=r.lib,o=i.BlockCipher,s=r.algo,a=[],l=[],c=[],u=[],h=[],f=[],d=[],p=[],m=[],v=[];(function(){for(var _=[],C=0;C<256;C++)C<128?_[C]=C<<1:_[C]=C<<1^283;for(var S=0,T=0,C=0;C<256;C++){var b=T^T<<1^T<<2^T<<3^T<<4;b=b>>>8^b&255^99,a[S]=b,l[b]=S;var w=_[S],I=_[w],E=_[I],R=_[b]*257^b*16843008;c[S]=R<<24|R>>>8,u[S]=R<<16|R>>>16,h[S]=R<<8|R>>>24,f[S]=R;var R=E*16843009^I*65537^w*257^S*16843008;d[b]=R<<24|R>>>8,p[b]=R<<16|R>>>16,m[b]=R<<8|R>>>24,v[b]=R,S?(S=w^_[_[_[E^w]]],T^=_[_[T]]):S=T=1}})();var x=[0,1,2,4,8,16,32,64,128,27,54],y=s.AES=o.extend({_doReset:function(){var _;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var C=this._keyPriorReset=this._key,S=C.words,T=C.sigBytes/4,b=this._nRounds=T+6,w=(b+1)*4,I=this._keySchedule=[],E=0;E<w;E++)E<T?I[E]=S[E]:(_=I[E-1],E%T?T>6&&E%T==4&&(_=a[_>>>24]<<24|a[_>>>16&255]<<16|a[_>>>8&255]<<8|a[_&255]):(_=_<<8|_>>>24,_=a[_>>>24]<<24|a[_>>>16&255]<<16|a[_>>>8&255]<<8|a[_&255],_^=x[E/T|0]<<24),I[E]=I[E-T]^_);for(var R=this._invKeySchedule=[],D=0;D<w;D++){var E=w-D;if(D%4)var _=I[E];else var _=I[E-4];D<4||E<=4?R[D]=_:R[D]=d[a[_>>>24]]^p[a[_>>>16&255]]^m[a[_>>>8&255]]^v[a[_&255]]}}},encryptBlock:function(_,C){this._doCryptBlock(_,C,this._keySchedule,c,u,h,f,a)},decryptBlock:function(_,C){var S=_[C+1];_[C+1]=_[C+3],_[C+3]=S,this._doCryptBlock(_,C,this._invKeySchedule,d,p,m,v,l);var S=_[C+1];_[C+1]=_[C+3],_[C+3]=S},_doCryptBlock:function(_,C,S,T,b,w,I,E){for(var R=this._nRounds,D=_[C]^S[0],N=_[C+1]^S[1],z=_[C+2]^S[2],$=_[C+3]^S[3],Q=4,Y=1;Y<R;Y++){var q=T[D>>>24]^b[N>>>16&255]^w[z>>>8&255]^I[$&255]^S[Q++],H=T[N>>>24]^b[z>>>16&255]^w[$>>>8&255]^I[D&255]^S[Q++],O=T[z>>>24]^b[$>>>16&255]^w[D>>>8&255]^I[N&255]^S[Q++],U=T[$>>>24]^b[D>>>16&255]^w[N>>>8&255]^I[z&255]^S[Q++];D=q,N=H,z=O,$=U}var q=(E[D>>>24]<<24|E[N>>>16&255]<<16|E[z>>>8&255]<<8|E[$&255])^S[Q++],H=(E[N>>>24]<<24|E[z>>>16&255]<<16|E[$>>>8&255]<<8|E[D&255])^S[Q++],O=(E[z>>>24]<<24|E[$>>>16&255]<<16|E[D>>>8&255]<<8|E[N&255])^S[Q++],U=(E[$>>>24]<<24|E[D>>>16&255]<<16|E[N>>>8&255]<<8|E[z&255])^S[Q++];_[C]=q,_[C+1]=H,_[C+2]=O,_[C+3]=U},keySize:256/32});r.AES=o._createHelper(y)}(),n.AES})}(t2)),t2.exports}var n2={exports:{}},g9;function aZ(){return g9||(g9=1,function(t,e){(function(n,r,i){t.exports=r(xt(),Su(),ku(),ac(),er())})(ot,function(n){return function(){var r=n,i=r.lib,o=i.WordArray,s=i.BlockCipher,a=r.algo,l=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],c=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],h=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=a.DES=s.extend({_doReset:function(){for(var x=this._key,y=x.words,_=[],C=0;C<56;C++){var S=l[C]-1;_[C]=y[S>>>5]>>>31-S%32&1}for(var T=this._subKeys=[],b=0;b<16;b++){for(var w=T[b]=[],I=u[b],C=0;C<24;C++)w[C/6|0]|=_[(c[C]-1+I)%28]<<31-C%6,w[4+(C/6|0)]|=_[28+(c[C+24]-1+I)%28]<<31-C%6;w[0]=w[0]<<1|w[0]>>>31;for(var C=1;C<7;C++)w[C]=w[C]>>>(C-1)*4+3;w[7]=w[7]<<5|w[7]>>>27}for(var E=this._invSubKeys=[],C=0;C<16;C++)E[C]=T[15-C]},encryptBlock:function(x,y){this._doCryptBlock(x,y,this._subKeys)},decryptBlock:function(x,y){this._doCryptBlock(x,y,this._invSubKeys)},_doCryptBlock:function(x,y,_){this._lBlock=x[y],this._rBlock=x[y+1],p.call(this,4,252645135),p.call(this,16,65535),m.call(this,2,858993459),m.call(this,8,16711935),p.call(this,1,1431655765);for(var C=0;C<16;C++){for(var S=_[C],T=this._lBlock,b=this._rBlock,w=0,I=0;I<8;I++)w|=h[I][((b^S[I])&f[I])>>>0];this._lBlock=b,this._rBlock=T^w}var E=this._lBlock;this._lBlock=this._rBlock,this._rBlock=E,p.call(this,1,1431655765),m.call(this,8,16711935),m.call(this,2,858993459),p.call(this,16,65535),p.call(this,4,252645135),x[y]=this._lBlock,x[y+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function p(x,y){var _=(this._lBlock>>>x^this._rBlock)&y;this._rBlock^=_,this._lBlock^=_<<x}function m(x,y){var _=(this._rBlock>>>x^this._lBlock)&y;this._lBlock^=_,this._rBlock^=_<<x}r.DES=s._createHelper(d);var v=a.TripleDES=s.extend({_doReset:function(){var x=this._key,y=x.words;if(y.length!==2&&y.length!==4&&y.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var _=y.slice(0,2),C=y.length<4?y.slice(0,2):y.slice(2,4),S=y.length<6?y.slice(0,2):y.slice(4,6);this._des1=d.createEncryptor(o.create(_)),this._des2=d.createEncryptor(o.create(C)),this._des3=d.createEncryptor(o.create(S))},encryptBlock:function(x,y){this._des1.encryptBlock(x,y),this._des2.decryptBlock(x,y),this._des3.encryptBlock(x,y)},decryptBlock:function(x,y){this._des3.decryptBlock(x,y),this._des2.encryptBlock(x,y),this._des1.decryptBlock(x,y)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=s._createHelper(v)}(),n.TripleDES})}(n2)),n2.exports}var r2={exports:{}},x9;function lZ(){return x9||(x9=1,function(t,e){(function(n,r,i){t.exports=r(xt(),Su(),ku(),ac(),er())})(ot,function(n){return function(){var r=n,i=r.lib,o=i.StreamCipher,s=r.algo,a=s.RC4=o.extend({_doReset:function(){for(var u=this._key,h=u.words,f=u.sigBytes,d=this._S=[],p=0;p<256;p++)d[p]=p;for(var p=0,m=0;p<256;p++){var v=p%f,x=h[v>>>2]>>>24-v%4*8&255;m=(m+d[p]+x)%256;var y=d[p];d[p]=d[m],d[m]=y}this._i=this._j=0},_doProcessBlock:function(u,h){u[h]^=l.call(this)},keySize:256/32,ivSize:0});function l(){for(var u=this._S,h=this._i,f=this._j,d=0,p=0;p<4;p++){h=(h+1)%256,f=(f+u[h])%256;var m=u[h];u[h]=u[f],u[f]=m,d|=u[(u[h]+u[f])%256]<<24-p*8}return this._i=h,this._j=f,d}r.RC4=o._createHelper(a);var c=s.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var u=this.cfg.drop;u>0;u--)l.call(this)}});r.RC4Drop=o._createHelper(c)}(),n.RC4})}(r2)),r2.exports}var i2={exports:{}},v9;function cZ(){return v9||(v9=1,function(t,e){(function(n,r,i){t.exports=r(xt(),Su(),ku(),ac(),er())})(ot,function(n){return function(){var r=n,i=r.lib,o=i.StreamCipher,s=r.algo,a=[],l=[],c=[],u=s.Rabbit=o.extend({_doReset:function(){for(var f=this._key.words,d=this.cfg.iv,p=0;p<4;p++)f[p]=(f[p]<<8|f[p]>>>24)&16711935|(f[p]<<24|f[p]>>>8)&4278255360;var m=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],v=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var p=0;p<4;p++)h.call(this);for(var p=0;p<8;p++)v[p]^=m[p+4&7];if(d){var x=d.words,y=x[0],_=x[1],C=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,S=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,T=C>>>16|S&4294901760,b=S<<16|C&65535;v[0]^=C,v[1]^=T,v[2]^=S,v[3]^=b,v[4]^=C,v[5]^=T,v[6]^=S,v[7]^=b;for(var p=0;p<4;p++)h.call(this)}},_doProcessBlock:function(f,d){var p=this._X;h.call(this),a[0]=p[0]^p[5]>>>16^p[3]<<16,a[1]=p[2]^p[7]>>>16^p[5]<<16,a[2]=p[4]^p[1]>>>16^p[7]<<16,a[3]=p[6]^p[3]>>>16^p[1]<<16;for(var m=0;m<4;m++)a[m]=(a[m]<<8|a[m]>>>24)&16711935|(a[m]<<24|a[m]>>>8)&4278255360,f[d+m]^=a[m]},blockSize:128/32,ivSize:64/32});function h(){for(var f=this._X,d=this._C,p=0;p<8;p++)l[p]=d[p];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<l[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<l[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<l[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<l[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<l[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<l[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<l[6]>>>0?1:0)|0,this._b=d[7]>>>0<l[7]>>>0?1:0;for(var p=0;p<8;p++){var m=f[p]+d[p],v=m&65535,x=m>>>16,y=((v*v>>>17)+v*x>>>15)+x*x,_=((m&4294901760)*m|0)+((m&65535)*m|0);c[p]=y^_}f[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,f[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,f[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,f[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,f[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,f[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,f[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,f[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}r.Rabbit=o._createHelper(u)}(),n.Rabbit})}(i2)),i2.exports}var o2={exports:{}},y9;function uZ(){return y9||(y9=1,function(t,e){(function(n,r,i){t.exports=r(xt(),Su(),ku(),ac(),er())})(ot,function(n){return function(){var r=n,i=r.lib,o=i.StreamCipher,s=r.algo,a=[],l=[],c=[],u=s.RabbitLegacy=o.extend({_doReset:function(){var f=this._key.words,d=this.cfg.iv,p=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],m=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var v=0;v<4;v++)h.call(this);for(var v=0;v<8;v++)m[v]^=p[v+4&7];if(d){var x=d.words,y=x[0],_=x[1],C=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,S=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,T=C>>>16|S&4294901760,b=S<<16|C&65535;m[0]^=C,m[1]^=T,m[2]^=S,m[3]^=b,m[4]^=C,m[5]^=T,m[6]^=S,m[7]^=b;for(var v=0;v<4;v++)h.call(this)}},_doProcessBlock:function(f,d){var p=this._X;h.call(this),a[0]=p[0]^p[5]>>>16^p[3]<<16,a[1]=p[2]^p[7]>>>16^p[5]<<16,a[2]=p[4]^p[1]>>>16^p[7]<<16,a[3]=p[6]^p[3]>>>16^p[1]<<16;for(var m=0;m<4;m++)a[m]=(a[m]<<8|a[m]>>>24)&16711935|(a[m]<<24|a[m]>>>8)&4278255360,f[d+m]^=a[m]},blockSize:128/32,ivSize:64/32});function h(){for(var f=this._X,d=this._C,p=0;p<8;p++)l[p]=d[p];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<l[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<l[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<l[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<l[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<l[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<l[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<l[6]>>>0?1:0)|0,this._b=d[7]>>>0<l[7]>>>0?1:0;for(var p=0;p<8;p++){var m=f[p]+d[p],v=m&65535,x=m>>>16,y=((v*v>>>17)+v*x>>>15)+x*x,_=((m&4294901760)*m|0)+((m&65535)*m|0);c[p]=y^_}f[0]=c[0]+(c[7]<<16|c[7]>>>16)+(c[6]<<16|c[6]>>>16)|0,f[1]=c[1]+(c[0]<<8|c[0]>>>24)+c[7]|0,f[2]=c[2]+(c[1]<<16|c[1]>>>16)+(c[0]<<16|c[0]>>>16)|0,f[3]=c[3]+(c[2]<<8|c[2]>>>24)+c[1]|0,f[4]=c[4]+(c[3]<<16|c[3]>>>16)+(c[2]<<16|c[2]>>>16)|0,f[5]=c[5]+(c[4]<<8|c[4]>>>24)+c[3]|0,f[6]=c[6]+(c[5]<<16|c[5]>>>16)+(c[4]<<16|c[4]>>>16)|0,f[7]=c[7]+(c[6]<<8|c[6]>>>24)+c[5]|0}r.RabbitLegacy=o._createHelper(u)}(),n.RabbitLegacy})}(o2)),o2.exports}var s2={exports:{}},_9;function hZ(){return _9||(_9=1,function(t,e){(function(n,r,i){t.exports=r(xt(),Su(),ku(),ac(),er())})(ot,function(n){return function(){var r=n,i=r.lib,o=i.BlockCipher,s=r.algo;const a=16,l=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],c=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var u={pbox:[],sbox:[]};function h(v,x){let y=x>>24&255,_=x>>16&255,C=x>>8&255,S=x&255,T=v.sbox[0][y]+v.sbox[1][_];return T=T^v.sbox[2][C],T=T+v.sbox[3][S],T}function f(v,x,y){let _=x,C=y,S;for(let T=0;T<a;++T)_=_^v.pbox[T],C=h(v,_)^C,S=_,_=C,C=S;return S=_,_=C,C=S,C=C^v.pbox[a],_=_^v.pbox[a+1],{left:_,right:C}}function d(v,x,y){let _=x,C=y,S;for(let T=a+1;T>1;--T)_=_^v.pbox[T],C=h(v,_)^C,S=_,_=C,C=S;return S=_,_=C,C=S,C=C^v.pbox[1],_=_^v.pbox[0],{left:_,right:C}}function p(v,x,y){for(let b=0;b<4;b++){v.sbox[b]=[];for(let w=0;w<256;w++)v.sbox[b][w]=c[b][w]}let _=0;for(let b=0;b<a+2;b++)v.pbox[b]=l[b]^x[_],_++,_>=y&&(_=0);let C=0,S=0,T=0;for(let b=0;b<a+2;b+=2)T=f(v,C,S),C=T.left,S=T.right,v.pbox[b]=C,v.pbox[b+1]=S;for(let b=0;b<4;b++)for(let w=0;w<256;w+=2)T=f(v,C,S),C=T.left,S=T.right,v.sbox[b][w]=C,v.sbox[b][w+1]=S;return!0}var m=s.Blowfish=o.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var v=this._keyPriorReset=this._key,x=v.words,y=v.sigBytes/4;p(u,x,y)}},encryptBlock:function(v,x){var y=f(u,v[x],v[x+1]);v[x]=y.left,v[x+1]=y.right},decryptBlock:function(v,x){var y=d(u,v[x],v[x+1]);v[x]=y.left,v[x+1]=y.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=o._createHelper(m)}(),n.Blowfish})}(s2)),s2.exports}(function(t,e){(function(n,r,i){t.exports=r(xt(),py(),jX(),$X(),Su(),HX(),ku(),eL(),Qk(),UX(),tL(),WX(),qX(),KX(),Yk(),GX(),ac(),er(),JX(),QX(),YX(),XX(),ZX(),eZ(),tZ(),nZ(),rZ(),iZ(),oZ(),sZ(),aZ(),lZ(),cZ(),uZ(),hZ())})(ot,function(n){return n})})(ZN);var fZ=ZN.exports;const vb=qv(fZ);function ft(...t){return dy(oX(t))}const dZ=t=>new Intl.DateTimeFormat("en-GB",{weekday:"long",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1}).format(t);function Ya(t,e){if(typeof t!="object"&&typeof e!="object")return Object.is(t,e);if(t===null&&e===null)return!0;if(typeof t!=typeof e)return!1;if(t===e)return!0;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!Ya(t[n],e[n]))return!1;return!0}if(Array.isArray(t)||Array.isArray(e)||Object.keys(t).length!==Object.keys(e).length)return!1;for(const[n,r]of Object.entries(t))if(!(n in e)||!Ya(r,e[n]))return!1;return!0}function pZ(){return window.SpeechRecognition||window.webkitSpeechRecognition}function mZ(t,e){return vb.AES.encrypt(e,t).toString()}function gZ(t,e){return vb.AES.decrypt(e,t).toString(vb.enc.Utf8)}function xZ(t){return t==null||typeof t=="object"&&Object.keys(t).length===0||typeof t=="string"&&t.trim().length===0}const vZ=new Map,Xk=k.createContext();function yZ({children:t}){const[e,n]=k.useState(vZ);function r({tags:a}){let l=!1;for(const[c,u]of e)if(Ya(c,a)){l=!0;break}return l}const i=k.useCallback(({tags:a})=>{let l=null;for(const[c,u]of e)if(Ya(c,a)){l=u.data;break}return l},[e]),o=k.useCallback(({tags:a,data:l,refetchFunction:c})=>{n(u=>{const h=new Map(u);let f=!1;for(const[d,p]of h)if(Ya(d,a)){f=!0;break}if(f){for(const[d,p]of h)if(Ya(d,a)){h.delete(d),h.set(d,{data:l,refetchFunction:c});break}}else h.set(a,{data:l,refetchFunction:c});return h})},[]);function s({queryKey:a}){for(const[l,c]of e)if(l.length===a.length){if(Ya(l,a)){const{refetchFunction:u}=c;u(!0)}}else l.forEach(u=>{if(a.some(h=>Ya(h,u))){const{refetchFunction:h}=c;h(!0)}})}return P.jsx(Xk.Provider,{value:{checkQueryTags:r,getQueryCache:i,setQueryCache:o,invalidateQueries:s},children:t})}function _Z({queryKey:t,queryFn:e,hasTags:n,currentCacheData:r,setQueryCache:i,enabled:o}){const[s,a]=k.useState(!1),[l,c]=k.useState(""),[u,h]=k.useState(null),[f,d]=k.useState(!1),[p,m]=k.useState(!0),v=k.useRef(t),x=k.useRef(e),{toast:y}=Ts();return k.useEffect(()=>{async function _(){try{if(a(!0),c(""),n&&!f)return h(r),a(!1);const C=await x.current();h(C),i({tags:v.current,data:C,refetchFunction:d}),c("")}catch(C){console.log(C),y({title:C.name,description:C.message}),c(C)}finally{a(!1),d(!1),p&&m(!1)}}o&&(p&&_(),!p&&f&&_())},[f,p,r,n,i,o,y]),{data:u,isStartOperating:s,error:l}}function nL({queryKey:t,queryFn:e,enabled:n=!0}){const r=k.useContext(Xk);if(r===void 0)throw new Error("useQuery was used outside of RemoteDataQueryProvider");const i=r.checkQueryTags({tags:t}),o=k.useMemo(()=>r.getQueryCache({tags:t}),[r,t]);let{data:s,isStartOperating:a,error:l}=_Z({queryKey:t,queryFn:e,hasTags:i,currentCacheData:o,setQueryCache:r.setQueryCache,enabled:n}),c=!1;return!a&&!s&&!l&&!n?c=!1:!a&&!s&&!l&&n||a&&!s?c=!0:(!a&&s||!a&&!s&&l)&&(c=!1),{isLoading:c,error:l,data:s}}function Tu({mutationFn:t,onSuccess:e,onError:n}){const[r,i]=k.useState(!1),[o,s]=k.useState("");async function a({...l}={},{onSuccess:c,onError:u}={}){try{i(!0),s(""),await t(l),e&&e(),c&&c()}catch(h){console.log(h),s(h),n&&n(h),u&&u(h)}finally{i(!1)}}return{isLoading:r,error:o,mutate:a}}function Z0(){const t=k.useContext(Xk);if(t===void 0)throw new Error("useQueryClient was used outside of RemoteDataQueryProvider");return t}const rL=k.createContext();function wZ({children:t}){const[e,n]=k.useState(null),r=k.useRef(!1);function i(s){r.current?s!==e&&window.confirm("Have you saved the note before leaving?")&&(r.current=null,n(s)):n(s)}function o(){r.current=null,n(null)}return P.jsx(rL.Provider,{value:{selectedNoteId:e,selectNote:i,deselectNote:o,editedRef:r},children:t})}function Zk(){const t=k.useContext(rL);if(t===void 0)throw new Error("useSelectedNote was used outside of SelectedNoteContextProvider");return t}var w9={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},CZ=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},oL={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=o>>2,h=(o&3)<<4|a>>4;let f=(a&15)<<2|c>>6,d=c&63;l||(d=64,s||(f=64)),r.push(n[u],n[h],n[f],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(iL(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):CZ(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||h==null)throw new bZ;const f=o<<2|a>>4;if(r.push(f),c!==64){const d=a<<4&240|c>>2;if(r.push(d),h!==64){const p=c<<6&192|h;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class bZ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const EZ=function(t){const e=iL(t);return oL.encodeByteArray(e,!0)},Ax=function(t){return EZ(t).replace(/\./g,"")},sL=function(t){try{return oL.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SZ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kZ=()=>SZ().__FIREBASE_DEFAULTS__,TZ=()=>{if(typeof process>"u"||typeof w9>"u")return;const t=w9.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},AZ=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&sL(t[1]);return e&&JSON.parse(e)},my=()=>{try{return kZ()||TZ()||AZ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},aL=t=>{var e,n;return(n=(e=my())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},IZ=t=>{const e=aL(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},lL=()=>{var t;return(t=my())===null||t===void 0?void 0:t.config},cL=t=>{var e;return(e=my())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RZ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PZ(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ax(JSON.stringify(n)),Ax(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DZ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nr())}function MZ(){var t;const e=(t=my())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NZ(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function LZ(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OZ(){const t=Nr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function FZ(){return!MZ()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BZ(){try{return typeof indexedDB=="object"}catch{return!1}}function VZ(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zZ="FirebaseError";class Ca extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=zZ,Object.setPrototypeOf(this,Ca.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,em.prototype.create)}}class em{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?jZ(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Ca(i,a,r)}}function jZ(t,e){return t.replace($Z,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const $Z=/\{\$([^}]+)}/g;function HZ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ix(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(C9(o)&&C9(s)){if(!Ix(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function C9(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Hd(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Ud(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function UZ(t,e){const n=new WZ(t,e);return n.subscribe.bind(n)}class WZ{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");qZ(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=a2),i.error===void 0&&(i.error=a2),i.complete===void 0&&(i.complete=a2);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qZ(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function a2(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(t){return t&&t._delegate?t._delegate:t}class ru{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let KZ=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new RZ;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JZ(e))try{this.getOrInitializeService({instanceIdentifier:Rc})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Rc){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Rc){return this.instances.has(e)}getOptions(e=Rc){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:GZ(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Rc){return this.component?this.component.multipleInstances?e:Rc:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function GZ(t){return t===Rc?void 0:t}function JZ(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QZ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new KZ(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(mt||(mt={}));const YZ={debug:mt.DEBUG,verbose:mt.VERBOSE,info:mt.INFO,warn:mt.WARN,error:mt.ERROR,silent:mt.SILENT},XZ=mt.INFO,ZZ={[mt.DEBUG]:"log",[mt.VERBOSE]:"log",[mt.INFO]:"info",[mt.WARN]:"warn",[mt.ERROR]:"error"},eee=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=ZZ[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class e5{constructor(e){this.name=e,this._logLevel=XZ,this._logHandler=eee,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YZ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,mt.DEBUG,...e),this._logHandler(this,mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,mt.VERBOSE,...e),this._logHandler(this,mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,mt.INFO,...e),this._logHandler(this,mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,mt.WARN,...e),this._logHandler(this,mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,mt.ERROR,...e),this._logHandler(this,mt.ERROR,...e)}}const tee=(t,e)=>e.some(n=>t instanceof n);let b9,E9;function nee(){return b9||(b9=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ree(){return E9||(E9=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uL=new WeakMap,yb=new WeakMap,hL=new WeakMap,l2=new WeakMap,t5=new WeakMap;function iee(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Tl(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&uL.set(n,t)}).catch(()=>{}),t5.set(e,t),e}function oee(t){if(yb.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});yb.set(t,e)}let _b={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||hL.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Tl(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function see(t){_b=t(_b)}function aee(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(c2(this),e,...n);return hL.set(r,e.sort?e.sort():[e]),Tl(r)}:ree().includes(t)?function(...e){return t.apply(c2(this),e),Tl(uL.get(this))}:function(...e){return Tl(t.apply(c2(this),e))}}function lee(t){return typeof t=="function"?aee(t):(t instanceof IDBTransaction&&oee(t),tee(t,nee())?new Proxy(t,_b):t)}function Tl(t){if(t instanceof IDBRequest)return iee(t);if(l2.has(t))return l2.get(t);const e=lee(t);return e!==t&&(l2.set(t,e),t5.set(e,t)),e}const c2=t=>t5.get(t);function cee(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Tl(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Tl(s.result),l.oldVersion,l.newVersion,Tl(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const uee=["get","getKey","getAll","getAllKeys","count"],hee=["put","add","delete","clear"],u2=new Map;function S9(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(u2.get(e))return u2.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=hee.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||uee.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return u2.set(e,o),o}see(t=>({...t,get:(e,n,r)=>S9(e,n)||t.get(e,n,r),has:(e,n)=>!!S9(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fee{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dee(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function dee(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const wb="@firebase/app",k9="0.10.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=new e5("@firebase/app"),pee="@firebase/app-compat",mee="@firebase/analytics-compat",gee="@firebase/analytics",xee="@firebase/app-check-compat",vee="@firebase/app-check",yee="@firebase/auth",_ee="@firebase/auth-compat",wee="@firebase/database",Cee="@firebase/database-compat",bee="@firebase/functions",Eee="@firebase/functions-compat",See="@firebase/installations",kee="@firebase/installations-compat",Tee="@firebase/messaging",Aee="@firebase/messaging-compat",Iee="@firebase/performance",Ree="@firebase/performance-compat",Pee="@firebase/remote-config",Dee="@firebase/remote-config-compat",Mee="@firebase/storage",Nee="@firebase/storage-compat",Lee="@firebase/firestore",Oee="@firebase/vertexai-preview",Fee="@firebase/firestore-compat",Bee="firebase",Vee="10.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="[DEFAULT]",zee={[wb]:"fire-core",[pee]:"fire-core-compat",[gee]:"fire-analytics",[mee]:"fire-analytics-compat",[vee]:"fire-app-check",[xee]:"fire-app-check-compat",[yee]:"fire-auth",[_ee]:"fire-auth-compat",[wee]:"fire-rtdb",[Cee]:"fire-rtdb-compat",[bee]:"fire-fn",[Eee]:"fire-fn-compat",[See]:"fire-iid",[kee]:"fire-iid-compat",[Tee]:"fire-fcm",[Aee]:"fire-fcm-compat",[Iee]:"fire-perf",[Ree]:"fire-perf-compat",[Pee]:"fire-rc",[Dee]:"fire-rc-compat",[Mee]:"fire-gcs",[Nee]:"fire-gcs-compat",[Lee]:"fire-fst",[Fee]:"fire-fst-compat",[Oee]:"fire-vertex","fire-js":"fire-js",[Bee]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=new Map,jee=new Map,bb=new Map;function T9(t,e){try{t.container.addComponent(e)}catch(n){la.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function uf(t){const e=t.name;if(bb.has(e))return la.debug(`There were multiple attempts to register component ${e}.`),!1;bb.set(e,t);for(const n of Rx.values())T9(n,t);for(const n of jee.values())T9(n,t);return!0}function n5(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ks(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ee={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Al=new em("app","Firebase",$ee);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hee{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ru("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Al.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vf=Vee;function fL(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Cb,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Al.create("bad-app-name",{appName:String(i)});if(n||(n=lL()),!n)throw Al.create("no-options");const o=Rx.get(i);if(o){if(Ix(n,o.options)&&Ix(r,o.config))return o;throw Al.create("duplicate-app",{appName:i})}const s=new QZ(i);for(const l of bb.values())s.addComponent(l);const a=new Hee(n,r,s);return Rx.set(i,a),a}function dL(t=Cb){const e=Rx.get(t);if(!e&&t===Cb&&lL())return fL();if(!e)throw Al.create("no-app",{appName:t});return e}function Il(t,e,n){var r;let i=(r=zee[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),la.warn(a.join(" "));return}uf(new ru(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uee="firebase-heartbeat-database",Wee=1,r0="firebase-heartbeat-store";let h2=null;function pL(){return h2||(h2=cee(Uee,Wee,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(r0)}catch(n){console.warn(n)}}}}).catch(t=>{throw Al.create("idb-open",{originalErrorMessage:t.message})})),h2}async function qee(t){try{const n=(await pL()).transaction(r0),r=await n.objectStore(r0).get(mL(t));return await n.done,r}catch(e){if(e instanceof Ca)la.warn(e.message);else{const n=Al.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});la.warn(n.message)}}}async function A9(t,e){try{const r=(await pL()).transaction(r0,"readwrite");await r.objectStore(r0).put(e,mL(t)),await r.done}catch(n){if(n instanceof Ca)la.warn(n.message);else{const r=Al.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});la.warn(r.message)}}}function mL(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kee=1024,Gee=30*24*60*60*1e3;class Jee{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Yee(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=I9();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=Gee}),this._storage.overwrite(this._heartbeatsCache))}catch(r){la.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=I9(),{heartbeatsToSend:r,unsentEntries:i}=Qee(this._heartbeatsCache.heartbeats),o=Ax(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return la.warn(n),""}}}function I9(){return new Date().toISOString().substring(0,10)}function Qee(t,e=Kee){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),R9(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),R9(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Yee{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BZ()?VZ().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qee(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return A9(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return A9(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function R9(t){return Ax(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xee(t){uf(new ru("platform-logger",e=>new fee(e),"PRIVATE")),uf(new ru("heartbeat",e=>new Jee(e),"PRIVATE")),Il(wb,k9,t),Il(wb,k9,"esm2017"),Il("fire-js","")}Xee("");var Zee="firebase",ete="10.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Il(Zee,ete,"app");var P9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wc,gL;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,w){function I(){}I.prototype=w.prototype,b.D=w.prototype,b.prototype=new I,b.prototype.constructor=b,b.C=function(E,R,D){for(var N=Array(arguments.length-2),z=2;z<arguments.length;z++)N[z-2]=arguments[z];return w.prototype[R].apply(E,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,w,I){I||(I=0);var E=Array(16);if(typeof w=="string")for(var R=0;16>R;++R)E[R]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(R=0;16>R;++R)E[R]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=b.g[0],I=b.g[1],R=b.g[2];var D=b.g[3],N=w+(D^I&(R^D))+E[0]+3614090360&4294967295;w=I+(N<<7&4294967295|N>>>25),N=D+(R^w&(I^R))+E[1]+3905402710&4294967295,D=w+(N<<12&4294967295|N>>>20),N=R+(I^D&(w^I))+E[2]+606105819&4294967295,R=D+(N<<17&4294967295|N>>>15),N=I+(w^R&(D^w))+E[3]+3250441966&4294967295,I=R+(N<<22&4294967295|N>>>10),N=w+(D^I&(R^D))+E[4]+4118548399&4294967295,w=I+(N<<7&4294967295|N>>>25),N=D+(R^w&(I^R))+E[5]+1200080426&4294967295,D=w+(N<<12&4294967295|N>>>20),N=R+(I^D&(w^I))+E[6]+2821735955&4294967295,R=D+(N<<17&4294967295|N>>>15),N=I+(w^R&(D^w))+E[7]+4249261313&4294967295,I=R+(N<<22&4294967295|N>>>10),N=w+(D^I&(R^D))+E[8]+1770035416&4294967295,w=I+(N<<7&4294967295|N>>>25),N=D+(R^w&(I^R))+E[9]+2336552879&4294967295,D=w+(N<<12&4294967295|N>>>20),N=R+(I^D&(w^I))+E[10]+4294925233&4294967295,R=D+(N<<17&4294967295|N>>>15),N=I+(w^R&(D^w))+E[11]+2304563134&4294967295,I=R+(N<<22&4294967295|N>>>10),N=w+(D^I&(R^D))+E[12]+1804603682&4294967295,w=I+(N<<7&4294967295|N>>>25),N=D+(R^w&(I^R))+E[13]+4254626195&4294967295,D=w+(N<<12&4294967295|N>>>20),N=R+(I^D&(w^I))+E[14]+2792965006&4294967295,R=D+(N<<17&4294967295|N>>>15),N=I+(w^R&(D^w))+E[15]+1236535329&4294967295,I=R+(N<<22&4294967295|N>>>10),N=w+(R^D&(I^R))+E[1]+4129170786&4294967295,w=I+(N<<5&4294967295|N>>>27),N=D+(I^R&(w^I))+E[6]+3225465664&4294967295,D=w+(N<<9&4294967295|N>>>23),N=R+(w^I&(D^w))+E[11]+643717713&4294967295,R=D+(N<<14&4294967295|N>>>18),N=I+(D^w&(R^D))+E[0]+3921069994&4294967295,I=R+(N<<20&4294967295|N>>>12),N=w+(R^D&(I^R))+E[5]+3593408605&4294967295,w=I+(N<<5&4294967295|N>>>27),N=D+(I^R&(w^I))+E[10]+38016083&4294967295,D=w+(N<<9&4294967295|N>>>23),N=R+(w^I&(D^w))+E[15]+3634488961&4294967295,R=D+(N<<14&4294967295|N>>>18),N=I+(D^w&(R^D))+E[4]+3889429448&4294967295,I=R+(N<<20&4294967295|N>>>12),N=w+(R^D&(I^R))+E[9]+568446438&4294967295,w=I+(N<<5&4294967295|N>>>27),N=D+(I^R&(w^I))+E[14]+3275163606&4294967295,D=w+(N<<9&4294967295|N>>>23),N=R+(w^I&(D^w))+E[3]+4107603335&4294967295,R=D+(N<<14&4294967295|N>>>18),N=I+(D^w&(R^D))+E[8]+1163531501&4294967295,I=R+(N<<20&4294967295|N>>>12),N=w+(R^D&(I^R))+E[13]+2850285829&4294967295,w=I+(N<<5&4294967295|N>>>27),N=D+(I^R&(w^I))+E[2]+4243563512&4294967295,D=w+(N<<9&4294967295|N>>>23),N=R+(w^I&(D^w))+E[7]+1735328473&4294967295,R=D+(N<<14&4294967295|N>>>18),N=I+(D^w&(R^D))+E[12]+2368359562&4294967295,I=R+(N<<20&4294967295|N>>>12),N=w+(I^R^D)+E[5]+4294588738&4294967295,w=I+(N<<4&4294967295|N>>>28),N=D+(w^I^R)+E[8]+2272392833&4294967295,D=w+(N<<11&4294967295|N>>>21),N=R+(D^w^I)+E[11]+1839030562&4294967295,R=D+(N<<16&4294967295|N>>>16),N=I+(R^D^w)+E[14]+4259657740&4294967295,I=R+(N<<23&4294967295|N>>>9),N=w+(I^R^D)+E[1]+2763975236&4294967295,w=I+(N<<4&4294967295|N>>>28),N=D+(w^I^R)+E[4]+1272893353&4294967295,D=w+(N<<11&4294967295|N>>>21),N=R+(D^w^I)+E[7]+4139469664&4294967295,R=D+(N<<16&4294967295|N>>>16),N=I+(R^D^w)+E[10]+3200236656&4294967295,I=R+(N<<23&4294967295|N>>>9),N=w+(I^R^D)+E[13]+681279174&4294967295,w=I+(N<<4&4294967295|N>>>28),N=D+(w^I^R)+E[0]+3936430074&4294967295,D=w+(N<<11&4294967295|N>>>21),N=R+(D^w^I)+E[3]+3572445317&4294967295,R=D+(N<<16&4294967295|N>>>16),N=I+(R^D^w)+E[6]+76029189&4294967295,I=R+(N<<23&4294967295|N>>>9),N=w+(I^R^D)+E[9]+3654602809&4294967295,w=I+(N<<4&4294967295|N>>>28),N=D+(w^I^R)+E[12]+3873151461&4294967295,D=w+(N<<11&4294967295|N>>>21),N=R+(D^w^I)+E[15]+530742520&4294967295,R=D+(N<<16&4294967295|N>>>16),N=I+(R^D^w)+E[2]+3299628645&4294967295,I=R+(N<<23&4294967295|N>>>9),N=w+(R^(I|~D))+E[0]+4096336452&4294967295,w=I+(N<<6&4294967295|N>>>26),N=D+(I^(w|~R))+E[7]+1126891415&4294967295,D=w+(N<<10&4294967295|N>>>22),N=R+(w^(D|~I))+E[14]+2878612391&4294967295,R=D+(N<<15&4294967295|N>>>17),N=I+(D^(R|~w))+E[5]+4237533241&4294967295,I=R+(N<<21&4294967295|N>>>11),N=w+(R^(I|~D))+E[12]+1700485571&4294967295,w=I+(N<<6&4294967295|N>>>26),N=D+(I^(w|~R))+E[3]+2399980690&4294967295,D=w+(N<<10&4294967295|N>>>22),N=R+(w^(D|~I))+E[10]+4293915773&4294967295,R=D+(N<<15&4294967295|N>>>17),N=I+(D^(R|~w))+E[1]+2240044497&4294967295,I=R+(N<<21&4294967295|N>>>11),N=w+(R^(I|~D))+E[8]+1873313359&4294967295,w=I+(N<<6&4294967295|N>>>26),N=D+(I^(w|~R))+E[15]+4264355552&4294967295,D=w+(N<<10&4294967295|N>>>22),N=R+(w^(D|~I))+E[6]+2734768916&4294967295,R=D+(N<<15&4294967295|N>>>17),N=I+(D^(R|~w))+E[13]+1309151649&4294967295,I=R+(N<<21&4294967295|N>>>11),N=w+(R^(I|~D))+E[4]+4149444226&4294967295,w=I+(N<<6&4294967295|N>>>26),N=D+(I^(w|~R))+E[11]+3174756917&4294967295,D=w+(N<<10&4294967295|N>>>22),N=R+(w^(D|~I))+E[2]+718787259&4294967295,R=D+(N<<15&4294967295|N>>>17),N=I+(D^(R|~w))+E[9]+3951481745&4294967295,b.g[0]=b.g[0]+w&4294967295,b.g[1]=b.g[1]+(R+(N<<21&4294967295|N>>>11))&4294967295,b.g[2]=b.g[2]+R&4294967295,b.g[3]=b.g[3]+D&4294967295}r.prototype.u=function(b,w){w===void 0&&(w=b.length);for(var I=w-this.blockSize,E=this.B,R=this.h,D=0;D<w;){if(R==0)for(;D<=I;)i(this,b,D),D+=this.blockSize;if(typeof b=="string"){for(;D<w;)if(E[R++]=b.charCodeAt(D++),R==this.blockSize){i(this,E),R=0;break}}else for(;D<w;)if(E[R++]=b[D++],R==this.blockSize){i(this,E),R=0;break}}this.h=R,this.o+=w},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var w=1;w<b.length-8;++w)b[w]=0;var I=8*this.o;for(w=b.length-8;w<b.length;++w)b[w]=I&255,I/=256;for(this.u(b),b=Array(16),w=I=0;4>w;++w)for(var E=0;32>E;E+=8)b[I++]=this.g[w]>>>E&255;return b};function o(b,w){var I=a;return Object.prototype.hasOwnProperty.call(I,b)?I[b]:I[b]=w(b)}function s(b,w){this.h=w;for(var I=[],E=!0,R=b.length-1;0<=R;R--){var D=b[R]|0;E&&D==w||(I[R]=D,E=!1)}this.g=I}var a={};function l(b){return-128<=b&&128>b?o(b,function(w){return new s([w|0],0>w?-1:0)}):new s([b|0],0>b?-1:0)}function c(b){if(isNaN(b)||!isFinite(b))return h;if(0>b)return v(c(-b));for(var w=[],I=1,E=0;b>=I;E++)w[E]=b/I|0,I*=4294967296;return new s(w,0)}function u(b,w){if(b.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(b.charAt(0)=="-")return v(u(b.substring(1),w));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=c(Math.pow(w,8)),E=h,R=0;R<b.length;R+=8){var D=Math.min(8,b.length-R),N=parseInt(b.substring(R,R+D),w);8>D?(D=c(Math.pow(w,D)),E=E.j(D).add(c(N))):(E=E.j(I),E=E.add(c(N)))}return E}var h=l(0),f=l(1),d=l(16777216);t=s.prototype,t.m=function(){if(m(this))return-v(this).m();for(var b=0,w=1,I=0;I<this.g.length;I++){var E=this.i(I);b+=(0<=E?E:4294967296+E)*w,w*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(p(this))return"0";if(m(this))return"-"+v(this).toString(b);for(var w=c(Math.pow(b,6)),I=this,E="";;){var R=C(I,w).g;I=x(I,R.j(w));var D=((0<I.g.length?I.g[0]:I.h)>>>0).toString(b);if(I=R,p(I))return D+E;for(;6>D.length;)D="0"+D;E=D+E}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function p(b){if(b.h!=0)return!1;for(var w=0;w<b.g.length;w++)if(b.g[w]!=0)return!1;return!0}function m(b){return b.h==-1}t.l=function(b){return b=x(this,b),m(b)?-1:p(b)?0:1};function v(b){for(var w=b.g.length,I=[],E=0;E<w;E++)I[E]=~b.g[E];return new s(I,~b.h).add(f)}t.abs=function(){return m(this)?v(this):this},t.add=function(b){for(var w=Math.max(this.g.length,b.g.length),I=[],E=0,R=0;R<=w;R++){var D=E+(this.i(R)&65535)+(b.i(R)&65535),N=(D>>>16)+(this.i(R)>>>16)+(b.i(R)>>>16);E=N>>>16,D&=65535,N&=65535,I[R]=N<<16|D}return new s(I,I[I.length-1]&-2147483648?-1:0)};function x(b,w){return b.add(v(w))}t.j=function(b){if(p(this)||p(b))return h;if(m(this))return m(b)?v(this).j(v(b)):v(v(this).j(b));if(m(b))return v(this.j(v(b)));if(0>this.l(d)&&0>b.l(d))return c(this.m()*b.m());for(var w=this.g.length+b.g.length,I=[],E=0;E<2*w;E++)I[E]=0;for(E=0;E<this.g.length;E++)for(var R=0;R<b.g.length;R++){var D=this.i(E)>>>16,N=this.i(E)&65535,z=b.i(R)>>>16,$=b.i(R)&65535;I[2*E+2*R]+=N*$,y(I,2*E+2*R),I[2*E+2*R+1]+=D*$,y(I,2*E+2*R+1),I[2*E+2*R+1]+=N*z,y(I,2*E+2*R+1),I[2*E+2*R+2]+=D*z,y(I,2*E+2*R+2)}for(E=0;E<w;E++)I[E]=I[2*E+1]<<16|I[2*E];for(E=w;E<2*w;E++)I[E]=0;return new s(I,0)};function y(b,w){for(;(b[w]&65535)!=b[w];)b[w+1]+=b[w]>>>16,b[w]&=65535,w++}function _(b,w){this.g=b,this.h=w}function C(b,w){if(p(w))throw Error("division by zero");if(p(b))return new _(h,h);if(m(b))return w=C(v(b),w),new _(v(w.g),v(w.h));if(m(w))return w=C(b,v(w)),new _(v(w.g),w.h);if(30<b.g.length){if(m(b)||m(w))throw Error("slowDivide_ only works with positive integers.");for(var I=f,E=w;0>=E.l(b);)I=S(I),E=S(E);var R=T(I,1),D=T(E,1);for(E=T(E,2),I=T(I,2);!p(E);){var N=D.add(E);0>=N.l(b)&&(R=R.add(I),D=N),E=T(E,1),I=T(I,1)}return w=x(b,R.j(w)),new _(R,w)}for(R=h;0<=b.l(w);){for(I=Math.max(1,Math.floor(b.m()/w.m())),E=Math.ceil(Math.log(I)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),D=c(I),N=D.j(w);m(N)||0<N.l(b);)I-=E,D=c(I),N=D.j(w);p(D)&&(D=f),R=R.add(D),b=x(b,N)}return new _(R,b)}t.A=function(b){return C(this,b).h},t.and=function(b){for(var w=Math.max(this.g.length,b.g.length),I=[],E=0;E<w;E++)I[E]=this.i(E)&b.i(E);return new s(I,this.h&b.h)},t.or=function(b){for(var w=Math.max(this.g.length,b.g.length),I=[],E=0;E<w;E++)I[E]=this.i(E)|b.i(E);return new s(I,this.h|b.h)},t.xor=function(b){for(var w=Math.max(this.g.length,b.g.length),I=[],E=0;E<w;E++)I[E]=this.i(E)^b.i(E);return new s(I,this.h^b.h)};function S(b){for(var w=b.g.length+1,I=[],E=0;E<w;E++)I[E]=b.i(E)<<1|b.i(E-1)>>>31;return new s(I,b.h)}function T(b,w){var I=w>>5;w%=32;for(var E=b.g.length-I,R=[],D=0;D<E;D++)R[D]=0<w?b.i(D+I)>>>w|b.i(D+I+1)<<32-w:b.i(D+I);return new s(R,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,gL=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=u,Wc=s}).apply(typeof P9<"u"?P9:typeof self<"u"?self:typeof window<"u"?window:{});var Sg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xL,vL,Wd,yL,R1,Eb,_L,wL,CL;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,A,M){return g==Array.prototype||g==Object.prototype||(g[A]=M.value),g};function n(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sg=="object"&&Sg];for(var A=0;A<g.length;++A){var M=g[A];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var r=n(this);function i(g,A){if(A)e:{var M=r;g=g.split(".");for(var B=0;B<g.length-1;B++){var G=g[B];if(!(G in M))break e;M=M[G]}g=g[g.length-1],B=M[g],A=A(B),A!=B&&A!=null&&e(M,g,{configurable:!0,writable:!0,value:A})}}function o(g,A){g instanceof String&&(g+="");var M=0,B=!1,G={next:function(){if(!B&&M<g.length){var re=M++;return{value:A(re,g[re]),done:!1}}return B=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}i("Array.prototype.values",function(g){return g||function(){return o(this,function(A,M){return M})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(g){var A=typeof g;return A=A!="object"?A:g?Array.isArray(g)?"array":A:"null",A=="array"||A=="object"&&typeof g.length=="number"}function c(g){var A=typeof g;return A=="object"&&g!=null||A=="function"}function u(g,A,M){return g.call.apply(g.bind,arguments)}function h(g,A,M){if(!g)throw Error();if(2<arguments.length){var B=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,B),g.apply(A,G)}}return function(){return g.apply(A,arguments)}}function f(g,A,M){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:h,f.apply(null,arguments)}function d(g,A){var M=Array.prototype.slice.call(arguments,1);return function(){var B=M.slice();return B.push.apply(B,arguments),g.apply(this,B)}}function p(g,A){function M(){}M.prototype=A.prototype,g.aa=A.prototype,g.prototype=new M,g.prototype.constructor=g,g.Qb=function(B,G,re){for(var xe=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)xe[Ot-2]=arguments[Ot];return A.prototype[G].apply(B,xe)}}function m(g){const A=g.length;if(0<A){const M=Array(A);for(let B=0;B<A;B++)M[B]=g[B];return M}return[]}function v(g,A){for(let M=1;M<arguments.length;M++){const B=arguments[M];if(l(B)){const G=g.length||0,re=B.length||0;g.length=G+re;for(let xe=0;xe<re;xe++)g[G+xe]=B[xe]}else g.push(B)}}class x{constructor(A,M){this.i=A,this.j=M,this.h=0,this.g=null}get(){let A;return 0<this.h?(this.h--,A=this.g,this.g=A.next,A.next=null):A=this.i(),A}}function y(g){return/^[\s\xa0]*$/.test(g)}function _(){var g=a.navigator;return g&&(g=g.userAgent)?g:""}function C(g){return C[" "](g),g}C[" "]=function(){};var S=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function T(g,A,M){for(const B in g)A.call(M,g[B],B,g)}function b(g,A){for(const M in g)A.call(void 0,g[M],M,g)}function w(g){const A={};for(const M in g)A[M]=g[M];return A}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(g,A){let M,B;for(let G=1;G<arguments.length;G++){B=arguments[G];for(M in B)g[M]=B[M];for(let re=0;re<I.length;re++)M=I[re],Object.prototype.hasOwnProperty.call(B,M)&&(g[M]=B[M])}}function R(g){var A=1;g=g.split(":");const M=[];for(;0<A&&g.length;)M.push(g.shift()),A--;return g.length&&M.push(g.join(":")),M}function D(g){a.setTimeout(()=>{throw g},0)}function N(){var g=H;let A=null;return g.g&&(A=g.g,g.g=g.g.next,g.g||(g.h=null),A.next=null),A}class z{constructor(){this.h=this.g=null}add(A,M){const B=$.get();B.set(A,M),this.h?this.h.next=B:this.g=B,this.h=B}}var $=new x(()=>new Q,g=>g.reset());class Q{constructor(){this.next=this.g=this.h=null}set(A,M){this.h=A,this.g=M,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,q=!1,H=new z,O=()=>{const g=a.Promise.resolve(void 0);Y=()=>{g.then(U)}};var U=()=>{for(var g;g=N();){try{g.h.call(g.g)}catch(M){D(M)}var A=$;A.j(g),100>A.h&&(A.h++,g.next=A.g,A.g=g)}q=!1};function K(){this.s=this.s,this.C=this.C}K.prototype.s=!1,K.prototype.ma=function(){this.s||(this.s=!0,this.N())},K.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(g,A){this.type=g,this.g=this.target=A,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var J=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var g=!1,A=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const M=()=>{};a.addEventListener("test",M,A),a.removeEventListener("test",M,A)}catch{}return g}();function Ee(g,A){if(L.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g){var M=this.type=g.type,B=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;if(this.target=g.target||g.srcElement,this.g=A,A=g.relatedTarget){if(S){e:{try{C(A.nodeName);var G=!0;break e}catch{}G=!1}G||(A=null)}}else M=="mouseover"?A=g.fromElement:M=="mouseout"&&(A=g.toElement);this.relatedTarget=A,B?(this.clientX=B.clientX!==void 0?B.clientX:B.pageX,this.clientY=B.clientY!==void 0?B.clientY:B.pageY,this.screenX=B.screenX||0,this.screenY=B.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=typeof g.pointerType=="string"?g.pointerType:de[g.pointerType]||"",this.state=g.state,this.i=g,g.defaultPrevented&&Ee.aa.h.call(this)}}p(Ee,L);var de={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.aa.h.call(this);var g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var ue="closure_listenable_"+(1e6*Math.random()|0),fe=0;function je(g,A,M,B,G){this.listener=g,this.proxy=null,this.src=A,this.type=M,this.capture=!!B,this.ha=G,this.key=++fe,this.da=this.fa=!1}function Le(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Be(g){this.src=g,this.g={},this.h=0}Be.prototype.add=function(g,A,M,B,G){var re=g.toString();g=this.g[re],g||(g=this.g[re]=[],this.h++);var xe=ct(g,A,B,G);return-1<xe?(A=g[xe],M||(A.fa=!1)):(A=new je(A,this.src,re,!!B,G),A.fa=M,g.push(A)),A};function Qe(g,A){var M=A.type;if(M in g.g){var B=g.g[M],G=Array.prototype.indexOf.call(B,A,void 0),re;(re=0<=G)&&Array.prototype.splice.call(B,G,1),re&&(Le(A),g.g[M].length==0&&(delete g.g[M],g.h--))}}function ct(g,A,M,B){for(var G=0;G<g.length;++G){var re=g[G];if(!re.da&&re.listener==A&&re.capture==!!M&&re.ha==B)return G}return-1}var We="closure_lm_"+(1e6*Math.random()|0),zt={};function on(g,A,M,B,G){if(Array.isArray(A)){for(var re=0;re<A.length;re++)on(g,A[re],M,B,G);return null}return M=Ui(M),g&&g[ue]?g.K(A,M,c(B)?!!B.capture:!!B,G):Ln(g,A,M,!1,B,G)}function Ln(g,A,M,B,G,re){if(!A)throw Error("Invalid event type");var xe=c(G)?!!G.capture:!!G,Ot=wn(g);if(Ot||(g[We]=Ot=new Be(g)),M=Ot.add(A,M,B,xe,re),M.proxy)return M;if(B=fn(),M.proxy=B,B.src=g,B.listener=M,g.addEventListener)J||(G=xe),G===void 0&&(G=!1),g.addEventListener(A.toString(),B,G);else if(g.attachEvent)g.attachEvent(dn(A.toString()),B);else if(g.addListener&&g.removeListener)g.addListener(B);else throw Error("addEventListener and attachEvent are unavailable.");return M}function fn(){function g(M){return A.call(g.src,g.listener,M)}const A=kn;return g}function qn(g,A,M,B,G){if(Array.isArray(A))for(var re=0;re<A.length;re++)qn(g,A[re],M,B,G);else B=c(B)?!!B.capture:!!B,M=Ui(M),g&&g[ue]?(g=g.i,A=String(A).toString(),A in g.g&&(re=g.g[A],M=ct(re,M,B,G),-1<M&&(Le(re[M]),Array.prototype.splice.call(re,M,1),re.length==0&&(delete g.g[A],g.h--)))):g&&(g=wn(g))&&(A=g.g[A.toString()],g=-1,A&&(g=ct(A,M,B,G)),(M=-1<g?A[g]:null)&&Kn(M))}function Kn(g){if(typeof g!="number"&&g&&!g.da){var A=g.src;if(A&&A[ue])Qe(A.i,g);else{var M=g.type,B=g.proxy;A.removeEventListener?A.removeEventListener(M,B,g.capture):A.detachEvent?A.detachEvent(dn(M),B):A.addListener&&A.removeListener&&A.removeListener(B),(M=wn(A))?(Qe(M,g),M.h==0&&(M.src=null,A[We]=null)):Le(g)}}}function dn(g){return g in zt?zt[g]:zt[g]="on"+g}function kn(g,A){if(g.da)g=!0;else{A=new Ee(A,this);var M=g.listener,B=g.ha||g.src;g.fa&&Kn(g),g=M.call(B,A)}return g}function wn(g){return g=g[We],g instanceof Be?g:null}var vt="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ui(g){return typeof g=="function"?g:(g[vt]||(g[vt]=function(A){return g.handleEvent(A)}),g[vt])}function X(){K.call(this),this.i=new Be(this),this.M=this,this.F=null}p(X,K),X.prototype[ue]=!0,X.prototype.removeEventListener=function(g,A,M,B){qn(this,g,A,M,B)};function ie(g,A){var M,B=g.F;if(B)for(M=[];B;B=B.F)M.push(B);if(g=g.M,B=A.type||A,typeof A=="string")A=new L(A,g);else if(A instanceof L)A.target=A.target||g;else{var G=A;A=new L(B,g),E(A,G)}if(G=!0,M)for(var re=M.length-1;0<=re;re--){var xe=A.g=M[re];G=V(xe,B,!0,A)&&G}if(xe=A.g=g,G=V(xe,B,!0,A)&&G,G=V(xe,B,!1,A)&&G,M)for(re=0;re<M.length;re++)xe=A.g=M[re],G=V(xe,B,!1,A)&&G}X.prototype.N=function(){if(X.aa.N.call(this),this.i){var g=this.i,A;for(A in g.g){for(var M=g.g[A],B=0;B<M.length;B++)Le(M[B]);delete g.g[A],g.h--}}this.F=null},X.prototype.K=function(g,A,M,B){return this.i.add(String(g),A,!1,M,B)},X.prototype.L=function(g,A,M,B){return this.i.add(String(g),A,!0,M,B)};function V(g,A,M,B){if(A=g.i.g[String(A)],!A)return!0;A=A.concat();for(var G=!0,re=0;re<A.length;++re){var xe=A[re];if(xe&&!xe.da&&xe.capture==M){var Ot=xe.listener,nr=xe.ha||xe.src;xe.fa&&Qe(g.i,xe),G=Ot.call(nr,B)!==!1&&G}}return G&&!B.defaultPrevented}function $e(g,A,M){if(typeof g=="function")M&&(g=f(g,M));else if(g&&typeof g.handleEvent=="function")g=f(g.handleEvent,g);else throw Error("Invalid listener argument");return 2147483647<Number(A)?-1:a.setTimeout(g,A||0)}function Ye(g){g.g=$e(()=>{g.g=null,g.i&&(g.i=!1,Ye(g))},g.l);const A=g.h;g.h=null,g.m.apply(null,A)}class wt extends K{constructor(A,M){super(),this.m=A,this.l=M,this.h=null,this.i=!1,this.g=null}j(A){this.h=arguments,this.g?this.i=!0:Ye(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pn(g){K.call(this),this.h=g,this.g={}}p(pn,K);var On=[];function _i(g){T(g.g,function(A,M){this.g.hasOwnProperty(M)&&Kn(A)},g),g.g={}}pn.prototype.N=function(){pn.aa.N.call(this),_i(this)},pn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cn=a.JSON.stringify,Tn=a.JSON.parse,wi=class{stringify(g){return a.JSON.stringify(g,void 0)}parse(g){return a.JSON.parse(g,void 0)}};function Fn(){}Fn.prototype.h=null;function $u(g){return g.h||(g.h=g.i())}function Pa(){}var Wi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ds(){L.call(this,"d")}p(Ds,L);function Ms(){L.call(this,"c")}p(Ms,L);var ii={},Da=null;function Ns(){return Da=Da||new X}ii.La="serverreachability";function vc(g){L.call(this,ii.La,g)}p(vc,L);function Ls(g){const A=Ns();ie(A,new vc(A))}ii.STAT_EVENT="statevent";function Ma(g,A){L.call(this,ii.STAT_EVENT,g),this.stat=A}p(Ma,L);function mn(g){const A=Ns();ie(A,new Ma(A,g))}ii.Ma="timingevent";function Go(g,A){L.call(this,ii.Ma,g),this.size=A}p(Go,L);function gn(g,A){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){g()},A)}function yr(){this.g=!0}yr.prototype.xa=function(){this.g=!1};function Hu(g,A,M,B,G,re){g.info(function(){if(g.g)if(re)for(var xe="",Ot=re.split("&"),nr=0;nr<Ot.length;nr++){var kt=Ot[nr].split("=");if(1<kt.length){var Cr=kt[0];kt=kt[1];var br=Cr.split("_");xe=2<=br.length&&br[1]=="type"?xe+(Cr+"="+kt+"&"):xe+(Cr+"=redacted&")}}else xe=null;else xe=re;return"XMLHTTP REQ ("+B+") [attempt "+G+"]: "+A+`
`+M+`
`+xe})}function j(g,A,M,B,G,re,xe){g.info(function(){return"XMLHTTP RESP ("+B+") [ attempt "+G+"]: "+A+`
`+M+`
`+re+" "+xe})}function W(g,A,M,B){g.info(function(){return"XMLHTTP TEXT ("+A+"): "+le(g,M)+(B?" "+B:"")})}function ee(g,A){g.info(function(){return"TIMEOUT: "+A})}yr.prototype.info=function(){};function le(g,A){if(!g.g)return A;if(!A)return null;try{var M=JSON.parse(A);if(M){for(g=0;g<M.length;g++)if(Array.isArray(M[g])){var B=M[g];if(!(2>B.length)){var G=B[1];if(Array.isArray(G)&&!(1>G.length)){var re=G[0];if(re!="noop"&&re!="stop"&&re!="close")for(var xe=1;xe<G.length;xe++)G[xe]=""}}}}return Cn(M)}catch{return A}}var Ce={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ue;function ge(){}p(ge,Fn),ge.prototype.g=function(){return new XMLHttpRequest},ge.prototype.i=function(){return{}},Ue=new ge;function Ne(g,A,M,B){this.j=g,this.i=A,this.l=M,this.R=B||1,this.U=new pn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Re}function Re(){this.i=null,this.g="",this.h=!1}var Me={},dt={};function Ct(g,A,M){g.L=1,g.v=Zm(Os(A)),g.m=M,g.P=!0,Mt(g,null)}function Mt(g,A){g.F=Date.now(),Wt(g),g.A=Os(g.v);var M=g.A,B=g.R;Array.isArray(B)||(B=[String(B)]),j4(M.i,"t",B),g.C=0,M=g.j.J,g.h=new Re,g.g=o3(g.j,M?A:null,!g.m),0<g.O&&(g.M=new wt(f(g.Y,g,g.g),g.O)),A=g.U,M=g.g,B=g.ca;var G="readystatechange";Array.isArray(G)||(G&&(On[0]=G.toString()),G=On);for(var re=0;re<G.length;re++){var xe=on(M,G[re],B||A.handleEvent,!1,A.h||A);if(!xe)break;A.g[xe.key]=xe}A=g.H?w(g.H):{},g.m?(g.u||(g.u="POST"),A["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.A,g.u,g.m,A)):(g.u="GET",g.g.ea(g.A,g.u,null,A)),Ls(),Hu(g.i,g.u,g.A,g.l,g.R,g.m)}Ne.prototype.ca=function(g){g=g.target;const A=this.M;A&&Fs(g)==3?A.j():this.Y(g)},Ne.prototype.Y=function(g){try{if(g==this.g)e:{const br=Fs(this.g);var A=this.g.Ba();const qu=this.g.Z();if(!(3>br)&&(br!=3||this.g&&(this.h.h||this.g.oa()||G4(this.g)))){this.J||br!=4||A==7||(A==8||0>=qu?Ls(3):Ls(2)),Ci(this);var M=this.g.Z();this.X=M;t:if(ut(this)){var B=G4(this.g);g="";var G=B.length,re=Fs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_r(this),qi(this);var xe="";break t}this.h.i=new a.TextDecoder}for(A=0;A<G;A++)this.h.h=!0,g+=this.h.i.decode(B[A],{stream:!(re&&A==G-1)});B.length=0,this.h.g+=g,this.C=0,xe=this.h.g}else xe=this.g.oa();if(this.o=M==200,j(this.i,this.u,this.A,this.l,this.R,br,M),this.o){if(this.T&&!this.K){t:{if(this.g){var Ot,nr=this.g;if((Ot=nr.g?nr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Ot)){var kt=Ot;break t}}kt=null}if(M=kt)W(this.i,this.l,M,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,La(this,M);else{this.o=!1,this.s=3,mn(12),_r(this),qi(this);break e}}if(this.P){M=!0;let go;for(;!this.J&&this.C<xe.length;)if(go=An(this,xe),go==dt){br==4&&(this.s=4,mn(14),M=!1),W(this.i,this.l,null,"[Incomplete Response]");break}else if(go==Me){this.s=4,mn(15),W(this.i,this.l,xe,"[Invalid Chunk]"),M=!1;break}else W(this.i,this.l,go,null),La(this,go);if(ut(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),br!=4||xe.length!=0||this.h.h||(this.s=1,mn(16),M=!1),this.o=this.o&&M,!M)W(this.i,this.l,xe,"[Invalid Chunked Response]"),_r(this),qi(this);else if(0<xe.length&&!this.W){this.W=!0;var Cr=this.j;Cr.g==this&&Cr.ba&&!Cr.M&&(Cr.j.info("Great, no buffering proxy detected. Bytes received: "+xe.length),q_(Cr),Cr.M=!0,mn(11))}}else W(this.i,this.l,xe,null),La(this,xe);br==4&&_r(this),this.o&&!this.J&&(br==4?t3(this.j,this):(this.o=!1,Wt(this)))}else WK(this.g),M==400&&0<xe.indexOf("Unknown SID")?(this.s=3,mn(12)):(this.s=0,mn(13)),_r(this),qi(this)}}}catch{}finally{}};function ut(g){return g.g?g.u=="GET"&&g.L!=2&&g.j.Ca:!1}function An(g,A){var M=g.C,B=A.indexOf(`
`,M);return B==-1?dt:(M=Number(A.substring(M,B)),isNaN(M)?Me:(B+=1,B+M>A.length?dt:(A=A.slice(B,B+M),g.C=B+M,A)))}Ne.prototype.cancel=function(){this.J=!0,_r(this)};function Wt(g){g.S=Date.now()+g.I,Na(g,g.I)}function Na(g,A){if(g.B!=null)throw Error("WatchDog timer not null");g.B=gn(f(g.ba,g),A)}function Ci(g){g.B&&(a.clearTimeout(g.B),g.B=null)}Ne.prototype.ba=function(){this.B=null;const g=Date.now();0<=g-this.S?(ee(this.i,this.A),this.L!=2&&(Ls(),mn(17)),_r(this),this.s=2,qi(this)):Na(this,this.S-g)};function qi(g){g.j.G==0||g.J||t3(g.j,g)}function _r(g){Ci(g);var A=g.M;A&&typeof A.ma=="function"&&A.ma(),g.M=null,_i(g.U),g.g&&(A=g.g,g.g=null,A.abort(),A.ma())}function La(g,A){try{var M=g.j;if(M.G!=0&&(M.g==g||Xe(M.h,g))){if(!g.K&&Xe(M.h,g)&&M.G==3){try{var B=M.Da.g.parse(A)}catch{B=null}if(Array.isArray(B)&&B.length==3){var G=B;if(G[0]==0){e:if(!M.u){if(M.g)if(M.g.F+3e3<g.F)ig(M),ng(M);else break e;W_(M),mn(18)}}else M.za=G[1],0<M.za-M.T&&37500>G[2]&&M.F&&M.v==0&&!M.C&&(M.C=gn(f(M.Za,M),6e3));if(1>=wc(M.h)&&M.ca){try{M.ca()}catch{}M.ca=void 0}}else bc(M,11)}else if((g.K||M.g==g)&&ig(M),!y(A))for(G=M.Da.g.parse(A),A=0;A<G.length;A++){let kt=G[A];if(M.T=kt[0],kt=kt[1],M.G==2)if(kt[0]=="c"){M.K=kt[1],M.ia=kt[2];const Cr=kt[3];Cr!=null&&(M.la=Cr,M.j.info("VER="+M.la));const br=kt[4];br!=null&&(M.Aa=br,M.j.info("SVER="+M.Aa));const qu=kt[5];qu!=null&&typeof qu=="number"&&0<qu&&(B=1.5*qu,M.L=B,M.j.info("backChannelRequestTimeoutMs_="+B)),B=M;const go=g.g;if(go){const sg=go.g?go.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sg){var re=B.h;re.g||sg.indexOf("spdy")==-1&&sg.indexOf("quic")==-1&&sg.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(jt(re,re.h),re.h=null))}if(B.D){const K_=go.g?go.g.getResponseHeader("X-HTTP-Session-Id"):null;K_&&(B.ya=K_,Kt(B.I,B.D,K_))}}M.G=3,M.l&&M.l.ua(),M.ba&&(M.R=Date.now()-g.F,M.j.info("Handshake RTT: "+M.R+"ms")),B=M;var xe=g;if(B.qa=i3(B,B.J?B.ia:null,B.W),xe.K){wr(B.h,xe);var Ot=xe,nr=B.L;nr&&(Ot.I=nr),Ot.B&&(Ci(Ot),Wt(Ot)),B.g=xe}else Z4(B);0<M.i.length&&rg(M)}else kt[0]!="stop"&&kt[0]!="close"||bc(M,7);else M.G==3&&(kt[0]=="stop"||kt[0]=="close"?kt[0]=="stop"?bc(M,7):U_(M):kt[0]!="noop"&&M.l&&M.l.ta(kt),M.v=0)}}Ls(4)}catch{}}var po=class{constructor(g,A){this.g=g,this.map=A}};function yc(g){this.l=g||10,a.PerformanceNavigationTiming?(g=a.performance.getEntriesByType("navigation"),g=0<g.length&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _c(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function wc(g){return g.h?1:g.g?g.g.size:0}function Xe(g,A){return g.h?g.h==A:g.g?g.g.has(A):!1}function jt(g,A){g.g?g.g.add(A):g.h=A}function wr(g,A){g.h&&g.h==A?g.h=null:g.g&&g.g.has(A)&&g.g.delete(A)}yc.prototype.cancel=function(){if(this.i=qt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function qt(g){if(g.h!=null)return g.i.concat(g.h.D);if(g.g!=null&&g.g.size!==0){let A=g.i;for(const M of g.g.values())A=A.concat(M.D);return A}return m(g.i)}function mo(g){if(g.V&&typeof g.V=="function")return g.V();if(typeof Map<"u"&&g instanceof Map||typeof Set<"u"&&g instanceof Set)return Array.from(g.values());if(typeof g=="string")return g.split("");if(l(g)){for(var A=[],M=g.length,B=0;B<M;B++)A.push(g[B]);return A}A=[],M=0;for(B in g)A[M++]=g[B];return A}function Jm(g){if(g.na&&typeof g.na=="function")return g.na();if(!g.V||typeof g.V!="function"){if(typeof Map<"u"&&g instanceof Map)return Array.from(g.keys());if(!(typeof Set<"u"&&g instanceof Set)){if(l(g)||typeof g=="string"){var A=[];g=g.length;for(var M=0;M<g;M++)A.push(M);return A}A=[],M=0;for(const B in g)A[M++]=B;return A}}}function Qm(g,A){if(g.forEach&&typeof g.forEach=="function")g.forEach(A,void 0);else if(l(g)||typeof g=="string")Array.prototype.forEach.call(g,A,void 0);else for(var M=Jm(g),B=mo(g),G=B.length,re=0;re<G;re++)A.call(void 0,B[re],M&&M[re],g)}var O4=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function DK(g,A){if(g){g=g.split("&");for(var M=0;M<g.length;M++){var B=g[M].indexOf("="),G=null;if(0<=B){var re=g[M].substring(0,B);G=g[M].substring(B+1)}else re=g[M];A(re,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Cc(g){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,g instanceof Cc){this.h=g.h,Ym(this,g.j),this.o=g.o,this.g=g.g,Xm(this,g.s),this.l=g.l;var A=g.i,M=new ad;M.i=A.i,A.g&&(M.g=new Map(A.g),M.h=A.h),F4(this,M),this.m=g.m}else g&&(A=String(g).match(O4))?(this.h=!1,Ym(this,A[1]||"",!0),this.o=od(A[2]||""),this.g=od(A[3]||"",!0),Xm(this,A[4]),this.l=od(A[5]||"",!0),F4(this,A[6]||"",!0),this.m=od(A[7]||"")):(this.h=!1,this.i=new ad(null,this.h))}Cc.prototype.toString=function(){var g=[],A=this.j;A&&g.push(sd(A,B4,!0),":");var M=this.g;return(M||A=="file")&&(g.push("//"),(A=this.o)&&g.push(sd(A,B4,!0),"@"),g.push(encodeURIComponent(String(M)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M=this.s,M!=null&&g.push(":",String(M))),(M=this.l)&&(this.g&&M.charAt(0)!="/"&&g.push("/"),g.push(sd(M,M.charAt(0)=="/"?LK:NK,!0))),(M=this.i.toString())&&g.push("?",M),(M=this.m)&&g.push("#",sd(M,FK)),g.join("")};function Os(g){return new Cc(g)}function Ym(g,A,M){g.j=M?od(A,!0):A,g.j&&(g.j=g.j.replace(/:$/,""))}function Xm(g,A){if(A){if(A=Number(A),isNaN(A)||0>A)throw Error("Bad port number "+A);g.s=A}else g.s=null}function F4(g,A,M){A instanceof ad?(g.i=A,BK(g.i,g.h)):(M||(A=sd(A,OK)),g.i=new ad(A,g.h))}function Kt(g,A,M){g.i.set(A,M)}function Zm(g){return Kt(g,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),g}function od(g,A){return g?A?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function sd(g,A,M){return typeof g=="string"?(g=encodeURI(g).replace(A,MK),M&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function MK(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var B4=/[#\/\?@]/g,NK=/[#\?:]/g,LK=/[#\?]/g,OK=/[#\?@]/g,FK=/#/g;function ad(g,A){this.h=this.g=null,this.i=g||null,this.j=!!A}function Oa(g){g.g||(g.g=new Map,g.h=0,g.i&&DK(g.i,function(A,M){g.add(decodeURIComponent(A.replace(/\+/g," ")),M)}))}t=ad.prototype,t.add=function(g,A){Oa(this),this.i=null,g=Uu(this,g);var M=this.g.get(g);return M||this.g.set(g,M=[]),M.push(A),this.h+=1,this};function V4(g,A){Oa(g),A=Uu(g,A),g.g.has(A)&&(g.i=null,g.h-=g.g.get(A).length,g.g.delete(A))}function z4(g,A){return Oa(g),A=Uu(g,A),g.g.has(A)}t.forEach=function(g,A){Oa(this),this.g.forEach(function(M,B){M.forEach(function(G){g.call(A,G,B,this)},this)},this)},t.na=function(){Oa(this);const g=Array.from(this.g.values()),A=Array.from(this.g.keys()),M=[];for(let B=0;B<A.length;B++){const G=g[B];for(let re=0;re<G.length;re++)M.push(A[B])}return M},t.V=function(g){Oa(this);let A=[];if(typeof g=="string")z4(this,g)&&(A=A.concat(this.g.get(Uu(this,g))));else{g=Array.from(this.g.values());for(let M=0;M<g.length;M++)A=A.concat(g[M])}return A},t.set=function(g,A){return Oa(this),this.i=null,g=Uu(this,g),z4(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[A]),this.h+=1,this},t.get=function(g,A){return g?(g=this.V(g),0<g.length?String(g[0]):A):A};function j4(g,A,M){V4(g,A),0<M.length&&(g.i=null,g.g.set(Uu(g,A),m(M)),g.h+=M.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],A=Array.from(this.g.keys());for(var M=0;M<A.length;M++){var B=A[M];const re=encodeURIComponent(String(B)),xe=this.V(B);for(B=0;B<xe.length;B++){var G=re;xe[B]!==""&&(G+="="+encodeURIComponent(String(xe[B]))),g.push(G)}}return this.i=g.join("&")};function Uu(g,A){return A=String(A),g.j&&(A=A.toLowerCase()),A}function BK(g,A){A&&!g.j&&(Oa(g),g.i=null,g.g.forEach(function(M,B){var G=B.toLowerCase();B!=G&&(V4(this,B),j4(this,G,M))},g)),g.j=A}function VK(g,A){const M=new yr;if(a.Image){const B=new Image;B.onload=d(Fa,M,"TestLoadImage: loaded",!0,A,B),B.onerror=d(Fa,M,"TestLoadImage: error",!1,A,B),B.onabort=d(Fa,M,"TestLoadImage: abort",!1,A,B),B.ontimeout=d(Fa,M,"TestLoadImage: timeout",!1,A,B),a.setTimeout(function(){B.ontimeout&&B.ontimeout()},1e4),B.src=g}else A(!1)}function zK(g,A){const M=new yr,B=new AbortController,G=setTimeout(()=>{B.abort(),Fa(M,"TestPingServer: timeout",!1,A)},1e4);fetch(g,{signal:B.signal}).then(re=>{clearTimeout(G),re.ok?Fa(M,"TestPingServer: ok",!0,A):Fa(M,"TestPingServer: server error",!1,A)}).catch(()=>{clearTimeout(G),Fa(M,"TestPingServer: error",!1,A)})}function Fa(g,A,M,B,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),B(M)}catch{}}function jK(){this.g=new wi}function $K(g,A,M){const B=M||"";try{Qm(g,function(G,re){let xe=G;c(G)&&(xe=Cn(G)),A.push(B+re+"="+encodeURIComponent(xe))})}catch(G){throw A.push(B+"type="+encodeURIComponent("_badmap")),G}}function ld(g){this.l=g.Ub||null,this.j=g.eb||!1}p(ld,Fn),ld.prototype.g=function(){return new eg(this.l,this.j)},ld.prototype.i=function(g){return function(){return g}}({});function eg(g,A){X.call(this),this.D=g,this.o=A,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}p(eg,X),t=eg.prototype,t.open=function(g,A){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=g,this.A=A,this.readyState=1,ud(this)},t.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const A={headers:this.u,method:this.B,credentials:this.m,cache:void 0};g&&(A.body=g),(this.D||a).fetch(new Request(this.A,A)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,cd(this)),this.readyState=0},t.Sa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,ud(this)),this.g&&(this.readyState=3,ud(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$4(this)}else g.text().then(this.Ra.bind(this),this.ga.bind(this))};function $4(g){g.j.read().then(g.Pa.bind(g)).catch(g.ga.bind(g))}t.Pa=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var A=g.value?g.value:new Uint8Array(0);(A=this.v.decode(A,{stream:!g.done}))&&(this.response=this.responseText+=A)}g.done?cd(this):ud(this),this.readyState==3&&$4(this)}},t.Ra=function(g){this.g&&(this.response=this.responseText=g,cd(this))},t.Qa=function(g){this.g&&(this.response=g,cd(this))},t.ga=function(){this.g&&cd(this)};function cd(g){g.readyState=4,g.l=null,g.j=null,g.v=null,ud(g)}t.setRequestHeader=function(g,A){this.u.append(g,A)},t.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],A=this.h.entries();for(var M=A.next();!M.done;)M=M.value,g.push(M[0]+": "+M[1]),M=A.next();return g.join(`\r
`)};function ud(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(eg.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function H4(g){let A="";return T(g,function(M,B){A+=B,A+=":",A+=M,A+=`\r
`}),A}function H_(g,A,M){e:{for(B in M){var B=!1;break e}B=!0}B||(M=H4(M),typeof g=="string"?M!=null&&encodeURIComponent(String(M)):Kt(g,A,M))}function xn(g){X.call(this),this.headers=new Map,this.o=g||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}p(xn,X);var HK=/^https?$/i,UK=["POST","PUT"];t=xn.prototype,t.Ha=function(g){this.J=g},t.ea=function(g,A,M,B){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);A=A?A.toUpperCase():"GET",this.D=g,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ue.g(),this.v=this.o?$u(this.o):$u(Ue),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(A,String(g),!0),this.B=!1}catch(re){U4(this,re);return}if(g=M||"",M=new Map(this.headers),B)if(Object.getPrototypeOf(B)===Object.prototype)for(var G in B)M.set(G,B[G]);else if(typeof B.keys=="function"&&typeof B.get=="function")for(const re of B.keys())M.set(re,B.get(re));else throw Error("Unknown input type for opt_headers: "+String(B));B=Array.from(M.keys()).find(re=>re.toLowerCase()=="content-type"),G=a.FormData&&g instanceof a.FormData,!(0<=Array.prototype.indexOf.call(UK,A,void 0))||B||G||M.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,xe]of M)this.g.setRequestHeader(re,xe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{K4(this),this.u=!0,this.g.send(g),this.u=!1}catch(re){U4(this,re)}};function U4(g,A){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=A,g.m=5,W4(g),tg(g)}function W4(g){g.A||(g.A=!0,ie(g,"complete"),ie(g,"error"))}t.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=g||7,ie(this,"complete"),ie(this,"abort"),tg(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tg(this,!0)),xn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?q4(this):this.bb())},t.bb=function(){q4(this)};function q4(g){if(g.h&&typeof s<"u"&&(!g.v[1]||Fs(g)!=4||g.Z()!=2)){if(g.u&&Fs(g)==4)$e(g.Ea,0,g);else if(ie(g,"readystatechange"),Fs(g)==4){g.h=!1;try{const xe=g.Z();e:switch(xe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var A=!0;break e;default:A=!1}var M;if(!(M=A)){var B;if(B=xe===0){var G=String(g.D).match(O4)[1]||null;!G&&a.self&&a.self.location&&(G=a.self.location.protocol.slice(0,-1)),B=!HK.test(G?G.toLowerCase():"")}M=B}if(M)ie(g,"complete"),ie(g,"success");else{g.m=6;try{var re=2<Fs(g)?g.g.statusText:""}catch{re=""}g.l=re+" ["+g.Z()+"]",W4(g)}}finally{tg(g)}}}}function tg(g,A){if(g.g){K4(g);const M=g.g,B=g.v[0]?()=>{}:null;g.g=null,g.v=null,A||ie(g,"ready");try{M.onreadystatechange=B}catch{}}}function K4(g){g.I&&(a.clearTimeout(g.I),g.I=null)}t.isActive=function(){return!!this.g};function Fs(g){return g.g?g.g.readyState:0}t.Z=function(){try{return 2<Fs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(g){if(this.g){var A=this.g.responseText;return g&&A.indexOf(g)==0&&(A=A.substring(g.length)),Tn(A)}};function G4(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.H){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function WK(g){const A={};g=(g.g&&2<=Fs(g)&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let B=0;B<g.length;B++){if(y(g[B]))continue;var M=R(g[B]);const G=M[0];if(M=M[1],typeof M!="string")continue;M=M.trim();const re=A[G]||[];A[G]=re,re.push(M)}b(A,function(B){return B.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function hd(g,A,M){return M&&M.internalChannelParams&&M.internalChannelParams[g]||A}function J4(g){this.Aa=0,this.i=[],this.j=new yr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=hd("failFast",!1,g),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=hd("baseRetryDelayMs",5e3,g),this.cb=hd("retryDelaySeedMs",1e4,g),this.Wa=hd("forwardChannelMaxRetries",2,g),this.wa=hd("forwardChannelRequestTimeoutMs",2e4,g),this.pa=g&&g.xmlHttpFactory||void 0,this.Xa=g&&g.Tb||void 0,this.Ca=g&&g.useFetchStreams||!1,this.L=void 0,this.J=g&&g.supportsCrossDomainXhr||!1,this.K="",this.h=new yc(g&&g.concurrentRequestLimit),this.Da=new jK,this.P=g&&g.fastHandshake||!1,this.O=g&&g.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=g&&g.Rb||!1,g&&g.xa&&this.j.xa(),g&&g.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&g&&g.detectBufferingProxy||!1,this.ja=void 0,g&&g.longPollingTimeout&&0<g.longPollingTimeout&&(this.ja=g.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=J4.prototype,t.la=8,t.G=1,t.connect=function(g,A,M,B){mn(0),this.W=g,this.H=A||{},M&&B!==void 0&&(this.H.OSID=M,this.H.OAID=B),this.F=this.X,this.I=i3(this,null,this.W),rg(this)};function U_(g){if(Q4(g),g.G==3){var A=g.U++,M=Os(g.I);if(Kt(M,"SID",g.K),Kt(M,"RID",A),Kt(M,"TYPE","terminate"),fd(g,M),A=new Ne(g,g.j,A),A.L=2,A.v=Zm(Os(M)),M=!1,a.navigator&&a.navigator.sendBeacon)try{M=a.navigator.sendBeacon(A.v.toString(),"")}catch{}!M&&a.Image&&(new Image().src=A.v,M=!0),M||(A.g=o3(A.j,null),A.g.ea(A.v)),A.F=Date.now(),Wt(A)}r3(g)}function ng(g){g.g&&(q_(g),g.g.cancel(),g.g=null)}function Q4(g){ng(g),g.u&&(a.clearTimeout(g.u),g.u=null),ig(g),g.h.cancel(),g.s&&(typeof g.s=="number"&&a.clearTimeout(g.s),g.s=null)}function rg(g){if(!_c(g.h)&&!g.s){g.s=!0;var A=g.Ga;Y||O(),q||(Y(),q=!0),H.add(A,g),g.B=0}}function qK(g,A){return wc(g.h)>=g.h.j-(g.s?1:0)?!1:g.s?(g.i=A.D.concat(g.i),!0):g.G==1||g.G==2||g.B>=(g.Va?0:g.Wa)?!1:(g.s=gn(f(g.Ga,g,A),n3(g,g.B)),g.B++,!0)}t.Ga=function(g){if(this.s)if(this.s=null,this.G==1){if(!g){this.U=Math.floor(1e5*Math.random()),g=this.U++;const G=new Ne(this,this.j,g);let re=this.o;if(this.S&&(re?(re=w(re),E(re,this.S)):re=this.S),this.m!==null||this.O||(G.H=re,re=null),this.P)e:{for(var A=0,M=0;M<this.i.length;M++){t:{var B=this.i[M];if("__data__"in B.map&&(B=B.map.__data__,typeof B=="string")){B=B.length;break t}B=void 0}if(B===void 0)break;if(A+=B,4096<A){A=M;break e}if(A===4096||M===this.i.length-1){A=M+1;break e}}A=1e3}else A=1e3;A=X4(this,G,A),M=Os(this.I),Kt(M,"RID",g),Kt(M,"CVER",22),this.D&&Kt(M,"X-HTTP-Session-Id",this.D),fd(this,M),re&&(this.O?A="headers="+encodeURIComponent(String(H4(re)))+"&"+A:this.m&&H_(M,this.m,re)),jt(this.h,G),this.Ua&&Kt(M,"TYPE","init"),this.P?(Kt(M,"$req",A),Kt(M,"SID","null"),G.T=!0,Ct(G,M,null)):Ct(G,M,A),this.G=2}}else this.G==3&&(g?Y4(this,g):this.i.length==0||_c(this.h)||Y4(this))};function Y4(g,A){var M;A?M=A.l:M=g.U++;const B=Os(g.I);Kt(B,"SID",g.K),Kt(B,"RID",M),Kt(B,"AID",g.T),fd(g,B),g.m&&g.o&&H_(B,g.m,g.o),M=new Ne(g,g.j,M,g.B+1),g.m===null&&(M.H=g.o),A&&(g.i=A.D.concat(g.i)),A=X4(g,M,1e3),M.I=Math.round(.5*g.wa)+Math.round(.5*g.wa*Math.random()),jt(g.h,M),Ct(M,B,A)}function fd(g,A){g.H&&T(g.H,function(M,B){Kt(A,B,M)}),g.l&&Qm({},function(M,B){Kt(A,B,M)})}function X4(g,A,M){M=Math.min(g.i.length,M);var B=g.l?f(g.l.Na,g.l,g):null;e:{var G=g.i;let re=-1;for(;;){const xe=["count="+M];re==-1?0<M?(re=G[0].g,xe.push("ofs="+re)):re=0:xe.push("ofs="+re);let Ot=!0;for(let nr=0;nr<M;nr++){let kt=G[nr].g;const Cr=G[nr].map;if(kt-=re,0>kt)re=Math.max(0,G[nr].g-100),Ot=!1;else try{$K(Cr,xe,"req"+kt+"_")}catch{B&&B(Cr)}}if(Ot){B=xe.join("&");break e}}}return g=g.i.splice(0,M),A.D=g,B}function Z4(g){if(!g.g&&!g.u){g.Y=1;var A=g.Fa;Y||O(),q||(Y(),q=!0),H.add(A,g),g.v=0}}function W_(g){return g.g||g.u||3<=g.v?!1:(g.Y++,g.u=gn(f(g.Fa,g),n3(g,g.v)),g.v++,!0)}t.Fa=function(){if(this.u=null,e3(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var g=2*this.R;this.j.info("BP detection timer enabled: "+g),this.A=gn(f(this.ab,this),g)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mn(10),ng(this),e3(this))};function q_(g){g.A!=null&&(a.clearTimeout(g.A),g.A=null)}function e3(g){g.g=new Ne(g,g.j,"rpc",g.Y),g.m===null&&(g.g.H=g.o),g.g.O=0;var A=Os(g.qa);Kt(A,"RID","rpc"),Kt(A,"SID",g.K),Kt(A,"AID",g.T),Kt(A,"CI",g.F?"0":"1"),!g.F&&g.ja&&Kt(A,"TO",g.ja),Kt(A,"TYPE","xmlhttp"),fd(g,A),g.m&&g.o&&H_(A,g.m,g.o),g.L&&(g.g.I=g.L);var M=g.g;g=g.ia,M.L=1,M.v=Zm(Os(A)),M.m=null,M.P=!0,Mt(M,g)}t.Za=function(){this.C!=null&&(this.C=null,ng(this),W_(this),mn(19))};function ig(g){g.C!=null&&(a.clearTimeout(g.C),g.C=null)}function t3(g,A){var M=null;if(g.g==A){ig(g),q_(g),g.g=null;var B=2}else if(Xe(g.h,A))M=A.D,wr(g.h,A),B=1;else return;if(g.G!=0){if(A.o)if(B==1){M=A.m?A.m.length:0,A=Date.now()-A.F;var G=g.B;B=Ns(),ie(B,new Go(B,M)),rg(g)}else Z4(g);else if(G=A.s,G==3||G==0&&0<A.X||!(B==1&&qK(g,A)||B==2&&W_(g)))switch(M&&0<M.length&&(A=g.h,A.i=A.i.concat(M)),G){case 1:bc(g,5);break;case 4:bc(g,10);break;case 3:bc(g,6);break;default:bc(g,2)}}}function n3(g,A){let M=g.Ta+Math.floor(Math.random()*g.cb);return g.isActive()||(M*=2),M*A}function bc(g,A){if(g.j.info("Error code "+A),A==2){var M=f(g.fb,g),B=g.Xa;const G=!B;B=new Cc(B||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ym(B,"https"),Zm(B),G?VK(B.toString(),M):zK(B.toString(),M)}else mn(2);g.G=0,g.l&&g.l.sa(A),r3(g),Q4(g)}t.fb=function(g){g?(this.j.info("Successfully pinged google.com"),mn(2)):(this.j.info("Failed to ping google.com"),mn(1))};function r3(g){if(g.G=0,g.ka=[],g.l){const A=qt(g.h);(A.length!=0||g.i.length!=0)&&(v(g.ka,A),v(g.ka,g.i),g.h.i.length=0,m(g.i),g.i.length=0),g.l.ra()}}function i3(g,A,M){var B=M instanceof Cc?Os(M):new Cc(M);if(B.g!="")A&&(B.g=A+"."+B.g),Xm(B,B.s);else{var G=a.location;B=G.protocol,A=A?A+"."+G.hostname:G.hostname,G=+G.port;var re=new Cc(null);B&&Ym(re,B),A&&(re.g=A),G&&Xm(re,G),M&&(re.l=M),B=re}return M=g.D,A=g.ya,M&&A&&Kt(B,M,A),Kt(B,"VER",g.la),fd(g,B),B}function o3(g,A,M){if(A&&!g.J)throw Error("Can't create secondary domain capable XhrIo object.");return A=g.Ca&&!g.pa?new xn(new ld({eb:M})):new xn(g.pa),A.Ha(g.J),A}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function s3(){}t=s3.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function og(){}og.prototype.g=function(g,A){return new bi(g,A)};function bi(g,A){X.call(this),this.g=new J4(A),this.l=g,this.h=A&&A.messageUrlParams||null,g=A&&A.messageHeaders||null,A&&A.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=A&&A.initMessageHeaders||null,A&&A.messageContentType&&(g?g["X-WebChannel-Content-Type"]=A.messageContentType:g={"X-WebChannel-Content-Type":A.messageContentType}),A&&A.va&&(g?g["X-WebChannel-Client-Profile"]=A.va:g={"X-WebChannel-Client-Profile":A.va}),this.g.S=g,(g=A&&A.Sb)&&!y(g)&&(this.g.m=g),this.v=A&&A.supportsCrossDomainXhr||!1,this.u=A&&A.sendRawJson||!1,(A=A&&A.httpSessionIdParam)&&!y(A)&&(this.g.D=A,g=this.h,g!==null&&A in g&&(g=this.h,A in g&&delete g[A])),this.j=new Wu(this)}p(bi,X),bi.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},bi.prototype.close=function(){U_(this.g)},bi.prototype.o=function(g){var A=this.g;if(typeof g=="string"){var M={};M.__data__=g,g=M}else this.u&&(M={},M.__data__=Cn(g),g=M);A.i.push(new po(A.Ya++,g)),A.G==3&&rg(A)},bi.prototype.N=function(){this.g.l=null,delete this.j,U_(this.g),delete this.g,bi.aa.N.call(this)};function a3(g){Ds.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var A=g.__sm__;if(A){e:{for(const M in A){g=M;break e}g=void 0}(this.i=g)&&(g=this.i,A=A!==null&&g in A?A[g]:void 0),this.data=A}else this.data=g}p(a3,Ds);function l3(){Ms.call(this),this.status=1}p(l3,Ms);function Wu(g){this.g=g}p(Wu,s3),Wu.prototype.ua=function(){ie(this.g,"a")},Wu.prototype.ta=function(g){ie(this.g,new a3(g))},Wu.prototype.sa=function(g){ie(this.g,new l3)},Wu.prototype.ra=function(){ie(this.g,"b")},og.prototype.createWebChannel=og.prototype.g,bi.prototype.send=bi.prototype.o,bi.prototype.open=bi.prototype.m,bi.prototype.close=bi.prototype.close,CL=function(){return new og},wL=function(){return Ns()},_L=ii,Eb={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ce.NO_ERROR=0,Ce.TIMEOUT=8,Ce.HTTP_ERROR=6,R1=Ce,Oe.COMPLETE="complete",yL=Oe,Pa.EventType=Wi,Wi.OPEN="a",Wi.CLOSE="b",Wi.ERROR="c",Wi.MESSAGE="d",X.prototype.listen=X.prototype.K,Wd=Pa,vL=ld,xn.prototype.listenOnce=xn.prototype.L,xn.prototype.getLastError=xn.prototype.Ka,xn.prototype.getLastErrorCode=xn.prototype.Ba,xn.prototype.getStatus=xn.prototype.Z,xn.prototype.getResponseJson=xn.prototype.Oa,xn.prototype.getResponseText=xn.prototype.oa,xn.prototype.send=xn.prototype.ea,xn.prototype.setWithCredentials=xn.prototype.Ha,xL=xn}).apply(typeof Sg<"u"?Sg:typeof self<"u"?self:typeof window<"u"?window:{});const D9="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Tr.UNAUTHENTICATED=new Tr(null),Tr.GOOGLE_CREDENTIALS=new Tr("google-credentials-uid"),Tr.FIRST_PARTY=new Tr("first-party-uid"),Tr.MOCK_USER=new Tr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zf="10.13.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu=new e5("@firebase/firestore");function kd(){return iu.logLevel}function Pe(t,...e){if(iu.logLevel<=mt.DEBUG){const n=e.map(r5);iu.debug(`Firestore (${zf}): ${t}`,...n)}}function ca(t,...e){if(iu.logLevel<=mt.ERROR){const n=e.map(r5);iu.error(`Firestore (${zf}): ${t}`,...n)}}function hf(t,...e){if(iu.logLevel<=mt.WARN){const n=e.map(r5);iu.warn(`Firestore (${zf}): ${t}`,...n)}}function r5(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(t="Unexpected state"){const e=`FIRESTORE (${zf}) INTERNAL ASSERTION FAILED: `+t;throw ca(e),new Error(e)}function Vt(t,e){t||Je()}function tt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ve extends Ca{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tte{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Tr.UNAUTHENTICATED))}shutdown(){}}class nte{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class rte{constructor(e){this.t=e,this.currentUser=Tr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new Rl;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Rl,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Rl)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Vt(typeof r.accessToken=="string"),new bL(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Vt(e===null||typeof e=="string"),new Tr(e)}}class ite{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Tr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class ote{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new ite(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Tr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ste{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ate{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&Pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Pe("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Vt(typeof n.token=="string"),this.R=n.token,new ste(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lte(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=lte(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Tt(t,e){return t<e?-1:t>e?1:0}function ff(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ve(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ve(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Ve(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ve(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Wn.fromMillis(Date.now())}static fromDate(e){return Wn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Wn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Tt(this.nanoseconds,e.nanoseconds):Tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ze(e)}static min(){return new Ze(new Wn(0,0))}static max(){return new Ze(new Wn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e,n,r){n===void 0?n=0:n>e.length&&Je(),r===void 0?r=e.length-n:r>e.length-n&&Je(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return i0.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof i0?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class nn extends i0{construct(e,n,r){return new nn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ve(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new nn(n)}static emptyPath(){return new nn([])}}const cte=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ur extends i0{construct(e,n,r){return new ur(e,n,r)}static isValidIdentifier(e){return cte.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ur.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ur(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Ve(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Ve(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ve(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Ve(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ur(n)}static emptyPath(){return new ur([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.path=e}static fromPath(e){return new ze(nn.fromString(e))}static fromName(e){return new ze(nn.fromString(e).popFirst(5))}static empty(){return new ze(nn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ze(new nn(e.slice()))}}function ute(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ze.fromTimestamp(r===1e9?new Wn(n+1,0):new Wn(n,r));return new Vl(i,ze.empty(),e)}function hte(t){return new Vl(t.readTime,t.key,-1)}class Vl{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Vl(Ze.min(),ze.empty(),-1)}static max(){return new Vl(Ze.max(),ze.empty(),-1)}}function fte(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ze.comparator(t.documentKey,e.documentKey),n!==0?n:Tt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dte="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pte{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nm(t){if(t.code!==he.FAILED_PRECONDITION||t.message!==dte)throw t;Pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ce((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ce?n:ce.resolve(n)}catch(n){return ce.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ce.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ce.reject(n)}static resolve(e){return new ce((n,r)=>{n(e)})}static reject(e){return new ce((n,r)=>{r(e)})}static waitFor(e){return new ce((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=ce.resolve(!1);for(const r of e)n=n.next(i=>i?ce.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new ce((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;n(e[c]).next(u=>{s[c]=u,++a,a===o&&r(s)},u=>i(u))}})}static doWhile(e,n){return new ce((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function mte(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function rm(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i5{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}i5.oe=-1;function gy(t){return t==null}function Px(t){return t===0&&1/t==-1/0}function gte(t){return typeof t=="number"&&Number.isInteger(t)&&!Px(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M9(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function jf(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function SL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,n){this.comparator=e,this.root=n||sr.EMPTY}insert(e,n){return new hn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sr.BLACK,null,null))}remove(e){return new hn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new kg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new kg(this.root,e,this.comparator,!1)}getReverseIterator(){return new kg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new kg(this.root,e,this.comparator,!0)}}class kg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sr{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??sr.RED,this.left=i??sr.EMPTY,this.right=o??sr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new sr(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return sr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return sr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Je();const e=this.left.check();if(e!==this.right.check())throw Je();return e+(this.isRed()?0:1)}}sr.EMPTY=null,sr.RED=!0,sr.BLACK=!1;sr.EMPTY=new class{constructor(){this.size=0}get key(){throw Je()}get value(){throw Je()}get color(){throw Je()}get left(){throw Je()}get right(){throw Je()}copy(e,n,r,i,o){return this}insert(e,n,r){return new sr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.comparator=e,this.data=new hn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new N9(this.data.getIterator())}getIteratorFrom(e){return new N9(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof gr)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new gr(this.comparator);return n.data=e,n}}class N9{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this.fields=e,e.sort(ur.comparator)}static empty(){return new Ao([])}unionWith(e){let n=new gr(ur.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ao(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ff(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new kL("Invalid base64 string: "+o):o}}(e);return new vr(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new vr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vr.EMPTY_BYTE_STRING=new vr("");const xte=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zl(t){if(Vt(!!t),typeof t=="string"){let e=0;const n=xte.exec(t);if(Vt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:En(t.seconds),nanos:En(t.nanos)}}function En(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ou(t){return typeof t=="string"?vr.fromBase64String(t):vr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o5(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function s5(t){const e=t.mapValue.fields.__previous_value__;return o5(e)?s5(e):e}function o0(t){const e=zl(t.mapValue.fields.__local_write_time__.timestampValue);return new Wn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vte{constructor(e,n,r,i,o,s,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class s0{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new s0("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof s0&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function su(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?o5(t)?4:_te(t)?9007199254740991:yte(t)?10:11:Je()}function ws(t,e){if(t===e)return!0;const n=su(t);if(n!==su(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return o0(t).isEqual(o0(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=zl(i.timestampValue),a=zl(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return ou(i.bytesValue).isEqual(ou(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return En(i.geoPointValue.latitude)===En(o.geoPointValue.latitude)&&En(i.geoPointValue.longitude)===En(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return En(i.integerValue)===En(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=En(i.doubleValue),a=En(o.doubleValue);return s===a?Px(s)===Px(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return ff(t.arrayValue.values||[],e.arrayValue.values||[],ws);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(M9(s)!==M9(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!ws(s[l],a[l])))return!1;return!0}(t,e);default:return Je()}}function a0(t,e){return(t.values||[]).find(n=>ws(n,e))!==void 0}function df(t,e){if(t===e)return 0;const n=su(t),r=su(e);if(n!==r)return Tt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Tt(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=En(o.integerValue||o.doubleValue),l=En(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return L9(t.timestampValue,e.timestampValue);case 4:return L9(o0(t),o0(e));case 5:return Tt(t.stringValue,e.stringValue);case 6:return function(o,s){const a=ou(o),l=ou(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Tt(a[c],l[c]);if(u!==0)return u}return Tt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Tt(En(o.latitude),En(s.latitude));return a!==0?a:Tt(En(o.longitude),En(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return O9(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,c,u;const h=o.fields||{},f=s.fields||{},d=(a=h.value)===null||a===void 0?void 0:a.arrayValue,p=(l=f.value)===null||l===void 0?void 0:l.arrayValue,m=Tt(((c=d==null?void 0:d.values)===null||c===void 0?void 0:c.length)||0,((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0);return m!==0?m:O9(d,p)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Tg.mapValue&&s===Tg.mapValue)return 0;if(o===Tg.mapValue)return 1;if(s===Tg.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const f=Tt(l[h],u[h]);if(f!==0)return f;const d=df(a[l[h]],c[u[h]]);if(d!==0)return d}return Tt(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Je()}}function L9(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Tt(t,e);const n=zl(t),r=zl(e),i=Tt(n.seconds,r.seconds);return i!==0?i:Tt(n.nanos,r.nanos)}function O9(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=df(n[i],r[i]);if(o)return o}return Tt(n.length,r.length)}function pf(t){return Sb(t)}function Sb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=zl(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ou(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ze.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Sb(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Sb(n.fields[s])}`;return i+"}"}(t.mapValue):Je()}function kb(t){return!!t&&"integerValue"in t}function a5(t){return!!t&&"arrayValue"in t}function F9(t){return!!t&&"nullValue"in t}function B9(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function P1(t){return!!t&&"mapValue"in t}function yte(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function gp(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return jf(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=gp(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=gp(t.arrayValue.values[n]);return e}return Object.assign({},t)}function _te(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e){this.value=e}static empty(){return new Yi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!P1(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=gp(n)}setAll(e){let n=ur.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=gp(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());P1(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ws(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];P1(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){jf(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Yi(gp(this.value))}}function TL(t){const e=[];return jf(t.fields,(n,r)=>{const i=new ur([n]);if(P1(r)){const o=TL(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Ao(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Rr(e,0,Ze.min(),Ze.min(),Ze.min(),Yi.empty(),0)}static newFoundDocument(e,n,r,i){return new Rr(e,1,n,Ze.min(),r,i,0)}static newNoDocument(e,n){return new Rr(e,2,n,Ze.min(),Ze.min(),Yi.empty(),0)}static newUnknownDocument(e,n){return new Rr(e,3,n,Ze.min(),Ze.min(),Yi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Rr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Rr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,n){this.position=e,this.inclusive=n}}function V9(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ze.comparator(ze.fromName(s.referenceValue),n.key):r=df(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function z9(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ws(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,n="asc"){this.field=e,this.dir=n}}function wte(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{}class $n extends AL{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new bte(e,n,r):n==="array-contains"?new kte(e,r):n==="in"?new Tte(e,r):n==="not-in"?new Ate(e,r):n==="array-contains-any"?new Ite(e,r):new $n(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Ete(e,r):new Ste(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(df(n,this.value)):n!==null&&su(this.value)===su(n)&&this.matchesComparison(df(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Je()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Cs extends AL{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Cs(e,n)}matches(e){return IL(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function IL(t){return t.op==="and"}function RL(t){return Cte(t)&&IL(t)}function Cte(t){for(const e of t.filters)if(e instanceof Cs)return!1;return!0}function Tb(t){if(t instanceof $n)return t.field.canonicalString()+t.op.toString()+pf(t.value);if(RL(t))return t.filters.map(e=>Tb(e)).join(",");{const e=t.filters.map(n=>Tb(n)).join(",");return`${t.op}(${e})`}}function PL(t,e){return t instanceof $n?function(r,i){return i instanceof $n&&r.op===i.op&&r.field.isEqual(i.field)&&ws(r.value,i.value)}(t,e):t instanceof Cs?function(r,i){return i instanceof Cs&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&PL(s,i.filters[a]),!0):!1}(t,e):void Je()}function DL(t){return t instanceof $n?function(n){return`${n.field.canonicalString()} ${n.op} ${pf(n.value)}`}(t):t instanceof Cs?function(n){return n.op.toString()+" {"+n.getFilters().map(DL).join(" ,")+"}"}(t):"Filter"}class bte extends $n{constructor(e,n,r){super(e,n,r),this.key=ze.fromName(r.referenceValue)}matches(e){const n=ze.comparator(e.key,this.key);return this.matchesComparison(n)}}class Ete extends $n{constructor(e,n){super(e,"in",n),this.keys=ML("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Ste extends $n{constructor(e,n){super(e,"not-in",n),this.keys=ML("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ML(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ze.fromName(r.referenceValue))}class kte extends $n{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return a5(n)&&a0(n.arrayValue,this.value)}}class Tte extends $n{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&a0(this.value.arrayValue,n)}}class Ate extends $n{constructor(e,n){super(e,"not-in",n)}matches(e){if(a0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!a0(this.value.arrayValue,n)}}class Ite extends $n{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!a5(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>a0(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rte{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function j9(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Rte(t,e,n,r,i,o,s)}function l5(t){const e=tt(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Tb(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),gy(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>pf(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>pf(r)).join(",")),e.ue=n}return e.ue}function c5(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!wte(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!PL(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!z9(t.startAt,e.startAt)&&z9(t.endAt,e.endAt)}function Ab(t){return ze.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Pte(t,e,n,r,i,o,s,a){return new xy(t,e,n,r,i,o,s,a)}function u5(t){return new xy(t)}function $9(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Dte(t){return t.collectionGroup!==null}function xp(t){const e=tt(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new gr(ur.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Mx(o,r))}),n.has(ur.keyField().canonicalString())||e.ce.push(new Mx(ur.keyField(),r))}return e.ce}function ms(t){const e=tt(t);return e.le||(e.le=Mte(e,xp(t))),e.le}function Mte(t,e){if(t.limitType==="F")return j9(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Mx(i.field,o)});const n=t.endAt?new Dx(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Dx(t.startAt.position,t.startAt.inclusive):null;return j9(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ib(t,e,n){return new xy(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function vy(t,e){return c5(ms(t),ms(e))&&t.limitType===e.limitType}function NL(t){return`${l5(ms(t))}|lt:${t.limitType}`}function ih(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>DL(i)).join(", ")}]`),gy(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>pf(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>pf(i)).join(",")),`Target(${r})`}(ms(t))}; limitType=${t.limitType})`}function yy(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ze.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of xp(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const c=V9(s,a,l);return s.inclusive?c<=0:c<0}(r.startAt,xp(r),i)||r.endAt&&!function(s,a,l){const c=V9(s,a,l);return s.inclusive?c>=0:c>0}(r.endAt,xp(r),i))}(t,e)}function Nte(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function LL(t){return(e,n)=>{let r=!1;for(const i of xp(t)){const o=Lte(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Lte(t,e,n){const r=t.field.isKeyField()?ze.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return l!==null&&c!==null?df(l,c):Je()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Je()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){jf(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return SL(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ote=new hn(ze.comparator);function ua(){return Ote}const OL=new hn(ze.comparator);function qd(...t){let e=OL;for(const n of t)e=e.insert(n.key,n);return e}function FL(t){let e=OL;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Bc(){return vp()}function BL(){return vp()}function vp(){return new $f(t=>t.toString(),(t,e)=>t.isEqual(e))}const Fte=new hn(ze.comparator),Bte=new gr(ze.comparator);function ht(...t){let e=Bte;for(const n of t)e=e.add(n);return e}const Vte=new gr(Tt);function zte(){return Vte}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h5(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Px(e)?"-0":e}}function VL(t){return{integerValue:""+t}}function jte(t,e){return gte(e)?VL(e):h5(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(){this._=void 0}}function $te(t,e,n){return t instanceof Nx?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&o5(o)&&(o=s5(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof l0?jL(t,e):t instanceof c0?$L(t,e):function(i,o){const s=zL(i,o),a=H9(s)+H9(i.Pe);return kb(s)&&kb(i.Pe)?VL(a):h5(i.serializer,a)}(t,e)}function Hte(t,e,n){return t instanceof l0?jL(t,e):t instanceof c0?$L(t,e):n}function zL(t,e){return t instanceof Lx?function(r){return kb(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Nx extends _y{}class l0 extends _y{constructor(e){super(),this.elements=e}}function jL(t,e){const n=HL(e);for(const r of t.elements)n.some(i=>ws(i,r))||n.push(r);return{arrayValue:{values:n}}}class c0 extends _y{constructor(e){super(),this.elements=e}}function $L(t,e){let n=HL(e);for(const r of t.elements)n=n.filter(i=>!ws(i,r));return{arrayValue:{values:n}}}class Lx extends _y{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function H9(t){return En(t.integerValue||t.doubleValue)}function HL(t){return a5(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Ute(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof l0&&i instanceof l0||r instanceof c0&&i instanceof c0?ff(r.elements,i.elements,ws):r instanceof Lx&&i instanceof Lx?ws(r.Pe,i.Pe):r instanceof Nx&&i instanceof Nx}(t.transform,e.transform)}class Wte{constructor(e,n){this.version=e,this.transformResults=n}}class Do{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Do}static exists(e){return new Do(void 0,e)}static updateTime(e){return new Do(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function D1(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class wy{}function UL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new f5(t.key,Do.none()):new im(t.key,t.data,Do.none());{const n=t.data,r=Yi.empty();let i=new gr(ur.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Au(t.key,r,new Ao(i.toArray()),Do.none())}}function qte(t,e,n){t instanceof im?function(i,o,s){const a=i.value.clone(),l=W9(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Au?function(i,o,s){if(!D1(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=W9(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(WL(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function yp(t,e,n,r){return t instanceof im?function(o,s,a,l){if(!D1(o.precondition,s))return a;const c=o.value.clone(),u=q9(o.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Au?function(o,s,a,l){if(!D1(o.precondition,s))return a;const c=q9(o.fieldTransforms,l,s),u=s.data;return u.setAll(WL(o)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(o,s,a){return D1(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function Kte(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=zL(r.transform,i||null);o!=null&&(n===null&&(n=Yi.empty()),n.set(r.field,o))}return n||null}function U9(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ff(r,i,(o,s)=>Ute(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class im extends wy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Au extends wy{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function WL(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function W9(t,e,n){const r=new Map;Vt(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Hte(s,a,n[i]))}return r}function q9(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,$te(o,s,e))}return r}class f5 extends wy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Gte extends wy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jte{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&qte(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=yp(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=yp(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=BL();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=UL(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(Ze.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ht())}isEqual(e){return this.batchId===e.batchId&&ff(this.mutations,e.mutations,(n,r)=>U9(n,r))&&ff(this.baseMutations,e.baseMutations,(n,r)=>U9(n,r))}}class d5{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Vt(e.mutations.length===r.length);let i=function(){return Fte}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new d5(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qte=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yte{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var In,yt;function Xte(t){switch(t){default:return Je();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0}}function qL(t){if(t===void 0)return ca("GRPC error has no .code"),he.UNKNOWN;switch(t){case In.OK:return he.OK;case In.CANCELLED:return he.CANCELLED;case In.UNKNOWN:return he.UNKNOWN;case In.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case In.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case In.INTERNAL:return he.INTERNAL;case In.UNAVAILABLE:return he.UNAVAILABLE;case In.UNAUTHENTICATED:return he.UNAUTHENTICATED;case In.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case In.NOT_FOUND:return he.NOT_FOUND;case In.ALREADY_EXISTS:return he.ALREADY_EXISTS;case In.PERMISSION_DENIED:return he.PERMISSION_DENIED;case In.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case In.ABORTED:return he.ABORTED;case In.OUT_OF_RANGE:return he.OUT_OF_RANGE;case In.UNIMPLEMENTED:return he.UNIMPLEMENTED;case In.DATA_LOSS:return he.DATA_LOSS;default:return Je()}}(yt=In||(In={}))[yt.OK=0]="OK",yt[yt.CANCELLED=1]="CANCELLED",yt[yt.UNKNOWN=2]="UNKNOWN",yt[yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yt[yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yt[yt.NOT_FOUND=5]="NOT_FOUND",yt[yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",yt[yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",yt[yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",yt[yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yt[yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yt[yt.ABORTED=10]="ABORTED",yt[yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",yt[yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",yt[yt.INTERNAL=13]="INTERNAL",yt[yt.UNAVAILABLE=14]="UNAVAILABLE",yt[yt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zte(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ene=new Wc([4294967295,4294967295],0);function K9(t){const e=Zte().encode(t),n=new gL;return n.update(e),new Uint8Array(n.digest())}function G9(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Wc([n,r],0),new Wc([i,o],0)]}class p5{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Kd(`Invalid padding: ${n}`);if(r<0)throw new Kd(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Kd(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Kd(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Wc.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Wc.fromNumber(r)));return i.compare(ene)===1&&(i=new Wc([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=K9(e),[r,i]=G9(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new p5(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=K9(e),[r,i]=G9(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Kd extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,om.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Cy(Ze.min(),i,new hn(Tt),ua(),ht())}}class om{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new om(r,n,ht(),ht(),ht())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class KL{constructor(e,n){this.targetId=e,this.me=n}}class GL{constructor(e,n,r=vr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class J9{constructor(){this.fe=0,this.ge=Y9(),this.pe=vr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ht(),n=ht(),r=ht();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Je()}}),new om(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Y9()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Vt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class tne{constructor(e){this.Le=e,this.Be=new Map,this.ke=ua(),this.qe=Q9(),this.Qe=new hn(Tt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Je()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(Ab(o))if(r===0){const s=new ze(o.path);this.Ue(n,s,Rr.newNoDocument(s,Ze.min()))}else Vt(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=ou(r).toUint8Array()}catch(l){if(l instanceof kL)return hf("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new p5(s,i,o)}catch(l){return hf(l instanceof Kd?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&Ab(a.target)){const l=new ze(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,Rr.newNoDocument(l,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=ht();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new Cy(e,n,this.Qe,this.ke,r);return this.ke=ua(),this.qe=Q9(),this.Qe=new hn(Tt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new J9,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new gr(Tt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Pe("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new J9),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Q9(){return new hn(ze.comparator)}function Y9(){return new hn(ze.comparator)}const nne={asc:"ASCENDING",desc:"DESCENDING"},rne={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ine={and:"AND",or:"OR"};class one{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Rb(t,e){return t.useProto3Json||gy(e)?e:{value:e}}function Ox(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function JL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function sne(t,e){return Ox(t,e.toTimestamp())}function gs(t){return Vt(!!t),Ze.fromTimestamp(function(n){const r=zl(n);return new Wn(r.seconds,r.nanos)}(t))}function m5(t,e){return Pb(t,e).canonicalString()}function Pb(t,e){const n=function(i){return new nn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function QL(t){const e=nn.fromString(t);return Vt(tO(e)),e}function Db(t,e){return m5(t.databaseId,e.path)}function f2(t,e){const n=QL(e);if(n.get(1)!==t.databaseId.projectId)throw new Ve(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ve(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ze(XL(n))}function YL(t,e){return m5(t.databaseId,e)}function ane(t){const e=QL(t);return e.length===4?nn.emptyPath():XL(e)}function Mb(t){return new nn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function XL(t){return Vt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function X9(t,e,n){return{name:Db(t,e),fields:n.value.mapValue.fields}}function lne(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Je()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,u){return c.useProto3Json?(Vt(u===void 0||typeof u=="string"),vr.fromBase64String(u||"")):(Vt(u===void 0||u instanceof Buffer||u instanceof Uint8Array),vr.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const u=c.code===void 0?he.UNKNOWN:qL(c.code);return new Ve(u,c.message||"")}(s);n=new GL(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=f2(t,r.document.name),o=gs(r.document.updateTime),s=r.document.createTime?gs(r.document.createTime):Ze.min(),a=new Yi({mapValue:{fields:r.document.fields}}),l=Rr.newFoundDocument(i,o,s,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new M1(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=f2(t,r.document),o=r.readTime?gs(r.readTime):Ze.min(),s=Rr.newNoDocument(i,o),a=r.removedTargetIds||[];n=new M1([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=f2(t,r.document),o=r.removedTargetIds||[];n=new M1([],o,i,null)}else{if(!("filter"in e))return Je();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new Yte(i,o),a=r.targetId;n=new KL(a,s)}}return n}function cne(t,e){let n;if(e instanceof im)n={update:X9(t,e.key,e.value)};else if(e instanceof f5)n={delete:Db(t,e.key)};else if(e instanceof Au)n={update:X9(t,e.key,e.data),updateMask:vne(e.fieldMask)};else{if(!(e instanceof Gte))return Je();n={verify:Db(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Nx)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof l0)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof c0)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Lx)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Je()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:sne(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Je()}(t,e.precondition)),n}function une(t,e){return t&&t.length>0?(Vt(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?gs(i.updateTime):gs(o);return s.isEqual(Ze.min())&&(s=gs(o)),new Wte(s,i.transformResults||[])}(n,e))):[]}function hne(t,e){return{documents:[YL(t,e.path)]}}function fne(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=YL(t,i);const o=function(c){if(c.length!==0)return eO(Cs.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(u=>function(f){return{field:oh(f.field),direction:mne(f.dir)}}(u))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Rb(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function dne(t){let e=ane(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Vt(r===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let o=[];n.where&&(o=function(h){const f=ZL(h);return f instanceof Cs&&RL(f)?f.getFilters():[f]}(n.where));let s=[];n.orderBy&&(s=function(h){return h.map(f=>function(p){return new Mx(sh(p.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,gy(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,d=h.values||[];return new Dx(d,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,d=h.values||[];return new Dx(d,f)}(n.endAt)),Pte(e,i,s,o,a,"F",l,c)}function pne(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Je()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ZL(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=sh(n.unaryFilter.field);return $n.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=sh(n.unaryFilter.field);return $n.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=sh(n.unaryFilter.field);return $n.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=sh(n.unaryFilter.field);return $n.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Je()}}(t):t.fieldFilter!==void 0?function(n){return $n.create(sh(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Je()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Cs.create(n.compositeFilter.filters.map(r=>ZL(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Je()}}(n.compositeFilter.op))}(t):Je()}function mne(t){return nne[t]}function gne(t){return rne[t]}function xne(t){return ine[t]}function oh(t){return{fieldPath:t.canonicalString()}}function sh(t){return ur.fromServerFormat(t.fieldPath)}function eO(t){return t instanceof $n?function(n){if(n.op==="=="){if(B9(n.value))return{unaryFilter:{field:oh(n.field),op:"IS_NAN"}};if(F9(n.value))return{unaryFilter:{field:oh(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(B9(n.value))return{unaryFilter:{field:oh(n.field),op:"IS_NOT_NAN"}};if(F9(n.value))return{unaryFilter:{field:oh(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oh(n.field),op:gne(n.op),value:n.value}}}(t):t instanceof Cs?function(n){const r=n.getFilters().map(i=>eO(i));return r.length===1?r[0]:{compositeFilter:{op:xne(n.op),filters:r}}}(t):Je()}function vne(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function tO(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e,n,r,i,o=Ze.min(),s=Ze.min(),a=vr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new fl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yne{constructor(e){this.ct=e}}function _ne(t){const e=dne({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ib(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wne{constructor(){this.un=new Cne}addToCollectionParentIndex(e,n){return this.un.add(n),ce.resolve()}getCollectionParents(e,n){return ce.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return ce.resolve()}deleteFieldIndex(e,n){return ce.resolve()}deleteAllFieldIndexes(e){return ce.resolve()}createTargetIndexes(e,n){return ce.resolve()}getDocumentsMatchingTarget(e,n){return ce.resolve(null)}getIndexType(e,n){return ce.resolve(0)}getFieldIndexes(e,n){return ce.resolve([])}getNextCollectionGroupToUpdate(e){return ce.resolve(null)}getMinOffset(e,n){return ce.resolve(Vl.min())}getMinOffsetFromCollectionGroup(e,n){return ce.resolve(Vl.min())}updateCollectionGroup(e,n,r){return ce.resolve()}updateIndexEntries(e,n){return ce.resolve()}}class Cne{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new gr(nn.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new gr(nn.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new mf(0)}static kn(){return new mf(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bne{constructor(){this.changes=new $f(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Rr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ce.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ene{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sne{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&yp(r.mutation,i,Ao.empty(),Wn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ht()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ht()){const i=Bc();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=qd();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Bc();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ht()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=ua();const s=vp(),a=function(){return vp()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Au)?o=o.insert(c.key,c):u!==void 0?(s.set(c.key,u.mutation.getFieldMask()),yp(u.mutation,c,u.mutation.getFieldMask(),Wn.now())):s.set(c.key,Ao.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,u)=>s.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new Ene(u,(h=s.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=vp();let i=new hn((s,a)=>s-a),o=ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Ao.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(i.get(a.batchId)||ht()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=BL();u.forEach(f=>{if(!o.has(f)){const d=UL(n.get(f),r.get(f));d!==null&&h.set(f,d),o=o.add(f)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,h))}return ce.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ze.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Dte(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):ce.resolve(Bc());let a=-1,l=o;return s.next(c=>ce.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(u)?ce.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,ht())).next(u=>({batchId:a,changes:FL(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ze(n)).next(r=>{let i=qd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=qd();return this.indexManager.getCollectionParents(e,o).next(a=>ce.forEach(a,l=>{const c=function(h,f){return new xy(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((h,f)=>{s=s.insert(h,f)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,c)=>{const u=c.getKey();s.get(u)===null&&(s=s.insert(u,Rr.newInvalidDocument(u)))});let a=qd();return s.forEach((l,c)=>{const u=o.get(l);u!==void 0&&yp(u.mutation,c,Ao.empty(),Wn.now()),yy(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kne{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return ce.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:gs(i.createTime)}}(n)),ce.resolve()}getNamedQuery(e,n){return ce.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:_ne(i.bundledQuery),readTime:gs(i.readTime)}}(n)),ce.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tne{constructor(){this.overlays=new hn(ze.comparator),this.Ir=new Map}getOverlay(e,n){return ce.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Bc();return ce.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),ce.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),ce.resolve()}getOverlaysForCollection(e,n,r){const i=Bc(),o=n.length+1,s=new ze(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return ce.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new hn((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=o.get(c.largestBatchId);u===null&&(u=Bc(),o=o.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Bc(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return ce.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Qte(n,r));let o=this.Ir.get(n);o===void 0&&(o=ht(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ane{constructor(){this.sessionToken=vr.EMPTY_BYTE_STRING}getSessionToken(e){return ce.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ce.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{constructor(){this.Tr=new gr(Gn.Er),this.dr=new gr(Gn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Gn(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Gn(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ze(new nn([])),r=new Gn(n,e),i=new Gn(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ze(new nn([])),r=new Gn(n,e),i=new Gn(n,e+1);let o=ht();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new Gn(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Gn{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ze.comparator(e.key,n.key)||Tt(e.wr,n.wr)}static Ar(e,n){return Tt(e.wr,n.wr)||ze.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ine{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new gr(Gn.Er)}checkEmpty(e){return ce.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Jte(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new Gn(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ce.resolve(s)}lookupMutationBatch(e,n){return ce.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return ce.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ce.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ce.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Gn(n,0),i=new Gn(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),ce.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new gr(Tt);return n.forEach(i=>{const o=new Gn(i,0),s=new Gn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),ce.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ze.isDocumentKey(o)||(o=o.child(""));const s=new Gn(new ze(o),0);let a=new gr(Tt);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.wr)),!0)},s),ce.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Vt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return ce.forEach(n.mutations,i=>{const o=new Gn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Gn(n,0),i=this.br.firstAfterOrEqual(r);return ce.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ce.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rne{constructor(e){this.Mr=e,this.docs=function(){return new hn(ze.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ce.resolve(r?r.document.mutableCopy():Rr.newInvalidDocument(n))}getEntries(e,n){let r=ua();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Rr.newInvalidDocument(i))}),ce.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=ua();const s=n.path,a=new ze(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||fte(hte(u),r)<=0||(i.has(u.key)||yy(n,u))&&(o=o.insert(u.key,u.mutableCopy()))}return ce.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Je()}Or(e,n){return ce.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Pne(this)}getSize(e){return ce.resolve(this.size)}}class Pne extends bne{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),ce.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dne{constructor(e){this.persistence=e,this.Nr=new $f(n=>l5(n),c5),this.lastRemoteSnapshotVersion=Ze.min(),this.highestTargetId=0,this.Lr=0,this.Br=new g5,this.targetCount=0,this.kr=mf.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),ce.resolve()}getLastRemoteSnapshotVersion(e){return ce.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ce.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ce.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),ce.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new mf(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,ce.resolve()}updateTargetData(e,n){return this.Kn(n),ce.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,ce.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),ce.waitFor(o).next(()=>i)}getTargetCount(e){return ce.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return ce.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),ce.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),ce.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),ce.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return ce.resolve(r)}containsKey(e,n){return ce.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mne{constructor(e,n){this.qr={},this.overlays={},this.Qr=new i5(0),this.Kr=!1,this.Kr=!0,this.$r=new Ane,this.referenceDelegate=e(this),this.Ur=new Dne(this),this.indexManager=new wne,this.remoteDocumentCache=function(i){return new Rne(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new yne(n),this.Gr=new kne(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Tne,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Ine(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Pe("MemoryPersistence","Starting transaction:",e);const i=new Nne(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return ce.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class Nne extends pte{constructor(e){super(),this.currentSequenceNumber=e}}class x5{constructor(e){this.persistence=e,this.Jr=new g5,this.Yr=null}static Zr(e){return new x5(e)}get Xr(){if(this.Yr)return this.Yr;throw Je()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),ce.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),ce.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),ce.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ce.forEach(this.Xr,r=>{const i=ze.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,Ze.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return ce.or([()=>ce.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v5{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ht(),i=ht();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new v5(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lne{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class One{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return FZ()?8:mte(Nr())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Lne;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(kd()<=mt.DEBUG&&Pe("QueryEngine","SDK will not create cache indexes for query:",ih(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ce.resolve()):(kd()<=mt.DEBUG&&Pe("QueryEngine","Query:",ih(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(kd()<=mt.DEBUG&&Pe("QueryEngine","The SDK decides to create cache indexes for query:",ih(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ms(n))):ce.resolve())}Yi(e,n){if($9(n))return ce.resolve(null);let r=ms(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ib(n,null,"F"),r=ms(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=ht(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,s,l.readTime)?this.Yi(e,Ib(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,i){return $9(n)||i.isEqual(Ze.min())?ce.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?ce.resolve(null):(kd()<=mt.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ih(n)),this.rs(e,s,n,ute(i,-1)).next(a=>a))})}ts(e,n){let r=new gr(LL(e));return n.forEach((i,o)=>{yy(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return kd()<=mt.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",ih(n)),this.Ji.getDocumentsMatchingQuery(e,n,Vl.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fne{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new hn(Tt),this._s=new $f(o=>l5(o),c5),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Sne(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function Bne(t,e,n,r){return new Fne(t,e,n,r)}async function nO(t,e){const n=tt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=ht();for(const c of i){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of o){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:s,addedBatchIds:a}))})})}function Vne(t,e){const n=tt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,f=h.keys();let d=ce.resolve();return f.forEach(p=>{d=d.next(()=>u.getEntry(l,p)).next(m=>{const v=c.docVersions.get(p);Vt(v!==null),m.version.compareTo(v)<0&&(h.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),u.addEntry(m)))})}),d.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ht();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function rO(t){const e=tt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function zne(t,e){const n=tt(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((u,h)=>{const f=i.get(h);if(!f)return;a.push(n.Ur.removeMatchingKeys(o,u.removedDocuments,h).next(()=>n.Ur.addMatchingKeys(o,u.addedDocuments,h)));let d=f.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(h)!==null?d=d.withResumeToken(vr.EMPTY_BYTE_STRING,Ze.min()).withLastLimboFreeSnapshotVersion(Ze.min()):u.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(u.resumeToken,r)),i=i.insert(h,d),function(m,v,x){return m.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(f,d,u)&&a.push(n.Ur.updateTargetData(o,d))});let l=ua(),c=ht();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(jne(o,s,e.documentUpdates).next(u=>{l=u.Ps,c=u.Is})),!r.isEqual(Ze.min())){const u=n.Ur.getLastRemoteSnapshotVersion(o).next(h=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(u)}return ce.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(n.os=i,o))}function jne(t,e,n){let r=ht(),i=ht();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=ua();return n.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Ze.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):Pe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function $ne(t,e){const n=tt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Hne(t,e){const n=tt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,ce.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new fl(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Nb(t,e,n){const r=tt(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!rm(s))throw s;Pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function Z9(t,e,n){const r=tt(t);let i=Ze.min(),o=ht();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const h=tt(l),f=h._s.get(u);return f!==void 0?ce.resolve(h.os.get(f)):h.Ur.getTargetData(c,u)}(r,s,ms(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:Ze.min(),n?o:ht())).next(a=>(Une(r,Nte(e),a),{documents:a,Ts:o})))}function Une(t,e,n){let r=t.us.get(e)||Ze.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class e6{constructor(){this.activeTargetIds=zte()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Wne{constructor(){this.so=new e6,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new e6,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qne{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ag=null;function d2(){return Ag===null?Ag=function(){return 268435456+Math.round(2147483648*Math.random())}():Ag++,"0x"+Ag.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kne={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gne{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr="WebChannelConnection";class Jne extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const a=d2(),l=this.xo(n,r.toUriEncodedString());Pe("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,o,s),this.No(n,l,c,i).then(u=>(Pe("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw hf("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",i),u})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zf}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=Kne[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=d2();return new Promise((s,a)=>{const l=new xL;l.setWithCredentials(!0),l.listenOnce(yL.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case R1.NO_ERROR:const u=l.getResponseJson();Pe(kr,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case R1.TIMEOUT:Pe(kr,`RPC '${e}' ${o} timed out`),a(new Ve(he.DEADLINE_EXCEEDED,"Request time out"));break;case R1.HTTP_ERROR:const h=l.getStatus();if(Pe(kr,`RPC '${e}' ${o} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const d=f==null?void 0:f.error;if(d&&d.status&&d.message){const p=function(v){const x=v.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(x)>=0?x:he.UNKNOWN}(d.status);a(new Ve(p,d.message))}else a(new Ve(he.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Ve(he.UNAVAILABLE,"Connection failed."));break;default:Je()}}finally{Pe(kr,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);Pe(kr,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=d2(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=CL(),a=wL(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new vL({})),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=o.join("");Pe(kr,`Creating RPC '${e}' stream ${i}: ${u}`,l);const h=s.createWebChannel(u,l);let f=!1,d=!1;const p=new Gne({Io:v=>{d?Pe(kr,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(f||(Pe(kr,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),Pe(kr,`RPC '${e}' stream ${i} sending:`,v),h.send(v))},To:()=>h.close()}),m=(v,x,y)=>{v.listen(x,_=>{try{y(_)}catch(C){setTimeout(()=>{throw C},0)}})};return m(h,Wd.EventType.OPEN,()=>{d||(Pe(kr,`RPC '${e}' stream ${i} transport opened.`),p.yo())}),m(h,Wd.EventType.CLOSE,()=>{d||(d=!0,Pe(kr,`RPC '${e}' stream ${i} transport closed`),p.So())}),m(h,Wd.EventType.ERROR,v=>{d||(d=!0,hf(kr,`RPC '${e}' stream ${i} transport errored:`,v),p.So(new Ve(he.UNAVAILABLE,"The operation could not be completed")))}),m(h,Wd.EventType.MESSAGE,v=>{var x;if(!d){const y=v.data[0];Vt(!!y);const _=y,C=_.error||((x=_[0])===null||x===void 0?void 0:x.error);if(C){Pe(kr,`RPC '${e}' stream ${i} received error:`,C);const S=C.status;let T=function(I){const E=In[I];if(E!==void 0)return qL(E)}(S),b=C.message;T===void 0&&(T=he.INTERNAL,b="Unknown error status: "+S+" with message "+C.message),d=!0,p.So(new Ve(T,b)),h.close()}else Pe(kr,`RPC '${e}' stream ${i} received:`,y),p.bo(y)}}),m(a,_L.STAT_EVENT,v=>{v.stat===Eb.PROXY?Pe(kr,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===Eb.NOPROXY&&Pe(kr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.wo()},0),p}}function p2(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(t){return new one(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e,n,r,i,o,s,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new iO(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===he.RESOURCE_EXHAUSTED?(ca(n.toString()),ca("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new Ve(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Qne extends oO{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=lne(this.serializer,e),r=function(o){if(!("targetChange"in o))return Ze.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Ze.min():s.readTime?gs(s.readTime):Ze.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Mb(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=Ab(l)?{documents:hne(o,l)}:{query:fne(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=JL(o,s.resumeToken);const c=Rb(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(Ze.min())>0){a.readTime=Ox(o,s.snapshotVersion.toTimestamp());const c=Rb(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=pne(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Mb(this.serializer),n.removeTarget=e,this.a_(n)}}class Yne extends oO{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Vt(!!e.streamToken),this.lastStreamToken=e.streamToken,Vt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Vt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=une(e.writeResults,e.commitTime),r=gs(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Mb(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>cne(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xne extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new Ve(he.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,Pb(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ve(he.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,Pb(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ve(he.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Zne{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ca(n),this.D_=!1):Pe("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ere{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{Iu(this)&&(Pe("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=tt(l);c.L_.add(4),await sm(c),c.q_.set("Unknown"),c.L_.delete(4),await Ey(c)}(this))})}),this.q_=new Zne(r,i)}}async function Ey(t){if(Iu(t))for(const e of t.B_)await e(!0)}async function sm(t){for(const e of t.B_)await e(!1)}function sO(t,e){const n=tt(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),C5(n)?w5(n):Hf(n).r_()&&_5(n,e))}function y5(t,e){const n=tt(t),r=Hf(n);n.N_.delete(e),r.r_()&&aO(n,e),n.N_.size===0&&(r.r_()?r.o_():Iu(n)&&n.q_.set("Unknown"))}function _5(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ze.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Hf(t).A_(e)}function aO(t,e){t.Q_.xe(e),Hf(t).R_(e)}function w5(t){t.Q_=new tne({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Hf(t).start(),t.q_.v_()}function C5(t){return Iu(t)&&!Hf(t).n_()&&t.N_.size>0}function Iu(t){return tt(t).L_.size===0}function lO(t){t.Q_=void 0}async function tre(t){t.q_.set("Online")}async function nre(t){t.N_.forEach((e,n)=>{_5(t,e)})}async function rre(t,e){lO(t),C5(t)?(t.q_.M_(e),w5(t)):t.q_.set("Unknown")}async function ire(t,e,n){if(t.q_.set("Online"),e instanceof GL&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){Pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Fx(t,r)}else if(e instanceof M1?t.Q_.Ke(e):e instanceof KL?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Ze.min()))try{const r=await rO(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=o.N_.get(c);u&&o.N_.set(c,u.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const u=o.N_.get(l);if(!u)return;o.N_.set(l,u.withResumeToken(vr.EMPTY_BYTE_STRING,u.snapshotVersion)),aO(o,l);const h=new fl(u.target,l,c,u.sequenceNumber);_5(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Pe("RemoteStore","Failed to raise snapshot:",r),await Fx(t,r)}}async function Fx(t,e,n){if(!rm(e))throw e;t.L_.add(1),await sm(t),t.q_.set("Offline"),n||(n=()=>rO(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Pe("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Ey(t)})}function cO(t,e){return e().catch(n=>Fx(t,n,e))}async function Sy(t){const e=tt(t),n=jl(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;ore(e);)try{const i=await $ne(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,sre(e,i)}catch(i){await Fx(e,i)}uO(e)&&hO(e)}function ore(t){return Iu(t)&&t.O_.length<10}function sre(t,e){t.O_.push(e);const n=jl(t);n.r_()&&n.V_&&n.m_(e.mutations)}function uO(t){return Iu(t)&&!jl(t).n_()&&t.O_.length>0}function hO(t){jl(t).start()}async function are(t){jl(t).p_()}async function lre(t){const e=jl(t);for(const n of t.O_)e.m_(n.mutations)}async function cre(t,e,n){const r=t.O_.shift(),i=d5.from(r,e,n);await cO(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Sy(t)}async function ure(t,e){e&&jl(t).V_&&await async function(r,i){if(function(s){return Xte(s)&&s!==he.ABORTED}(i.code)){const o=r.O_.shift();jl(r).s_(),await cO(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Sy(r)}}(t,e),uO(t)&&hO(t)}async function n6(t,e){const n=tt(t);n.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const r=Iu(n);n.L_.add(3),await sm(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Ey(n)}async function hre(t,e){const n=tt(t);e?(n.L_.delete(2),await Ey(n)):e||(n.L_.add(2),await sm(n),n.q_.set("Unknown"))}function Hf(t){return t.K_||(t.K_=function(n,r,i){const o=tt(n);return o.w_(),new Qne(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:tre.bind(null,t),Ro:nre.bind(null,t),mo:rre.bind(null,t),d_:ire.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),C5(t)?w5(t):t.q_.set("Unknown")):(await t.K_.stop(),lO(t))})),t.K_}function jl(t){return t.U_||(t.U_=function(n,r,i){const o=tt(n);return o.w_(),new Yne(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:are.bind(null,t),mo:ure.bind(null,t),f_:lre.bind(null,t),g_:cre.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Sy(t)):(await t.U_.stop(),t.O_.length>0&&(Pe("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Rl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new b5(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ve(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function E5(t,e){if(ca("AsyncQueue",`${e}: ${t}`),rm(t))return new Ve(he.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ze.comparator(n.key,r.key):(n,r)=>ze.comparator(n.key,r.key),this.keyedMap=qd(),this.sortedSet=new hn(this.comparator)}static emptySet(e){return new Bh(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Bh)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Bh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(){this.W_=new hn(ze.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Je():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class gf{constructor(e,n,r,i,o,s,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new gf(e,n,Bh.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fre{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class dre{constructor(){this.queries=i6(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=tt(n),o=i.queries;i.queries=i6(),o.forEach((s,a)=>{for(const l of a.j_)l.onError(r)})})(this,new Ve(he.ABORTED,"Firestore shutting down"))}}function i6(){return new $f(t=>NL(t),vy)}async function pre(t,e){const n=tt(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new fre,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=E5(s,`Initialization of query '${ih(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&S5(n)}async function mre(t,e){const n=tt(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function gre(t,e){const n=tt(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&S5(n)}function xre(t,e,n){const r=tt(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function S5(t){t.Y_.forEach(e=>{e.next()})}var Lb,o6;(o6=Lb||(Lb={})).ea="default",o6.Cache="cache";class vre{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new gf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=gf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Lb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e){this.key=e}}class dO{constructor(e){this.key=e}}class yre{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ht(),this.mutatedKeys=ht(),this.Aa=LL(e),this.Ra=new Bh(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new r6,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,h)=>{const f=i.get(u),d=yy(this.query,h)?h:null,p=!!f&&this.mutatedKeys.has(f.key),m=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let v=!1;f&&d?f.data.isEqual(d.data)?p!==m&&(r.track({type:3,doc:d}),v=!0):this.ga(f,d)||(r.track({type:2,doc:d}),v=!0,(l&&this.Aa(d,l)>0||c&&this.Aa(d,c)<0)&&(a=!0)):!f&&d?(r.track({type:0,doc:d}),v=!0):f&&!d&&(r.track({type:1,doc:f}),v=!0,(l||c)&&(a=!0)),v&&(d?(s=s.add(d),o=m?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const u=this.query.limitType==="F"?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),r.track({type:1,doc:u})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((u,h)=>function(d,p){const m=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Je()}};return m(d)-m(p)}(u.type,h.type)||this.Aa(u.doc,h.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,c=l!==this.Ea;return this.Ea=l,s.length!==0||c?{snapshot:new gf(this.query,e.Ra,o,s,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new r6,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ht(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new dO(r))}),this.da.forEach(r=>{e.has(r)||n.push(new fO(r))}),n}ba(e){this.Ta=e.Ts,this.da=ht();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return gf.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class _re{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class wre{constructor(e){this.key=e,this.va=!1}}class Cre{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new $f(a=>NL(a),vy),this.Ma=new Map,this.xa=new Set,this.Oa=new hn(ze.comparator),this.Na=new Map,this.La=new g5,this.Ba={},this.ka=new Map,this.qa=mf.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function bre(t,e,n=!0){const r=yO(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await pO(r,e,n,!0),i}async function Ere(t,e){const n=yO(t);await pO(n,e,!0,!1)}async function pO(t,e,n,r){const i=await Hne(t.localStore,ms(e)),o=i.targetId,s=n?t.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=await Sre(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&sO(t.remoteStore,i),a}async function Sre(t,e,n,r,i){t.Ka=(h,f,d)=>async function(m,v,x,y){let _=v.view.ma(x);_.ns&&(_=await Z9(m.localStore,v.query,!1).then(({documents:b})=>v.view.ma(b,_)));const C=y&&y.targetChanges.get(v.targetId),S=y&&y.targetMismatches.get(v.targetId)!=null,T=v.view.applyChanges(_,m.isPrimaryClient,C,S);return a6(m,v.targetId,T.wa),T.snapshot}(t,h,f,d);const o=await Z9(t.localStore,e,!0),s=new yre(e,o.Ts),a=s.ma(o.documents),l=om.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(a,t.isPrimaryClient,l);a6(t,n,c.wa);const u=new _re(e,n,s);return t.Fa.set(e,u),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function kre(t,e,n){const r=tt(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!vy(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Nb(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&y5(r.remoteStore,i.targetId),Ob(r,i.targetId)}).catch(nm)):(Ob(r,i.targetId),await Nb(r.localStore,i.targetId,!0))}async function Tre(t,e){const n=tt(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),y5(n.remoteStore,r.targetId))}async function Are(t,e,n){const r=Lre(t);try{const i=await function(s,a){const l=tt(s),c=Wn.now(),u=a.reduce((d,p)=>d.add(p.key),ht());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",d=>{let p=ua(),m=ht();return l.cs.getEntries(d,u).next(v=>{p=v,p.forEach((x,y)=>{y.isValidDocument()||(m=m.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(d,p)).next(v=>{h=v;const x=[];for(const y of a){const _=Kte(y,h.get(y.key).overlayedDocument);_!=null&&x.push(new Au(y.key,_,TL(_.value.mapValue),Do.exists(!0)))}return l.mutationQueue.addMutationBatch(d,c,x,a)}).next(v=>{f=v;const x=v.applyToLocalDocumentSet(h,m);return l.documentOverlayCache.saveOverlays(d,v.batchId,x)})}).then(()=>({batchId:f.batchId,changes:FL(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let c=s.Ba[s.currentUser.toKey()];c||(c=new hn(Tt)),c=c.insert(a,l),s.Ba[s.currentUser.toKey()]=c}(r,i.batchId,n),await am(r,i.changes),await Sy(r.remoteStore)}catch(i){const o=E5(i,"Failed to persist write");n.reject(o)}}async function mO(t,e){const n=tt(t);try{const r=await zne(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(Vt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Vt(s.va):i.removedDocuments.size>0&&(Vt(s.va),s.va=!1))}),await am(n,r,e)}catch(r){await nm(r)}}function s6(t,e,n){const r=tt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=tt(s);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const f of h.j_)f.Z_(a)&&(c=!0)}),c&&S5(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Ire(t,e,n){const r=tt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new hn(ze.comparator);s=s.insert(o,Rr.newNoDocument(o,Ze.min()));const a=ht().add(o),l=new Cy(Ze.min(),new Map,new hn(Tt),s,a);await mO(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),k5(r)}else await Nb(r.localStore,e,!1).then(()=>Ob(r,e,n)).catch(nm)}async function Rre(t,e){const n=tt(t),r=e.batch.batchId;try{const i=await Vne(n.localStore,e);xO(n,r,null),gO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await am(n,i)}catch(i){await nm(i)}}async function Pre(t,e,n){const r=tt(t);try{const i=await function(s,a){const l=tt(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Vt(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);xO(r,e,n),gO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await am(r,i)}catch(i){await nm(i)}}function gO(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function xO(t,e,n){const r=tt(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Ob(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||vO(t,r)})}function vO(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(y5(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),k5(t))}function a6(t,e,n){for(const r of n)r instanceof fO?(t.La.addReference(r.key,e),Dre(t,r)):r instanceof dO?(Pe("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||vO(t,r.key)):Je()}function Dre(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Pe("SyncEngine","New document in limbo: "+n),t.xa.add(r),k5(t))}function k5(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ze(nn.fromString(e)),r=t.qa.next();t.Na.set(r,new wre(n)),t.Oa=t.Oa.insert(n,r),sO(t.remoteStore,new fl(ms(u5(n.path)),r,"TargetPurposeLimboResolution",i5.oe))}}async function am(t,e,n){const r=tt(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{s.push(r.Ka(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=v5.Wi(l.targetId,c);o.push(h)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(l,c){const u=tt(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>ce.forEach(c,f=>ce.forEach(f.$i,d=>u.persistence.referenceDelegate.addReference(h,f.targetId,d)).next(()=>ce.forEach(f.Ui,d=>u.persistence.referenceDelegate.removeReference(h,f.targetId,d)))))}catch(h){if(!rm(h))throw h;Pe("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const d=u.os.get(f),p=d.snapshotVersion,m=d.withLastLimboFreeSnapshotVersion(p);u.os=u.os.insert(f,m)}}}(r.localStore,o))}async function Mre(t,e){const n=tt(t);if(!n.currentUser.isEqual(e)){Pe("SyncEngine","User change. New user:",e.toKey());const r=await nO(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new Ve(he.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await am(n,r.hs)}}function Nre(t,e){const n=tt(t),r=n.Na.get(e);if(r&&r.va)return ht().add(r.key);{let i=ht();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function yO(t){const e=tt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=mO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Nre.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ire.bind(null,e),e.Ca.d_=gre.bind(null,e.eventManager),e.Ca.$a=xre.bind(null,e.eventManager),e}function Lre(t){const e=tt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Rre.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Pre.bind(null,e),e}class l6{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=by(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return Bne(this.persistence,new One,e.initialUser,this.serializer)}createPersistence(e){return new Mne(x5.Zr,this.serializer)}createSharedClientState(e){return new Wne}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Ore{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>s6(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Mre.bind(null,this.syncEngine),await hre(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new dre}()}createDatastore(e){const n=by(e.databaseInfo.databaseId),r=function(o){return new Jne(o)}(e.databaseInfo);return function(o,s,a,l){return new Xne(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new ere(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>s6(this.syncEngine,n,0),function(){return t6.D()?new t6:new qne}())}createSyncEngine(e,n){return function(i,o,s,a,l,c,u){const h=new Cre(i,o,s,a,l,c);return u&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=tt(i);Pe("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await sm(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fre{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):ca("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bre{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Tr.UNAUTHENTICATED,this.clientId=EL.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{Pe("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Pe("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ve(he.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Rl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=E5(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function m2(t,e){t.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await nO(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function c6(t,e){t.asyncQueue.verifyOperationInProgress();const n=await zre(t);Pe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>n6(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>n6(e.remoteStore,i)),t._onlineComponents=e}function Vre(t){return t.name==="FirebaseError"?t.code===he.FAILED_PRECONDITION||t.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function zre(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Pe("FirestoreClient","Using user provided OfflineComponentProvider");try{await m2(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Vre(n))throw n;hf("Error using user provided cache. Falling back to memory cache: "+n),await m2(t,new l6)}}else Pe("FirestoreClient","Using default OfflineComponentProvider"),await m2(t,new l6);return t._offlineComponents}async function _O(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Pe("FirestoreClient","Using user provided OnlineComponentProvider"),await c6(t,t._uninitializedComponentsProvider._online)):(Pe("FirestoreClient","Using default OnlineComponentProvider"),await c6(t,new Ore))),t._onlineComponents}function jre(t){return _O(t).then(e=>e.syncEngine)}async function $re(t){const e=await _O(t),n=e.eventManager;return n.onListen=bre.bind(null,e.syncEngine),n.onUnlisten=kre.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Ere.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Tre.bind(null,e.syncEngine),n}function Hre(t,e,n={}){const r=new Rl;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,c){const u=new Fre({next:f=>{s.enqueueAndForget(()=>mre(o,h));const d=f.docs.has(a);!d&&f.fromCache?c.reject(new Ve(he.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&f.fromCache&&l&&l.source==="server"?c.reject(new Ve(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new vre(u5(a.path),u,{includeMetadataChanges:!0,_a:!0});return pre(o,h)}(await $re(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wO(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CO(t,e,n){if(!n)throw new Ve(he.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Ure(t,e,n,r){if(e===!0&&r===!0)throw new Ve(he.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function h6(t){if(!ze.isDocumentKey(t))throw new Ve(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function f6(t){if(ze.isDocumentKey(t))throw new Ve(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function T5(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Je()}function au(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ve(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=T5(t);throw new Ve(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ve(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ve(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Ure("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wO((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Ve(he.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Ve(he.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Ve(he.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ky{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new d6({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ve(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Ve(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new d6(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new tte;switch(r.type){case"firstParty":return new ote(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ve(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=u6.get(n);r&&(Pe("ComponentProvider","Removing Datastore"),u6.delete(n),r.terminate())}(this),Promise.resolve()}}function Wre(t,e,n,r={}){var i;const o=(t=au(t,ky))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&hf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Tr.MOCK_USER;else{a=PZ(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Ve(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Tr(c)}t._authCredentials=new nte(new bL(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new A5(this.firestore,e,this._query)}}class Ni{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ni(this.firestore,e,this._key)}}class Pl extends A5{constructor(e,n,r){super(e,n,u5(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ni(this.firestore,null,new ze(e))}withConverter(e){return new Pl(this.firestore,e,this._path)}}function qre(t,e,...n){if(t=xi(t),CO("collection","path",e),t instanceof ky){const r=nn.fromString(e,...n);return f6(r),new Pl(t,null,r)}{if(!(t instanceof Ni||t instanceof Pl))throw new Ve(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(nn.fromString(e,...n));return f6(r),new Pl(t.firestore,null,r)}}function lm(t,e,...n){if(t=xi(t),arguments.length===1&&(e=EL.newId()),CO("doc","path",e),t instanceof ky){const r=nn.fromString(e,...n);return h6(r),new Ni(t,null,new ze(r))}{if(!(t instanceof Ni||t instanceof Pl))throw new Ve(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(nn.fromString(e,...n));return h6(r),new Ni(t.firestore,t instanceof Pl?t.converter:null,new ze(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kre{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new iO(this,"async_queue_retry"),this.Eu=()=>{const n=p2();n&&Pe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=p2();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=p2();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new Rl;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!rm(e))throw e;Pe("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw ca("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const i=b5.createAndSchedule(this,e,n,r,o=>this.Vu(o));return this.lu.push(i),i}du(){this.hu&&Je()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}class cm extends ky{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Kre}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||EO(this),this._firestoreClient.terminate()}}function Gre(t,e){const n=typeof t=="object"?t:dL(),r=typeof t=="string"?t:"(default)",i=n5(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=IZ("firestore");o&&Wre(i,...o)}return i}function bO(t){return t._firestoreClient||EO(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function EO(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,c,u){return new vte(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,wO(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Bre(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xf(vr.fromBase64String(e))}catch(n){throw new Ve(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xf(vr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ve(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ur(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ve(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ve(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Tt(this._lat,e._lat)||Tt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jre=/^__.*__$/;class Qre{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Au(e,this.data,this.fieldMask,n,this.fieldTransforms):new im(e,this.data,n,this.fieldTransforms)}}function kO(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Je()}}class D5{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.yu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new D5(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Bx(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(kO(this.wu)&&Jre.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class Yre{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||by(e)}Nu(e,n,r,i=!1){return new D5({wu:e,methodName:n,Ou:r,path:ur.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function TO(t){const e=t._freezeSettings(),n=by(t._databaseId);return new Yre(t._databaseId,!!e.ignoreUndefinedProperties,n)}function AO(t,e,n,r,i,o={}){const s=t.Nu(o.merge||o.mergeFields?2:0,e,n,i);DO("Data must be an object, but it was:",s,r);const a=RO(r,s);let l,c;if(o.merge)l=new Ao(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const h of o.mergeFields){const f=Xre(e,h,n);if(!s.contains(f))throw new Ve(he.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);eie(u,f)||u.push(f)}l=new Ao(u),c=s.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=s.fieldTransforms;return new Qre(new Yi(a),l,c)}function IO(t,e){if(PO(t=xi(t)))return DO("Unsupported field value:",e,t),RO(t,e);if(t instanceof SO)return function(r,i){if(!kO(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=IO(a,i.Fu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=xi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return jte(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Wn.fromDate(r);return{timestampValue:Ox(i.serializer,o)}}if(r instanceof Wn){const o=new Wn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ox(i.serializer,o)}}if(r instanceof R5)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof xf)return{bytesValue:JL(i.serializer,r._byteString)};if(r instanceof Ni){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:m5(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof P5)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Mu("VectorValues must only contain numeric values.");return h5(a.serializer,l)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${T5(r)}`)}(t,e)}function RO(t,e){const n={};return SL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):jf(t,(r,i)=>{const o=IO(i,e.bu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function PO(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Wn||t instanceof R5||t instanceof xf||t instanceof Ni||t instanceof SO||t instanceof P5)}function DO(t,e,n){if(!PO(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=T5(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function Xre(t,e,n){if((e=xi(e))instanceof I5)return e._internalPath;if(typeof e=="string")return MO(t,e);throw Bx("Field path arguments must be of type string or ",t,!1,void 0,n)}const Zre=new RegExp("[~\\*/\\[\\]]");function MO(t,e,n){if(e.search(Zre)>=0)throw Bx(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new I5(...e.split("."))._internalPath}catch{throw Bx(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Bx(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new Ve(he.INVALID_ARGUMENT,a+t+l)}function eie(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ni(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new tie(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(LO("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class tie extends NO{data(){return super.data()}}function LO(t,e){return typeof e=="string"?MO(t,e):e instanceof I5?e._internalPath:e._delegate._internalPath}class nie{convertValue(e,n="none"){switch(su(e)){case 0:return null;case 1:return e.booleanValue;case 2:return En(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ou(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Je()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return jf(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>En(s.doubleValue));return new P5(o)}convertGeoPoint(e){return new R5(En(e.latitude),En(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=s5(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(o0(e));default:return null}}convertTimestamp(e){const n=zl(e);return new Wn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=nn.fromString(e);Vt(tO(r));const i=new s0(r.get(1),r.get(3)),o=new ze(r.popFirst(5));return i.isEqual(n)||ca(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rie{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class FO extends NO{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new iie(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(LO("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class iie extends FO{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(t){t=au(t,Ni);const e=au(t.firestore,cm);return Hre(bO(e),t._key).then(n=>lie(e,t,n))}class oie extends nie{constructor(e){super(),this.firestore=e}convertBytes(e){return new xf(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ni(this.firestore,null,n)}}function vf(t,e,n){t=au(t,Ni);const r=au(t.firestore,cm),i=OO(t.converter,e);return M5(r,[AO(TO(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Do.none())])}function sie(t){return M5(au(t.firestore,cm),[new f5(t._key,Do.none())])}function aie(t,e){const n=au(t.firestore,cm),r=lm(t),i=OO(t.converter,e);return M5(n,[AO(TO(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Do.exists(!1))]).then(()=>r)}function M5(t,e){return function(r,i){const o=new Rl;return r.asyncQueue.enqueueAndForget(async()=>Are(await jre(r),i,o)),o.promise}(bO(t),e)}function lie(t,e,n){const r=n.docs.get(e._key),i=new oie(t);return new FO(t,i,e._key,r,new rie(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){zf=i})(Vf),uf(new ru("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new cm(new rte(r.getProvider("auth-internal")),new ate(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Ve(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new s0(c.options.projectId,u)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Il(D9,"4.7.1",e),Il(D9,"4.7.1","esm2017")})();var rs=function(){return rs=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},rs.apply(this,arguments)};function um(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function cie(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}function BO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uie=BO,VO=new em("auth","Firebase",BO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx=new e5("@firebase/auth");function hie(t,...e){Vx.logLevel<=mt.WARN&&Vx.warn(`Auth (${Vf}): ${t}`,...e)}function N1(t,...e){Vx.logLevel<=mt.ERROR&&Vx.error(`Auth (${Vf}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fo(t,...e){throw N5(t,...e)}function xs(t,...e){return N5(t,...e)}function zO(t,e,n){const r=Object.assign(Object.assign({},uie()),{[e]:n});return new em("auth","Firebase",r).create(e,{appName:t.name})}function Dl(t){return zO(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function N5(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return VO.create(t,...e)}function qe(t,e,...n){if(!t)throw N5(e,...n)}function Gs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw N1(e),new Error(e)}function ha(t,e){t||Gs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function fie(){return p6()==="http:"||p6()==="https:"}function p6(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function die(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fie()||NZ()||"connection"in navigator)?navigator.onLine:!0}function pie(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,n){this.shortDelay=e,this.longDelay=n,ha(n>e,"Short delay should be less than long delay!"),this.isMobile=DZ()||LZ()}get(){return die()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L5(t,e){ha(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mie={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gie=new hm(3e4,6e4);function Ru(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function lc(t,e,n,r,i={}){return $O(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=tm(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),jO.fetch()(HO(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))})}async function $O(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},mie),e);try{const i=new vie(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw Ig(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ig(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Ig(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw Ig(t,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw zO(t,u,c);Fo(t,u)}}catch(i){if(i instanceof Ca)throw i;Fo(t,"network-request-failed",{message:String(i)})}}async function Ty(t,e,n,r,i={}){const o=await lc(t,e,n,r,i);return"mfaPendingCredential"in o&&Fo(t,"multi-factor-auth-required",{_serverResponse:o}),o}function HO(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?L5(t.config,i):`${t.config.apiScheme}://${i}`}function xie(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vie{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(xs(this.auth,"network-request-failed")),gie.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ig(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=xs(t,e,r);return i.customData._tokenResponse=n,i}function m6(t){return t!==void 0&&t.enterprise!==void 0}class yie{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return xie(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function _ie(t,e){return lc(t,"GET","/v2/recaptchaConfig",Ru(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wie(t,e){return lc(t,"POST","/v1/accounts:delete",e)}async function UO(t,e){return lc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Cie(t,e=!1){const n=xi(t),r=await n.getIdToken(e),i=O5(r);qe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:_p(g2(i.auth_time)),issuedAtTime:_p(g2(i.iat)),expirationTime:_p(g2(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function g2(t){return Number(t)*1e3}function O5(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return N1("JWT malformed, contained fewer than 3 sections"),null;try{const i=sL(n);return i?JSON.parse(i):(N1("Failed to decode base64 JWT payload"),null)}catch(i){return N1("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function g6(t){const e=O5(t);return qe(e,"internal-error"),qe(typeof e.exp<"u","internal-error"),qe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u0(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ca&&bie(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function bie({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eie{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_p(this.lastLoginAt),this.creationTime=_p(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zx(t){var e;const n=t.auth,r=await t.getIdToken(),i=await u0(t,UO(n,{idToken:r}));qe(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?WO(o.providerUserInfo):[],a=kie(t.providerData,s),l=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Bb(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function Sie(t){const e=xi(t);await zx(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kie(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function WO(t){return t.map(e=>{var{providerId:n}=e,r=um(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tie(t,e){const n=await $O(t,{},async()=>{const r=tm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=HO(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",jO.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Aie(t,e){return lc(t,"POST","/v2/accounts:revokeToken",Ru(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){qe(e.idToken,"internal-error"),qe(typeof e.idToken<"u","internal-error"),qe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):g6(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){qe(e.length!==0,"internal-error");const n=g6(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(qe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await Tie(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Vh;return r&&(qe(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(qe(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(qe(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vh,this.toJSON())}_performRefresh(){return Gs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(t,e){qe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Js{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=um(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Eie(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Bb(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await u0(this,this.stsTokenManager.getToken(this.auth,e));return qe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Cie(this,e)}reload(){return Sie(this)}_assign(e){this!==e&&(qe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Js(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){qe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await zx(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ks(this.auth.app))return Promise.reject(Dl(this.auth));const e=await this.getIdToken();return await u0(this,wie(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,c,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,d=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,p=(s=n.photoURL)!==null&&s!==void 0?s:void 0,m=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,x=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:_,emailVerified:C,isAnonymous:S,providerData:T,stsTokenManager:b}=n;qe(_&&b,e,"internal-error");const w=Vh.fromJSON(this.name,b);qe(typeof _=="string",e,"internal-error"),ja(h,e.name),ja(f,e.name),qe(typeof C=="boolean",e,"internal-error"),qe(typeof S=="boolean",e,"internal-error"),ja(d,e.name),ja(p,e.name),ja(m,e.name),ja(v,e.name),ja(x,e.name),ja(y,e.name);const I=new Js({uid:_,auth:e,email:f,emailVerified:C,displayName:h,isAnonymous:S,photoURL:p,phoneNumber:d,tenantId:m,stsTokenManager:w,createdAt:x,lastLoginAt:y});return T&&Array.isArray(T)&&(I.providerData=T.map(E=>Object.assign({},E))),v&&(I._redirectEventId=v),I}static async _fromIdTokenResponse(e,n,r=!1){const i=new Vh;i.updateFromServerResponse(n);const o=new Js({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await zx(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];qe(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?WO(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new Vh;a.updateFromIdToken(r);const l=new Js({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Bb(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6=new Map;function Qs(t){ha(t instanceof Function,"Expected a class definition");let e=x6.get(t);return e?(ha(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,x6.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}qO.type="NONE";const v6=qO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(t,e,n){return`firebase:${t}:${e}:${n}`}class zh{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=L1(this.userKey,i.apiKey,o),this.fullPersistenceKey=L1("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Js._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new zh(Qs(v6),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=i[0]||Qs(v6);const s=L1(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(s);if(u){const h=Js._fromJSON(e,u);c!==o&&(a=h),o=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new zh(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==o)try{await c._remove(s)}catch{}})),new zh(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y6(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(QO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(KO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XO(e))return"Blackberry";if(ZO(e))return"Webos";if(GO(e))return"Safari";if((e.includes("chrome/")||JO(e))&&!e.includes("edge/"))return"Chrome";if(YO(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function KO(t=Nr()){return/firefox\//i.test(t)}function GO(t=Nr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JO(t=Nr()){return/crios\//i.test(t)}function QO(t=Nr()){return/iemobile/i.test(t)}function YO(t=Nr()){return/android/i.test(t)}function XO(t=Nr()){return/blackberry/i.test(t)}function ZO(t=Nr()){return/webos/i.test(t)}function F5(t=Nr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Iie(t=Nr()){var e;return F5(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Rie(){return OZ()&&document.documentMode===10}function eF(t=Nr()){return F5(t)||YO(t)||ZO(t)||XO(t)||/windows phone/i.test(t)||QO(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tF(t,e=[]){let n;switch(t){case"Browser":n=y6(Nr());break;case"Worker":n=`${y6(Nr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Vf}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pie{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Die(t,e={}){return lc(t,"GET","/v2/passwordPolicy",Ru(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mie=6;class Nie{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:Mie,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lie{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _6(this),this.idTokenSubscription=new _6(this),this.beforeStateQueue=new Pie(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=VO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Qs(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await zh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await UO(this,{idToken:e}),r=await Js._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Ks(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return qe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await zx(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pie()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Ks(this.app))return Promise.reject(Dl(this));const n=e?xi(e):null;return n&&qe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&qe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Ks(this.app)?Promise.reject(Dl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Ks(this.app)?Promise.reject(Dl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Qs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Die(this),n=new Nie(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new em("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Aie(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Qs(e)||this._popupRedirectResolver;qe(n,this,"argument-error"),this.redirectPersistenceManager=await zh.create(this,[Qs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(qe(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return qe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tF(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&hie(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Uf(t){return xi(t)}class _6{constructor(e){this.auth=e,this.observer=null,this.addObserver=UZ(n=>this.observer=n)}get next(){return qe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ay={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Oie(t){Ay=t}function nF(t){return Ay.loadJS(t)}function Fie(){return Ay.recaptchaEnterpriseScript}function Bie(){return Ay.gapiScript}function Vie(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const zie="recaptcha-enterprise",jie="NO_RECAPTCHA";class $ie{constructor(e){this.type=zie,this.auth=Uf(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{_ie(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new yie(l);return o.tenantId==null?o._agentRecaptchaConfig=c:o._tenantRecaptchaConfigs[o.tenantId]=c,s(c.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;m6(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(c=>{s(c)}).catch(()=>{s(jie)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&m6(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=Fie();l.length!==0&&(l+=a),nF(l).then(()=>{i(a,o,s)}).catch(c=>{s(c)})}}).catch(a=>{s(a)})})}}async function w6(t,e,n,r=!1){const i=new $ie(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function C6(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await w6(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await w6(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hie(t,e){const n=n5(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Ix(o,e??{}))return i;Fo(i,"already-initialized")}return n.initialize({options:e})}function Uie(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Qs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Wie(t,e,n){const r=Uf(t);qe(r._canInitEmulator,r,"emulator-config-failed"),qe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=rF(e),{host:s,port:a}=qie(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),Kie()}function rF(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function qie(t){const e=rF(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:b6(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:b6(s)}}}function b6(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Kie(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gs("not implemented")}_getIdTokenResponse(e){return Gs("not implemented")}_linkToIdToken(e,n){return Gs("not implemented")}_getReauthenticationResolver(e){return Gs("not implemented")}}async function Gie(t,e){return lc(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jie(t,e){return Ty(t,"POST","/v1/accounts:signInWithPassword",Ru(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qie(t,e){return Ty(t,"POST","/v1/accounts:signInWithEmailLink",Ru(t,e))}async function Yie(t,e){return Ty(t,"POST","/v1/accounts:signInWithEmailLink",Ru(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0 extends B5{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new h0(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new h0(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return C6(e,n,"signInWithPassword",Jie);case"emailLink":return Qie(e,{email:this._email,oobCode:this._password});default:Fo(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return C6(e,r,"signUpPassword",Gie);case"emailLink":return Yie(e,{idToken:n,email:this._email,oobCode:this._password});default:Fo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jh(t,e){return Ty(t,"POST","/v1/accounts:signInWithIdp",Ru(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xie="http://localhost";class lu extends B5{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new lu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Fo("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=um(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new lu(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return jh(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,jh(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,jh(e,n)}buildRequest(){const e={requestUri:Xie,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=tm(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zie(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function eoe(t){const e=Hd(Ud(t)).link,n=e?Hd(Ud(e)).deep_link_id:null,r=Hd(Ud(t)).deep_link_id;return(r?Hd(Ud(r)).link:null)||r||n||e||t}class V5{constructor(e){var n,r,i,o,s,a;const l=Hd(Ud(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,h=Zie((i=l.mode)!==null&&i!==void 0?i:null);qe(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=eoe(e);try{return new V5(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(){this.providerId=Wf.PROVIDER_ID}static credential(e,n){return h0._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=V5.parseLink(n);return qe(r,"argument-error"),h0._fromEmailAndCode(e,r.code,r.tenantId)}}Wf.PROVIDER_ID="password";Wf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Wf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm extends iF{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl extends fm{constructor(){super("facebook.com")}static credential(e){return lu._fromParams({providerId:rl.PROVIDER_ID,signInMethod:rl.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rl.credentialFromTaggedObject(e)}static credentialFromError(e){return rl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rl.credential(e.oauthAccessToken)}catch{return null}}}rl.FACEBOOK_SIGN_IN_METHOD="facebook.com";rl.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il extends fm{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return lu._fromParams({providerId:il.PROVIDER_ID,signInMethod:il.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return il.credentialFromTaggedObject(e)}static credentialFromError(e){return il.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return il.credential(n,r)}catch{return null}}}il.GOOGLE_SIGN_IN_METHOD="google.com";il.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol extends fm{constructor(){super("github.com")}static credential(e){return lu._fromParams({providerId:ol.PROVIDER_ID,signInMethod:ol.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ol.credentialFromTaggedObject(e)}static credentialFromError(e){return ol.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ol.credential(e.oauthAccessToken)}catch{return null}}}ol.GITHUB_SIGN_IN_METHOD="github.com";ol.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl extends fm{constructor(){super("twitter.com")}static credential(e,n){return lu._fromParams({providerId:sl.PROVIDER_ID,signInMethod:sl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return sl.credentialFromTaggedObject(e)}static credentialFromError(e){return sl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return sl.credential(n,r)}catch{return null}}}sl.TWITTER_SIGN_IN_METHOD="twitter.com";sl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Js._fromIdTokenResponse(e,r,i),s=E6(r);return new yf({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=E6(r);return new yf({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function E6(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx extends Ca{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,jx.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new jx(e,n,r,i)}}function oF(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?jx._fromErrorAndOperation(t,o,e,r):o})}async function toe(t,e,n=!1){const r=await u0(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return yf._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function noe(t,e,n=!1){const{auth:r}=t;if(Ks(r.app))return Promise.reject(Dl(r));const i="reauthenticate";try{const o=await u0(t,oF(r,i,e,t),n);qe(o.idToken,r,"internal-error");const s=O5(o.idToken);qe(s,r,"internal-error");const{sub:a}=s;return qe(t.uid===a,r,"user-mismatch"),yf._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Fo(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sF(t,e,n=!1){if(Ks(t.app))return Promise.reject(Dl(t));const r="signIn",i=await oF(t,r,e),o=await yf._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function roe(t,e){return sF(Uf(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ioe(t){const e=Uf(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function ooe(t,e,n){return Ks(t.app)?Promise.reject(Dl(t)):roe(xi(t),Wf.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&ioe(t),r})}function soe(t,e,n,r){return xi(t).onIdTokenChanged(e,n,r)}function aoe(t,e,n){return xi(t).beforeAuthStateChanged(e,n)}function loe(t,e,n,r){return xi(t).onAuthStateChanged(e,n,r)}function coe(t){return xi(t).signOut()}const $x="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($x,"1"),this.storage.removeItem($x),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uoe=1e3,hoe=10;class lF extends aF{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eF(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);Rie()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,hoe):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},uoe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}lF.type="LOCAL";const foe=lF;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF extends aF{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}cF.type="SESSION";const uF=cF;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function doe(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Iy(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async c=>c(n.origin,o)),l=await doe(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Iy.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z5(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class poe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const c=z5("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(f.data.response);break;default:clearTimeout(u),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(){return window}function moe(t){vs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hF(){return typeof vs().WorkerGlobalScope<"u"&&typeof vs().importScripts=="function"}async function goe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xoe(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function voe(){return hF()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fF="firebaseLocalStorageDb",yoe=1,Hx="firebaseLocalStorage",dF="fbase_key";class dm{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ry(t,e){return t.transaction([Hx],e?"readwrite":"readonly").objectStore(Hx)}function _oe(){const t=indexedDB.deleteDatabase(fF);return new dm(t).toPromise()}function Vb(){const t=indexedDB.open(fF,yoe);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Hx,{keyPath:dF})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Hx)?e(r):(r.close(),await _oe(),e(await Vb()))})})}async function S6(t,e,n){const r=Ry(t,!0).put({[dF]:e,value:n});return new dm(r).toPromise()}async function woe(t,e){const n=Ry(t,!1).get(e),r=await new dm(n).toPromise();return r===void 0?null:r.value}function k6(t,e){const n=Ry(t,!0).delete(e);return new dm(n).toPromise()}const Coe=800,boe=3;class pF{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vb(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>boe)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hF()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Iy._getInstance(voe()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await goe(),!this.activeServiceWorker)return;this.sender=new poe(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xoe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vb();return await S6(e,$x,"1"),await k6(e,$x),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>S6(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>woe(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>k6(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Ry(i,!1).getAll();return new dm(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Coe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pF.type="LOCAL";const Eoe=pF;new hm(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Soe(t,e){return e?Qs(e):(qe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j5 extends B5{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jh(e,this._buildIdpRequest())}_linkToIdToken(e,n){return jh(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return jh(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function koe(t){return sF(t.auth,new j5(t),t.bypassAuthState)}function Toe(t){const{auth:e,user:n}=t;return qe(n,e,"internal-error"),noe(n,new j5(t),t.bypassAuthState)}async function Aoe(t){const{auth:e,user:n}=t;return qe(n,e,"internal-error"),toe(n,new j5(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return koe;case"linkViaPopup":case"linkViaRedirect":return Aoe;case"reauthViaPopup":case"reauthViaRedirect":return Toe;default:Fo(this.auth,"internal-error")}}resolve(e){ha(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ha(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ioe=new hm(2e3,1e4);class kh extends mF{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,kh.currentPopupAction&&kh.currentPopupAction.cancel(),kh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return qe(e,this.auth,"internal-error"),e}async onExecution(){ha(this.filter.length===1,"Popup operations only handle one event");const e=z5();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(xs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(xs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,kh.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Ioe.get())};e()}}kh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Roe="pendingRedirect",O1=new Map;class Poe extends mF{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=O1.get(this.auth._key());if(!e){try{const r=await Doe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}O1.set(this.auth._key(),e)}return this.bypassAuthState||O1.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Doe(t,e){const n=Loe(e),r=Noe(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Moe(t,e){O1.set(t._key(),e)}function Noe(t){return Qs(t._redirectPersistence)}function Loe(t){return L1(Roe,t.config.apiKey,t.name)}async function Ooe(t,e,n=!1){if(Ks(t.app))return Promise.reject(Dl(t));const r=Uf(t),i=Soe(r,e),s=await new Poe(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Foe=10*60*1e3;class Boe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Voe(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!gF(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(xs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Foe&&this.cachedEventUids.clear(),this.cachedEventUids.has(T6(e))}saveEventToCache(e){this.cachedEventUids.add(T6(e)),this.lastProcessedEventTime=Date.now()}}function T6(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function gF({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Voe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gF(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zoe(t,e={}){return lc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const joe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$oe=/^https?/;async function Hoe(t){if(t.config.emulator)return;const{authorizedDomains:e}=await zoe(t);for(const n of e)try{if(Uoe(n))return}catch{}Fo(t,"unauthorized-domain")}function Uoe(t){const e=Fb(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!$oe.test(n))return!1;if(joe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Woe=new hm(3e4,6e4);function A6(){const t=vs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function qoe(t){return new Promise((e,n)=>{var r,i,o;function s(){A6(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{A6(),n(xs(t,"network-request-failed"))},timeout:Woe.get()})}if(!((i=(r=vs().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=vs().gapi)===null||o===void 0)&&o.load)s();else{const a=Vie("iframefcb");return vs()[a]=()=>{gapi.load?s():n(xs(t,"network-request-failed"))},nF(`${Bie()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw F1=null,e})}let F1=null;function Koe(t){return F1=F1||qoe(t),F1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Goe=new hm(5e3,15e3),Joe="__/auth/iframe",Qoe="emulator/auth/iframe",Yoe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xoe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Zoe(t){const e=t.config;qe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?L5(e,Qoe):`https://${t.config.authDomain}/${Joe}`,r={apiKey:e.apiKey,appName:t.name,v:Vf},i=Xoe.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${tm(r).slice(1)}`}async function ese(t){const e=await Koe(t),n=vs().gapi;return qe(n,t,"internal-error"),e.open({where:document.body,url:Zoe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yoe,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=xs(t,"network-request-failed"),a=vs().setTimeout(()=>{o(s)},Goe.get());function l(){vs().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tse={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nse=500,rse=600,ise="_blank",ose="http://localhost";class I6{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sse(t,e,n,r=nse,i=rse){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},tse),{width:r.toString(),height:i.toString(),top:o,left:s}),c=Nr().toLowerCase();n&&(a=JO(c)?ise:n),KO(c)&&(e=e||ose,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[d,p])=>`${f}${d}=${p},`,"");if(Iie(c)&&a!=="_self")return ase(e||"",a),new I6(null);const h=window.open(e||"",a,u);qe(h,t,"popup-blocked");try{h.focus()}catch{}return new I6(h)}function ase(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lse="__/auth/handler",cse="emulator/auth/handler",use=encodeURIComponent("fac");async function R6(t,e,n,r,i,o){qe(t.config.authDomain,t,"auth-domain-config-required"),qe(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Vf,eventId:i};if(e instanceof iF){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",HZ(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries({}))s[u]=h}if(e instanceof fm){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${use}=${encodeURIComponent(l)}`:"";return`${hse(t)}?${tm(a).slice(1)}${c}`}function hse({config:t}){return t.emulator?L5(t,cse):`https://${t.authDomain}/${lse}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="webStorageSupport";class fse{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uF,this._completeRedirectFn=Ooe,this._overrideRedirectResult=Moe}async _openPopup(e,n,r,i){var o;ha((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await R6(e,n,r,Fb(),i);return sse(e,s,z5())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await R6(e,n,r,Fb(),i);return moe(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(ha(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await ese(e),r=new Boe(e);return n.register("authEvent",i=>(qe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(x2,{type:x2},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[x2];s!==void 0&&n(!!s),Fo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Hoe(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return eF()||GO()||F5()}}const dse=fse;var P6="@firebase/auth",D6="1.7.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pse{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){qe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mse(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gse(t){uf(new ru("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;qe(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tF(t)},c=new Lie(r,i,o,l);return Uie(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),uf(new ru("auth-internal",e=>{const n=Uf(e.getProvider("auth").getImmediate());return(r=>new pse(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Il(P6,D6,mse(t)),Il(P6,D6,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xse=5*60,vse=cL("authIdTokenMaxAge")||xse;let M6=null;const yse=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>vse)return;const i=n==null?void 0:n.token;M6!==i&&(M6=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function _se(t=dL()){const e=n5(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Hie(t,{popupRedirectResolver:dse,persistence:[Eoe,foe,uF]}),r=cL("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=yse(o.toString());aoe(n,s,()=>s(n.currentUser)),soe(n,a=>s(a))}}const i=aL("auth");return i&&Wie(n,`http://${i}`),n}function wse(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Oie({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=xs("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",wse().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gse("Browser");const Cse={apiKey:"AIzaSyAhxUlRq18KYPwdszrz_JxsHxH0iC1mqWs",authDomain:"audio-notes-app.firebaseapp.com",projectId:"audio-notes-app",storageBucket:"audio-notes-app.appspot.com",messagingSenderId:"111078587487",appId:"1:111078587487:web:91d14194d4010dfdc12fea"},xF=fL(Cse),pm=Gre(xF),$5=_se(xF),vF=k.createContext();function bse({children:t}){const[e,n]=k.useState(null);return k.useEffect(()=>{const r=loe($5,i=>{n(i)});return()=>{r()}},[]),P.jsx(vF.Provider,{value:{userState:e},children:t})}function yF(){const t=k.useContext(vF);if(t===void 0)throw new Error("AuthContext was used outside of AuthContextProvider");return t}const co=lm(pm,"notes-metadata","metadata");async function Ese({email:t,password:e}){await ooe($5,t,e)}async function Sse(){await coe($5)}async function kse(){const t=await $l(co);if(!t.exists())throw new Error("Please create a notes-metadata collection and a metadata document with notes property of an empty array in firebase, and reload the page!");const{notes:e}=t.data();return e.sort((r,i)=>i.lastEditTime-r.lastEditTime)}async function Tse(){const t=await $l(co);let{notes:e}=t.data();const{id:n}=await aie(qre(pm,"notes"),{content:""});if(xZ(e))e=[...e,{id:n,title:"New",pinned:!1,lastEditTime:Date.now()}];else{let r="New",i=0;for(;e.some(s=>s.title===r);)i++,r=`New ${i}`;e=[...e,{id:n,title:r,pinned:!1,lastEditTime:Date.now()}]}await vf(co,{notes:e})}async function Ase({noteId:t}){const e=await $l(co);let{notes:n}=e.data();n=n.map(r=>(r.id===t&&(r.pinned=!r.pinned),r)),await vf(co,{notes:n})}async function Ise(t){const e=await $l(co),{notes:n}=e.data(),{id:r}=n.find(o=>o.id===t);await sie(lm(pm,"notes",r));const i=n.filter(o=>o.id!==t);await vf(co,{notes:i})}function v2(t,e,n){const r=t.slice(e,n),i=t.slice(n+1);return{removed:r,newStr:i}}async function Rse(t){const e=await $l(co);let{notes:n}=e.data();const r=n.find(c=>c.id===t),i=await $l(lm(pm,"notes",r.id));let{content:o}=i.data();const s=o.split(/(?=### Note ID:)/);s[0].trim()===""&&s.shift();const l=s.map(c=>{const{removed:u,newStr:h}=v2(c,0,c.indexOf(`
`,0)),f=u.split("### Note ID: ")[1],{removed:d,newStr:p}=v2(h,h.indexOf("Created At: "),h.indexOf(`
`,h.indexOf("Created At: "))),m=d.split("Created At: ")[1],{removed:v,newStr:x}=v2(p,p.indexOf("Encrypted: "),p.indexOf(`
`,p.indexOf("Encrypted: "))),y=v.split("Encrypted: ")[1];return{id:f,createdAt:m,encrypted:!!y,textValue:x.slice(0,-2)}}).map(c=>({...c,type:"text",selected:!1}));return{...r,content:l}}async function Pse(t,e){const r=t.reduce((s,a)=>{const l=`### Note ID: ${a.id}
Created At: ${a.createdAt}
Encrypted: ${a.encrypted.toString()}
${a.textValue}

`;return s+l},"");await vf(lm(pm,"notes",e),{content:r});const i=await $l(co);let{notes:o}=i.data();o=o.map(s=>(s.id===e&&(s.lastEditTime=Date.now()),s)),await vf(co,{notes:o})}async function Dse(t,e){const n=await $l(co);let{notes:r}=n.data();r=r.map(i=>(i.id===e&&(i.title=t),i)),await vf(co,{notes:r})}function Mse(t){const{isLoading:e,data:n,error:r}=nL({queryKey:["notes",t],queryFn:()=>Rse(t)});return{isLoading:e,noteContent:n,error:r}}/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nse=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_F=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Lse={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ose=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...a},l)=>k.createElement("svg",{ref:l,...Lse,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:_F("lucide",i),...a},[...s.map(([c,u])=>k.createElement(c,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=(t,e)=>{const n=k.forwardRef(({className:r,...i},o)=>k.createElement(Ose,{ref:o,iconNode:e,className:_F(`lucide-${Nse(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fse=_n("ArrowUpFromLine",[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=_n("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=_n("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bse=_n("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vse=_n("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zse=_n("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jse=_n("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $se=_n("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hse=_n("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Use=_n("FileVolume",[["path",{d:"M11 11a5 5 0 0 1 0 6",key:"193qb2"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M4 6.765V4a2 2 0 0 1 2-2h9l5 5v13a2 2 0 0 1-2 2H6a2 2 0 0 1-.93-.23",key:"ifyjnl"}],["path",{d:"M7 10.51a.5.5 0 0 0-.826-.38l-1.893 1.628A1 1 0 0 1 3.63 12H2.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h1.129a1 1 0 0 1 .652.242l1.893 1.63a.5.5 0 0 0 .826-.38z",key:"mk8rxu"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wse=_n("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qse=_n("LockKeyholeOpen",[["circle",{cx:"12",cy:"16",r:"1",key:"1au0dj"}],["rect",{width:"18",height:"12",x:"3",y:"10",rx:"2",key:"l0tzu3"}],["path",{d:"M7 10V7a5 5 0 0 1 9.33-2.5",key:"car5b7"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kse=_n("LockKeyhole",[["circle",{cx:"12",cy:"16",r:"1",key:"1au0dj"}],["rect",{x:"3",y:"10",width:"18",height:"12",rx:"2",key:"6s8ecr"}],["path",{d:"M7 10V7a5 5 0 0 1 10 0v3",key:"1pqi11"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gse=_n("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jse=_n("Pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qse=_n("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yse=_n("Router",[["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6.01 18H6",key:"19vcac"}],["path",{d:"M10.01 18H10",key:"uamcmx"}],["path",{d:"M15 10v4",key:"qjz1xs"}],["path",{d:"M17.84 7.17a4 4 0 0 0-5.66 0",key:"1rif40"}],["path",{d:"M20.66 4.34a8 8 0 0 0-11.31 0",key:"6a5xfq"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xse=_n("SquareCheck",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zse=_n("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eae=_n("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tae=_n("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.439.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=_n("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function nae(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Py(...t){return e=>t.forEach(n=>nae(n,e))}function St(...t){return k.useCallback(Py(...t),t)}var fa=k.forwardRef((t,e)=>{const{children:n,...r}=t,i=k.Children.toArray(n),o=i.find(rae);if(o){const s=o.props.children,a=i.map(l=>l===o?k.Children.count(s)>1?k.Children.only(null):k.isValidElement(s)?s.props.children:null:l);return P.jsx(zb,{...r,ref:e,children:k.isValidElement(s)?k.cloneElement(s,void 0,a):null})}return P.jsx(zb,{...r,ref:e,children:n})});fa.displayName="Slot";var zb=k.forwardRef((t,e)=>{const{children:n,...r}=t;if(k.isValidElement(n)){const i=oae(n);return k.cloneElement(n,{...iae(r,n.props),ref:e?Py(e,i):i})}return k.Children.count(n)>1?k.Children.only(null):null});zb.displayName="SlotClone";var EF=({children:t})=>P.jsx(P.Fragment,{children:t});function rae(t){return k.isValidElement(t)&&t.type===EF}function iae(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...a)=>{o(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function oae(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function SF(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=SF(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function sae(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=SF(t))&&(r&&(r+=" "),r+=e);return r}const N6=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,L6=sae,H5=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return L6(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=e,s=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],h=o==null?void 0:o[c];if(u===null)return null;const f=N6(u)||N6(h);return i[c][f]}),a=n&&Object.entries(n).reduce((c,u)=>{let[h,f]=u;return f===void 0||(c[h]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:h,className:f,...d}=u;return Object.entries(d).every(p=>{let[m,v]=p;return Array.isArray(v)?v.includes({...o,...a}[m]):{...o,...a}[m]===v})?[...c,h,f]:c},[]);return L6(t,s,l,n==null?void 0:n.class,n==null?void 0:n.className)},aae=H5("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Hl=k.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},o)=>{const s=r?fa:"button";return P.jsx(s,{className:ft(aae({variant:e,size:n,className:t})),ref:o,...i})});Hl.displayName="Button";function _e(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function lae(t,e){const n=k.createContext(e);function r(o){const{children:s,...a}=o,l=k.useMemo(()=>a,Object.values(a));return P.jsx(n.Provider,{value:l,children:s})}function i(o){const s=k.useContext(n);if(s)return s;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return r.displayName=t+"Provider",[r,i]}function ho(t,e=[]){let n=[];function r(o,s){const a=k.createContext(s),l=n.length;n=[...n,s];function c(h){const{scope:f,children:d,...p}=h,m=(f==null?void 0:f[t][l])||a,v=k.useMemo(()=>p,Object.values(p));return P.jsx(m.Provider,{value:v,children:d})}function u(h,f){const d=(f==null?void 0:f[t][l])||a,p=k.useContext(d);if(p)return p;if(s!==void 0)return s;throw new Error(`\`${h}\` must be used within \`${o}\``)}return c.displayName=o+"Provider",[c,u]}const i=()=>{const o=n.map(s=>k.createContext(s));return function(a){const l=(a==null?void 0:a[t])||o;return k.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,cae(i,...e)]}function cae(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const s=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(o)[`__scope${c}`];return{...a,...h}},{});return k.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}var uae=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],He=uae.reduce((t,e)=>{const n=k.forwardRef((r,i)=>{const{asChild:o,...s}=r,a=o?fa:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),P.jsx(a,{...s,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function U5(t,e){t&&Oo.flushSync(()=>t.dispatchEvent(e))}function Lr(t){const e=k.useRef(t);return k.useEffect(()=>{e.current=t}),k.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function hae(t,e=globalThis==null?void 0:globalThis.document){const n=Lr(t);k.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var fae="DismissableLayer",jb="dismissableLayer.update",dae="dismissableLayer.pointerDownOutside",pae="dismissableLayer.focusOutside",O6,kF=k.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Pu=k.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:a,...l}=t,c=k.useContext(kF),[u,h]=k.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,d]=k.useState({}),p=St(e,b=>h(b)),m=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),x=m.indexOf(v),y=u?m.indexOf(u):-1,_=c.layersWithOutsidePointerEventsDisabled.size>0,C=y>=x,S=gae(b=>{const w=b.target,I=[...c.branches].some(E=>E.contains(w));!C||I||(i==null||i(b),s==null||s(b),b.defaultPrevented||a==null||a())},f),T=xae(b=>{const w=b.target;[...c.branches].some(E=>E.contains(w))||(o==null||o(b),s==null||s(b),b.defaultPrevented||a==null||a())},f);return hae(b=>{y===c.layers.size-1&&(r==null||r(b),!b.defaultPrevented&&a&&(b.preventDefault(),a()))},f),k.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(O6=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),F6(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=O6)}},[u,f,n,c]),k.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),F6())},[u,c]),k.useEffect(()=>{const b=()=>d({});return document.addEventListener(jb,b),()=>document.removeEventListener(jb,b)},[]),P.jsx(He.div,{...l,ref:p,style:{pointerEvents:_?C?"auto":"none":void 0,...t.style},onFocusCapture:_e(t.onFocusCapture,T.onFocusCapture),onBlurCapture:_e(t.onBlurCapture,T.onBlurCapture),onPointerDownCapture:_e(t.onPointerDownCapture,S.onPointerDownCapture)})});Pu.displayName=fae;var mae="DismissableLayerBranch",TF=k.forwardRef((t,e)=>{const n=k.useContext(kF),r=k.useRef(null),i=St(e,r);return k.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),P.jsx(He.div,{...t,ref:i})});TF.displayName=mae;function gae(t,e=globalThis==null?void 0:globalThis.document){const n=Lr(t),r=k.useRef(!1),i=k.useRef(()=>{});return k.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){AF(dae,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},s=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(s),e.removeEventListener("pointerdown",o),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function xae(t,e=globalThis==null?void 0:globalThis.document){const n=Lr(t),r=k.useRef(!1);return k.useEffect(()=>{const i=o=>{o.target&&!r.current&&AF(pae,n,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function F6(){const t=new CustomEvent(jb);document.dispatchEvent(t)}function AF(t,e,n,{discrete:r}){const i=n.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?U5(i,o):i.dispatchEvent(o)}var vae=Pu,yae=TF,Or=globalThis!=null&&globalThis.document?k.useLayoutEffect:()=>{},_ae=S7.useId||(()=>{}),wae=0;function Mo(t){const[e,n]=k.useState(_ae());return Or(()=>{n(r=>r??String(wae++))},[t]),e?`radix-${e}`:""}const Cae=["top","right","bottom","left"],cs=Math.min,Ai=Math.max,Ux=Math.round,Rg=Math.floor,Ul=t=>({x:t,y:t}),bae={left:"right",right:"left",bottom:"top",top:"bottom"},Eae={start:"end",end:"start"};function $b(t,e,n){return Ai(t,cs(e,n))}function da(t,e){return typeof t=="function"?t(e):t}function pa(t){return t.split("-")[0]}function qf(t){return t.split("-")[1]}function W5(t){return t==="x"?"y":"x"}function q5(t){return t==="y"?"height":"width"}function Wl(t){return["top","bottom"].includes(pa(t))?"y":"x"}function K5(t){return W5(Wl(t))}function Sae(t,e,n){n===void 0&&(n=!1);const r=qf(t),i=K5(t),o=q5(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=Wx(s)),[s,Wx(s)]}function kae(t){const e=Wx(t);return[Hb(t),e,Hb(e)]}function Hb(t){return t.replace(/start|end/g,e=>Eae[e])}function Tae(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function Aae(t,e,n,r){const i=qf(t);let o=Tae(pa(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(Hb)))),o}function Wx(t){return t.replace(/left|right|bottom|top/g,e=>bae[e])}function Iae(t){return{top:0,right:0,bottom:0,left:0,...t}}function IF(t){return typeof t!="number"?Iae(t):{top:t,right:t,bottom:t,left:t}}function qx(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function B6(t,e,n){let{reference:r,floating:i}=t;const o=Wl(e),s=K5(e),a=q5(s),l=pa(e),c=o==="y",u=r.x+r.width/2-i.width/2,h=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let d;switch(l){case"top":d={x:u,y:r.y-i.height};break;case"bottom":d={x:u,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:h};break;case"left":d={x:r.x-i.width,y:h};break;default:d={x:r.x,y:r.y}}switch(qf(e)){case"start":d[s]-=f*(n&&c?-1:1);break;case"end":d[s]+=f*(n&&c?-1:1);break}return d}const Rae=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let c=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:h}=B6(c,r,l),f=r,d={},p=0;for(let m=0;m<a.length;m++){const{name:v,fn:x}=a[m],{x:y,y:_,data:C,reset:S}=await x({x:u,y:h,initialPlacement:r,placement:f,strategy:i,middlewareData:d,rects:c,platform:s,elements:{reference:t,floating:e}});u=y??u,h=_??h,d={...d,[v]:{...d[v],...C}},S&&p<=50&&(p++,typeof S=="object"&&(S.placement&&(f=S.placement),S.rects&&(c=S.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):S.rects),{x:u,y:h}=B6(c,f,l)),m=-1)}return{x:u,y:h,placement:f,strategy:i,middlewareData:d}};async function f0(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:f=!1,padding:d=0}=da(e,t),p=IF(d),v=a[f?h==="floating"?"reference":"floating":h],x=qx(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(v)))==null||n?v:v.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),y=h==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,_=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),C=await(o.isElement==null?void 0:o.isElement(_))?await(o.getScale==null?void 0:o.getScale(_))||{x:1,y:1}:{x:1,y:1},S=qx(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:_,strategy:l}):y);return{top:(x.top-S.top+p.top)/C.y,bottom:(S.bottom-x.bottom+p.bottom)/C.y,left:(x.left-S.left+p.left)/C.x,right:(S.right-x.right+p.right)/C.x}}const Pae=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=da(t,e)||{};if(c==null)return{};const h=IF(u),f={x:n,y:r},d=K5(i),p=q5(d),m=await s.getDimensions(c),v=d==="y",x=v?"top":"left",y=v?"bottom":"right",_=v?"clientHeight":"clientWidth",C=o.reference[p]+o.reference[d]-f[d]-o.floating[p],S=f[d]-o.reference[d],T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c));let b=T?T[_]:0;(!b||!await(s.isElement==null?void 0:s.isElement(T)))&&(b=a.floating[_]||o.floating[p]);const w=C/2-S/2,I=b/2-m[p]/2-1,E=cs(h[x],I),R=cs(h[y],I),D=E,N=b-m[p]-R,z=b/2-m[p]/2+w,$=$b(D,z,N),Q=!l.arrow&&qf(i)!=null&&z!==$&&o.reference[p]/2-(z<D?E:R)-m[p]/2<0,Y=Q?z<D?z-D:z-N:0;return{[d]:f[d]+Y,data:{[d]:$,centerOffset:z-$-Y,...Q&&{alignmentOffset:Y}},reset:Q}}}),Dae=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:f,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...v}=da(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const x=pa(i),y=Wl(a),_=pa(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=f||(_||!m?[Wx(a)]:kae(a)),T=p!=="none";!f&&T&&S.push(...Aae(a,m,p,C));const b=[a,...S],w=await f0(e,v),I=[];let E=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&I.push(w[x]),h){const z=Sae(i,s,C);I.push(w[z[0]],w[z[1]])}if(E=[...E,{placement:i,overflows:I}],!I.every(z=>z<=0)){var R,D;const z=(((R=o.flip)==null?void 0:R.index)||0)+1,$=b[z];if($)return{data:{index:z,overflows:E},reset:{placement:$}};let Q=(D=E.filter(Y=>Y.overflows[0]<=0).sort((Y,q)=>Y.overflows[1]-q.overflows[1])[0])==null?void 0:D.placement;if(!Q)switch(d){case"bestFit":{var N;const Y=(N=E.filter(q=>{if(T){const H=Wl(q.placement);return H===y||H==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(H=>H>0).reduce((H,O)=>H+O,0)]).sort((q,H)=>q[1]-H[1])[0])==null?void 0:N[0];Y&&(Q=Y);break}case"initialPlacement":Q=a;break}if(i!==Q)return{reset:{placement:Q}}}return{}}}};function V6(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function z6(t){return Cae.some(e=>t[e]>=0)}const Mae=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=da(t,e);switch(r){case"referenceHidden":{const o=await f0(e,{...i,elementContext:"reference"}),s=V6(o,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:z6(s)}}}case"escaped":{const o=await f0(e,{...i,altBoundary:!0}),s=V6(o,n.floating);return{data:{escapedOffsets:s,escaped:z6(s)}}}default:return{}}}}};async function Nae(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=pa(n),a=qf(n),l=Wl(n)==="y",c=["left","top"].includes(s)?-1:1,u=o&&l?-1:1,h=da(e,t);let{mainAxis:f,crossAxis:d,alignmentAxis:p}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return a&&typeof p=="number"&&(d=a==="end"?p*-1:p),l?{x:d*u,y:f*c}:{x:f*c,y:d*u}}const Lae=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=e,l=await Nae(e,t);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},Oae=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:v=>{let{x,y}=v;return{x,y}}},...l}=da(t,e),c={x:n,y:r},u=await f0(e,l),h=Wl(pa(i)),f=W5(h);let d=c[f],p=c[h];if(o){const v=f==="y"?"top":"left",x=f==="y"?"bottom":"right",y=d+u[v],_=d-u[x];d=$b(y,d,_)}if(s){const v=h==="y"?"top":"left",x=h==="y"?"bottom":"right",y=p+u[v],_=p-u[x];p=$b(y,p,_)}const m=a.fn({...e,[f]:d,[h]:p});return{...m,data:{x:m.x-n,y:m.y-r}}}}},Fae=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=da(t,e),u={x:n,y:r},h=Wl(i),f=W5(h);let d=u[f],p=u[h];const m=da(a,e),v=typeof m=="number"?{mainAxis:m,crossAxis:0}:{mainAxis:0,crossAxis:0,...m};if(l){const _=f==="y"?"height":"width",C=o.reference[f]-o.floating[_]+v.mainAxis,S=o.reference[f]+o.reference[_]-v.mainAxis;d<C?d=C:d>S&&(d=S)}if(c){var x,y;const _=f==="y"?"width":"height",C=["top","left"].includes(pa(i)),S=o.reference[h]-o.floating[_]+(C&&((x=s.offset)==null?void 0:x[h])||0)+(C?0:v.crossAxis),T=o.reference[h]+o.reference[_]+(C?0:((y=s.offset)==null?void 0:y[h])||0)-(C?v.crossAxis:0);p<S?p=S:p>T&&(p=T)}return{[f]:d,[h]:p}}}},Bae=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){const{placement:n,rects:r,platform:i,elements:o}=e,{apply:s=()=>{},...a}=da(t,e),l=await f0(e,a),c=pa(n),u=qf(n),h=Wl(n)==="y",{width:f,height:d}=r.floating;let p,m;c==="top"||c==="bottom"?(p=c,m=u===(await(i.isRTL==null?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(m=c,p=u==="end"?"top":"bottom");const v=d-l.top-l.bottom,x=f-l.left-l.right,y=cs(d-l[p],v),_=cs(f-l[m],x),C=!e.middlewareData.shift;let S=y,T=_;if(h?T=u||C?cs(_,x):x:S=u||C?cs(y,v):v,C&&!u){const w=Ai(l.left,0),I=Ai(l.right,0),E=Ai(l.top,0),R=Ai(l.bottom,0);h?T=f-2*(w!==0||I!==0?w+I:Ai(l.left,l.right)):S=d-2*(E!==0||R!==0?E+R:Ai(l.top,l.bottom))}await s({...e,availableWidth:T,availableHeight:S});const b=await i.getDimensions(o.floating);return f!==b.width||d!==b.height?{reset:{rects:!0}}:{}}}};function Kf(t){return RF(t)?(t.nodeName||"").toLowerCase():"#document"}function Li(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ba(t){var e;return(e=(RF(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function RF(t){return t instanceof Node||t instanceof Li(t).Node}function Bo(t){return t instanceof Element||t instanceof Li(t).Element}function bs(t){return t instanceof HTMLElement||t instanceof Li(t).HTMLElement}function j6(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Li(t).ShadowRoot}function mm(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Vo(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function Vae(t){return["table","td","th"].includes(Kf(t))}function Dy(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function G5(t){const e=J5(),n=Bo(t)?Vo(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function zae(t){let e=ql(t);for(;bs(e)&&!_f(e);){if(G5(e))return e;if(Dy(e))return null;e=ql(e)}return null}function J5(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function _f(t){return["html","body","#document"].includes(Kf(t))}function Vo(t){return Li(t).getComputedStyle(t)}function My(t){return Bo(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ql(t){if(Kf(t)==="html")return t;const e=t.assignedSlot||t.parentNode||j6(t)&&t.host||ba(t);return j6(e)?e.host:e}function PF(t){const e=ql(t);return _f(e)?t.ownerDocument?t.ownerDocument.body:t.body:bs(e)&&mm(e)?e:PF(e)}function d0(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=PF(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=Li(i);if(o){const a=Ub(s);return e.concat(s,s.visualViewport||[],mm(i)?i:[],a&&n?d0(a):[])}return e.concat(i,d0(i,[],n))}function Ub(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function DF(t){const e=Vo(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=bs(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=Ux(n)!==o||Ux(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function Q5(t){return Bo(t)?t:t.contextElement}function $h(t){const e=Q5(t);if(!bs(e))return Ul(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=DF(e);let s=(o?Ux(n.width):n.width)/r,a=(o?Ux(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const jae=Ul(0);function MF(t){const e=Li(t);return!J5()||!e.visualViewport?jae:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function $ae(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Li(t)?!1:e}function cu(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=Q5(t);let s=Ul(1);e&&(r?Bo(r)&&(s=$h(r)):s=$h(t));const a=$ae(o,n,r)?MF(o):Ul(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,u=i.width/s.x,h=i.height/s.y;if(o){const f=Li(o),d=r&&Bo(r)?Li(r):r;let p=f,m=Ub(p);for(;m&&r&&d!==p;){const v=$h(m),x=m.getBoundingClientRect(),y=Vo(m),_=x.left+(m.clientLeft+parseFloat(y.paddingLeft))*v.x,C=x.top+(m.clientTop+parseFloat(y.paddingTop))*v.y;l*=v.x,c*=v.y,u*=v.x,h*=v.y,l+=_,c+=C,p=Li(m),m=Ub(p)}}return qx({width:u,height:h,x:l,y:c})}function Hae(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",s=ba(r),a=e?Dy(e.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=Ul(1);const u=Ul(0),h=bs(r);if((h||!h&&!o)&&((Kf(r)!=="body"||mm(s))&&(l=My(r)),bs(r))){const f=cu(r);c=$h(r),u.x=f.x+r.clientLeft,u.y=f.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x,y:n.y*c.y-l.scrollTop*c.y+u.y}}function Uae(t){return Array.from(t.getClientRects())}function NF(t){return cu(ba(t)).left+My(t).scrollLeft}function Wae(t){const e=ba(t),n=My(t),r=t.ownerDocument.body,i=Ai(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Ai(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+NF(t);const a=-n.scrollTop;return Vo(r).direction==="rtl"&&(s+=Ai(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function qae(t,e){const n=Li(t),r=ba(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const c=J5();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function Kae(t,e){const n=cu(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=bs(t)?$h(t):Ul(1),s=t.clientWidth*o.x,a=t.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:s,height:a,x:l,y:c}}function $6(t,e,n){let r;if(e==="viewport")r=qae(t,n);else if(e==="document")r=Wae(ba(t));else if(Bo(e))r=Kae(e,n);else{const i=MF(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return qx(r)}function LF(t,e){const n=ql(t);return n===e||!Bo(n)||_f(n)?!1:Vo(n).position==="fixed"||LF(n,e)}function Gae(t,e){const n=e.get(t);if(n)return n;let r=d0(t,[],!1).filter(a=>Bo(a)&&Kf(a)!=="body"),i=null;const o=Vo(t).position==="fixed";let s=o?ql(t):t;for(;Bo(s)&&!_f(s);){const a=Vo(s),l=G5(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||mm(s)&&!l&&LF(t,s))?r=r.filter(u=>u!==s):i=a,s=ql(s)}return e.set(t,r),r}function Jae(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?Dy(e)?[]:Gae(e,this._c):[].concat(n),r],a=s[0],l=s.reduce((c,u)=>{const h=$6(e,u,i);return c.top=Ai(h.top,c.top),c.right=cs(h.right,c.right),c.bottom=cs(h.bottom,c.bottom),c.left=Ai(h.left,c.left),c},$6(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Qae(t){const{width:e,height:n}=DF(t);return{width:e,height:n}}function Yae(t,e,n){const r=bs(e),i=ba(e),o=n==="fixed",s=cu(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=Ul(0);if(r||!r&&!o)if((Kf(e)!=="body"||mm(i))&&(a=My(e)),r){const h=cu(e,!0,o,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else i&&(l.x=NF(i));const c=s.left+a.scrollLeft-l.x,u=s.top+a.scrollTop-l.y;return{x:c,y:u,width:s.width,height:s.height}}function y2(t){return Vo(t).position==="static"}function H6(t,e){return!bs(t)||Vo(t).position==="fixed"?null:e?e(t):t.offsetParent}function OF(t,e){const n=Li(t);if(Dy(t))return n;if(!bs(t)){let i=ql(t);for(;i&&!_f(i);){if(Bo(i)&&!y2(i))return i;i=ql(i)}return n}let r=H6(t,e);for(;r&&Vae(r)&&y2(r);)r=H6(r,e);return r&&_f(r)&&y2(r)&&!G5(r)?n:r||zae(t)||n}const Xae=async function(t){const e=this.getOffsetParent||OF,n=this.getDimensions,r=await n(t.floating);return{reference:Yae(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Zae(t){return Vo(t).direction==="rtl"}const ele={convertOffsetParentRelativeRectToViewportRelativeRect:Hae,getDocumentElement:ba,getClippingRect:Jae,getOffsetParent:OF,getElementRects:Xae,getClientRects:Uae,getDimensions:Qae,getScale:$h,isElement:Bo,isRTL:Zae};function tle(t,e){let n=null,r;const i=ba(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const{left:c,top:u,width:h,height:f}=t.getBoundingClientRect();if(a||e(),!h||!f)return;const d=Rg(u),p=Rg(i.clientWidth-(c+h)),m=Rg(i.clientHeight-(u+f)),v=Rg(c),y={rootMargin:-d+"px "+-p+"px "+-m+"px "+-v+"px",threshold:Ai(0,cs(1,l))||1};let _=!0;function C(S){const T=S[0].intersectionRatio;if(T!==l){if(!_)return s();T?s(!1,T):r=setTimeout(()=>{s(!1,1e-7)},1e3)}_=!1}try{n=new IntersectionObserver(C,{...y,root:i.ownerDocument})}catch{n=new IntersectionObserver(C,y)}n.observe(t)}return s(!0),o}function nle(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=Q5(t),u=i||o?[...c?d0(c):[],...d0(e)]:[];u.forEach(x=>{i&&x.addEventListener("scroll",n,{passive:!0}),o&&x.addEventListener("resize",n)});const h=c&&a?tle(c,n):null;let f=-1,d=null;s&&(d=new ResizeObserver(x=>{let[y]=x;y&&y.target===c&&d&&(d.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var _;(_=d)==null||_.observe(e)})),n()}),c&&!l&&d.observe(c),d.observe(e));let p,m=l?cu(t):null;l&&v();function v(){const x=cu(t);m&&(x.x!==m.x||x.y!==m.y||x.width!==m.width||x.height!==m.height)&&n(),m=x,p=requestAnimationFrame(v)}return n(),()=>{var x;u.forEach(y=>{i&&y.removeEventListener("scroll",n),o&&y.removeEventListener("resize",n)}),h==null||h(),(x=d)==null||x.disconnect(),d=null,l&&cancelAnimationFrame(p)}}const rle=Lae,ile=Oae,ole=Dae,sle=Bae,ale=Mae,U6=Pae,lle=Fae,cle=(t,e,n)=>{const r=new Map,i={platform:ele,...n},o={...i.platform,_c:r};return Rae(t,e,{...i,platform:o})};var B1=typeof document<"u"?k.useLayoutEffect:k.useEffect;function Kx(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Kx(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!Kx(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function FF(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function W6(t,e){const n=FF(t);return Math.round(e*n)/n}function q6(t){const e=k.useRef(t);return B1(()=>{e.current=t}),e}function ule(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,h]=k.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,d]=k.useState(r);Kx(f,r)||d(r);const[p,m]=k.useState(null),[v,x]=k.useState(null),y=k.useCallback(Y=>{Y!==T.current&&(T.current=Y,m(Y))},[]),_=k.useCallback(Y=>{Y!==b.current&&(b.current=Y,x(Y))},[]),C=o||p,S=s||v,T=k.useRef(null),b=k.useRef(null),w=k.useRef(u),I=l!=null,E=q6(l),R=q6(i),D=k.useCallback(()=>{if(!T.current||!b.current)return;const Y={placement:e,strategy:n,middleware:f};R.current&&(Y.platform=R.current),cle(T.current,b.current,Y).then(q=>{const H={...q,isPositioned:!0};N.current&&!Kx(w.current,H)&&(w.current=H,Oo.flushSync(()=>{h(H)}))})},[f,e,n,R]);B1(()=>{c===!1&&w.current.isPositioned&&(w.current.isPositioned=!1,h(Y=>({...Y,isPositioned:!1})))},[c]);const N=k.useRef(!1);B1(()=>(N.current=!0,()=>{N.current=!1}),[]),B1(()=>{if(C&&(T.current=C),S&&(b.current=S),C&&S){if(E.current)return E.current(C,S,D);D()}},[C,S,D,E,I]);const z=k.useMemo(()=>({reference:T,floating:b,setReference:y,setFloating:_}),[y,_]),$=k.useMemo(()=>({reference:C,floating:S}),[C,S]),Q=k.useMemo(()=>{const Y={position:n,left:0,top:0};if(!$.floating)return Y;const q=W6($.floating,u.x),H=W6($.floating,u.y);return a?{...Y,transform:"translate("+q+"px, "+H+"px)",...FF($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:q,top:H}},[n,a,$.floating,u.x,u.y]);return k.useMemo(()=>({...u,update:D,refs:z,elements:$,floatingStyles:Q}),[u,D,z,$,Q])}const hle=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?U6({element:r.current,padding:i}).fn(n):{}:r?U6({element:r,padding:i}).fn(n):{}}}},fle=(t,e)=>({...rle(t),options:[t,e]}),dle=(t,e)=>({...ile(t),options:[t,e]}),ple=(t,e)=>({...lle(t),options:[t,e]}),mle=(t,e)=>({...ole(t),options:[t,e]}),gle=(t,e)=>({...sle(t),options:[t,e]}),xle=(t,e)=>({...ale(t),options:[t,e]}),vle=(t,e)=>({...hle(t),options:[t,e]});var yle="Arrow",BF=k.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...o}=t;return P.jsx(He.svg,{...o,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:P.jsx("polygon",{points:"0,0 30,0 15,10"})})});BF.displayName=yle;var _le=BF;function wle(t){const[e,n]=k.useState(void 0);return Or(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let s,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;s=c.inlineSize,a=c.blockSize}else s=t.offsetWidth,a=t.offsetHeight;n({width:s,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Y5="Popper",[VF,cc]=ho(Y5),[Cle,zF]=VF(Y5),jF=t=>{const{__scopePopper:e,children:n}=t,[r,i]=k.useState(null);return P.jsx(Cle,{scope:e,anchor:r,onAnchorChange:i,children:n})};jF.displayName=Y5;var $F="PopperAnchor",HF=k.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=zF($F,n),s=k.useRef(null),a=St(e,s);return k.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||s.current)}),r?null:P.jsx(He.div,{...i,ref:a})});HF.displayName=$F;var X5="PopperContent",[ble,Ele]=VF(X5),UF=k.forwardRef((t,e)=>{var ue,fe,je,Le,Be,Qe;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:s=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:d="optimized",onPlaced:p,...m}=t,v=zF(X5,n),[x,y]=k.useState(null),_=St(e,ct=>y(ct)),[C,S]=k.useState(null),T=wle(C),b=(T==null?void 0:T.width)??0,w=(T==null?void 0:T.height)??0,I=r+(o!=="center"?"-"+o:""),E=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},R=Array.isArray(c)?c:[c],D=R.length>0,N={padding:E,boundary:R.filter(kle),altBoundary:D},{refs:z,floatingStyles:$,placement:Q,isPositioned:Y,middlewareData:q}=ule({strategy:"fixed",placement:I,whileElementsMounted:(...ct)=>nle(...ct,{animationFrame:d==="always"}),elements:{reference:v.anchor},middleware:[fle({mainAxis:i+w,alignmentAxis:s}),l&&dle({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?ple():void 0,...N}),l&&mle({...N}),gle({...N,apply:({elements:ct,rects:We,availableWidth:zt,availableHeight:on})=>{const{width:Ln,height:fn}=We.reference,qn=ct.floating.style;qn.setProperty("--radix-popper-available-width",`${zt}px`),qn.setProperty("--radix-popper-available-height",`${on}px`),qn.setProperty("--radix-popper-anchor-width",`${Ln}px`),qn.setProperty("--radix-popper-anchor-height",`${fn}px`)}}),C&&vle({element:C,padding:a}),Tle({arrowWidth:b,arrowHeight:w}),f&&xle({strategy:"referenceHidden",...N})]}),[H,O]=KF(Q),U=Lr(p);Or(()=>{Y&&(U==null||U())},[Y,U]);const K=(ue=q.arrow)==null?void 0:ue.x,L=(fe=q.arrow)==null?void 0:fe.y,J=((je=q.arrow)==null?void 0:je.centerOffset)!==0,[Ee,de]=k.useState();return Or(()=>{x&&de(window.getComputedStyle(x).zIndex)},[x]),P.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:Y?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ee,"--radix-popper-transform-origin":[(Le=q.transformOrigin)==null?void 0:Le.x,(Be=q.transformOrigin)==null?void 0:Be.y].join(" "),...((Qe=q.hide)==null?void 0:Qe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:P.jsx(ble,{scope:n,placedSide:H,onArrowChange:S,arrowX:K,arrowY:L,shouldHideArrow:J,children:P.jsx(He.div,{"data-side":H,"data-align":O,...m,ref:_,style:{...m.style,animation:Y?void 0:"none"}})})})});UF.displayName=X5;var WF="PopperArrow",Sle={top:"bottom",right:"left",bottom:"top",left:"right"},qF=k.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,o=Ele(WF,r),s=Sle[o.placedSide];return P.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[s]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:P.jsx(_le,{...i,ref:n,style:{...i.style,display:"block"}})})});qF.displayName=WF;function kle(t){return t!==null}var Tle=t=>({name:"transformOrigin",options:t,fn(e){var v,x,y;const{placement:n,rects:r,middlewareData:i}=e,s=((v=i.arrow)==null?void 0:v.centerOffset)!==0,a=s?0:t.arrowWidth,l=s?0:t.arrowHeight,[c,u]=KF(n),h={start:"0%",center:"50%",end:"100%"}[u],f=(((x=i.arrow)==null?void 0:x.x)??0)+a/2,d=(((y=i.arrow)==null?void 0:y.y)??0)+l/2;let p="",m="";return c==="bottom"?(p=s?h:`${f}px`,m=`${-l}px`):c==="top"?(p=s?h:`${f}px`,m=`${r.floating.height+l}px`):c==="right"?(p=`${-l}px`,m=s?h:`${d}px`):c==="left"&&(p=`${r.floating.width+l}px`,m=s?h:`${d}px`),{data:{x:p,y:m}}}});function KF(t){const[e,n="center"]=t.split("-");return[e,n]}var Ny=jF,gm=HF,Ly=UF,Oy=qF,Ale="Portal",Du=k.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,o]=k.useState(!1);Or(()=>o(!0),[]);const s=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return s?AN.createPortal(P.jsx(He.div,{...r,ref:e}),s):null});Du.displayName=Ale;function Ile(t,e){return k.useReducer((n,r)=>e[n][r]??n,t)}var ji=t=>{const{present:e,children:n}=t,r=Rle(e),i=typeof n=="function"?n({present:r.isPresent}):k.Children.only(n),o=St(r.ref,Ple(i));return typeof n=="function"||r.isPresent?k.cloneElement(i,{ref:o}):null};ji.displayName="Presence";function Rle(t){const[e,n]=k.useState(),r=k.useRef({}),i=k.useRef(t),o=k.useRef("none"),s=t?"mounted":"unmounted",[a,l]=Ile(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return k.useEffect(()=>{const c=Pg(r.current);o.current=a==="mounted"?c:"none"},[a]),Or(()=>{const c=r.current,u=i.current;if(u!==t){const f=o.current,d=Pg(c);t?l("MOUNT"):d==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&f!==d?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Or(()=>{if(e){const c=h=>{const d=Pg(r.current).includes(h.animationName);h.target===e&&d&&Oo.flushSync(()=>l("ANIMATION_END"))},u=h=>{h.target===e&&(o.current=Pg(r.current))};return e.addEventListener("animationstart",u),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{e.removeEventListener("animationstart",u),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:k.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Pg(t){return(t==null?void 0:t.animationName)||"none"}function Ple(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function zo({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=Dle({defaultProp:e,onChange:n}),o=t!==void 0,s=o?t:r,a=Lr(n),l=k.useCallback(c=>{if(o){const h=typeof c=="function"?c(t):c;h!==t&&a(h)}else i(c)},[o,t,i,a]);return[s,l]}function Dle({defaultProp:t,onChange:e}){const n=k.useState(t),[r]=n,i=k.useRef(r),o=Lr(e);return k.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}var Mle="VisuallyHidden",xm=k.forwardRef((t,e)=>P.jsx(He.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));xm.displayName=Mle;var Nle=xm,[Fy,HAe]=ho("Tooltip",[cc]),By=cc(),GF="TooltipProvider",Lle=700,Wb="tooltip.open",[Ole,Z5]=Fy(GF),JF=t=>{const{__scopeTooltip:e,delayDuration:n=Lle,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:o}=t,[s,a]=k.useState(!0),l=k.useRef(!1),c=k.useRef(0);return k.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),P.jsx(Ole,{scope:e,isOpenDelayed:s,delayDuration:n,onOpen:k.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:k.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:k.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:o})};JF.displayName=GF;var Vy="Tooltip",[Fle,vm]=Fy(Vy),QF=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i=!1,onOpenChange:o,disableHoverableContent:s,delayDuration:a}=t,l=Z5(Vy,t.__scopeTooltip),c=By(e),[u,h]=k.useState(null),f=Mo(),d=k.useRef(0),p=s??l.disableHoverableContent,m=a??l.delayDuration,v=k.useRef(!1),[x=!1,y]=zo({prop:r,defaultProp:i,onChange:b=>{b?(l.onOpen(),document.dispatchEvent(new CustomEvent(Wb))):l.onClose(),o==null||o(b)}}),_=k.useMemo(()=>x?v.current?"delayed-open":"instant-open":"closed",[x]),C=k.useCallback(()=>{window.clearTimeout(d.current),v.current=!1,y(!0)},[y]),S=k.useCallback(()=>{window.clearTimeout(d.current),y(!1)},[y]),T=k.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>{v.current=!0,y(!0)},m)},[m,y]);return k.useEffect(()=>()=>window.clearTimeout(d.current),[]),P.jsx(Ny,{...c,children:P.jsx(Fle,{scope:e,contentId:f,open:x,stateAttribute:_,trigger:u,onTriggerChange:h,onTriggerEnter:k.useCallback(()=>{l.isOpenDelayed?T():C()},[l.isOpenDelayed,T,C]),onTriggerLeave:k.useCallback(()=>{p?S():window.clearTimeout(d.current)},[S,p]),onOpen:C,onClose:S,disableHoverableContent:p,children:n})})};QF.displayName=Vy;var qb="TooltipTrigger",YF=k.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=vm(qb,n),o=Z5(qb,n),s=By(n),a=k.useRef(null),l=St(e,a,i.onTriggerChange),c=k.useRef(!1),u=k.useRef(!1),h=k.useCallback(()=>c.current=!1,[]);return k.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),P.jsx(gm,{asChild:!0,...s,children:P.jsx(He.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:_e(t.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:_e(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:_e(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:_e(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:_e(t.onBlur,i.onClose),onClick:_e(t.onClick,i.onClose)})})});YF.displayName=qb;var eT="TooltipPortal",[Ble,Vle]=Fy(eT,{forceMount:void 0}),XF=t=>{const{__scopeTooltip:e,forceMount:n,children:r,container:i}=t,o=vm(eT,e);return P.jsx(Ble,{scope:e,forceMount:n,children:P.jsx(ji,{present:n||o.open,children:P.jsx(Du,{asChild:!0,container:i,children:r})})})};XF.displayName=eT;var wf="TooltipContent",ZF=k.forwardRef((t,e)=>{const n=Vle(wf,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...o}=t,s=vm(wf,t.__scopeTooltip);return P.jsx(ji,{present:r||s.open,children:s.disableHoverableContent?P.jsx(eB,{side:i,...o,ref:e}):P.jsx(zle,{side:i,...o,ref:e})})}),zle=k.forwardRef((t,e)=>{const n=vm(wf,t.__scopeTooltip),r=Z5(wf,t.__scopeTooltip),i=k.useRef(null),o=St(e,i),[s,a]=k.useState(null),{trigger:l,onClose:c}=n,u=i.current,{onPointerInTransitChange:h}=r,f=k.useCallback(()=>{a(null),h(!1)},[h]),d=k.useCallback((p,m)=>{const v=p.currentTarget,x={x:p.clientX,y:p.clientY},y=Ule(x,v.getBoundingClientRect()),_=Wle(x,y),C=qle(m.getBoundingClientRect()),S=Gle([..._,...C]);a(S),h(!0)},[h]);return k.useEffect(()=>()=>f(),[f]),k.useEffect(()=>{if(l&&u){const p=v=>d(v,u),m=v=>d(v,l);return l.addEventListener("pointerleave",p),u.addEventListener("pointerleave",m),()=>{l.removeEventListener("pointerleave",p),u.removeEventListener("pointerleave",m)}}},[l,u,d,f]),k.useEffect(()=>{if(s){const p=m=>{const v=m.target,x={x:m.clientX,y:m.clientY},y=(l==null?void 0:l.contains(v))||(u==null?void 0:u.contains(v)),_=!Kle(x,s);y?f():_&&(f(),c())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[l,u,s,c,f]),P.jsx(eB,{...t,ref:o})}),[jle,$le]=Fy(Vy,{isInside:!1}),eB=k.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:s,...a}=t,l=vm(wf,n),c=By(n),{onClose:u}=l;return k.useEffect(()=>(document.addEventListener(Wb,u),()=>document.removeEventListener(Wb,u)),[u]),k.useEffect(()=>{if(l.trigger){const h=f=>{const d=f.target;d!=null&&d.contains(l.trigger)&&u()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,u]),P.jsx(Pu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:h=>h.preventDefault(),onDismiss:u,children:P.jsxs(Ly,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[P.jsx(EF,{children:r}),P.jsx(jle,{scope:n,isInside:!0,children:P.jsx(Nle,{id:l.contentId,role:"tooltip",children:i||r})})]})})});ZF.displayName=wf;var tB="TooltipArrow",Hle=k.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=By(n);return $le(tB,n).isInside?null:P.jsx(Oy,{...i,...r,ref:e})});Hle.displayName=tB;function Ule(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(n,r,i,o)){case o:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Wle(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function qle(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function Kle(t,e){const{x:n,y:r}=t;let i=!1;for(let o=0,s=e.length-1;o<e.length;s=o++){const a=e[o].x,l=e[o].y,c=e[s].x,u=e[s].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(i=!i)}return i}function Gle(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Jle(e)}function Jle(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const o=e[e.length-1],s=e[e.length-2];if((o.x-s.x)*(i.y-s.y)>=(o.y-s.y)*(i.x-s.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const o=n[n.length-1],s=n[n.length-2];if((o.x-s.x)*(i.y-s.y)>=(o.y-s.y)*(i.x-s.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var nB=JF,rB=QF,iB=YF,Qle=XF,tT=ZF;const Yle=nB,Xle=rB,Zle=iB,oB=k.forwardRef(({className:t,sideOffset:e=4,...n},r)=>P.jsx(tT,{ref:r,sideOffset:e,className:ft("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));oB.displayName=tT.displayName;const Ho=k.forwardRef(function({children:e,className:n,message:r,...i},o){return P.jsx(Yle,{children:P.jsxs(Xle,{children:[P.jsx(Zle,{asChild:!0,children:P.jsx(Hl,{ref:o,size:"icon",className:dy("bg-transparent hover:bg-zinc-700 [&_svg]:text-zinc-300",n),...i,children:e})}),P.jsx(oB,{children:P.jsx("p",{children:r})})]})})});function K6({...t}){return P.jsx(Ho,{...t,message:"Delete Selected Content",children:P.jsx(Hse,{})})}const ece=k.forwardRef(function({...e},n){return P.jsx(Ho,{ref:n,...e,message:"Menu Buttons",children:P.jsx($se,{})})});function G6({...t}){return P.jsx(Ho,{...t,message:"New Voice Content",children:P.jsx(Use,{})})}function J6({...t}){return P.jsx(Ho,{...t,message:"New Text Content",children:P.jsx(eae,{})})}const p0=k.forwardRef(({className:t,type:e,...n},r)=>P.jsx("input",{type:e,className:ft("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));p0.displayName="Input";function tce(){const t=Z0(),{isLoading:e,mutate:n}=Tu({mutationFn:({noteId:r,title:i})=>Dse(i,r),onSuccess:()=>{t.invalidateQueries({queryKey:["notes"]})}});return{isEditing:e,editNoteTitle:n}}function nce({noteId:t,noteTitle:e}){const[n,r]=k.useState(!1),[i,o]=k.useState(()=>e.split(".")[0]),{isEditing:s,editNoteTitle:a}=tce(),{toast:l}=Ts(),c=()=>{r(!0)},u=()=>{r(!1),i!==e&&a({noteId:t,title:i},{onError:f=>{l({title:f.name,description:f.message}),o(e)}})},h=f=>{n&&o(f.target.value)};return P.jsx(p0,{type:"text",disabled:s,value:i,onFocus:c,onBlur:u,onChange:h,readOnly:!n,autoComplete:"off",className:ft("max-w-[60vw] overflow-x-auto rounded-none border-0 bg-transparent text-lg font-medium text-white caret-white focus-visible:border-b focus-visible:border-zinc-300 focus-visible:ring-0 focus-visible:ring-offset-0 md:overflow-visible")})}function Q6({...t}){return P.jsx(Ho,{...t,message:"Save To Web",children:P.jsx(Yse,{})})}function sB({...t}){return P.jsx(Ho,{...t,message:"Toggle Sidebar",children:P.jsx(jse,{})})}function zy(t){const e=t+"CollectionProvider",[n,r]=ho(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=d=>{const{scope:p,children:m}=d,v=F.useRef(null),x=F.useRef(new Map).current;return P.jsx(i,{scope:p,itemMap:x,collectionRef:v,children:m})};s.displayName=e;const a=t+"CollectionSlot",l=F.forwardRef((d,p)=>{const{scope:m,children:v}=d,x=o(a,m),y=St(p,x.collectionRef);return P.jsx(fa,{ref:y,children:v})});l.displayName=a;const c=t+"CollectionItemSlot",u="data-radix-collection-item",h=F.forwardRef((d,p)=>{const{scope:m,children:v,...x}=d,y=F.useRef(null),_=St(p,y),C=o(c,m);return F.useEffect(()=>(C.itemMap.set(y,{ref:y,...x}),()=>void C.itemMap.delete(y))),P.jsx(fa,{[u]:"",ref:_,children:v})});h.displayName=c;function f(d){const p=o(t+"CollectionConsumer",d);return F.useCallback(()=>{const v=p.collectionRef.current;if(!v)return[];const x=Array.from(v.querySelectorAll(`[${u}]`));return Array.from(p.itemMap.values()).sort((C,S)=>x.indexOf(C.ref.current)-x.indexOf(S.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:s,Slot:l,ItemSlot:h},f,r]}var rce=k.createContext(void 0);function ym(t){const e=k.useContext(rce);return t||e||"ltr"}var _2=0;function jy(){k.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Y6()),document.body.insertAdjacentElement("beforeend",t[1]??Y6()),_2++,()=>{_2===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),_2--}},[])}function Y6(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}var w2="focusScope.autoFocusOnMount",C2="focusScope.autoFocusOnUnmount",X6={bubbles:!1,cancelable:!0},ice="FocusScope",_m=k.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=t,[a,l]=k.useState(null),c=Lr(i),u=Lr(o),h=k.useRef(null),f=St(e,m=>l(m)),d=k.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;k.useEffect(()=>{if(r){let m=function(_){if(d.paused||!a)return;const C=_.target;a.contains(C)?h.current=C:Ka(h.current,{select:!0})},v=function(_){if(d.paused||!a)return;const C=_.relatedTarget;C!==null&&(a.contains(C)||Ka(h.current,{select:!0}))},x=function(_){if(document.activeElement===document.body)for(const S of _)S.removedNodes.length>0&&Ka(a)};document.addEventListener("focusin",m),document.addEventListener("focusout",v);const y=new MutationObserver(x);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",v),y.disconnect()}}},[r,a,d.paused]),k.useEffect(()=>{if(a){eI.add(d);const m=document.activeElement;if(!a.contains(m)){const x=new CustomEvent(w2,X6);a.addEventListener(w2,c),a.dispatchEvent(x),x.defaultPrevented||(oce(uce(aB(a)),{select:!0}),document.activeElement===m&&Ka(a))}return()=>{a.removeEventListener(w2,c),setTimeout(()=>{const x=new CustomEvent(C2,X6);a.addEventListener(C2,u),a.dispatchEvent(x),x.defaultPrevented||Ka(m??document.body,{select:!0}),a.removeEventListener(C2,u),eI.remove(d)},0)}}},[a,c,u,d]);const p=k.useCallback(m=>{if(!n&&!r||d.paused)return;const v=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,x=document.activeElement;if(v&&x){const y=m.currentTarget,[_,C]=sce(y);_&&C?!m.shiftKey&&x===C?(m.preventDefault(),n&&Ka(_,{select:!0})):m.shiftKey&&x===_&&(m.preventDefault(),n&&Ka(C,{select:!0})):x===y&&m.preventDefault()}},[n,r,d.paused]);return P.jsx(He.div,{tabIndex:-1,...s,ref:f,onKeyDown:p})});_m.displayName=ice;function oce(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ka(r,{select:e}),document.activeElement!==n)return}function sce(t){const e=aB(t),n=Z6(e,t),r=Z6(e.reverse(),t);return[n,r]}function aB(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Z6(t,e){for(const n of t)if(!ace(n,{upTo:e}))return n}function ace(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function lce(t){return t instanceof HTMLInputElement&&"select"in t}function Ka(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&lce(t)&&e&&t.select()}}var eI=cce();function cce(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=tI(t,e),t.unshift(e)},remove(e){var n;t=tI(t,e),(n=t[0])==null||n.resume()}}}function tI(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function uce(t){return t.filter(e=>e.tagName!=="A")}var b2="rovingFocusGroup.onEntryFocus",hce={bubbles:!1,cancelable:!0},$y="RovingFocusGroup",[Kb,lB,fce]=zy($y),[dce,Gf]=ho($y,[fce]),[pce,mce]=dce($y),cB=k.forwardRef((t,e)=>P.jsx(Kb.Provider,{scope:t.__scopeRovingFocusGroup,children:P.jsx(Kb.Slot,{scope:t.__scopeRovingFocusGroup,children:P.jsx(gce,{...t,ref:e})})}));cB.displayName=$y;var gce=k.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:s,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...h}=t,f=k.useRef(null),d=St(e,f),p=ym(o),[m=null,v]=zo({prop:s,defaultProp:a,onChange:l}),[x,y]=k.useState(!1),_=Lr(c),C=lB(n),S=k.useRef(!1),[T,b]=k.useState(0);return k.useEffect(()=>{const w=f.current;if(w)return w.addEventListener(b2,_),()=>w.removeEventListener(b2,_)},[_]),P.jsx(pce,{scope:n,orientation:r,dir:p,loop:i,currentTabStopId:m,onItemFocus:k.useCallback(w=>v(w),[v]),onItemShiftTab:k.useCallback(()=>y(!0),[]),onFocusableItemAdd:k.useCallback(()=>b(w=>w+1),[]),onFocusableItemRemove:k.useCallback(()=>b(w=>w-1),[]),children:P.jsx(He.div,{tabIndex:x||T===0?-1:0,"data-orientation":r,...h,ref:d,style:{outline:"none",...t.style},onMouseDown:_e(t.onMouseDown,()=>{S.current=!0}),onFocus:_e(t.onFocus,w=>{const I=!S.current;if(w.target===w.currentTarget&&I&&!x){const E=new CustomEvent(b2,hce);if(w.currentTarget.dispatchEvent(E),!E.defaultPrevented){const R=C().filter(Q=>Q.focusable),D=R.find(Q=>Q.active),N=R.find(Q=>Q.id===m),$=[D,N,...R].filter(Boolean).map(Q=>Q.ref.current);fB($,u)}}S.current=!1}),onBlur:_e(t.onBlur,()=>y(!1))})})}),uB="RovingFocusGroupItem",hB=k.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,...s}=t,a=Mo(),l=o||a,c=mce(uB,n),u=c.currentTabStopId===l,h=lB(n),{onFocusableItemAdd:f,onFocusableItemRemove:d}=c;return k.useEffect(()=>{if(r)return f(),()=>d()},[r,f,d]),P.jsx(Kb.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:P.jsx(He.span,{tabIndex:u?0:-1,"data-orientation":c.orientation,...s,ref:e,onMouseDown:_e(t.onMouseDown,p=>{r?c.onItemFocus(l):p.preventDefault()}),onFocus:_e(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:_e(t.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){c.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const m=yce(p,c.orientation,c.dir);if(m!==void 0){if(p.metaKey||p.ctrlKey||p.altKey||p.shiftKey)return;p.preventDefault();let x=h().filter(y=>y.focusable).map(y=>y.ref.current);if(m==="last")x.reverse();else if(m==="prev"||m==="next"){m==="prev"&&x.reverse();const y=x.indexOf(p.currentTarget);x=c.loop?_ce(x,y+1):x.slice(y+1)}setTimeout(()=>fB(x))}})})})});hB.displayName=uB;var xce={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function vce(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function yce(t,e,n){const r=vce(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return xce[r]}function fB(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function _ce(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var nT=cB,Hy=hB,wce=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Ju=new WeakMap,Dg=new WeakMap,Mg={},E2=0,dB=function(t){return t&&(t.host||dB(t.parentNode))},Cce=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=dB(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},bce=function(t,e,n,r){var i=Cce(e,Array.isArray(t)?t:[t]);Mg[n]||(Mg[n]=new WeakMap);var o=Mg[n],s=[],a=new Set,l=new Set(i),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};i.forEach(c);var u=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(f){if(a.has(f))u(f);else try{var d=f.getAttribute(r),p=d!==null&&d!=="false",m=(Ju.get(f)||0)+1,v=(o.get(f)||0)+1;Ju.set(f,m),o.set(f,v),s.push(f),m===1&&p&&Dg.set(f,!0),v===1&&f.setAttribute(n,"true"),p||f.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",f,x)}})};return u(e),a.clear(),E2++,function(){s.forEach(function(h){var f=Ju.get(h)-1,d=o.get(h)-1;Ju.set(h,f),o.set(h,d),f||(Dg.has(h)||h.removeAttribute(r),Dg.delete(h)),d||h.removeAttribute(n)}),E2--,E2||(Ju=new WeakMap,Ju=new WeakMap,Dg=new WeakMap,Mg={})}},Uy=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=wce(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),bce(r,i,n,"aria-hidden")):function(){return null}},V1="right-scroll-bar-position",z1="width-before-scroll-bar",Ece="with-scroll-bars-hidden",Sce="--removed-body-scroll-bar-size";function S2(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function kce(t,e){var n=k.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var Tce=typeof window<"u"?k.useLayoutEffect:k.useEffect,nI=new WeakMap;function Ace(t,e){var n=kce(null,function(r){return t.forEach(function(i){return S2(i,r)})});return Tce(function(){var r=nI.get(n);if(r){var i=new Set(r),o=new Set(t),s=n.current;i.forEach(function(a){o.has(a)||S2(a,null)}),o.forEach(function(a){i.has(a)||S2(a,s)})}nI.set(n,t)},[t]),n}function Ice(t){return t}function Rce(t,e){e===void 0&&(e=Ice);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var s=e(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var l=function(){var u=s;s=[],u.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){s.push(u),c()},filter:function(u){return s=s.filter(u),n}}}};return i}function Pce(t){t===void 0&&(t={});var e=Rce(null);return e.options=rs({async:!0,ssr:!1},t),e}var pB=function(t){var e=t.sideCar,n=um(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return k.createElement(r,rs({},n))};pB.isSideCarExport=!0;function Dce(t,e){return t.useMedium(e),pB}var mB=Pce(),k2=function(){},Wy=k.forwardRef(function(t,e){var n=k.useRef(null),r=k.useState({onScrollCapture:k2,onWheelCapture:k2,onTouchMoveCapture:k2}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,h=t.shards,f=t.sideCar,d=t.noIsolation,p=t.inert,m=t.allowPinchZoom,v=t.as,x=v===void 0?"div":v,y=t.gapMode,_=um(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=f,S=Ace([n,e]),T=rs(rs({},_),i);return k.createElement(k.Fragment,null,u&&k.createElement(C,{sideCar:mB,removeScrollBar:c,shards:h,noIsolation:d,inert:p,setCallbacks:o,allowPinchZoom:!!m,lockRef:n,gapMode:y}),s?k.cloneElement(k.Children.only(a),rs(rs({},T),{ref:S})):k.createElement(x,rs({},T,{className:l,ref:S}),a))});Wy.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Wy.classNames={fullWidth:z1,zeroRight:V1};var Mce=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Nce(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Mce();return e&&t.setAttribute("nonce",e),t}function Lce(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function Oce(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Fce=function(){var t=0,e=null;return{add:function(n){t==0&&(e=Nce())&&(Lce(e,n),Oce(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Bce=function(){var t=Fce();return function(e,n){k.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},gB=function(){var t=Bce(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},Vce={left:0,top:0,right:0,gap:0},T2=function(t){return parseInt(t||"",10)||0},zce=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[T2(n),T2(r),T2(i)]},jce=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Vce;var e=zce(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},$ce=gB(),Hh="data-scroll-locked",Hce=function(t,e,n,r){var i=t.left,o=t.top,s=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Ece,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Hh,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(V1,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(z1,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(V1," .").concat(V1,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(z1," .").concat(z1,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Hh,`] {
    `).concat(Sce,": ").concat(a,`px;
  }
`)},rI=function(){var t=parseInt(document.body.getAttribute(Hh)||"0",10);return isFinite(t)?t:0},Uce=function(){k.useEffect(function(){return document.body.setAttribute(Hh,(rI()+1).toString()),function(){var t=rI()-1;t<=0?document.body.removeAttribute(Hh):document.body.setAttribute(Hh,t.toString())}},[])},Wce=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Uce();var o=k.useMemo(function(){return jce(i)},[i]);return k.createElement($ce,{styles:Hce(o,!e,i,n?"":"!important")})},Gb=!1;if(typeof window<"u")try{var Ng=Object.defineProperty({},"passive",{get:function(){return Gb=!0,!0}});window.addEventListener("test",Ng,Ng),window.removeEventListener("test",Ng,Ng)}catch{Gb=!1}var Qu=Gb?{passive:!1}:!1,qce=function(t){return t.tagName==="TEXTAREA"},xB=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!qce(t)&&n[e]==="visible")},Kce=function(t){return xB(t,"overflowY")},Gce=function(t){return xB(t,"overflowX")},iI=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=vB(t,r);if(i){var o=yB(t,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Jce=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Qce=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},vB=function(t,e){return t==="v"?Kce(e):Gce(e)},yB=function(t,e){return t==="v"?Jce(e):Qce(e)},Yce=function(t,e){return t==="h"&&e==="rtl"?-1:1},Xce=function(t,e,n,r,i){var o=Yce(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,l=e.contains(a),c=!1,u=s>0,h=0,f=0;do{var d=yB(t,a),p=d[0],m=d[1],v=d[2],x=m-v-o*p;(p||x)&&vB(t,a)&&(h+=x,f+=p),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(Math.abs(h)<1||!i)||!u&&(Math.abs(f)<1||!i))&&(c=!0),c},Lg=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},oI=function(t){return[t.deltaX,t.deltaY]},sI=function(t){return t&&"current"in t?t.current:t},Zce=function(t,e){return t[0]===e[0]&&t[1]===e[1]},eue=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},tue=0,Yu=[];function nue(t){var e=k.useRef([]),n=k.useRef([0,0]),r=k.useRef(),i=k.useState(tue++)[0],o=k.useState(gB)[0],s=k.useRef(t);k.useEffect(function(){s.current=t},[t]),k.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var m=cie([t.lockRef.current],(t.shards||[]).map(sI),!0).filter(Boolean);return m.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),m.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=k.useCallback(function(m,v){if("touches"in m&&m.touches.length===2)return!s.current.allowPinchZoom;var x=Lg(m),y=n.current,_="deltaX"in m?m.deltaX:y[0]-x[0],C="deltaY"in m?m.deltaY:y[1]-x[1],S,T=m.target,b=Math.abs(_)>Math.abs(C)?"h":"v";if("touches"in m&&b==="h"&&T.type==="range")return!1;var w=iI(b,T);if(!w)return!0;if(w?S=b:(S=b==="v"?"h":"v",w=iI(b,T)),!w)return!1;if(!r.current&&"changedTouches"in m&&(_||C)&&(r.current=S),!S)return!0;var I=r.current||S;return Xce(I,v,m,I==="h"?_:C,!0)},[]),l=k.useCallback(function(m){var v=m;if(!(!Yu.length||Yu[Yu.length-1]!==o)){var x="deltaY"in v?oI(v):Lg(v),y=e.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&Zce(S.delta,x)})[0];if(y&&y.should){v.cancelable&&v.preventDefault();return}if(!y){var _=(s.current.shards||[]).map(sI).filter(Boolean).filter(function(S){return S.contains(v.target)}),C=_.length>0?a(v,_[0]):!s.current.noIsolation;C&&v.cancelable&&v.preventDefault()}}},[]),c=k.useCallback(function(m,v,x,y){var _={name:m,delta:v,target:x,should:y,shadowParent:rue(x)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(C){return C!==_})},1)},[]),u=k.useCallback(function(m){n.current=Lg(m),r.current=void 0},[]),h=k.useCallback(function(m){c(m.type,oI(m),m.target,a(m,t.lockRef.current))},[]),f=k.useCallback(function(m){c(m.type,Lg(m),m.target,a(m,t.lockRef.current))},[]);k.useEffect(function(){return Yu.push(o),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Qu),document.addEventListener("touchmove",l,Qu),document.addEventListener("touchstart",u,Qu),function(){Yu=Yu.filter(function(m){return m!==o}),document.removeEventListener("wheel",l,Qu),document.removeEventListener("touchmove",l,Qu),document.removeEventListener("touchstart",u,Qu)}},[]);var d=t.removeScrollBar,p=t.inert;return k.createElement(k.Fragment,null,p?k.createElement(o,{styles:eue(i)}):null,d?k.createElement(Wce,{gapMode:t.gapMode}):null)}function rue(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const iue=Dce(mB,nue);var wm=k.forwardRef(function(t,e){return k.createElement(Wy,rs({},t,{ref:e,sideCar:iue}))});wm.classNames=Wy.classNames;var Jb=["Enter"," "],oue=["ArrowDown","PageUp","Home"],_B=["ArrowUp","PageDown","End"],sue=[...oue,..._B],aue={ltr:[...Jb,"ArrowRight"],rtl:[...Jb,"ArrowLeft"]},lue={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Cm="Menu",[m0,cue,uue]=zy(Cm),[Mu,wB]=ho(Cm,[uue,cc,Gf]),qy=cc(),CB=Gf(),[hue,Nu]=Mu(Cm),[fue,bm]=Mu(Cm),bB=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:o,modal:s=!0}=t,a=qy(e),[l,c]=k.useState(null),u=k.useRef(!1),h=Lr(o),f=ym(i);return k.useEffect(()=>{const d=()=>{u.current=!0,document.addEventListener("pointerdown",p,{capture:!0,once:!0}),document.addEventListener("pointermove",p,{capture:!0,once:!0})},p=()=>u.current=!1;return document.addEventListener("keydown",d,{capture:!0}),()=>{document.removeEventListener("keydown",d,{capture:!0}),document.removeEventListener("pointerdown",p,{capture:!0}),document.removeEventListener("pointermove",p,{capture:!0})}},[]),P.jsx(Ny,{...a,children:P.jsx(hue,{scope:e,open:n,onOpenChange:h,content:l,onContentChange:c,children:P.jsx(fue,{scope:e,onClose:k.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:u,dir:f,modal:s,children:r})})})};bB.displayName=Cm;var due="MenuAnchor",rT=k.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=qy(n);return P.jsx(gm,{...i,...r,ref:e})});rT.displayName=due;var iT="MenuPortal",[pue,EB]=Mu(iT,{forceMount:void 0}),SB=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,o=Nu(iT,e);return P.jsx(pue,{scope:e,forceMount:n,children:P.jsx(ji,{present:n||o.open,children:P.jsx(Du,{asChild:!0,container:i,children:r})})})};SB.displayName=iT;var io="MenuContent",[mue,oT]=Mu(io),kB=k.forwardRef((t,e)=>{const n=EB(io,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,o=Nu(io,t.__scopeMenu),s=bm(io,t.__scopeMenu);return P.jsx(m0.Provider,{scope:t.__scopeMenu,children:P.jsx(ji,{present:r||o.open,children:P.jsx(m0.Slot,{scope:t.__scopeMenu,children:s.modal?P.jsx(gue,{...i,ref:e}):P.jsx(xue,{...i,ref:e})})})})}),gue=k.forwardRef((t,e)=>{const n=Nu(io,t.__scopeMenu),r=k.useRef(null),i=St(e,r);return k.useEffect(()=>{const o=r.current;if(o)return Uy(o)},[]),P.jsx(sT,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:_e(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),xue=k.forwardRef((t,e)=>{const n=Nu(io,t.__scopeMenu);return P.jsx(sT,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),sT=k.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:f,onDismiss:d,disableOutsideScroll:p,...m}=t,v=Nu(io,n),x=bm(io,n),y=qy(n),_=CB(n),C=cue(n),[S,T]=k.useState(null),b=k.useRef(null),w=St(e,b,v.onContentChange),I=k.useRef(0),E=k.useRef(""),R=k.useRef(0),D=k.useRef(null),N=k.useRef("right"),z=k.useRef(0),$=p?wm:k.Fragment,Q=p?{as:fa,allowPinchZoom:!0}:void 0,Y=H=>{var ue,fe;const O=E.current+H,U=C().filter(je=>!je.disabled),K=document.activeElement,L=(ue=U.find(je=>je.ref.current===K))==null?void 0:ue.textValue,J=U.map(je=>je.textValue),Ee=Iue(J,O,L),de=(fe=U.find(je=>je.textValue===Ee))==null?void 0:fe.ref.current;(function je(Le){E.current=Le,window.clearTimeout(I.current),Le!==""&&(I.current=window.setTimeout(()=>je(""),1e3))})(O),de&&setTimeout(()=>de.focus())};k.useEffect(()=>()=>window.clearTimeout(I.current),[]),jy();const q=k.useCallback(H=>{var U,K;return N.current===((U=D.current)==null?void 0:U.side)&&Pue(H,(K=D.current)==null?void 0:K.area)},[]);return P.jsx(mue,{scope:n,searchRef:E,onItemEnter:k.useCallback(H=>{q(H)&&H.preventDefault()},[q]),onItemLeave:k.useCallback(H=>{var O;q(H)||((O=b.current)==null||O.focus(),T(null))},[q]),onTriggerLeave:k.useCallback(H=>{q(H)&&H.preventDefault()},[q]),pointerGraceTimerRef:R,onPointerGraceIntentChange:k.useCallback(H=>{D.current=H},[]),children:P.jsx($,{...Q,children:P.jsx(_m,{asChild:!0,trapped:i,onMountAutoFocus:_e(o,H=>{var O;H.preventDefault(),(O=b.current)==null||O.focus({preventScroll:!0})}),onUnmountAutoFocus:s,children:P.jsx(Pu,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:h,onInteractOutside:f,onDismiss:d,children:P.jsx(nT,{asChild:!0,..._,dir:x.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:T,onEntryFocus:_e(l,H=>{x.isUsingKeyboardRef.current||H.preventDefault()}),preventScrollOnEntryFocus:!0,children:P.jsx(Ly,{role:"menu","aria-orientation":"vertical","data-state":$B(v.open),"data-radix-menu-content":"",dir:x.dir,...y,...m,ref:w,style:{outline:"none",...m.style},onKeyDown:_e(m.onKeyDown,H=>{const U=H.target.closest("[data-radix-menu-content]")===H.currentTarget,K=H.ctrlKey||H.altKey||H.metaKey,L=H.key.length===1;U&&(H.key==="Tab"&&H.preventDefault(),!K&&L&&Y(H.key));const J=b.current;if(H.target!==J||!sue.includes(H.key))return;H.preventDefault();const de=C().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);_B.includes(H.key)&&de.reverse(),Tue(de)}),onBlur:_e(t.onBlur,H=>{H.currentTarget.contains(H.target)||(window.clearTimeout(I.current),E.current="")}),onPointerMove:_e(t.onPointerMove,g0(H=>{const O=H.target,U=z.current!==H.clientX;if(H.currentTarget.contains(O)&&U){const K=H.clientX>z.current?"right":"left";N.current=K,z.current=H.clientX}}))})})})})})})});kB.displayName=io;var vue="MenuGroup",aT=k.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return P.jsx(He.div,{role:"group",...r,ref:e})});aT.displayName=vue;var yue="MenuLabel",TB=k.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return P.jsx(He.div,{...r,ref:e})});TB.displayName=yue;var Gx="MenuItem",aI="menu.itemSelect",Ky=k.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,o=k.useRef(null),s=bm(Gx,t.__scopeMenu),a=oT(Gx,t.__scopeMenu),l=St(e,o),c=k.useRef(!1),u=()=>{const h=o.current;if(!n&&h){const f=new CustomEvent(aI,{bubbles:!0,cancelable:!0});h.addEventListener(aI,d=>r==null?void 0:r(d),{once:!0}),U5(h,f),f.defaultPrevented?c.current=!1:s.onClose()}};return P.jsx(AB,{...i,ref:l,disabled:n,onClick:_e(t.onClick,u),onPointerDown:h=>{var f;(f=t.onPointerDown)==null||f.call(t,h),c.current=!0},onPointerUp:_e(t.onPointerUp,h=>{var f;c.current||(f=h.currentTarget)==null||f.click()}),onKeyDown:_e(t.onKeyDown,h=>{const f=a.searchRef.current!=="";n||f&&h.key===" "||Jb.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});Ky.displayName=Gx;var AB=k.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...o}=t,s=oT(Gx,n),a=CB(n),l=k.useRef(null),c=St(e,l),[u,h]=k.useState(!1),[f,d]=k.useState("");return k.useEffect(()=>{const p=l.current;p&&d((p.textContent??"").trim())},[o.children]),P.jsx(m0.ItemSlot,{scope:n,disabled:r,textValue:i??f,children:P.jsx(Hy,{asChild:!0,...a,focusable:!r,children:P.jsx(He.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...o,ref:c,onPointerMove:_e(t.onPointerMove,g0(p=>{r?s.onItemLeave(p):(s.onItemEnter(p),p.defaultPrevented||p.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:_e(t.onPointerLeave,g0(p=>s.onItemLeave(p))),onFocus:_e(t.onFocus,()=>h(!0)),onBlur:_e(t.onBlur,()=>h(!1))})})})}),_ue="MenuCheckboxItem",IB=k.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return P.jsx(NB,{scope:t.__scopeMenu,checked:n,children:P.jsx(Ky,{role:"menuitemcheckbox","aria-checked":Jx(n)?"mixed":n,...i,ref:e,"data-state":cT(n),onSelect:_e(i.onSelect,()=>r==null?void 0:r(Jx(n)?!0:!n),{checkForDefaultPrevented:!1})})})});IB.displayName=_ue;var RB="MenuRadioGroup",[wue,Cue]=Mu(RB,{value:void 0,onValueChange:()=>{}}),PB=k.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,o=Lr(r);return P.jsx(wue,{scope:t.__scopeMenu,value:n,onValueChange:o,children:P.jsx(aT,{...i,ref:e})})});PB.displayName=RB;var DB="MenuRadioItem",MB=k.forwardRef((t,e)=>{const{value:n,...r}=t,i=Cue(DB,t.__scopeMenu),o=n===i.value;return P.jsx(NB,{scope:t.__scopeMenu,checked:o,children:P.jsx(Ky,{role:"menuitemradio","aria-checked":o,...r,ref:e,"data-state":cT(o),onSelect:_e(r.onSelect,()=>{var s;return(s=i.onValueChange)==null?void 0:s.call(i,n)},{checkForDefaultPrevented:!1})})})});MB.displayName=DB;var lT="MenuItemIndicator",[NB,bue]=Mu(lT,{checked:!1}),LB=k.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,o=bue(lT,n);return P.jsx(ji,{present:r||Jx(o.checked)||o.checked===!0,children:P.jsx(He.span,{...i,ref:e,"data-state":cT(o.checked)})})});LB.displayName=lT;var Eue="MenuSeparator",OB=k.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return P.jsx(He.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});OB.displayName=Eue;var Sue="MenuArrow",FB=k.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=qy(n);return P.jsx(Oy,{...i,...r,ref:e})});FB.displayName=Sue;var kue="MenuSub",[UAe,BB]=Mu(kue),Gd="MenuSubTrigger",VB=k.forwardRef((t,e)=>{const n=Nu(Gd,t.__scopeMenu),r=bm(Gd,t.__scopeMenu),i=BB(Gd,t.__scopeMenu),o=oT(Gd,t.__scopeMenu),s=k.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=o,c={__scopeMenu:t.__scopeMenu},u=k.useCallback(()=>{s.current&&window.clearTimeout(s.current),s.current=null},[]);return k.useEffect(()=>u,[u]),k.useEffect(()=>{const h=a.current;return()=>{window.clearTimeout(h),l(null)}},[a,l]),P.jsx(rT,{asChild:!0,...c,children:P.jsx(AB,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":$B(n.open),...t,ref:Py(e,i.onTriggerChange),onClick:h=>{var f;(f=t.onClick)==null||f.call(t,h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:_e(t.onPointerMove,g0(h=>{o.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!n.open&&!s.current&&(o.onPointerGraceIntentChange(null),s.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:_e(t.onPointerLeave,g0(h=>{var d,p;u();const f=(d=n.content)==null?void 0:d.getBoundingClientRect();if(f){const m=(p=n.content)==null?void 0:p.dataset.side,v=m==="right",x=v?-5:5,y=f[v?"left":"right"],_=f[v?"right":"left"];o.onPointerGraceIntentChange({area:[{x:h.clientX+x,y:h.clientY},{x:y,y:f.top},{x:_,y:f.top},{x:_,y:f.bottom},{x:y,y:f.bottom}],side:m}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(h),h.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:_e(t.onKeyDown,h=>{var d;const f=o.searchRef.current!=="";t.disabled||f&&h.key===" "||aue[r.dir].includes(h.key)&&(n.onOpenChange(!0),(d=n.content)==null||d.focus(),h.preventDefault())})})})});VB.displayName=Gd;var zB="MenuSubContent",jB=k.forwardRef((t,e)=>{const n=EB(io,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,o=Nu(io,t.__scopeMenu),s=bm(io,t.__scopeMenu),a=BB(zB,t.__scopeMenu),l=k.useRef(null),c=St(e,l);return P.jsx(m0.Provider,{scope:t.__scopeMenu,children:P.jsx(ji,{present:r||o.open,children:P.jsx(m0.Slot,{scope:t.__scopeMenu,children:P.jsx(sT,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:c,align:"start",side:s.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var h;s.isUsingKeyboardRef.current&&((h=l.current)==null||h.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:_e(t.onFocusOutside,u=>{u.target!==a.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:_e(t.onEscapeKeyDown,u=>{s.onClose(),u.preventDefault()}),onKeyDown:_e(t.onKeyDown,u=>{var d;const h=u.currentTarget.contains(u.target),f=lue[s.dir].includes(u.key);h&&f&&(o.onOpenChange(!1),(d=a.trigger)==null||d.focus(),u.preventDefault())})})})})})});jB.displayName=zB;function $B(t){return t?"open":"closed"}function Jx(t){return t==="indeterminate"}function cT(t){return Jx(t)?"indeterminate":t?"checked":"unchecked"}function Tue(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Aue(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function Iue(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let s=Aue(t,Math.max(o,0));i.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function Rue(t,e){const{x:n,y:r}=t;let i=!1;for(let o=0,s=e.length-1;o<e.length;s=o++){const a=e[o].x,l=e[o].y,c=e[s].x,u=e[s].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(i=!i)}return i}function Pue(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return Rue(n,e)}function g0(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Due=bB,Mue=rT,Nue=SB,Lue=kB,Oue=aT,Fue=TB,Bue=Ky,Vue=IB,zue=PB,jue=MB,$ue=LB,Hue=OB,Uue=FB,Wue=VB,que=jB,uT="DropdownMenu",[Kue,WAe]=ho(uT,[wB]),ti=wB(),[Gue,HB]=Kue(uT),UB=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:o,onOpenChange:s,modal:a=!0}=t,l=ti(e),c=k.useRef(null),[u=!1,h]=zo({prop:i,defaultProp:o,onChange:s});return P.jsx(Gue,{scope:e,triggerId:Mo(),triggerRef:c,contentId:Mo(),open:u,onOpenChange:h,onOpenToggle:k.useCallback(()=>h(f=>!f),[h]),modal:a,children:P.jsx(Due,{...l,open:u,onOpenChange:h,dir:r,modal:a,children:n})})};UB.displayName=uT;var WB="DropdownMenuTrigger",qB=k.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,o=HB(WB,n),s=ti(n);return P.jsx(Mue,{asChild:!0,...s,children:P.jsx(He.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Py(e,o.triggerRef),onPointerDown:_e(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(o.onOpenToggle(),o.open||a.preventDefault())}),onKeyDown:_e(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&o.onOpenToggle(),a.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});qB.displayName=WB;var Jue="DropdownMenuPortal",KB=t=>{const{__scopeDropdownMenu:e,...n}=t,r=ti(e);return P.jsx(Nue,{...r,...n})};KB.displayName=Jue;var GB="DropdownMenuContent",JB=k.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=HB(GB,n),o=ti(n),s=k.useRef(!1);return P.jsx(Lue,{id:i.contentId,"aria-labelledby":i.triggerId,...o,...r,ref:e,onCloseAutoFocus:_e(t.onCloseAutoFocus,a=>{var l;s.current||(l=i.triggerRef.current)==null||l.focus(),s.current=!1,a.preventDefault()}),onInteractOutside:_e(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!i.modal||u)&&(s.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});JB.displayName=GB;var Que="DropdownMenuGroup",Yue=k.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ti(n);return P.jsx(Oue,{...i,...r,ref:e})});Yue.displayName=Que;var Xue="DropdownMenuLabel",QB=k.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ti(n);return P.jsx(Fue,{...i,...r,ref:e})});QB.displayName=Xue;var Zue="DropdownMenuItem",YB=k.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ti(n);return P.jsx(Bue,{...i,...r,ref:e})});YB.displayName=Zue;var ehe="DropdownMenuCheckboxItem",XB=k.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ti(n);return P.jsx(Vue,{...i,...r,ref:e})});XB.displayName=ehe;var the="DropdownMenuRadioGroup",nhe=k.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ti(n);return P.jsx(zue,{...i,...r,ref:e})});nhe.displayName=the;var rhe="DropdownMenuRadioItem",ZB=k.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ti(n);return P.jsx(jue,{...i,...r,ref:e})});ZB.displayName=rhe;var ihe="DropdownMenuItemIndicator",eV=k.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ti(n);return P.jsx($ue,{...i,...r,ref:e})});eV.displayName=ihe;var ohe="DropdownMenuSeparator",tV=k.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ti(n);return P.jsx(Hue,{...i,...r,ref:e})});tV.displayName=ohe;var she="DropdownMenuArrow",ahe=k.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ti(n);return P.jsx(Uue,{...i,...r,ref:e})});ahe.displayName=she;var lhe="DropdownMenuSubTrigger",nV=k.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ti(n);return P.jsx(Wue,{...i,...r,ref:e})});nV.displayName=lhe;var che="DropdownMenuSubContent",rV=k.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ti(n);return P.jsx(que,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});rV.displayName=che;var uhe=UB,hhe=qB,fhe=KB,iV=JB,oV=QB,sV=YB,aV=XB,lV=ZB,cV=eV,uV=tV,hV=nV,fV=rV;const dhe=uhe,phe=hhe,mhe=k.forwardRef(({className:t,inset:e,children:n,...r},i)=>P.jsxs(hV,{ref:i,className:ft("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,P.jsx(Bse,{className:"ml-auto h-4 w-4"})]}));mhe.displayName=hV.displayName;const ghe=k.forwardRef(({className:t,...e},n)=>P.jsx(fV,{ref:n,className:ft("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));ghe.displayName=fV.displayName;const dV=k.forwardRef(({className:t,sideOffset:e=4,...n},r)=>P.jsx(fhe,{children:P.jsx(iV,{ref:r,sideOffset:e,className:ft("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));dV.displayName=iV.displayName;const Jd=k.forwardRef(({className:t,inset:e,...n},r)=>P.jsx(sV,{ref:r,className:ft("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));Jd.displayName=sV.displayName;const xhe=k.forwardRef(({className:t,children:e,checked:n,...r},i)=>P.jsxs(aV,{ref:i,className:ft("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[P.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:P.jsx(cV,{children:P.jsx(wF,{className:"h-4 w-4"})})}),e]}));xhe.displayName=aV.displayName;const vhe=k.forwardRef(({className:t,children:e,...n},r)=>P.jsxs(lV,{ref:r,className:ft("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[P.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:P.jsx(cV,{children:P.jsx(zse,{className:"h-2 w-2 fill-current"})})}),e]}));vhe.displayName=lV.displayName;const yhe=k.forwardRef(({className:t,inset:e,...n},r)=>P.jsx(oV,{ref:r,className:ft("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));yhe.displayName=oV.displayName;const _he=k.forwardRef(({className:t,...e},n)=>P.jsx(uV,{ref:n,className:ft("-mx-1 my-1 h-px bg-muted",t),...e}));_he.displayName=uV.displayName;function whe({noteId:t,noteTitle:e,handleDeleteContent:n,handleAddNewAudioContent:r,handleAddNewTextContent:i,handleSaveContent:o,handleToggleSidebar:s,isEditing:a}){return P.jsxs("div",{className:"flex items-center justify-between gap-6 bg-zinc-800 px-4 py-2",children:[P.jsxs("div",{className:"flex grow",children:[P.jsx(sB,{onClick:s,className:"sm:hidden"}),P.jsx(nce,{noteId:t,noteTitle:e})]}),P.jsxs("div",{className:"hidden items-center justify-evenly gap-3 md:flex",children:[P.jsx(G6,{onClick:r,disabled:a}),P.jsx(J6,{onClick:i,disabled:a}),P.jsx(Q6,{onClick:o,disabled:a}),P.jsx(K6,{onClick:n,disabled:a})]}),P.jsxs(dhe,{children:[P.jsx(phe,{asChild:!0,className:"md:hidden",children:P.jsx(ece,{})}),P.jsxs(dV,{className:"flex bg-zinc-800 p-0 shadow-none focus:[&>div]:bg-transparent",children:[P.jsx(Jd,{children:P.jsx(G6,{onClick:r,disabled:a})}),P.jsx(Jd,{children:P.jsx(J6,{onClick:i,disabled:a})}),P.jsx(Jd,{children:P.jsx(Q6,{onClick:o,disabled:a})}),P.jsx(Jd,{children:P.jsx(K6,{onClick:n,disabled:a})})]})]})]})}var Che=Object.defineProperty,bhe=(t,e,n)=>e in t?Che(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ga=(t,e,n)=>(bhe(t,typeof e!="symbol"?e+"":e,n),n);let Ehe=class pV{constructor(e=new Map){this.map=e}clone(){return new pV(new Map(this.map))}increment(e){const n=this.map.get(e)??0;this.map.set(e,n+1)}decrement(e,n){let r=this.map.get(e);r!==void 0&&(r-=1,this.map.set(e,r),r===0&&n())}},Og=class{constructor(){Ga(this,"map",new Map)}getOrCreate(e){let n=this.map.get(e);return n===void 0&&(n=new Set,this.map.set(e,n)),n}get(e){return this.map.get(e)}use(e,n){const r=this.get(e);r!==void 0&&n(r)}delete(e){return this.map.delete(e)}};function Uh(t,e){return e(t),t}function hT(){}function lI(t,e){return t===e}const Gy=new Map;let She=class{constructor(e={}){Ga(this,"subscriptions",new Og),Ga(this,"singletonSubscriptions",new Map),Ga(this,"graph",new Og),Ga(this,"state",new Map),Ga(this,"distinctNodes",new Map),Ga(this,"executionMaps",new Map),Ga(this,"definitionRegistry",new Set);for(const n of Object.getOwnPropertySymbols(e))this.state.set(n,e[n])}cellInstance(e,n=!0,r=Symbol()){return this.state.has(r)||this.state.set(r,e),n!==!1&&!this.distinctNodes.has(r)&&this.distinctNodes.set(r,n===!0?lI:n),r}signalInstance(e=!0,n=Symbol()){return e!==!1&&this.distinctNodes.set(n,e===!0?lI:e),n}sub(e,n){this.register(e);const r=this.subscriptions.getOrCreate(e);return r.add(n),()=>r.delete(n)}singletonSub(e,n){return this.register(e),n===void 0?this.singletonSubscriptions.delete(e):this.singletonSubscriptions.set(e,n),()=>this.singletonSubscriptions.delete(e)}resetSingletonSubs(){this.singletonSubscriptions.clear()}subMultiple(e,n){const r=this.signalInstance();return this.connect({map:i=>(...o)=>{i(o)},sink:r,sources:e}),this.sub(r,n)}pubIn(e){var n;const r=Reflect.ownKeys(e),i=this.getExecutionMap(r),o=i.refCount.clone(),s=i.participatingNodes.slice(),a=new Map(this.state),l=c=>{this.graph.use(c,u=>{for(const{sources:h,sink:f}of u)h.has(c)&&o.decrement(f,()=>{s.splice(s.indexOf(f),1),l(f)})})};for(;;){const c=s.shift();if(c===void 0)break;const u=c;let h=!1;const f=d=>{const p=this.distinctNodes.get(u);if(p!==void 0&&p(a.get(u),d)){h=!1;return}h=!0,a.set(u,d),this.state.has(u)&&this.state.set(u,d)};if(Object.prototype.hasOwnProperty.call(e,u)?f(e[u]):i.projections.use(u,d=>{for(const p of d){const m=[...Array.from(p.sources),...Array.from(p.pulls)].map(v=>a.get(v));p.map(f)(...m)}}),h){const d=a.get(u);this.subscriptions.use(u,p=>{for(const m of p)m(d)}),(n=this.singletonSubscriptions.get(u))==null||n(d)}else l(u)}}connect({sources:e,pulls:n=[],map:r,sink:i}){const o={map:r,pulls:new Set(n),sink:this.register(i),sources:new Set(e)};for(const s of[...e,...n])this.register(s),this.graph.getOrCreate(s).add(o);this.executionMaps.clear()}pub(e,n){this.pubIn({[e]:n})}pipe(e,...n){return this.combineOperators(...n)(e)}transformer(...e){return n=>Uh(this.signalInstance(),r=>(this.link(this.pipe(r,...e),n),r))}link(e,n){this.connect({map:r=>i=>{r(i)},sink:n,sources:[e]})}combine(...e){return Uh(this.signalInstance(),n=>{this.connect({map:r=>(...i)=>{r(i)},sink:n,sources:e})})}getValue(e){return this.register(e),this.state.get(e)}getValues(e){return e.map(n=>this.getValue(n))}register(e){const n=Gy.get(e);return n===void 0||this.definitionRegistry.has(e)?e:(this.definitionRegistry.add(e),Uh(n.type==="cell"?this.cellInstance(n.initial,n.distinct,e):this.signalInstance(n.distinct,e),r=>{n.init(this,r)}))}changeWith(e,n,r){this.connect({sources:[n],pulls:[e],sink:e,map:i=>(o,s)=>{i(r(s,o))}})}calculateExecutionMap(e){const n=[],r=new Set,i=new Og,o=new Ehe,s=new Og,a=(l,c=0)=>{o.increment(l),!r.has(l)&&(this.register(l),i.use(l,u=>{c=Math.max(...Array.from(u).map(h=>n.indexOf(h)))+1}),this.graph.use(l,u=>{for(const h of u)h.sources.has(l)?(s.getOrCreate(h.sink).add(h),a(h.sink,c)):i.getOrCreate(h.sink).add(l)}),r.add(l),n.splice(c,0,l))};return e.forEach(a),{participatingNodes:n,pendingPulls:i,projections:s,refCount:o}}getExecutionMap(e){let n=e;if(e.length===1){n=e[0];const i=this.executionMaps.get(n);if(i!==void 0)return i}else for(const[i,o]of this.executionMaps.entries())if(Array.isArray(i)&&i.length===e.length&&i.every(s=>e.includes(s)))return o;const r=this.calculateExecutionMap(e);return this.executionMaps.set(n,r),r}combineOperators(...e){return n=>{for(const r of e)n=r(n,this);return n}}};function Ge(t,e=hT,n=!0){return Uh(Symbol(),r=>{Gy.set(r,{type:"cell",distinct:n,initial:t,init:e})})}function ni(t=hT,e=!1){return Uh(Symbol(),n=>{Gy.set(n,{type:"signal",distinct:e,init:t})})}function khe(t=hT){return Uh(Symbol(),e=>{Gy.set(e,{type:"signal",distinct:!1,init:t})})}const mV=F.createContext(null);function Jy(){const t=F.useContext(mV);if(t===null)throw new Error("useRealm must be used within a RealmContextProvider");return t}function qr(t){const e=Jy();e.register(t);const n=F.useCallback(r=>e.sub(t,r),[e,t]);return F.useSyncExternalStore(n,()=>e.getValue(t),()=>e.getValue(t))}function $i(...t){const e=Jy(),n=F.useMemo(()=>e.getValues(t),[]),r=F.useRef(n),i=F.useCallback(o=>{const s=a=>{r.current=a,o()};return e.subMultiple(t,s)},[e,...t]);return F.useSyncExternalStore(i,()=>r.current,()=>r.current)}function Ea(t){const e=Jy();return e.register(t),F.useCallback(n=>{e.pub(t,n)},[e,t])}function Qy(t){return(e,n)=>{const r=n.signalInstance();return n.connect({map:i=>o=>{i(t(o))},sink:r,sources:[e]}),r}}function vi(...t){return(e,n)=>{const r=n.signalInstance();return n.connect({map:i=>(...o)=>{i(o)},pulls:t,sink:r,sources:[e]}),r}}function Yy(t){return(e,n)=>{const r=n.signalInstance();return n.connect({map:i=>o=>{t(o)&&i(o)},sink:r,sources:[e]}),r}}function gV(t,e){return(n,r)=>{const i=r.signalInstance();return r.connect({map:o=>s=>{o(e=t(e,s))},sink:i,sources:[n]}),i}}function The(t,e){return e(t),t}function qc(){}function Sa(t){return function(e){return{init:n=>{var r;return(r=t.init)==null?void 0:r.call(t,n,e)},postInit:n=>{var r;return(r=t.postInit)==null?void 0:r.call(t,n,e)},update:n=>{var r;return(r=t.update)==null?void 0:r.call(t,n,e)}}}}function Ahe({children:t,plugins:e}){const n=F.useMemo(()=>The(new She,r=>{var i,o;for(const s of e)(i=s.init)==null||i.call(s,r);for(const s of e)(o=s.postInit)==null||o.call(s,r)}),[]);return F.useEffect(()=>{var r;for(const i of e)(r=i.update)==null||r.call(i,n)}),F.createElement(mV.Provider,{value:n},t)}function Ihe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Rhe=Ihe(function(t){const e=new URLSearchParams;e.append("code",t);for(let n=1;n<arguments.length;n++)e.append("v",arguments[n]);throw Error(`Minified Lexical error #${t}; visit https://lexical.dev/docs/error?${e} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});const Qx=k.createContext(null);function xV(t,e){let n=null;return t!=null&&(n=t[1]),{getTheme:function(){return e??(n!=null?n.getTheme():null)}}}function Uo(){const t=k.useContext(Qx);return t==null&&Rhe(8),t}function Lu(t){return{}}const Xy={},Phe={},fT={},Kc={},Wh={},x0={},qh={},dT={},Qb={},v0={},y0={},Ys={},Zy={},e_={},pT={},vV={},Dhe={},mT={},Mhe={},gT={},xT={},_0={},yV={},vT={},yT={},_T={},wT={},_V={},CT={},Yb={},wV={},Nhe={},CV={},bV={},Lhe={},t_={},bT={},Xb={},Ohe={},Fhe={},Qd={},Yd={},ET={},ST={},Bhe={},Wo=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,Vhe=Wo&&"documentMode"in document?document.documentMode:null,wo=Wo&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),Ml=Wo&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),Yx=!(!Wo||!("InputEvent"in window)||Vhe)&&"getTargetRanges"in new window.InputEvent("input"),kT=Wo&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),n_=Wo&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,zhe=Wo&&/Android/.test(navigator.userAgent),EV=Wo&&/^(?=.*Chrome).*/i.test(navigator.userAgent),jhe=Wo&&zhe&&EV,TT=Wo&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!EV,Em=1,uc=3,uu=0,SV=1,Cf=2,$he=0,Hhe=1,Uhe=2,Xx=4,Zx=8,AT=128,Whe=112|(3|Xx|Zx)|AT,IT=1,RT=2,PT=3,DT=4,MT=5,NT=6,r_=kT||n_||TT?"":"",ma=`

`,qhe=Ml?"":r_,kV="---",TV="A-Za-z--------",Khe=new RegExp("^[^"+TV+"]*["+kV+"]"),Ghe=new RegExp("^[^"+kV+"]*["+TV+"]"),ta={bold:1,code:16,highlight:AT,italic:2,strikethrough:Xx,subscript:32,superscript:64,underline:Zx},Jhe={directionless:1,unmergeable:2},cI={center:RT,end:NT,justify:DT,left:IT,right:PT,start:MT},Qhe={[RT]:"center",[NT]:"end",[DT]:"justify",[IT]:"left",[PT]:"right",[MT]:"start"},Yhe={normal:0,segmented:2,token:1},Xhe={[$he]:"normal",[Uhe]:"segmented",[Hhe]:"token"};function Zhe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var we=Zhe(function(t){const e=new URLSearchParams;e.append("code",t);for(let n=1;n<arguments.length;n++)e.append("v",arguments[n]);throw Error(`Minified Lexical error #${t}; visit https://lexical.dev/docs/error?${e} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});function ev(...t){const e=[];for(const n of t)if(n&&typeof n=="string")for(const[r]of n.matchAll(/\S+/g))e.push(r);return e}const efe=100;let Zb=!1,LT=0;function tfe(t){LT=t.timeStamp}function A2(t,e,n){return e.__lexicalLineBreak===t||t[`__lexicalKey_${n._key}`]!==void 0}function nfe(t,e,n){const r=Ss(n._window);let i=null,o=null;r!==null&&r.anchorNode===t&&(i=r.anchorOffset,o=r.focusOffset);const s=t.nodeValue;s!==null&&$T(e,s,i,o,!1)}function rfe(t,e,n){if(me(t)){const r=t.anchor.getNode();if(r.is(n)&&t.format!==r.getFormat())return!1}return e.nodeType===uc&&n.isAttached()}function AV(t,e,n){Zb=!0;const r=performance.now()-LT>efe;try{Ii(t,()=>{const i=Se()||function(f){return f.getEditorState().read(()=>{const d=Se();return d!==null?d.clone():null})}(t),o=new Map,s=t.getRootElement(),a=t._editorState,l=t._blockCursorElement;let c=!1,u="";for(let f=0;f<e.length;f++){const d=e[f],p=d.type,m=d.target;let v=Es(m,a);if(!(v===null&&m!==s||Pt(v))){if(p==="characterData")r&&ye(v)&&rfe(i,m,v)&&nfe(m,v,t);else if(p==="childList"){c=!0;const x=d.addedNodes;for(let C=0;C<x.length;C++){const S=x[C],T=MV(S),b=S.parentNode;if(b!=null&&S!==l&&T===null&&(S.nodeName!=="BR"||!A2(S,b,t))){if(Ml){const w=S.innerText||S.nodeValue;w&&(u+=w)}b.removeChild(S)}}const y=d.removedNodes,_=y.length;if(_>0){let C=0;for(let S=0;S<_;S++){const T=y[S];(T.nodeName==="BR"&&A2(T,m,t)||l===T)&&(m.appendChild(T),C++)}_!==C&&(m===s&&(v=LV(a)),o.set(m,v))}}}}if(o.size>0)for(const[f,d]of o)if(oe(d)){const p=d.getChildrenKeys();let m=f.firstChild;for(let v=0;v<p.length;v++){const x=p[v],y=t.getElementByKey(x);y!==null&&(m==null?(f.appendChild(y),m=y):m!==y&&f.replaceChild(y,m),m=m.nextSibling)}}else ye(d)&&d.markDirty();const h=n.takeRecords();if(h.length>0){for(let f=0;f<h.length;f++){const d=h[f],p=d.addedNodes,m=d.target;for(let v=0;v<p.length;v++){const x=p[v],y=x.parentNode;y==null||x.nodeName!=="BR"||A2(x,m,t)||y.removeChild(x)}}n.takeRecords()}i!==null&&(c&&(i.dirty=!0,Bi(i)),Ml&&VV(t)&&i.insertRawText(u))})}finally{Zb=!1}}function IV(t){const e=t._observer;e!==null&&AV(t,e.takeRecords(),e)}function RV(t){(function(e){LT===0&&a_(e).addEventListener("textInput",tfe,!0)})(t),t._observer=new MutationObserver((e,n)=>{AV(t,e,n)})}function uI(t,e){const n=t.__mode,r=t.__format,i=t.__style,o=e.__mode,s=e.__format,a=e.__style;return!(n!==null&&n!==o||r!==null&&r!==s||i!==null&&i!==a)}function hI(t,e){const n=t.mergeWithSibling(e),r=yn()._normalizedNodes;return r.add(t.__key),r.add(e.__key),n}function fI(t){let e,n,r=t;if(r.__text!==""||!r.isSimpleText()||r.isUnmergeable()){for(;(e=r.getPreviousSibling())!==null&&ye(e)&&e.isSimpleText()&&!e.isUnmergeable();){if(e.__text!==""){if(uI(e,r)){r=hI(e,r);break}break}e.remove()}for(;(n=r.getNextSibling())!==null&&ye(n)&&n.isSimpleText()&&!n.isUnmergeable();){if(n.__text!==""){if(uI(r,n)){r=hI(r,n);break}break}n.remove()}}else r.remove()}function OT(t){return dI(t.anchor),dI(t.focus),t}function dI(t){for(;t.type==="element";){const e=t.getNode(),n=t.offset;let r,i;if(n===e.getChildrenSize()?(r=e.getChildAtIndex(n-1),i=!0):(r=e.getChildAtIndex(n),i=!1),ye(r)){t.set(r.__key,i?r.getTextContentSize():0,"text");break}if(!oe(r))break;t.set(r.__key,i?r.getChildrenSize():0,"element")}}let ife=1;const ofe=typeof queueMicrotask=="function"?queueMicrotask:t=>{Promise.resolve().then(t)};function FT(t){const e=document.activeElement;if(e===null)return!1;const n=e.nodeName;return Pt(Es(t))&&(n==="INPUT"||n==="TEXTAREA"||e.contentEditable==="true"&&i_(e)==null)}function Sm(t,e,n){const r=t.getRootElement();try{return r!==null&&r.contains(e)&&r.contains(n)&&e!==null&&!FT(e)&&VT(e)===t}catch{return!1}}function BT(t){return t instanceof f_}function VT(t){let e=t;for(;e!=null;){const n=i_(e);if(BT(n))return n;e=s_(e)}return null}function i_(t){return t?t.__lexicalEditor:null}function ah(t){return t.isToken()||t.isSegmented()}function sfe(t){return t.nodeType===uc}function tv(t){let e=t;for(;e!=null;){if(sfe(e))return e;e=e.firstChild}return null}function eE(t,e,n){const r=ta[e];if(n!==null&&(t&r)==(n&r))return t;let i=t^r;return e==="subscript"?i&=~ta.superscript:e==="superscript"&&(i&=~ta.subscript),i}function PV(t){return ye(t)||Nl(t)||Pt(t)}function DV(t,e){if(e!=null)return void(t.__key=e);ai(),sz();const n=yn(),r=ka(),i=""+ife++;r._nodeMap.set(i,t),oe(t)?n._dirtyElements.set(i,!0):n._dirtyLeaves.add(i),n._cloneNotNeeded.add(i),n._dirtyType=SV,t.__key=i}function Gc(t){const e=t.getParent();if(e!==null){const n=t.getWritable(),r=e.getWritable(),i=t.getPreviousSibling(),o=t.getNextSibling();if(i===null)if(o!==null){const s=o.getWritable();r.__first=o.__key,s.__prev=null}else r.__first=null;else{const s=i.getWritable();if(o!==null){const a=o.getWritable();a.__prev=s.__key,s.__next=a.__key}else s.__next=null;n.__prev=null}if(o===null)if(i!==null){const s=i.getWritable();r.__last=i.__key,s.__next=null}else r.__last=null;else{const s=o.getWritable();if(i!==null){const a=i.getWritable();a.__next=s.__key,s.__prev=a.__key}else s.__prev=null;n.__next=null}r.__size--,n.__parent=null}}function nv(t){sz();const e=t.getLatest(),n=e.__parent,r=ka(),i=yn(),o=r._nodeMap,s=i._dirtyElements;n!==null&&function(l,c,u){let h=l;for(;h!==null;){if(u.has(h))return;const f=c.get(h);if(f===void 0)break;u.set(h,!1),h=f.__parent}}(n,o,s);const a=e.__key;i._dirtyType=SV,oe(t)?s.set(a,!0):i._dirtyLeaves.add(a)}function ar(t){ai();const e=yn(),n=e._compositionKey;if(t!==n){if(e._compositionKey=t,n!==null){const r=Hn(n);r!==null&&r.getWritable()}if(t!==null){const r=Hn(t);r!==null&&r.getWritable()}}}function dl(){return Im()?null:yn()._compositionKey}function Hn(t,e){const n=(e||ka())._nodeMap.get(t);return n===void 0?null:n}function MV(t,e){const n=t[`__lexicalKey_${yn()._key}`];return n!==void 0?Hn(n,e):null}function Es(t,e){let n=t;for(;n!=null;){const r=MV(n,e);if(r!==null)return r;n=s_(n)}return null}function NV(t){const e=t._decorators,n=Object.assign({},e);return t._pendingDecorators=n,n}function pI(t){return t.read(()=>It().getTextContent())}function It(){return LV(ka())}function LV(t){return t._nodeMap.get("root")}function Bi(t){ai();const e=ka();t!==null&&(t.dirty=!0,t.setCachedNodes(null)),e._selection=t}function Th(t){const e=yn(),n=function(r,i){let o=r;for(;o!=null;){const s=o[`__lexicalKey_${i._key}`];if(s!==void 0)return s;o=s_(o)}return null}(t,e);return n===null?t===e.getRootElement()?Hn("root"):null:Hn(n)}function mI(t,e){return e?t.getTextContentSize():0}function OV(t){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(t)}function zT(t){const e=[];let n=t;for(;n!==null;)e.push(n),n=n._parentEditor;return e}function FV(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function BV(t){return t.nodeType===uc?t.nodeValue:null}function jT(t,e,n){const r=Ss(e._window);if(r===null)return;const i=r.anchorNode;let{anchorOffset:o,focusOffset:s}=r;if(i!==null){let a=BV(i);const l=Es(i);if(a!==null&&ye(l)){if(a===r_&&n){const c=n.length;a=n,o=c,s=c}a!==null&&$T(l,a,o,s,t)}}}function $T(t,e,n,r,i){let o=t;if(o.isAttached()&&(i||!o.isDirty())){const s=o.isComposing();let a=e;(s||i)&&e[e.length-1]===r_&&(a=e.slice(0,-1));const l=o.getTextContent();if(i||a!==l){if(a===""){if(ar(null),kT||n_||TT)o.remove();else{const m=yn();setTimeout(()=>{m.update(()=>{o.isAttached()&&o.remove()})},20)}return}const c=o.getParent(),u=Jf(),h=o.getTextContentSize(),f=dl(),d=o.getKey();if(o.isToken()||f!==null&&d===f&&!s||me(u)&&(c!==null&&!c.canInsertTextBefore()&&u.anchor.offset===0||u.anchor.key===t.__key&&u.anchor.offset===0&&!o.canInsertTextBefore()&&!s||u.focus.key===t.__key&&u.focus.offset===h&&!o.canInsertTextAfter()&&!s))return void o.markDirty();const p=Se();if(!me(p)||n===null||r===null)return void o.setTextContent(a);if(p.setTextNodeRange(o,n,o,r),o.isSegmented()){const m=Bn(o.getTextContent());o.replace(m),o=m}o.setTextContent(a)}}}function afe(t,e){if(e.isSegmented())return!0;if(!t.isCollapsed())return!1;const n=t.anchor.offset,r=e.getParentOrThrow(),i=e.isToken();return n===0?!e.canInsertTextBefore()||!r.canInsertTextBefore()&&!e.isComposing()||i||function(o){const s=o.getPreviousSibling();return(ye(s)||oe(s)&&s.isInline())&&!s.canInsertTextAfter()}(e):n===e.getTextContentSize()&&(!e.canInsertTextAfter()||!r.canInsertTextAfter()&&!e.isComposing()||i)}function gI(t){return t==="ArrowLeft"}function xI(t){return t==="ArrowRight"}function Xd(t,e){return wo?t:e}function vI(t){return t==="Enter"}function Td(t){return t==="Backspace"}function Ad(t){return t==="Delete"}function yI(t,e,n){return t.toLowerCase()==="a"&&Xd(e,n)}function lfe(){const t=It();Bi(OT(t.select(0,t.getChildrenSize())))}function wp(t,e){t.__lexicalClassNameCache===void 0&&(t.__lexicalClassNameCache={});const n=t.__lexicalClassNameCache,r=n[e];if(r!==void 0)return r;const i=t[e];if(typeof i=="string"){const o=ev(i);return n[e]=o,o}return i}function HT(t,e,n,r,i){if(n.size===0)return;const o=r.__type,s=r.__key,a=e.get(o);a===void 0&&we(33,o);const l=a.klass;let c=t.get(l);c===void 0&&(c=new Map,t.set(l,c));const u=c.get(s),h=u==="destroyed"&&i==="created";(u===void 0||h)&&c.set(s,h?"updated":i)}function _I(t,e,n){const r=t.getParent();let i=n,o=t;return r!==null&&(e&&n===0?(i=o.getIndexWithinParent(),o=r):e||n!==o.getChildrenSize()||(i=o.getIndexWithinParent()+1,o=r)),o.getChildAtIndex(e?i-1:i)}function w0(t,e){const n=t.offset;if(t.type==="element")return _I(t.getNode(),e,n);{const r=t.getNode();if(e&&n===0||!e&&n===r.getTextContentSize()){const i=e?r.getPreviousSibling():r.getNextSibling();return i===null?_I(r.getParentOrThrow(),e,r.getIndexWithinParent()+(e?0:1)):i}}return null}function VV(t){const e=a_(t).event,n=e&&e.inputType;return n==="insertFromPaste"||n==="insertFromPasteAsQuotation"}function Te(t,e,n){return lz(t,e,n)}function o_(t){return!dr(t)&&!t.isLastChild()&&!t.isInline()}function rv(t,e){const n=t._keyToDOMMap.get(e);return n===void 0&&we(75,e),n}function s_(t){const e=t.assignedSlot||t.parentElement;return e!==null&&e.nodeType===11?e.host:e}function tE(t,e){let n=t.getParent();for(;n!==null;){if(n.is(e))return!0;n=n.getParent()}return!1}function a_(t){const e=t._window;return e===null&&we(78),e}function cfe(t){let e=t.getParentOrThrow();for(;e!==null;){if(Fr(e))return e;e=e.getParentOrThrow()}return e}function Fr(t){return dr(t)||oe(t)&&t.isShadowRoot()}function ufe(t){const e=t.constructor.clone(t);return DV(e,null),e}function As(t){const e=yn(),n=t.constructor.getType(),r=e._nodes.get(n);r===void 0&&we(97);const i=r.replace;if(i!==null){const o=i(t);return o instanceof t.constructor||we(98),o}return t}function I2(t,e){!dr(t.getParent())||oe(e)||Pt(e)||we(99)}function R2(t){return(Pt(t)||oe(t)&&!t.canBeEmpty())&&!t.isInline()}function UT(t,e,n){n.style.removeProperty("caret-color"),e._blockCursorElement=null;const r=t.parentElement;r!==null&&r.removeChild(t)}function hfe(t,e,n){let r=t._blockCursorElement;if(me(n)&&n.isCollapsed()&&n.anchor.type==="element"&&e.contains(document.activeElement)){const i=n.anchor,o=i.getNode(),s=i.offset;let a=!1,l=null;if(s===o.getChildrenSize())R2(o.getChildAtIndex(s-1))&&(a=!0);else{const c=o.getChildAtIndex(s);if(R2(c)){const u=c.getPreviousSibling();(u===null||R2(u))&&(a=!0,l=t.getElementByKey(c.__key))}}if(a){const c=t.getElementByKey(o.__key);return r===null&&(t._blockCursorElement=r=function(u){const h=u.theme,f=document.createElement("div");f.contentEditable="false",f.setAttribute("data-lexical-cursor","true");let d=h.blockCursor;if(d!==void 0){if(typeof d=="string"){const p=ev(d);d=h.blockCursor=p}d!==void 0&&f.classList.add(...d)}return f}(t._config)),e.style.caretColor="transparent",void(l===null?c.appendChild(r):c.insertBefore(r,l))}}r!==null&&UT(r,t,e)}function Ss(t){return Wo?(t||window).getSelection():null}function ffe(t,e){let n=t.getChildAtIndex(e);n==null&&(n=t),Fr(t)&&we(102);const r=s=>{const a=s.getParentOrThrow(),l=Fr(a),c=s!==n||l?ufe(s):s;if(l)return oe(s)&&oe(c)||we(133),s.insertAfter(c),[s,c,c];{const[u,h,f]=r(a),d=s.getNextSiblings();return f.append(c,...d),[u,h,c]}},[i,o]=r(n);return[i,o]}function ga(t){return t.nodeType===1}function nE(t){const e=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return t.nodeName.match(e)!==null}function iv(t){const e=new RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return t.nodeName.match(e)!==null}function lh(t){if(dr(t)||Pt(t)&&!t.isInline())return!0;if(!oe(t)||Fr(t))return!1;const e=t.getFirstChild(),n=e===null||Nl(e)||ye(e)||e.isInline();return!t.isInline()&&t.canBeEmpty()!==!1&&n}function P2(t,e){let n=t;for(;n!==null&&n.getParent()!==null&&!e(n);)n=n.getParentOrThrow();return e(n)?n:null}function dfe(){return yn()}const wI=new WeakMap,pfe=new Map;function mfe(t){if(!t._readOnly&&t.isEmpty())return pfe;t._readOnly||we(192);let e=wI.get(t);if(!e){e=new Map,wI.set(t,e);for(const[n,r]of t._nodeMap){const i=r.__type;let o=e.get(i);o||(o=new Map,e.set(i,o)),o.set(n,r)}}return e}function WT(t){const e=t.constructor.clone(t);return e.afterCloneFrom(t),e}function zV(t,e,n,r,i,o){let s=t.getFirstChild();for(;s!==null;){const a=s.__key;s.__parent===e&&(oe(s)&&zV(s,a,n,r,i,o),n.has(a)||o.delete(a),i.push(a)),s=s.getNextSibling()}}let Kl,Kr,C0,l_,rE,iE,hu,No,oE,b0,jn="",Ur="",ts=null,Co="",Us="",jV=!1,E0=!1,j1=null;function ov(t,e){const n=hu.get(t);if(e!==null){const r=lE(t);r.parentNode===e&&e.removeChild(r)}if(No.has(t)||Kr._keyToDOMMap.delete(t),oe(n)){const r=av(n,hu);sE(r,0,r.length-1,null)}n!==void 0&&HT(b0,C0,l_,n,"destroyed")}function sE(t,e,n,r){let i=e;for(;i<=n;++i){const o=t[i];o!==void 0&&ov(o,r)}}function Ec(t,e){t.setProperty("text-align",e)}const gfe="40px";function $V(t,e){const n=Kl.theme.indent;if(typeof n=="string"){const i=t.classList.contains(n);e>0&&!i?t.classList.add(n):e<1&&i&&t.classList.remove(n)}const r=getComputedStyle(t).getPropertyValue("--lexical-indent-base-value")||gfe;t.style.setProperty("padding-inline-start",e===0?"":`calc(${e} * ${r})`)}function HV(t,e){const n=t.style;e===0?Ec(n,""):e===IT?Ec(n,"left"):e===RT?Ec(n,"center"):e===PT?Ec(n,"right"):e===DT?Ec(n,"justify"):e===MT?Ec(n,"start"):e===NT&&Ec(n,"end")}function sv(t,e,n){const r=No.get(t);r===void 0&&we(60);const i=r.createDOM(Kl,Kr);if(function(o,s,a){const l=a._keyToDOMMap;s["__lexicalKey_"+a._key]=o,l.set(o,s)}(t,i,Kr),ye(r)?i.setAttribute("data-lexical-text","true"):Pt(r)&&i.setAttribute("data-lexical-decorator","true"),oe(r)){const o=r.__indent,s=r.__size;if(o!==0&&$V(i,o),s!==0){const l=s-1;(function(c,u,h,f){const d=Ur;Ur="",aE(c,h,0,u,f,null),WV(h,f),Ur=d})(av(r,No),l,r,i)}const a=r.__format;a!==0&&HV(i,a),r.isInline()||UV(null,r,i),o_(r)&&(jn+=ma,Us+=ma)}else{const o=r.getTextContent();if(Pt(r)){const s=r.decorate(Kr,Kl);s!==null&&qV(t,s),i.contentEditable="false"}else ye(r)&&(r.isDirectionless()||(Ur+=o));jn+=o,Us+=o}if(e!==null)if(n!=null)e.insertBefore(i,n);else{const o=e.__lexicalLineBreak;o!=null?e.insertBefore(i,o):e.appendChild(i)}return HT(b0,C0,l_,r,"created"),i}function aE(t,e,n,r,i,o){const s=jn;jn="";let a=n;for(;a<=r;++a){sv(t[a],i,o);const l=No.get(t[a]);l!==null&&ye(l)&&(ts===null&&(ts=l.getFormat()),Co===""&&(Co=l.getStyle()))}o_(e)&&(jn+=ma),i.__lexicalTextContent=jn,jn=s+jn}function CI(t,e){const n=e.get(t);return Nl(n)||Pt(n)&&n.isInline()}function UV(t,e,n){const r=t!==null&&(t.__size===0||CI(t.__last,hu)),i=e.__size===0||CI(e.__last,No);if(r){if(!i){const o=n.__lexicalLineBreak;if(o!=null)try{n.removeChild(o)}catch(s){if(typeof s=="object"&&s!=null){const a=`${s.toString()} Parent: ${n.tagName}, child: ${o.tagName}.`;throw new Error(a)}throw s}n.__lexicalLineBreak=null}}else if(i){const o=document.createElement("br");n.__lexicalLineBreak=o,n.appendChild(o)}}function WV(t,e){const n=e.__lexicalDirTextContent,r=e.__lexicalDir;if(n!==Ur||r!==j1){const o=Ur==="",s=o?j1:(i=Ur,Khe.test(i)?"rtl":Ghe.test(i)?"ltr":null);if(s!==r){const a=e.classList,l=Kl.theme;let c=r!==null?l[r]:void 0,u=s!==null?l[s]:void 0;if(c!==void 0){if(typeof c=="string"){const h=ev(c);c=l[r]=h}a.remove(...c)}if(s===null||o&&s==="ltr")e.removeAttribute("dir");else{if(u!==void 0){if(typeof u=="string"){const h=ev(u);u=l[s]=h}u!==void 0&&a.add(...u)}e.dir=s}E0||(t.getWritable().__dir=s)}j1=s,e.__lexicalDirTextContent=Ur,e.__lexicalDir=s}var i}function xfe(t,e,n){const r=Ur;var i;Ur="",ts=null,Co="",function(o,s,a){const l=jn,c=o.__size,u=s.__size;if(jn="",c===1&&u===1){const h=o.__first,f=s.__first;if(h===f)Zd(h,a);else{const p=lE(h),m=sv(f,null,null);try{a.replaceChild(m,p)}catch(v){if(typeof v=="object"&&v!=null){const x=`${v.toString()} Parent: ${a.tagName}, new child: {tag: ${m.tagName} key: ${f}}, old child: {tag: ${p.tagName}, key: ${h}}.`;throw new Error(x)}throw v}ov(h,null)}const d=No.get(f);ye(d)&&(ts===null&&(ts=d.getFormat()),Co===""&&(Co=d.getStyle()))}else{const h=av(o,hu),f=av(s,No);if(c===0)u!==0&&aE(f,s,0,u-1,a,null);else if(u===0){if(c!==0){const d=a.__lexicalLineBreak==null;sE(h,0,c-1,d?null:a),d&&(a.textContent="")}}else(function(d,p,m,v,x,y){const _=v-1,C=x-1;let S,T,b=(E=y,E.firstChild),w=0,I=0;for(var E;w<=_&&I<=C;){const N=p[w],z=m[I];if(N===z)b=D2(Zd(z,y)),w++,I++;else{S===void 0&&(S=new Set(p)),T===void 0&&(T=new Set(m));const Q=T.has(N),Y=S.has(z);if(Q)if(Y){const q=rv(Kr,z);q===b?b=D2(Zd(z,y)):(b!=null?y.insertBefore(q,b):y.appendChild(q),Zd(z,y)),w++,I++}else sv(z,y,b),I++;else b=D2(lE(N)),ov(N,y),w++}const $=No.get(z);$!==null&&ye($)&&(ts===null&&(ts=$.getFormat()),Co===""&&(Co=$.getStyle()))}const R=w>_,D=I>C;if(R&&!D){const N=m[C+1];aE(m,d,I,C,y,N===void 0?null:Kr.getElementByKey(N))}else D&&!R&&sE(p,w,_,y)})(s,h,f,c,u,a)}o_(s)&&(jn+=ma),a.__lexicalTextContent=jn,jn=l+jn}(t,e,n),WV(e,n),bf(i=e)&&ts!=null&&ts!==i.__textFormat&&!E0&&(i.setTextFormat(ts),i.setTextStyle(Co)),function(o){bf(o)&&Co!==""&&Co!==o.__textStyle&&!E0&&o.setTextStyle(Co)}(e),Ur=r}function av(t,e){const n=[];let r=t.__first;for(;r!==null;){const i=e.get(r);i===void 0&&we(101),n.push(r),r=i.__next}return n}function Zd(t,e){const n=hu.get(t);let r=No.get(t);n!==void 0&&r!==void 0||we(61);const i=jV||iE.has(t)||rE.has(t),o=rv(Kr,t);if(n===r&&!i){if(oe(n)){const s=o.__lexicalTextContent;s!==void 0&&(jn+=s,Us+=s);const a=o.__lexicalDirTextContent;a!==void 0&&(Ur+=a)}else{const s=n.getTextContent();ye(n)&&!n.isDirectionless()&&(Ur+=s),Us+=s,jn+=s}return o}if(n!==r&&i&&HT(b0,C0,l_,r,"updated"),r.updateDOM(n,o,Kl)){const s=sv(t,null,null);return e===null&&we(62),e.replaceChild(s,o),ov(t,null),s}if(oe(n)&&oe(r)){const s=r.__indent;s!==n.__indent&&$V(o,s);const a=r.__format;a!==n.__format&&HV(o,a),i&&(xfe(n,r,o),dr(r)||r.isInline()||UV(n,r,o)),o_(r)&&(jn+=ma,Us+=ma)}else{const s=r.getTextContent();if(Pt(r)){const a=r.decorate(Kr,Kl);a!==null&&qV(t,a)}else ye(r)&&!r.isDirectionless()&&(Ur+=s);jn+=s,Us+=s}if(!E0&&dr(r)&&r.__cachedText!==Us){const s=r.getWritable();s.__cachedText=Us,r=s}return o}function qV(t,e){let n=Kr._pendingDecorators;const r=Kr._decorators;if(n===null){if(r[t]===e)return;n=NV(Kr)}n[t]=e}function D2(t){let e=t.nextSibling;return e!==null&&e===Kr._blockCursorElement&&(e=e.nextSibling),e}function vfe(t,e,n,r,i,o){jn="",Us="",Ur="",jV=r===Cf,j1=null,Kr=n,Kl=n._config,C0=n._nodes,l_=Kr._listeners.mutation,rE=i,iE=o,hu=t._nodeMap,No=e._nodeMap,E0=e._readOnly,oE=new Map(n._keyToDOMMap);const s=new Map;return b0=s,Zd("root",null),Kr=void 0,C0=void 0,rE=void 0,iE=void 0,hu=void 0,No=void 0,Kl=void 0,oE=void 0,b0=void 0,s}function lE(t){const e=oE.get(t);return e===void 0&&we(75,t),e}const Vs=Object.freeze({}),cE=30,uE=[["keydown",function(t,e){if(Cp=t.timeStamp,KV=t.key,e.isComposing())return;const{key:n,shiftKey:r,ctrlKey:i,metaKey:o,altKey:s}=t;Te(e,pT,t)||n!=null&&(function(a,l,c,u){return xI(a)&&!l&&!u&&!c}(n,i,s,o)?Te(e,vV,t):function(a,l,c,u,h){return xI(a)&&!u&&!c&&(l||h)}(n,i,r,s,o)?Te(e,Dhe,t):function(a,l,c,u){return gI(a)&&!l&&!u&&!c}(n,i,s,o)?Te(e,mT,t):function(a,l,c,u,h){return gI(a)&&!u&&!c&&(l||h)}(n,i,r,s,o)?Te(e,Mhe,t):function(a,l,c){return function(u){return u==="ArrowUp"}(a)&&!l&&!c}(n,i,o)?Te(e,gT,t):function(a,l,c){return function(u){return u==="ArrowDown"}(a)&&!l&&!c}(n,i,o)?Te(e,xT,t):function(a,l){return vI(a)&&l}(n,r)?(bp=!0,Te(e,_0,t)):function(a){return a===" "}(n)?Te(e,yV,t):function(a,l){return wo&&l&&a.toLowerCase()==="o"}(n,i)?(t.preventDefault(),bp=!0,Te(e,Wh,!0)):function(a,l){return vI(a)&&!l}(n,r)?(bp=!1,Te(e,_0,t)):function(a,l,c,u){return wo?!l&&!c&&(Td(a)||a.toLowerCase()==="h"&&u):!(u||l||c)&&Td(a)}(n,s,o,i)?Td(n)?Te(e,vT,t):(t.preventDefault(),Te(e,Kc,!0)):function(a){return a==="Escape"}(n)?Te(e,yT,t):function(a,l,c,u,h){return wo?!(c||u||h)&&(Ad(a)||a.toLowerCase()==="d"&&l):!(l||u||h)&&Ad(a)}(n,i,r,s,o)?Ad(n)?Te(e,_T,t):(t.preventDefault(),Te(e,Kc,!1)):function(a,l,c){return Td(a)&&(wo?l:c)}(n,s,i)?(t.preventDefault(),Te(e,v0,!0)):function(a,l,c){return Ad(a)&&(wo?l:c)}(n,s,i)?(t.preventDefault(),Te(e,v0,!1)):function(a,l){return wo&&l&&Td(a)}(n,o)?(t.preventDefault(),Te(e,y0,!0)):function(a,l){return wo&&l&&Ad(a)}(n,o)?(t.preventDefault(),Te(e,y0,!1)):function(a,l,c,u){return a.toLowerCase()==="b"&&!l&&Xd(c,u)}(n,s,o,i)?(t.preventDefault(),Te(e,Ys,"bold")):function(a,l,c,u){return a.toLowerCase()==="u"&&!l&&Xd(c,u)}(n,s,o,i)?(t.preventDefault(),Te(e,Ys,"underline")):function(a,l,c,u){return a.toLowerCase()==="i"&&!l&&Xd(c,u)}(n,s,o,i)?(t.preventDefault(),Te(e,Ys,"italic")):function(a,l,c,u){return a==="Tab"&&!l&&!c&&!u}(n,s,i,o)?Te(e,wT,t):function(a,l,c,u){return a.toLowerCase()==="z"&&!l&&Xd(c,u)}(n,r,o,i)?(t.preventDefault(),Te(e,Zy,void 0)):function(a,l,c,u){return wo?a.toLowerCase()==="z"&&c&&l:a.toLowerCase()==="y"&&u||a.toLowerCase()==="z"&&u&&l}(n,r,o,i)?(t.preventDefault(),Te(e,e_,void 0)):$r(e._editorState._selection)?function(a,l,c,u){return!l&&a.toLowerCase()==="c"&&(wo?c:u)}(n,r,o,i)?(t.preventDefault(),Te(e,t_,t)):function(a,l,c,u){return!l&&a.toLowerCase()==="x"&&(wo?c:u)}(n,r,o,i)?(t.preventDefault(),Te(e,bT,t)):yI(n,o,i)&&(t.preventDefault(),Te(e,Xb,t)):!Ml&&yI(n,o,i)&&(t.preventDefault(),Te(e,Xb,t)),function(a,l,c,u){return a||l||c||u}(i,r,s,o)&&Te(e,Bhe,t))}],["pointerdown",function(t,e){const n=t.target,r=t.pointerType;n instanceof Node&&r!=="touch"&&Ii(e,()=>{Pt(Es(n))||(fE=!0)})}],["compositionstart",function(t,e){Ii(e,()=>{const n=Se();if(me(n)&&!e.isComposing()){const r=n.anchor,i=n.anchor.getNode();ar(r.key),(t.timeStamp<Cp+cE||r.type==="element"||!n.isCollapsed()||i.getFormat()!==n.format||ye(i)&&i.getStyle()!==n.style)&&Te(e,qh,qhe)}})}],["compositionend",function(t,e){Ml?Id=!0:Ii(e,()=>{M2(e,t.data)})}],["input",function(t,e){t.stopPropagation(),Ii(e,()=>{const n=Se(),r=t.data,i=YV(t);if(r!=null&&me(n)&&QV(n,i,r,t.timeStamp,!1)){Id&&(M2(e,r),Id=!1);const o=n.anchor.getNode(),s=Ss(e._window);if(s===null)return;const a=n.isBackward(),l=a?n.anchor.offset:n.focus.offset,c=a?n.focus.offset:n.anchor.offset;Yx&&!n.isCollapsed()&&ye(o)&&s.anchorNode!==null&&o.getTextContent().slice(0,l)+r+o.getTextContent().slice(l+c)===BV(s.anchorNode)||Te(e,qh,r);const u=r.length;Ml&&u>1&&t.inputType==="insertCompositionText"&&!e.isComposing()&&(n.anchor.offset-=u),kT||n_||TT||!e.isComposing()||(Cp=0,ar(null))}else jT(!1,e,r!==null?r:void 0),Id&&(M2(e,r||void 0),Id=!1);ai(),IV(yn())}),ch=null}],["click",function(t,e){Ii(e,()=>{const n=Se(),r=Ss(e._window),i=Jf();if(r){if(me(n)){const o=n.anchor,s=o.getNode();o.type==="element"&&o.offset===0&&n.isCollapsed()&&!dr(s)&&It().getChildrenSize()===1&&s.getTopLevelElementOrThrow().isEmpty()&&i!==null&&n.is(i)?(r.removeAllRanges(),n.dirty=!0):t.detail===3&&!n.isCollapsed()&&s!==n.focus.getNode()&&(oe(s)?s.select(0):s.getParentOrThrow().select(0))}else if(t.pointerType==="touch"){const o=r.anchorNode;if(o!==null){const s=o.nodeType;(s===Em||s===uc)&&Bi(KT(i,r,e,t))}}}Te(e,fT,t)})}],["cut",Vs],["copy",Vs],["dragstart",Vs],["dragover",Vs],["dragend",Vs],["paste",Vs],["focus",Vs],["blur",Vs],["drop",Vs]];Yx&&uE.push(["beforeinput",(t,e)=>function(n,r){const i=n.inputType,o=YV(n);i==="deleteCompositionText"||Ml&&VV(r)||i!=="insertCompositionText"&&Ii(r,()=>{const s=Se();if(i==="deleteContentBackward"){if(s===null){const d=Jf();if(!me(d))return;Bi(d.clone())}if(me(s)){const d=s.anchor.key===s.focus.key;if(a=n.timeStamp,KV==="MediaLast"&&a<Cp+cE&&r.isComposing()&&d){if(ar(null),Cp=0,setTimeout(()=>{Ii(r,()=>{ar(null)})},cE),me(s)){const p=s.anchor.getNode();p.markDirty(),s.format=p.getFormat(),ye(p)||we(142),s.style=p.getStyle()}}else{ar(null),n.preventDefault();const p=s.anchor.getNode().getTextContent(),m=s.anchor.offset===0&&s.focus.offset===p.length;jhe&&d&&!m||Te(r,Kc,!0)}return}}var a;if(!me(s))return;const l=n.data;ch!==null&&jT(!1,r,ch),s.dirty&&ch===null||!s.isCollapsed()||dr(s.anchor.getNode())||o===null||s.applyDOMRange(o),ch=null;const c=s.anchor,u=s.focus,h=c.getNode(),f=u.getNode();if(i!=="insertText"&&i!=="insertTranspose")switch(n.preventDefault(),i){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":Te(r,qh,n);break;case"insertFromComposition":ar(null),Te(r,qh,n);break;case"insertLineBreak":ar(null),Te(r,Wh,!1);break;case"insertParagraph":ar(null),bp&&!n_?(bp=!1,Te(r,Wh,!1)):Te(r,x0,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":Te(r,dT,n);break;case"deleteByComposition":(function(d,p){return d!==p||oe(d)||oe(p)||!d.isToken()||!p.isToken()})(h,f)&&Te(r,Qb,n);break;case"deleteByDrag":case"deleteByCut":Te(r,Qb,n);break;case"deleteContent":Te(r,Kc,!1);break;case"deleteWordBackward":Te(r,v0,!0);break;case"deleteWordForward":Te(r,v0,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":Te(r,y0,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":Te(r,y0,!1);break;case"formatStrikeThrough":Te(r,Ys,"strikethrough");break;case"formatBold":Te(r,Ys,"bold");break;case"formatItalic":Te(r,Ys,"italic");break;case"formatUnderline":Te(r,Ys,"underline");break;case"historyUndo":Te(r,Zy,void 0);break;case"historyRedo":Te(r,e_,void 0)}else{if(l===`
`)n.preventDefault(),Te(r,Wh,!1);else if(l===ma)n.preventDefault(),Te(r,x0,void 0);else if(l==null&&n.dataTransfer){const d=n.dataTransfer.getData("text/plain");n.preventDefault(),s.insertRawText(d)}else l!=null&&QV(s,o,l,n.timeStamp,!0)?(n.preventDefault(),Te(r,qh,l)):ch=l;GV=n.timeStamp}})}(t,e)]);let Cp=0,KV=null,GV=0,ch=null;const lv=new WeakMap;let hE=!1,fE=!1,bp=!1,Id=!1,JV=[0,"",0,"root",0];function QV(t,e,n,r,i){const o=t.anchor,s=t.focus,a=o.getNode(),l=yn(),c=Ss(l._window),u=c!==null?c.anchorNode:null,h=o.key,f=l.getElementByKey(h),d=n.length;return h!==s.key||!ye(a)||(!i&&(!Yx||GV<r+50)||a.isDirty()&&d<2||OV(n))&&o.offset!==s.offset&&!a.isComposing()||ah(a)||a.isDirty()&&d>1||(i||!Yx)&&f!==null&&!a.isComposing()&&u!==tv(f)||c!==null&&e!==null&&(!e.collapsed||e.startContainer!==c.anchorNode||e.startOffset!==c.anchorOffset)||a.getFormat()!==t.format||a.getStyle()!==t.style||afe(t,a)}function bI(t,e){return t!==null&&t.nodeValue!==null&&t.nodeType===uc&&e!==0&&e!==t.nodeValue.length}function EI(t,e,n){const{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:s}=t;hE&&(hE=!1,bI(r,i)&&bI(o,s))||Ii(e,()=>{if(!n)return void Bi(null);if(!Sm(e,r,o))return;const a=Se();if(me(a)){const l=a.anchor,c=l.getNode();if(a.isCollapsed()){t.type==="Range"&&t.anchorNode===t.focusNode&&(a.dirty=!0);const u=a_(e).event,h=u?u.timeStamp:performance.now(),[f,d,p,m,v]=JV,x=It(),y=e.isComposing()===!1&&x.getTextContent()==="";if(h<v+200&&l.offset===p&&l.key===m)a.format=f,a.style=d;else if(l.type==="text")ye(c)||we(141),a.format=c.getFormat(),a.style=c.getStyle();else if(l.type==="element"&&!y){const _=l.getNode();a.style="",_ instanceof Fu&&_.getChildrenSize()===0?(a.format=_.getTextFormat(),a.style=_.getTextStyle()):a.format=0}}else{const u=l.key,h=a.focus.key,f=a.getNodes(),d=f.length,p=a.isBackward(),m=p?s:i,v=p?i:s,x=p?h:u,y=p?u:h;let _=Whe,C=!1;for(let S=0;S<d;S++){const T=f[S],b=T.getTextContentSize();if(ye(T)&&b!==0&&!(S===0&&T.__key===x&&m===b||S===d-1&&T.__key===y&&v===0)&&(C=!0,_&=T.getFormat(),_===0))break}a.format=C?_:0}}Te(e,Xy,void 0)})}function YV(t){if(!t.getTargetRanges)return null;const e=t.getTargetRanges();return e.length===0?null:e[0]}function M2(t,e){const n=t._compositionKey;if(ar(null),n!==null&&e!=null){if(e===""){const r=Hn(n),i=tv(t.getElementByKey(n));return void(i!==null&&i.nodeValue!==null&&ye(r)&&$T(r,i.nodeValue,null,null,!0))}if(e[e.length-1]===`
`){const r=Se();if(me(r)){const i=r.focus;return r.anchor.set(i.key,i.offset,i.type),void Te(t,_0,null)}}}jT(!0,t,e)}function XV(t){let e=t.__lexicalEventHandles;return e===void 0&&(e=[],t.__lexicalEventHandles=e),e}const Kh=new Map;function ZV(t){const e=t.target,n=Ss(e==null?null:e.nodeType===9?e.defaultView:e.ownerDocument.defaultView);if(n===null)return;const r=VT(n.anchorNode);if(r===null)return;fE&&(fE=!1,Ii(r,()=>{const c=Jf(),u=n.anchorNode;if(u===null)return;const h=u.nodeType;h!==Em&&h!==uc||Bi(KT(c,n,r,t))}));const i=zT(r),o=i[i.length-1],s=o._key,a=Kh.get(s),l=a||o;l!==r&&EI(n,l,!1),EI(n,r,!0),r!==o?Kh.set(s,r):a&&Kh.delete(s)}function SI(t){t._lexicalHandled=!0}function kI(t){return t._lexicalHandled===!0}function yfe(t){const e=t.ownerDocument,n=lv.get(e);n===void 0&&we(162);const r=n-1;r>=0||we(164),lv.set(e,r),r===0&&e.removeEventListener("selectionchange",ZV);const i=i_(t);BT(i)?(function(s){if(s._parentEditor!==null){const a=zT(s),l=a[a.length-1]._key;Kh.get(l)===s&&Kh.delete(l)}else Kh.delete(s._key)}(i),t.__lexicalEditor=null):i&&we(198);const o=XV(t);for(let s=0;s<o.length;s++)o[s]();t.__lexicalEventHandles=[]}function dE(t,e,n){ai();const r=t.__key,i=t.getParent();if(i===null)return;const o=function(a){const l=Se();if(!me(l)||!oe(a))return l;const{anchor:c,focus:u}=l,h=c.getNode(),f=u.getNode();return tE(h,a)&&c.set(a.__key,0,"element"),tE(f,a)&&u.set(a.__key,0,"element"),l}(t);let s=!1;if(me(o)&&e){const a=o.anchor,l=o.focus;a.key===r&&(hv(a,t,i,t.getPreviousSibling(),t.getNextSibling()),s=!0),l.key===r&&(hv(l,t,i,t.getPreviousSibling(),t.getNextSibling()),s=!0)}else $r(o)&&e&&t.isSelected()&&t.selectPrevious();if(me(o)&&e&&!s){const a=t.getIndexWithinParent();Gc(t),uv(o,i,a,-1)}else Gc(t);n||Fr(i)||i.canBeEmpty()||!i.isEmpty()||dE(i,e),e&&dr(i)&&i.isEmpty()&&i.selectEnd()}class c_{static getType(){we(64,this.name)}static clone(e){we(65,this.name)}afterCloneFrom(e){this.__parent=e.__parent,this.__next=e.__next,this.__prev=e.__prev}constructor(e){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,DV(this,e)}getType(){return this.__type}isInline(){we(137,this.constructor.name)}isAttached(){let e=this.__key;for(;e!==null;){if(e==="root")return!0;const n=Hn(e);if(n===null)break;e=n.__parent}return!1}isSelected(e){const n=e||Se();if(n==null)return!1;const r=n.getNodes().some(i=>i.__key===this.__key);if(ye(this))return r;if(me(n)&&n.anchor.type==="element"&&n.focus.type==="element"){if(n.isCollapsed())return!1;const i=this.getParent();if(Pt(this)&&this.isInline()&&i){const o=n.isBackward()?n.focus:n.anchor,s=o.getNode();if(o.offset===s.getChildrenSize()&&s.is(i)&&s.getLastChildOrThrow().is(this))return!1}}return r}getKey(){return this.__key}getIndexWithinParent(){const e=this.getParent();if(e===null)return-1;let n=e.getFirstChild(),r=0;for(;n!==null;){if(this.is(n))return r;r++,n=n.getNextSibling()}return-1}getParent(){const e=this.getLatest().__parent;return e===null?null:Hn(e)}getParentOrThrow(){const e=this.getParent();return e===null&&we(66,this.__key),e}getTopLevelElement(){let e=this;for(;e!==null;){const n=e.getParent();if(Fr(n))return oe(e)||e===this&&Pt(e)||we(194),e;e=n}return null}getTopLevelElementOrThrow(){const e=this.getTopLevelElement();return e===null&&we(67,this.__key),e}getParents(){const e=[];let n=this.getParent();for(;n!==null;)e.push(n),n=n.getParent();return e}getParentKeys(){const e=[];let n=this.getParent();for(;n!==null;)e.push(n.__key),n=n.getParent();return e}getPreviousSibling(){const e=this.getLatest().__prev;return e===null?null:Hn(e)}getPreviousSiblings(){const e=[],n=this.getParent();if(n===null)return e;let r=n.getFirstChild();for(;r!==null&&!r.is(this);)e.push(r),r=r.getNextSibling();return e}getNextSibling(){const e=this.getLatest().__next;return e===null?null:Hn(e)}getNextSiblings(){const e=[];let n=this.getNextSibling();for(;n!==null;)e.push(n),n=n.getNextSibling();return e}getCommonAncestor(e){const n=this.getParents(),r=e.getParents();oe(this)&&n.unshift(this),oe(e)&&r.unshift(e);const i=n.length,o=r.length;if(i===0||o===0||n[i-1]!==r[o-1])return null;const s=new Set(r);for(let a=0;a<i;a++){const l=n[a];if(s.has(l))return l}return null}is(e){return e!=null&&this.__key===e.__key}isBefore(e){if(this===e)return!1;if(e.isParentOf(this))return!0;if(this.isParentOf(e))return!1;const n=this.getCommonAncestor(e);let r=0,i=0,o=this;for(;;){const s=o.getParentOrThrow();if(s===n){r=o.getIndexWithinParent();break}o=s}for(o=e;;){const s=o.getParentOrThrow();if(s===n){i=o.getIndexWithinParent();break}o=s}return r<i}isParentOf(e){const n=this.__key;if(n===e.__key)return!1;let r=e;for(;r!==null;){if(r.__key===n)return!0;r=r.getParent()}return!1}getNodesBetween(e){const n=this.isBefore(e),r=[],i=new Set;let o=this;for(;o!==null;){const s=o.__key;if(i.has(s)||(i.add(s),r.push(o)),o===e)break;const a=oe(o)?n?o.getFirstChild():o.getLastChild():null;if(a!==null){o=a;continue}const l=n?o.getNextSibling():o.getPreviousSibling();if(l!==null){o=l;continue}const c=o.getParentOrThrow();if(i.has(c.__key)||r.push(c),c===e)break;let u=null,h=c;do{if(h===null&&we(68),u=n?h.getNextSibling():h.getPreviousSibling(),h=h.getParent(),h===null)break;u!==null||i.has(h.__key)||r.push(h)}while(u===null);o=u}return n||r.reverse(),r}isDirty(){const e=yn()._dirtyLeaves;return e!==null&&e.has(this.__key)}getLatest(){const e=Hn(this.__key);return e===null&&we(113),e}getWritable(){ai();const e=ka(),n=yn(),r=e._nodeMap,i=this.__key,o=this.getLatest(),s=n._cloneNotNeeded,a=Se();if(a!==null&&a.setCachedNodes(null),s.has(i))return nv(o),o;const l=WT(o);return s.add(i),nv(l),r.set(i,l),l}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(e,n){we(70)}updateDOM(e,n,r){we(71)}exportDOM(e){return{element:this.createDOM(e._config,e)}}exportJSON(){we(72)}static importJSON(e){we(18,this.name)}static transform(){return null}remove(e){dE(this,!0,e)}replace(e,n){ai();let r=Se();r!==null&&(r=r.clone()),I2(this,e);const i=this.getLatest(),o=this.__key,s=e.__key,a=e.getWritable(),l=this.getParentOrThrow().getWritable(),c=l.__size;Gc(a);const u=i.getPreviousSibling(),h=i.getNextSibling(),f=i.__prev,d=i.__next,p=i.__parent;if(dE(i,!1,!0),u===null?l.__first=s:u.getWritable().__next=s,a.__prev=f,h===null?l.__last=s:h.getWritable().__prev=s,a.__next=d,a.__parent=p,l.__size=c,n&&(oe(this)&&oe(a)||we(139),this.getChildren().forEach(m=>{a.append(m)})),me(r)){Bi(r);const m=r.anchor,v=r.focus;m.key===o&&RI(m,a),v.key===o&&RI(v,a)}return dl()===o&&ar(s),a}insertAfter(e,n=!0){ai(),I2(this,e);const r=this.getWritable(),i=e.getWritable(),o=i.getParent(),s=Se();let a=!1,l=!1;if(o!==null){const d=e.getIndexWithinParent();if(Gc(i),me(s)){const p=o.__key,m=s.anchor,v=s.focus;a=m.type==="element"&&m.key===p&&m.offset===d+1,l=v.type==="element"&&v.key===p&&v.offset===d+1}}const c=this.getNextSibling(),u=this.getParentOrThrow().getWritable(),h=i.__key,f=r.__next;if(c===null?u.__last=h:c.getWritable().__prev=h,u.__size++,r.__next=h,i.__next=f,i.__prev=r.__key,i.__parent=r.__parent,n&&me(s)){const d=this.getIndexWithinParent();uv(s,u,d+1);const p=u.__key;a&&s.anchor.set(p,d+2,"element"),l&&s.focus.set(p,d+2,"element")}return e}insertBefore(e,n=!0){ai(),I2(this,e);const r=this.getWritable(),i=e.getWritable(),o=i.__key;Gc(i);const s=this.getPreviousSibling(),a=this.getParentOrThrow().getWritable(),l=r.__prev,c=this.getIndexWithinParent();s===null?a.__first=o:s.getWritable().__next=o,a.__size++,r.__prev=o,i.__prev=l,i.__next=r.__key,i.__parent=r.__parent;const u=Se();return n&&me(u)&&uv(u,this.getParentOrThrow(),c),e}isParentRequired(){return!1}createParentElementNode(){return Zt()}selectStart(){return this.selectPrevious()}selectEnd(){return this.selectNext(0,0)}selectPrevious(e,n){ai();const r=this.getPreviousSibling(),i=this.getParentOrThrow();if(r===null)return i.select(0,0);if(oe(r))return r.select();if(!ye(r)){const o=r.getIndexWithinParent()+1;return i.select(o,o)}return r.select(e,n)}selectNext(e,n){ai();const r=this.getNextSibling(),i=this.getParentOrThrow();if(r===null)return i.select();if(oe(r))return r.select(0,0);if(!ye(r)){const o=r.getIndexWithinParent();return i.select(o,o)}return r.select(e,n)}markDirty(){this.getWritable()}}class km extends c_{static getType(){return"linebreak"}static clone(e){return new km(e.__key)}constructor(e){super(e)}getTextContent(){return`
`}createDOM(){return document.createElement("br")}updateDOM(){return!1}static importDOM(){return{br:e=>function(n){const r=n.parentElement;if(r!==null&&iv(r)){const i=r.firstChild;if(i===n||i.nextSibling===n&&Fg(i)){const o=r.lastChild;if(o===n||o.previousSibling===n&&Fg(o))return!0}}return!1}(e)||function(n){const r=n.parentElement;if(r!==null&&iv(r)){const i=r.firstChild;if(i===n||i.nextSibling===n&&Fg(i))return!1;const o=r.lastChild;if(o===n||o.previousSibling===n&&Fg(o))return!0}return!1}(e)?null:{conversion:_fe,priority:0}}}static importJSON(e){return Gl()}exportJSON(){return{type:"linebreak",version:1}}}function _fe(t){return{node:Gl()}}function Gl(){return As(new km)}function Nl(t){return t instanceof km}function Fg(t){return t.nodeType===uc&&/^( |\t|\r?\n)+$/.test(t.textContent||"")}function N2(t,e){return 16&e?"code":e&AT?"mark":32&e?"sub":64&e?"sup":null}function L2(t,e){return 1&e?"strong":2&e?"em":"span"}function ez(t,e,n,r,i){const o=r.classList;let s=wp(i,"base");s!==void 0&&o.add(...s),s=wp(i,"underlineStrikethrough");let a=!1;const l=e&Zx&&e&Xx;s!==void 0&&(n&Zx&&n&Xx?(a=!0,l||o.add(...s)):l&&o.remove(...s));for(const c in ta){const u=ta[c];if(s=wp(i,c),s!==void 0)if(n&u){if(a&&(c==="underline"||c==="strikethrough")){e&u&&o.remove(...s);continue}e&u&&(!l||c!=="underline")&&c!=="strikethrough"||o.add(...s)}else e&u&&o.remove(...s)}}function tz(t,e,n){const r=e.firstChild,i=n.isComposing(),o=t+(i?r_:"");if(r==null)e.textContent=o;else{const s=r.nodeValue;if(s!==o)if(i||Ml){const[a,l,c]=function(u,h){const f=u.length,d=h.length;let p=0,m=0;for(;p<f&&p<d&&u[p]===h[p];)p++;for(;m+p<f&&m+p<d&&u[f-m-1]===h[d-m-1];)m++;return[p,f-p-m,h.slice(p,d-m)]}(s,o);l!==0&&r.deleteData(a,l),r.insertData(a,c)}else r.nodeValue=o}}function TI(t,e,n,r,i,o){tz(i,t,e);const s=o.theme.text;s!==void 0&&ez(0,0,r,t,s)}function Bg(t,e){const n=document.createElement(e);return n.appendChild(t),n}class Ou extends c_{static getType(){return"text"}static clone(e){return new Ou(e.__text,e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__format=e.__format,this.__style=e.__style,this.__mode=e.__mode,this.__detail=e.__detail}constructor(e,n){super(n),this.__text=e,this.__format=0,this.__style="",this.__mode=0,this.__detail=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){const e=this.getLatest();return Xhe[e.__mode]}getStyle(){return this.getLatest().__style}isToken(){return this.getLatest().__mode===1}isComposing(){return this.__key===dl()}isSegmented(){return this.getLatest().__mode===2}isDirectionless(){return!!(1&this.getLatest().__detail)}isUnmergeable(){return!!(2&this.getLatest().__detail)}hasFormat(e){const n=ta[e];return!!(this.getFormat()&n)}isSimpleText(){return this.__type==="text"&&this.__mode===0}getTextContent(){return this.getLatest().__text}getFormatFlags(e,n){return eE(this.getLatest().__format,e,n)}canHaveFormat(){return!0}createDOM(e,n){const r=this.__format,i=N2(0,r),o=L2(0,r),s=i===null?o:i,a=document.createElement(s);let l=a;this.hasFormat("code")&&a.setAttribute("spellcheck","false"),i!==null&&(l=document.createElement(o),a.appendChild(l)),TI(l,this,0,r,this.__text,e);const c=this.__style;return c!==""&&(a.style.cssText=c),a}updateDOM(e,n,r){const i=this.__text,o=e.__format,s=this.__format,a=N2(0,o),l=N2(0,s),c=L2(0,o),u=L2(0,s);if((a===null?c:a)!==(l===null?u:l))return!0;if(a===l&&c!==u){const m=n.firstChild;m==null&&we(48);const v=document.createElement(u);return TI(v,this,0,s,i,r),n.replaceChild(v,m),!1}let h=n;l!==null&&a!==null&&(h=n.firstChild,h==null&&we(49)),tz(i,h,this);const f=r.theme.text;f!==void 0&&o!==s&&ez(0,o,s,h,f);const d=e.__style,p=this.__style;return d!==p&&(n.style.cssText=p),!1}static importDOM(){return{"#text":()=>({conversion:Efe,priority:0}),b:()=>({conversion:Cfe,priority:0}),code:()=>({conversion:$a,priority:0}),em:()=>({conversion:$a,priority:0}),i:()=>({conversion:$a,priority:0}),s:()=>({conversion:$a,priority:0}),span:()=>({conversion:wfe,priority:0}),strong:()=>({conversion:$a,priority:0}),sub:()=>({conversion:$a,priority:0}),sup:()=>({conversion:$a,priority:0}),u:()=>({conversion:$a,priority:0})}}static importJSON(e){const n=Bn(e.text);return n.setFormat(e.format),n.setDetail(e.detail),n.setMode(e.mode),n.setStyle(e.style),n}exportDOM(e){let{element:n}=super.exportDOM(e);return n!==null&&ga(n)||we(132),n.style.whiteSpace="pre-wrap",this.hasFormat("bold")&&(n=Bg(n,"b")),this.hasFormat("italic")&&(n=Bg(n,"i")),this.hasFormat("strikethrough")&&(n=Bg(n,"s")),this.hasFormat("underline")&&(n=Bg(n,"u")),{element:n}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),type:"text",version:1}}selectionTransform(e,n){}setFormat(e){const n=this.getWritable();return n.__format=typeof e=="string"?ta[e]:e,n}setDetail(e){const n=this.getWritable();return n.__detail=typeof e=="string"?Jhe[e]:e,n}setStyle(e){const n=this.getWritable();return n.__style=e,n}toggleFormat(e){const n=eE(this.getFormat(),e,null);return this.setFormat(n)}toggleDirectionless(){const e=this.getWritable();return e.__detail^=1,e}toggleUnmergeable(){const e=this.getWritable();return e.__detail^=2,e}setMode(e){const n=Yhe[e];if(this.__mode===n)return this;const r=this.getWritable();return r.__mode=n,r}setTextContent(e){if(this.__text===e)return this;const n=this.getWritable();return n.__text=e,n}select(e,n){ai();let r=e,i=n;const o=Se(),s=this.getTextContent(),a=this.__key;if(typeof s=="string"){const l=s.length;r===void 0&&(r=l),i===void 0&&(i=l)}else r=0,i=0;if(!me(o))return iz(a,r,a,i,"text","text");{const l=dl();l!==o.anchor.key&&l!==o.focus.key||ar(a),o.setTextNodeRange(this,r,this,i)}return o}selectStart(){return this.select(0,0)}selectEnd(){const e=this.getTextContentSize();return this.select(e,e)}spliceText(e,n,r,i){const o=this.getWritable(),s=o.__text,a=r.length;let l=e;l<0&&(l=a+l,l<0&&(l=0));const c=Se();if(i&&me(c)){const h=e+a;c.setTextNodeRange(o,h,o,h)}const u=s.slice(0,l)+r+s.slice(l+n);return o.__text=u,o}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}splitText(...e){ai();const n=this.getLatest(),r=n.getTextContent(),i=n.__key,o=dl(),s=new Set(e),a=[],l=r.length;let c="";for(let S=0;S<l;S++)c!==""&&s.has(S)&&(a.push(c),c=""),c+=r[S];c!==""&&a.push(c);const u=a.length;if(u===0)return[];if(a[0]===r)return[n];const h=a[0],f=n.getParent();let d;const p=n.getFormat(),m=n.getStyle(),v=n.__detail;let x=!1;n.isSegmented()?(d=Bn(h),d.__format=p,d.__style=m,d.__detail=v,x=!0):(d=n.getWritable(),d.__text=h);const y=Se(),_=[d];let C=h.length;for(let S=1;S<u;S++){const T=a[S],b=T.length,w=Bn(T).getWritable();w.__format=p,w.__style=m,w.__detail=v;const I=w.__key,E=C+b;if(me(y)){const R=y.anchor,D=y.focus;R.key===i&&R.type==="text"&&R.offset>C&&R.offset<=E&&(R.key=I,R.offset-=C,y.dirty=!0),D.key===i&&D.type==="text"&&D.offset>C&&D.offset<=E&&(D.key=I,D.offset-=C,y.dirty=!0)}o===i&&ar(I),C=E,_.push(w)}if(f!==null){(function(b){const w=b.getPreviousSibling(),I=b.getNextSibling();w!==null&&nv(w),I!==null&&nv(I)})(this);const S=f.getWritable(),T=this.getIndexWithinParent();x?(S.splice(T,0,_),this.remove()):S.splice(T,1,_),me(y)&&uv(y,f,T,u-1)}return _}mergeWithSibling(e){const n=e===this.getPreviousSibling();n||e===this.getNextSibling()||we(50);const r=this.__key,i=e.__key,o=this.__text,s=o.length;dl()===i&&ar(r);const a=Se();if(me(a)){const h=a.anchor,f=a.focus;h!==null&&h.key===i&&(OI(h,n,r,e,s),a.dirty=!0),f!==null&&f.key===i&&(OI(f,n,r,e,s),a.dirty=!0)}const l=e.__text,c=n?l+o:o+l;this.setTextContent(c);const u=this.getWritable();return e.remove(),u}isTextEntity(){return!1}}function wfe(t){return{forChild:qT(t.style),node:null}}function Cfe(t){const e=t,n=e.style.fontWeight==="normal";return{forChild:qT(e.style,n?void 0:"bold"),node:null}}const AI=new WeakMap;function bfe(t){return t.nodeName==="PRE"||t.nodeType===Em&&t.style!==void 0&&t.style.whiteSpace!==void 0&&t.style.whiteSpace.startsWith("pre")}function Efe(t){const e=t;t.parentElement===null&&we(129);let n=e.textContent||"";if(function(r){let i,o=r.parentNode;const s=[r];for(;o!==null&&(i=AI.get(o))===void 0&&!bfe(o);)s.push(o),o=o.parentNode;const a=i===void 0?o:i;for(let l=0;l<s.length;l++)AI.set(s[l],a);return a}(e)!==null){const r=n.split(/(\r?\n|\t)/),i=[],o=r.length;for(let s=0;s<o;s++){const a=r[s];a===`
`||a===`\r
`?i.push(Gl()):a==="	"?i.push(Am()):a!==""&&i.push(Bn(a))}return{node:i}}if(n=n.replace(/\r/g,"").replace(/[ \t\n]+/g," "),n==="")return{node:null};if(n[0]===" "){let r=e,i=!0;for(;r!==null&&(r=II(r,!1))!==null;){const o=r.textContent||"";if(o.length>0){/[ \t\n]$/.test(o)&&(n=n.slice(1)),i=!1;break}}i&&(n=n.slice(1))}if(n[n.length-1]===" "){let r=e,i=!0;for(;r!==null&&(r=II(r,!0))!==null;)if((r.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){i=!1;break}i&&(n=n.slice(0,n.length-1))}return n===""?{node:null}:{node:Bn(n)}}function II(t,e){let n=t;for(;;){let r;for(;(r=e?n.nextSibling:n.previousSibling)===null;){const o=n.parentElement;if(o===null)return null;n=o}if(n=r,n.nodeType===Em){const o=n.style.display;if(o===""&&!nE(n)||o!==""&&!o.startsWith("inline"))return null}let i=n;for(;(i=e?n.firstChild:n.lastChild)!==null;)n=i;if(n.nodeType===uc)return n;if(n.nodeName==="BR")return null}}const Sfe={code:"code",em:"italic",i:"italic",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function $a(t){const e=Sfe[t.nodeName.toLowerCase()];return e===void 0?{node:null}:{forChild:qT(t.style,e),node:null}}function Bn(t=""){return As(new Ou(t))}function ye(t){return t instanceof Ou}function qT(t,e){const n=t.fontWeight,r=t.textDecoration.split(" "),i=n==="700"||n==="bold",o=r.includes("line-through"),s=t.fontStyle==="italic",a=r.includes("underline"),l=t.verticalAlign;return c=>(ye(c)&&(i&&!c.hasFormat("bold")&&c.toggleFormat("bold"),o&&!c.hasFormat("strikethrough")&&c.toggleFormat("strikethrough"),s&&!c.hasFormat("italic")&&c.toggleFormat("italic"),a&&!c.hasFormat("underline")&&c.toggleFormat("underline"),l!=="sub"||c.hasFormat("subscript")||c.toggleFormat("subscript"),l!=="super"||c.hasFormat("superscript")||c.toggleFormat("superscript"),e&&!c.hasFormat(e)&&c.toggleFormat(e)),c)}class Tm extends Ou{static getType(){return"tab"}static clone(e){return new Tm(e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__text=e.__text}constructor(e){super("	",e),this.__detail=2}static importDOM(){return null}static importJSON(e){const n=Am();return n.setFormat(e.format),n.setStyle(e.style),n}exportJSON(){return{...super.exportJSON(),type:"tab",version:1}}setTextContent(e){we(126)}setDetail(e){we(127)}setMode(e){we(128)}canInsertTextBefore(){return!1}canInsertTextAfter(){return!1}}function Am(){return As(new Tm)}function kfe(t){return t instanceof Tm}class Tfe{constructor(e,n,r){this._selection=null,this.key=e,this.offset=n,this.type=r}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){let n=this.getNode(),r=e.getNode();const i=this.offset,o=e.offset;if(oe(n)){const s=n.getDescendantByIndex(i);n=s??n}if(oe(r)){const s=r.getDescendantByIndex(o);r=s??r}return n===r?i<o:n.isBefore(r)}getNode(){const e=Hn(this.key);return e===null&&we(20),e}set(e,n,r){const i=this._selection,o=this.key;this.key=e,this.offset=n,this.type=r,Im()||(dl()===o&&ar(e),i!==null&&(i.setCachedNodes(null),i.dirty=!0))}}function ks(t,e,n){return new Tfe(t,e,n)}function O2(t,e){let n=e.__key,r=t.offset,i="element";if(ye(e)){i="text";const o=e.getTextContentSize();r>o&&(r=o)}else if(!oe(e)){const o=e.getNextSibling();if(ye(o))n=o.__key,r=0,i="text";else{const s=e.getParent();s&&(n=s.__key,r=e.getIndexWithinParent()+1)}}t.set(n,r,i)}function RI(t,e){if(oe(e)){const n=e.getLastDescendant();oe(n)||ye(n)?O2(t,n):O2(t,e)}else O2(t,e)}function Xa(t,e,n,r){t.key=e,t.offset=n,t.type=r}class u_{constructor(e){this._cachedNodes=null,this._nodes=e,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){if(!$r(e))return!1;const n=this._nodes,r=e._nodes;return n.size===r.size&&Array.from(n).every(i=>r.has(i))}isCollapsed(){return!1}isBackward(){return!1}getStartEndPoints(){return null}add(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}delete(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(e){return this._nodes.has(e)}clone(){return new u_(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(e){}insertText(){}insertNodes(e){const n=this.getNodes(),r=n.length,i=n[r-1];let o;if(ye(i))o=i.select();else{const s=i.getIndexWithinParent()+1;o=i.getParentOrThrow().select(s,s)}o.insertNodes(e);for(let s=0;s<r;s++)n[s].remove()}getNodes(){const e=this._cachedNodes;if(e!==null)return e;const n=this._nodes,r=[];for(const i of n){const o=Hn(i);o!==null&&r.push(o)}return Im()||(this._cachedNodes=r),r}getTextContent(){const e=this.getNodes();let n="";for(let r=0;r<e.length;r++)n+=e[r].getTextContent();return n}}function me(t){return t instanceof hc}class hc{constructor(e,n,r,i){this.anchor=e,this.focus=n,e._selection=this,n._selection=this,this._cachedNodes=null,this.format=r,this.style=i,this.dirty=!1}getCachedNodes(){return this._cachedNodes}setCachedNodes(e){this._cachedNodes=e}is(e){return!!me(e)&&this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){const e=this._cachedNodes;if(e!==null)return e;const n=this.anchor,r=this.focus,i=n.isBefore(r),o=i?n:r,s=i?r:n;let a=o.getNode(),l=s.getNode();const c=o.offset,u=s.offset;if(oe(a)){const f=a.getDescendantByIndex(c);a=f??a}if(oe(l)){let f=l.getDescendantByIndex(u);f!==null&&f!==a&&l.getChildAtIndex(u)===f&&(f=f.getPreviousSibling()),l=f??l}let h;return h=a.is(l)?oe(a)&&a.getChildrenSize()>0?[]:[a]:a.getNodesBetween(l),Im()||(this._cachedNodes=h),h}setTextNodeRange(e,n,r,i){Xa(this.anchor,e.__key,n,"text"),Xa(this.focus,r.__key,i,"text"),this._cachedNodes=null,this.dirty=!0}getTextContent(){const e=this.getNodes();if(e.length===0)return"";const n=e[0],r=e[e.length-1],i=this.anchor,o=this.focus,s=i.isBefore(o),[a,l]=pE(this);let c="",u=!0;for(let h=0;h<e.length;h++){const f=e[h];if(oe(f)&&!f.isInline())u||(c+=`
`),u=!f.isEmpty();else if(u=!1,ye(f)){let d=f.getTextContent();f===n?f===r?i.type==="element"&&o.type==="element"&&o.offset!==i.offset||(d=a<l?d.slice(a,l):d.slice(l,a)):d=s?d.slice(a):d.slice(l):f===r&&(d=s?d.slice(0,l):d.slice(0,a)),c+=d}else!Pt(f)&&!Nl(f)||f===r&&this.isCollapsed()||(c+=f.getTextContent())}return c}applyDOMRange(e){const n=yn(),r=n.getEditorState()._selection,i=rz(e.startContainer,e.startOffset,e.endContainer,e.endOffset,n,r);if(i===null)return;const[o,s]=i;Xa(this.anchor,o.key,o.offset,o.type),Xa(this.focus,s.key,s.offset,s.type),this._cachedNodes=null}clone(){const e=this.anchor,n=this.focus;return new hc(ks(e.key,e.offset,e.type),ks(n.key,n.offset,n.type),this.format,this.style)}toggleFormat(e){this.format=eE(this.format,e,null),this.dirty=!0}setStyle(e){this.style=e,this.dirty=!0}hasFormat(e){const n=ta[e];return!!(this.format&n)}insertRawText(e){const n=e.split(/(\r?\n|\t)/),r=[],i=n.length;for(let o=0;o<i;o++){const s=n[o];s===`
`||s===`\r
`?r.push(Gl()):s==="	"?r.push(Am()):r.push(Bn(s))}this.insertNodes(r)}insertText(e){const n=this.anchor,r=this.focus,i=this.format,o=this.style;let s=n,a=r;!this.isCollapsed()&&r.isBefore(n)&&(s=r,a=n),s.type==="element"&&function(v,x,y,_){const C=v.getNode(),S=C.getChildAtIndex(v.offset),T=Bn(),b=dr(C)?Zt().append(T):T;T.setFormat(y),T.setStyle(_),S===null?C.append(b):S.insertBefore(b),v.is(x)&&x.set(T.__key,0,"text"),v.set(T.__key,0,"text")}(s,a,i,o);const l=s.offset;let c=a.offset;const u=this.getNodes(),h=u.length;let f=u[0];ye(f)||we(26);const d=f.getTextContent().length,p=f.getParentOrThrow();let m=u[h-1];if(h===1&&a.type==="element"&&(c=d,a.set(s.key,c,"text")),this.isCollapsed()&&l===d&&(f.isSegmented()||f.isToken()||!f.canInsertTextAfter()||!p.canInsertTextAfter()&&f.getNextSibling()===null)){let v=f.getNextSibling();if(ye(v)&&v.canInsertTextBefore()&&!ah(v)||(v=Bn(),v.setFormat(i),v.setStyle(o),p.canInsertTextAfter()?f.insertAfter(v):p.insertAfter(v)),v.select(0,0),f=v,e!=="")return void this.insertText(e)}else if(this.isCollapsed()&&l===0&&(f.isSegmented()||f.isToken()||!f.canInsertTextBefore()||!p.canInsertTextBefore()&&f.getPreviousSibling()===null)){let v=f.getPreviousSibling();if(ye(v)&&!ah(v)||(v=Bn(),v.setFormat(i),p.canInsertTextBefore()?f.insertBefore(v):p.insertBefore(v)),v.select(),f=v,e!=="")return void this.insertText(e)}else if(f.isSegmented()&&l!==d){const v=Bn(f.getTextContent());v.setFormat(i),f.replace(v),f=v}else if(!this.isCollapsed()&&e!==""){const v=m.getParent();if(!p.canInsertTextBefore()||!p.canInsertTextAfter()||oe(v)&&(!v.canInsertTextBefore()||!v.canInsertTextAfter()))return this.insertText(""),nz(this.anchor,this.focus,null),void this.insertText(e)}if(h===1){if(f.isToken()){const _=Bn(e);return _.select(),void f.replace(_)}const v=f.getFormat(),x=f.getStyle();if(l!==c||v===i&&x===o){if(kfe(f)){const _=Bn(e);return _.setFormat(i),_.setStyle(o),_.select(),void f.replace(_)}}else{if(f.getTextContent()!==""){const _=Bn(e);if(_.setFormat(i),_.setStyle(o),_.select(),l===0)f.insertBefore(_,!1);else{const[C]=f.splitText(l);C.insertAfter(_,!1)}return void(_.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length))}f.setFormat(i),f.setStyle(o)}const y=c-l;f=f.spliceText(l,y,e,!0),f.getTextContent()===""?f.remove():this.anchor.type==="text"&&(f.isComposing()?this.anchor.offset-=e.length:(this.format=v,this.style=x))}else{const v=new Set([...f.getParentKeys(),...m.getParentKeys()]),x=oe(f)?f:f.getParentOrThrow();let y=oe(m)?m:m.getParentOrThrow(),_=m;if(!x.is(y)&&y.isInline())do _=y,y=y.getParentOrThrow();while(y.isInline());if(a.type==="text"&&(c!==0||m.getTextContent()==="")||a.type==="element"&&m.getIndexWithinParent()<c)if(ye(m)&&!m.isToken()&&c!==m.getTextContentSize()){if(m.isSegmented()){const w=Bn(m.getTextContent());m.replace(w),m=w}dr(a.getNode())||a.type!=="text"||(m=m.spliceText(0,c,"")),v.add(m.__key)}else{const w=m.getParentOrThrow();w.canBeEmpty()||w.getChildrenSize()!==1?m.remove():w.remove()}else v.add(m.__key);const C=y.getChildren(),S=new Set(u),T=x.is(y),b=x.isInline()&&f.getNextSibling()===null?x:f;for(let w=C.length-1;w>=0;w--){const I=C[w];if(I.is(f)||oe(I)&&I.isParentOf(f))break;I.isAttached()&&(!S.has(I)||I.is(_)?T||b.insertAfter(I,!1):I.remove())}if(!T){let w=y,I=null;for(;w!==null;){const E=w.getChildren(),R=E.length;(R===0||E[R-1].is(I))&&(v.delete(w.__key),I=w),w=w.getParent()}}if(f.isToken())if(l===d)f.select();else{const w=Bn(e);w.select(),f.replace(w)}else f=f.spliceText(l,d-l,e,!0),f.getTextContent()===""?f.remove():f.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length);for(let w=1;w<h;w++){const I=u[w],E=I.__key;v.has(E)||I.remove()}}}removeText(){this.insertText("")}formatText(e){if(this.isCollapsed())return this.toggleFormat(e),void ar(null);const n=this.getNodes(),r=[];for(const y of n)ye(y)&&r.push(y);const i=r.length;if(i===0)return this.toggleFormat(e),void ar(null);const o=this.anchor,s=this.focus,a=this.isBackward(),l=a?s:o,c=a?o:s;let u=0,h=r[0],f=l.type==="element"?0:l.offset;if(l.type==="text"&&f===h.getTextContentSize()&&(u=1,h=r[1],f=0),h==null)return;const d=h.getFormatFlags(e,null),p=i-1;let m=r[p];const v=c.type==="text"?c.offset:m.getTextContentSize();if(h.is(m)){if(f===v)return;if(ah(h)||f===0&&v===h.getTextContentSize())h.setFormat(d);else{const y=h.splitText(f,v),_=f===0?y[0]:y[1];_.setFormat(d),l.type==="text"&&l.set(_.__key,0,"text"),c.type==="text"&&c.set(_.__key,v-f,"text")}return void(this.format=d)}f===0||ah(h)||([,h]=h.splitText(f),f=0),h.setFormat(d);const x=m.getFormatFlags(e,d);v>0&&(v===m.getTextContentSize()||ah(m)||([m]=m.splitText(v)),m.setFormat(x));for(let y=u+1;y<p;y++){const _=r[y],C=_.getFormatFlags(e,x);_.setFormat(C)}l.type==="text"&&l.set(h.__key,f,"text"),c.type==="text"&&c.set(m.__key,v,"text"),this.format=d|x}insertNodes(e){if(e.length===0)return;if(this.anchor.key==="root"){this.insertParagraph();const d=Se();return me(d)||we(134),d.insertNodes(e)}const n=P2((this.isBackward()?this.focus:this.anchor).getNode(),lh),r=e[e.length-1];if("__language"in n&&oe(n)){if("__language"in e[0])this.insertText(e[0].getTextContent());else{const d=F2(this);n.splice(d,0,e),r.selectEnd()}return}if(!e.some(d=>(oe(d)||Pt(d))&&!d.isInline())){oe(n)||we(135);const d=F2(this);return n.splice(d,0,e),void r.selectEnd()}const i=function(d){const p=Zt();let m=null;for(let v=0;v<d.length;v++){const x=d[v],y=Nl(x);if(y||Pt(x)&&x.isInline()||oe(x)&&x.isInline()||ye(x)||x.isParentRequired()){if(m===null&&(m=x.createParentElementNode(),p.append(m),y))continue;m!==null&&m.append(x)}else p.append(x),m=null}return p}(e),o=i.getLastDescendant(),s=i.getChildren(),a=!oe(n)||!n.isEmpty()?this.insertParagraph():null,l=s[s.length-1];let c=s[0];var u;oe(u=c)&&lh(u)&&!u.isEmpty()&&oe(n)&&(!n.isEmpty()||n.canMergeWhenEmpty())&&(oe(n)||we(135),n.append(...c.getChildren()),c=s[1]),c&&function(d,p,m){const v=p.getParentOrThrow().getLastChild();let x=p;const y=[p];for(;x!==v;)x.getNextSibling()||we(140),x=x.getNextSibling(),y.push(x);let _=d;for(const C of y)_=_.insertAfter(C)}(n,c);const h=P2(o,lh);a&&oe(h)&&(a.canMergeWhenEmpty()||lh(l))&&(h.append(...a.getChildren()),a.remove()),oe(n)&&n.isEmpty()&&n.remove(),o.selectEnd();const f=oe(n)?n.getLastChild():null;Nl(f)&&h!==n&&f.remove()}insertParagraph(){if(this.anchor.key==="root"){const s=Zt();return It().splice(this.anchor.offset,0,[s]),s.select(),s}const e=F2(this),n=P2(this.anchor.getNode(),lh);oe(n)||we(136);const r=n.getChildAtIndex(e),i=r?[r,...r.getNextSiblings()]:[],o=n.insertNewAfter(this,!1);return o?(o.append(...i),o.selectStart(),o):null}insertLineBreak(e){const n=Gl();if(this.insertNodes([n]),e){const r=n.getParentOrThrow(),i=n.getIndexWithinParent();r.select(i,i)}}extract(){const e=this.getNodes(),n=e.length,r=n-1,i=this.anchor,o=this.focus;let s=e[0],a=e[r];const[l,c]=pE(this);if(n===0)return[];if(n===1){if(ye(s)&&!this.isCollapsed()){const h=l>c?c:l,f=l>c?l:c,d=s.splitText(h,f),p=h===0?d[0]:d[1];return p!=null?[p]:[]}return[s]}const u=i.isBefore(o);if(ye(s)){const h=u?l:c;h===s.getTextContentSize()?e.shift():h!==0&&([,s]=s.splitText(h),e[0]=s)}if(ye(a)){const h=a.getTextContent().length,f=u?c:l;f===0?e.pop():f!==h&&([a]=a.splitText(f),e[r]=a)}return e}modify(e,n,r){const i=this.focus,o=this.anchor,s=e==="move",a=w0(i,n);if(Pt(a)&&!a.isIsolated()){if(s&&a.isKeyboardSelectable()){const d=mE();return d.add(a.__key),void Bi(d)}const f=n?a.getPreviousSibling():a.getNextSibling();if(ye(f)){const d=f.__key,p=n?f.getTextContent().length:0;return i.set(d,p,"text"),void(s&&o.set(d,p,"text"))}{const d=a.getParentOrThrow();let p,m;return oe(f)?(m=f.__key,p=n?f.getChildrenSize():0):(p=a.getIndexWithinParent(),m=d.__key,n||p++),i.set(m,p,"element"),void(s&&o.set(m,p,"element"))}}const l=yn(),c=Ss(l._window);if(!c)return;const u=l._blockCursorElement,h=l._rootElement;if(h===null||u===null||!oe(a)||a.isInline()||a.canBeEmpty()||UT(u,l,h),function(f,d,p,m){f.modify(d,p,m)}(c,e,n?"backward":"forward",r),c.rangeCount>0){const f=c.getRangeAt(0),d=this.anchor.getNode(),p=dr(d)?d:cfe(d);if(this.applyDOMRange(f),this.dirty=!0,!s){const m=this.getNodes(),v=[];let x=!1;for(let y=0;y<m.length;y++){const _=m[y];tE(_,p)?v.push(_):x=!0}if(x&&v.length>0)if(n){const y=v[0];oe(y)?y.selectStart():y.getParentOrThrow().selectStart()}else{const y=v[v.length-1];oe(y)?y.selectEnd():y.getParentOrThrow().selectEnd()}c.anchorNode===f.startContainer&&c.anchorOffset===f.startOffset||function(y){const _=y.focus,C=y.anchor,S=C.key,T=C.offset,b=C.type;Xa(C,_.key,_.offset,_.type),Xa(_,S,T,b),y._cachedNodes=null}(this)}}}forwardDeletion(e,n,r){if(!r&&(e.type==="element"&&oe(n)&&e.offset===n.getChildrenSize()||e.type==="text"&&e.offset===n.getTextContentSize())){const i=n.getParent(),o=n.getNextSibling()||(i===null?null:i.getNextSibling());if(oe(o)&&o.isShadowRoot())return!0}return!1}deleteCharacter(e){const n=this.isCollapsed();if(this.isCollapsed()){const r=this.anchor;let i=r.getNode();if(this.forwardDeletion(r,i,e))return;const o=this.focus,s=w0(o,e);if(Pt(s)&&!s.isIsolated()){if(s.isKeyboardSelectable()&&oe(i)&&i.getChildrenSize()===0){i.remove();const a=mE();a.add(s.__key),Bi(a)}else s.remove(),yn().dispatchCommand(Xy,void 0);return}if(!e&&oe(s)&&oe(i)&&i.isEmpty())return i.remove(),void s.selectStart();if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&r.offset===0&&(r.type==="element"?r.getNode():r.getNode().getParentOrThrow()).collapseAtStart(this))return}else{const a=o.type==="text"?o.getNode():null;if(i=r.type==="text"?r.getNode():null,a!==null&&a.isSegmented()){const l=o.offset,c=a.getTextContentSize();if(a.is(i)||e&&l!==c||!e&&l!==0)return void DI(a,e,l)}else if(i!==null&&i.isSegmented()){const l=r.offset,c=i.getTextContentSize();if(i.is(a)||e&&l!==0||!e&&l!==c)return void DI(i,e,l)}(function(l,c){const u=l.anchor,h=l.focus,f=u.getNode(),d=h.getNode();if(f===d&&u.type==="text"&&h.type==="text"){const p=u.offset,m=h.offset,v=p<m,x=v?p:m,y=v?m:p,_=y-1;x!==_&&(OV(f.getTextContent().slice(x,y))||(c?h.offset=_:u.offset=_))}})(this,e)}}if(this.removeText(),e&&!n&&this.isCollapsed()&&this.anchor.type==="element"&&this.anchor.offset===0){const r=this.anchor.getNode();r.isEmpty()&&dr(r.getParent())&&r.getIndexWithinParent()===0&&r.collapseAtStart(this)}}deleteLine(e){if(this.isCollapsed()){const n=this.anchor.type==="element";if(n&&this.insertText(" "),this.modify("extend",e,"lineboundary"),(e?this.focus:this.anchor).offset===0&&this.modify("extend",e,"character"),n){const r=e?this.anchor:this.focus;r.set(r.key,r.offset+1,r.type)}}this.removeText()}deleteWord(e){if(this.isCollapsed()){const n=this.anchor,r=n.getNode();if(this.forwardDeletion(n,r,e))return;this.modify("extend",e,"word")}this.removeText()}isBackward(){return this.focus.isBefore(this.anchor)}getStartEndPoints(){return[this.anchor,this.focus]}}function $r(t){return t instanceof u_}function PI(t){const e=t.offset;if(t.type==="text")return e;const n=t.getNode();return e===n.getChildrenSize()?n.getTextContent().length:0}function pE(t){const e=t.getStartEndPoints();if(e===null)return[0,0];const[n,r]=e;return n.type==="element"&&r.type==="element"&&n.key===r.key&&n.offset===r.offset?[0,0]:[PI(n),PI(r)]}function DI(t,e,n){const r=t,i=r.getTextContent().split(/(?=\s)/g),o=i.length;let s=0,a=0;for(let c=0;c<o;c++){const u=c===o-1;if(a=s,s+=i[c].length,e&&s===n||s>n||u){i.splice(c,1),u&&(a=void 0);break}}const l=i.join("").trim();l===""?r.remove():(r.setTextContent(l),r.select(a,a))}function MI(t,e,n,r){let i,o=e;if(t.nodeType===Em){let s=!1;const a=t.childNodes,l=a.length,c=r._blockCursorElement;o===l&&(s=!0,o=l-1);let u=a[o],h=!1;if(u===c)u=a[o+1],h=!0;else if(c!==null){const f=c.parentNode;t===f&&e>Array.prototype.indexOf.call(f.children,c)&&o--}if(i=Th(u),ye(i))o=mI(i,s);else{let f=Th(t);if(f===null)return null;if(oe(f)){o=Math.min(f.getChildrenSize(),o);let d=f.getChildAtIndex(o);if(oe(d)&&function(p,m,v){const x=p.getParent();return v===null||x===null||!x.canBeEmpty()||x!==v.getNode()}(d,0,n)){const p=s?d.getLastDescendant():d.getFirstDescendant();p===null?f=d:(d=p,f=oe(d)?d:d.getParentOrThrow()),o=0}ye(d)?(i=d,f=null,o=mI(d,s)):d!==f&&s&&!h&&o++}else{const d=f.getIndexWithinParent();o=e===0&&Pt(f)&&Th(t)===f?d:d+1,f=f.getParentOrThrow()}if(oe(f))return ks(f.__key,o,"element")}}else i=Th(t);return ye(i)?ks(i.__key,o,"text"):null}function NI(t,e,n){const r=t.offset,i=t.getNode();if(r===0){const o=i.getPreviousSibling(),s=i.getParent();if(e){if((n||!e)&&o===null&&oe(s)&&s.isInline()){const a=s.getPreviousSibling();ye(a)&&(t.key=a.__key,t.offset=a.getTextContent().length)}}else oe(o)&&!n&&o.isInline()?(t.key=o.__key,t.offset=o.getChildrenSize(),t.type="element"):ye(o)&&(t.key=o.__key,t.offset=o.getTextContent().length)}else if(r===i.getTextContent().length){const o=i.getNextSibling(),s=i.getParent();if(e&&oe(o)&&o.isInline())t.key=o.__key,t.offset=0,t.type="element";else if((n||e)&&o===null&&oe(s)&&s.isInline()&&!s.canInsertTextAfter()){const a=s.getNextSibling();ye(a)&&(t.key=a.__key,t.offset=0)}}}function nz(t,e,n){if(t.type==="text"&&e.type==="text"){const r=t.isBefore(e),i=t.is(e);NI(t,r,i),NI(e,!r,i),i&&(e.key=t.key,e.offset=t.offset,e.type=t.type);const o=yn();if(o.isComposing()&&o._compositionKey!==t.key&&me(n)){const s=n.anchor,a=n.focus;Xa(t,s.key,s.offset,s.type),Xa(e,a.key,a.offset,a.type)}}}function rz(t,e,n,r,i,o){if(t===null||n===null||!Sm(i,t,n))return null;const s=MI(t,e,me(o)?o.anchor:null,i);if(s===null)return null;const a=MI(n,r,me(o)?o.focus:null,i);if(a===null)return null;if(s.type==="element"&&a.type==="element"){const l=Th(t),c=Th(n);if(Pt(l)&&Pt(c))return null}return nz(s,a,o),[s,a]}function cv(t){return oe(t)&&!t.isInline()}function iz(t,e,n,r,i,o){const s=ka(),a=new hc(ks(t,e,i),ks(n,r,o),0,"");return a.dirty=!0,s._selection=a,a}function oz(){const t=ks("root",0,"element"),e=ks("root",0,"element");return new hc(t,e,0,"")}function mE(){return new u_(new Set)}function KT(t,e,n,r){const i=n._window;if(i===null)return null;const o=r||i.event,s=o?o.type:void 0,a=s==="selectionchange",l=!Zb&&(a||s==="beforeinput"||s==="compositionstart"||s==="compositionend"||s==="click"&&o&&o.detail===3||s==="drop"||s===void 0);let c,u,h,f;if(me(t)&&!l)return t.clone();if(e===null)return null;if(c=e.anchorNode,u=e.focusNode,h=e.anchorOffset,f=e.focusOffset,a&&me(t)&&!Sm(n,c,u))return t.clone();const d=rz(c,h,u,f,n,t);if(d===null)return null;const[p,m]=d;return new hc(p,m,me(t)?t.format:0,me(t)?t.style:"")}function Se(){return ka()._selection}function Jf(){return yn()._editorState._selection}function uv(t,e,n,r=1){const i=t.anchor,o=t.focus,s=i.getNode(),a=o.getNode();if(!e.is(s)&&!e.is(a))return;const l=e.__key;if(t.isCollapsed()){const c=i.offset;if(n<=c&&r>0||n<c&&r<0){const u=Math.max(0,c+r);i.set(l,u,"element"),o.set(l,u,"element"),LI(t)}}else{const c=t.isBackward(),u=c?o:i,h=u.getNode(),f=c?i:o,d=f.getNode();if(e.is(h)){const p=u.offset;(n<=p&&r>0||n<p&&r<0)&&u.set(l,Math.max(0,p+r),"element")}if(e.is(d)){const p=f.offset;(n<=p&&r>0||n<p&&r<0)&&f.set(l,Math.max(0,p+r),"element")}}LI(t)}function LI(t){const e=t.anchor,n=e.offset,r=t.focus,i=r.offset,o=e.getNode(),s=r.getNode();if(t.isCollapsed()){if(!oe(o))return;const a=o.getChildrenSize(),l=n>=a,c=l?o.getChildAtIndex(a-1):o.getChildAtIndex(n);if(ye(c)){let u=0;l&&(u=c.getTextContentSize()),e.set(c.__key,u,"text"),r.set(c.__key,u,"text")}}else{if(oe(o)){const a=o.getChildrenSize(),l=n>=a,c=l?o.getChildAtIndex(a-1):o.getChildAtIndex(n);if(ye(c)){let u=0;l&&(u=c.getTextContentSize()),e.set(c.__key,u,"text")}}if(oe(s)){const a=s.getChildrenSize(),l=i>=a,c=l?s.getChildAtIndex(a-1):s.getChildAtIndex(i);if(ye(c)){let u=0;l&&(u=c.getTextContentSize()),r.set(c.__key,u,"text")}}}}function hv(t,e,n,r,i){let o=null,s=0,a=null;r!==null?(o=r.__key,ye(r)?(s=r.getTextContentSize(),a="text"):oe(r)&&(s=r.getChildrenSize(),a="element")):i!==null&&(o=i.__key,ye(i)?a="text":oe(i)&&(a="element")),o!==null&&a!==null?t.set(o,s,a):(s=e.getIndexWithinParent(),s===-1&&(s=n.getChildrenSize()),t.set(n.__key,s,"element"))}function OI(t,e,n,r,i){t.type==="text"?(t.key=n,e||(t.offset+=i)):t.offset>r.getIndexWithinParent()&&(t.offset-=1)}function Afe(t,e,n,r,i,o,s){const a=r.anchorNode,l=r.focusNode,c=r.anchorOffset,u=r.focusOffset,h=document.activeElement;if(i.has("collaboration")&&h!==o||h!==null&&FT(h))return;if(!me(e))return void(t!==null&&Sm(n,a,l)&&r.removeAllRanges());const f=e.anchor,d=e.focus,p=f.key,m=d.key,v=rv(n,p),x=rv(n,m),y=f.offset,_=d.offset,C=e.format,S=e.style,T=e.isCollapsed();let b=v,w=x,I=!1;if(f.type==="text"){b=tv(v);const $=f.getNode();I=$.getFormat()!==C||$.getStyle()!==S}else me(t)&&t.anchor.type==="text"&&(I=!0);var E,R,D,N,z;if(d.type==="text"&&(w=tv(x)),b!==null&&w!==null&&(T&&(t===null||I||me(t)&&(t.format!==C||t.style!==S))&&(E=C,R=S,D=y,N=p,z=performance.now(),JV=[E,R,D,N,z]),c!==y||u!==_||a!==b||l!==w||r.type==="Range"&&T||(h!==null&&o.contains(h)||o.focus({preventScroll:!0}),f.type==="element"))){try{r.setBaseAndExtent(b,y,w,_)}catch{}if(!i.has("skip-scroll-into-view")&&e.isCollapsed()&&o!==null&&o===document.activeElement){const $=e instanceof hc&&e.anchor.type==="element"?b.childNodes[y]||null:r.rangeCount>0?r.getRangeAt(0):null;if($!==null){let Q;if($ instanceof Text){const Y=document.createRange();Y.selectNode($),Q=Y.getBoundingClientRect()}else Q=$.getBoundingClientRect();(function(Y,q,H){const O=H.ownerDocument,U=O.defaultView;if(U===null)return;let{top:K,bottom:L}=q,J=0,Ee=0,de=H;for(;de!==null;){const ue=de===O.body;if(ue)J=0,Ee=a_(Y).innerHeight;else{const je=de.getBoundingClientRect();J=je.top,Ee=je.bottom}let fe=0;if(K<J?fe=-(J-K):L>Ee&&(fe=L-Ee),fe!==0)if(ue)U.scrollBy(0,fe);else{const je=de.scrollTop;de.scrollTop+=fe;const Le=de.scrollTop-je;K-=Le,L-=Le}if(ue)break;de=s_(de)}})(n,Q,o)}}hE=!0}}function GT(t){let e=Se()||Jf();e===null&&(e=It().selectEnd()),e.insertNodes(t)}function F2(t){let e=t;t.isCollapsed()||e.removeText();const n=Se();me(n)&&(e=n),me(e)||we(161);const r=e.anchor;let i=r.getNode(),o=r.offset;for(;!lh(i);)[i,o]=Ife(i,o);return o}function Ife(t,e){const n=t.getParent();if(!n){const i=Zt();return It().append(i),i.select(),[It(),0]}if(ye(t)){const i=t.splitText(e);if(i.length===0)return[n,t.getIndexWithinParent()];const o=e===0?0:1;return[n,i[0].getIndexWithinParent()+o]}if(!oe(t)||e===0)return[n,t.getIndexWithinParent()];const r=t.getChildAtIndex(e);if(r){const i=new hc(ks(t.__key,e,"element"),ks(t.__key,e,"element"),0,""),o=t.insertNewAfter(i);o&&o.append(r,...r.getNextSiblings())}return[n,t.getIndexWithinParent()+1]}let Qn=null,Yn=null,gi=!1,B2=!1,$1=0;const FI={characterData:!0,childList:!0,subtree:!0};function Im(){return gi||Qn!==null&&Qn._readOnly}function ai(){gi&&we(13)}function sz(){$1>99&&we(14)}function ka(){return Qn===null&&we(195,az()),Qn}function yn(){return Yn===null&&we(196,az()),Yn}function az(){let t=0;const e=new Set,n=f_.version;if(typeof window<"u")for(const i of document.querySelectorAll("[contenteditable]")){const o=i_(i);if(BT(o))t++;else if(o){let s=String(o.constructor.version||"<0.17.1");s===n&&(s+=" (separately built, likely a bundler configuration issue)"),e.add(s)}}let r=` Detected on the page: ${t} compatible editor(s) with version ${n}`;return e.size&&(r+=` and incompatible editors with versions ${Array.from(e).join(", ")}`),r}function Rfe(){return Yn}function BI(t,e,n){const r=e.__type,i=function(a,l){const c=a._nodes.get(l);return c===void 0&&we(30,l),c}(t,r);let o=n.get(r);o===void 0&&(o=Array.from(i.transforms),n.set(r,o));const s=o.length;for(let a=0;a<s&&(o[a](e),e.isAttached());a++);}function VI(t,e){return t!==void 0&&t.__key!==e&&t.isAttached()}function Pfe(t){return JT(t,yn()._nodes)}function JT(t,e){const n=t.type,r=e.get(n);r===void 0&&we(17,n);const i=r.klass;t.type!==i.getType()&&we(18,i.name);const o=i.importJSON(t),s=t.children;if(oe(o)&&Array.isArray(s))for(let a=0;a<s.length;a++){const l=JT(s[a],e);o.append(l)}return o}function zI(t,e,n){const r=Qn,i=gi,o=Yn;Qn=e,gi=!0,Yn=t;try{return n()}finally{Qn=r,gi=i,Yn=o}}function pl(t,e){const n=t._pendingEditorState,r=t._rootElement,i=t._headless||r===null;if(n===null)return;const o=t._editorState,s=o._selection,a=n._selection,l=t._dirtyType!==uu,c=Qn,u=gi,h=Yn,f=t._updating,d=t._observer;let p=null;if(t._pendingEditorState=null,t._editorState=n,!i&&l&&d!==null){Yn=t,Qn=n,gi=!1,t._updating=!0;try{const T=t._dirtyType,b=t._dirtyElements,w=t._dirtyLeaves;d.disconnect(),p=vfe(o,n,t,T,b,w)}catch(T){if(T instanceof Error&&t._onError(T),B2)throw T;return hz(t,null,r,n),RV(t),t._dirtyType=Cf,B2=!0,pl(t,o),void(B2=!1)}finally{d.observe(r,FI),t._updating=f,Qn=c,gi=u,Yn=h}}n._readOnly||(n._readOnly=!0);const m=t._dirtyLeaves,v=t._dirtyElements,x=t._normalizedNodes,y=t._updateTags,_=t._deferred;l&&(t._dirtyType=uu,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements=new Map,t._normalizedNodes=new Set,t._updateTags=new Set),function(T,b){const w=T._decorators;let I=T._pendingDecorators||w;const E=b._nodeMap;let R;for(R in I)E.has(R)||(I===w&&(I=NV(T)),delete I[R])}(t,n);const C=i?null:Ss(t._window);if(t._editable&&C!==null&&(l||a===null||a.dirty)){Yn=t,Qn=n;try{if(d!==null&&d.disconnect(),l||a===null||a.dirty){const T=t._blockCursorElement;T!==null&&UT(T,t,r),Afe(s,a,t,C,y,r)}hfe(t,r,a),d!==null&&d.observe(r,FI)}finally{Yn=h,Qn=c}}p!==null&&function(T,b,w,I,E){const R=Array.from(T._listeners.mutation),D=R.length;for(let N=0;N<D;N++){const[z,$]=R[N],Q=b.get($);Q!==void 0&&z(Q,{dirtyLeaves:I,prevEditorState:E,updateTags:w})}}(t,p,y,m,o),me(a)||a===null||s!==null&&s.is(a)||t.dispatchCommand(Xy,void 0);const S=t._pendingDecorators;S!==null&&(t._decorators=S,t._pendingDecorators=null,Ep("decorator",t,!0,S)),function(T,b,w){const I=pI(b),E=pI(w);I!==E&&Ep("textcontent",T,!0,E)}(t,e||o,n),Ep("update",t,!0,{dirtyElements:v,dirtyLeaves:m,editorState:n,normalizedNodes:x,prevEditorState:e||o,tags:y}),function(T,b){if(T._deferred=[],b.length!==0){const w=T._updating;T._updating=!0;try{for(let I=0;I<b.length;I++)b[I]()}finally{T._updating=w}}}(t,_),function(T){const b=T._updates;if(b.length!==0){const w=b.shift();if(w){const[I,E]=w;cz(T,I,E)}}}(t)}function Ep(t,e,n,...r){const i=e._updating;e._updating=n;try{const o=Array.from(e._listeners[t]);for(let s=0;s<o.length;s++)o[s].apply(null,r)}finally{e._updating=i}}function lz(t,e,n){if(t._updating===!1||Yn!==t){let i=!1;return t.update(()=>{i=lz(t,e,n)}),i}const r=zT(t);for(let i=4;i>=0;i--)for(let o=0;o<r.length;o++){const s=r[o]._commands.get(e);if(s!==void 0){const a=s[i];if(a!==void 0){const l=Array.from(a),c=l.length;for(let u=0;u<c;u++)if(l[u](n,t)===!0)return!0}}}return!1}function jI(t,e){const n=t._updates;let r=e||!1;for(;n.length!==0;){const i=n.shift();if(i){const[o,s]=i;let a,l;if(s!==void 0){if(a=s.onUpdate,l=s.tag,s.skipTransforms&&(r=!0),s.discrete){const c=t._pendingEditorState;c===null&&we(191),c._flushSync=!0}a&&t._deferred.push(a),l&&t._updateTags.add(l)}o()}}return r}function cz(t,e,n){const r=t._updateTags;let i,o,s=!1,a=!1;n!==void 0&&(i=n.onUpdate,o=n.tag,o!=null&&r.add(o),s=n.skipTransforms||!1,a=n.discrete||!1),i&&t._deferred.push(i);const l=t._editorState;let c=t._pendingEditorState,u=!1;(c===null||c._readOnly)&&(c=t._pendingEditorState=new h_(new Map((c||l)._nodeMap)),u=!0),c._flushSync=a;const h=Qn,f=gi,d=Yn,p=t._updating;Qn=c,gi=!1,t._updating=!0,Yn=t;try{u&&(t._headless?l._selection!==null&&(c._selection=l._selection.clone()):c._selection=function(y){const _=y.getEditorState()._selection,C=Ss(y._window);return me(_)||_==null?KT(_,C,y,null):_.clone()}(t));const v=t._compositionKey;e(),s=jI(t,s),function(y,_){const C=_.getEditorState()._selection,S=y._selection;if(me(S)){const T=S.anchor,b=S.focus;let w;if(T.type==="text"&&(w=T.getNode(),w.selectionTransform(C,S)),b.type==="text"){const I=b.getNode();w!==I&&I.selectionTransform(C,S)}}}(c,t),t._dirtyType!==uu&&(s?function(y,_){const C=_._dirtyLeaves,S=y._nodeMap;for(const T of C){const b=S.get(T);ye(b)&&b.isAttached()&&b.isSimpleText()&&!b.isUnmergeable()&&fI(b)}}(c,t):function(y,_){const C=_._dirtyLeaves,S=_._dirtyElements,T=y._nodeMap,b=dl(),w=new Map;let I=C,E=I.size,R=S,D=R.size;for(;E>0||D>0;){if(E>0){_._dirtyLeaves=new Set;for(const N of I){const z=T.get(N);ye(z)&&z.isAttached()&&z.isSimpleText()&&!z.isUnmergeable()&&fI(z),z!==void 0&&VI(z,b)&&BI(_,z,w),C.add(N)}if(I=_._dirtyLeaves,E=I.size,E>0){$1++;continue}}_._dirtyLeaves=new Set,_._dirtyElements=new Map;for(const N of R){const z=N[0],$=N[1];if(z!=="root"&&!$)continue;const Q=T.get(z);Q!==void 0&&VI(Q,b)&&BI(_,Q,w),S.set(z,$)}I=_._dirtyLeaves,E=I.size,R=_._dirtyElements,D=R.size,$1++}_._dirtyLeaves=C,_._dirtyElements=S}(c,t),jI(t),function(y,_,C,S){const T=y._nodeMap,b=_._nodeMap,w=[];for(const[I]of S){const E=b.get(I);E!==void 0&&(E.isAttached()||(oe(E)&&zV(E,I,T,b,w,S),T.has(I)||S.delete(I),w.push(I)))}for(const I of w)b.delete(I);for(const I of C){const E=b.get(I);E===void 0||E.isAttached()||(T.has(I)||C.delete(I),b.delete(I))}}(l,c,t._dirtyLeaves,t._dirtyElements)),v!==t._compositionKey&&(c._flushSync=!0);const x=c._selection;if(me(x)){const y=c._nodeMap,_=x.anchor.key,C=x.focus.key;y.get(_)!==void 0&&y.get(C)!==void 0||we(19)}else $r(x)&&x._nodes.size===0&&(c._selection=null)}catch(v){return v instanceof Error&&t._onError(v),t._pendingEditorState=l,t._dirtyType=Cf,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements.clear(),void pl(t)}finally{Qn=h,gi=f,Yn=d,t._updating=p,$1=0}t._dirtyType!==uu||function(v,x){const y=x.getEditorState()._selection,_=v._selection;if(_!==null){if(_.dirty||!_.is(y))return!0}else if(y!==null)return!0;return!1}(c,t)?c._flushSync?(c._flushSync=!1,pl(t)):u&&ofe(()=>{pl(t)}):(c._flushSync=!1,u&&(r.clear(),t._deferred=[],t._pendingEditorState=null))}function Ii(t,e,n){t._updating?t._updates.push([e,n]):cz(t,e,n)}class Ta extends c_{constructor(e){super(e),this.__first=null,this.__last=null,this.__size=0,this.__format=0,this.__style="",this.__indent=0,this.__dir=null}afterCloneFrom(e){super.afterCloneFrom(e),this.__first=e.__first,this.__last=e.__last,this.__size=e.__size,this.__indent=e.__indent,this.__format=e.__format,this.__style=e.__style,this.__dir=e.__dir}getFormat(){return this.getLatest().__format}getFormatType(){const e=this.getFormat();return Qhe[e]||""}getStyle(){return this.getLatest().__style}getIndent(){return this.getLatest().__indent}getChildren(){const e=[];let n=this.getFirstChild();for(;n!==null;)e.push(n),n=n.getNextSibling();return e}getChildrenKeys(){const e=[];let n=this.getFirstChild();for(;n!==null;)e.push(n.__key),n=n.getNextSibling();return e}getChildrenSize(){return this.getLatest().__size}isEmpty(){return this.getChildrenSize()===0}isDirty(){const e=yn()._dirtyElements;return e!==null&&e.has(this.__key)}isLastChild(){const e=this.getLatest(),n=this.getParentOrThrow().getLastChild();return n!==null&&n.is(e)}getAllTextNodes(){const e=[];let n=this.getFirstChild();for(;n!==null;){if(ye(n)&&e.push(n),oe(n)){const r=n.getAllTextNodes();e.push(...r)}n=n.getNextSibling()}return e}getFirstDescendant(){let e=this.getFirstChild();for(;oe(e);){const n=e.getFirstChild();if(n===null)break;e=n}return e}getLastDescendant(){let e=this.getLastChild();for(;oe(e);){const n=e.getLastChild();if(n===null)break;e=n}return e}getDescendantByIndex(e){const n=this.getChildren(),r=n.length;if(e>=r){const o=n[r-1];return oe(o)&&o.getLastDescendant()||o||null}const i=n[e];return oe(i)&&i.getFirstDescendant()||i||null}getFirstChild(){const e=this.getLatest().__first;return e===null?null:Hn(e)}getFirstChildOrThrow(){const e=this.getFirstChild();return e===null&&we(45,this.__key),e}getLastChild(){const e=this.getLatest().__last;return e===null?null:Hn(e)}getLastChildOrThrow(){const e=this.getLastChild();return e===null&&we(96,this.__key),e}getChildAtIndex(e){const n=this.getChildrenSize();let r,i;if(e<n/2){for(r=this.getFirstChild(),i=0;r!==null&&i<=e;){if(i===e)return r;r=r.getNextSibling(),i++}return null}for(r=this.getLastChild(),i=n-1;r!==null&&i>=e;){if(i===e)return r;r=r.getPreviousSibling(),i--}return null}getTextContent(){let e="";const n=this.getChildren(),r=n.length;for(let i=0;i<r;i++){const o=n[i];e+=o.getTextContent(),oe(o)&&i!==r-1&&!o.isInline()&&(e+=ma)}return e}getTextContentSize(){let e=0;const n=this.getChildren(),r=n.length;for(let i=0;i<r;i++){const o=n[i];e+=o.getTextContentSize(),oe(o)&&i!==r-1&&!o.isInline()&&(e+=ma.length)}return e}getDirection(){return this.getLatest().__dir}hasFormat(e){if(e!==""){const n=cI[e];return!!(this.getFormat()&n)}return!1}select(e,n){ai();const r=Se();let i=e,o=n;const s=this.getChildrenSize();if(!this.canBeEmpty()){if(e===0&&n===0){const l=this.getFirstChild();if(ye(l)||oe(l))return l.select(0,0)}else if(!(e!==void 0&&e!==s||n!==void 0&&n!==s)){const l=this.getLastChild();if(ye(l)||oe(l))return l.select()}}i===void 0&&(i=s),o===void 0&&(o=s);const a=this.__key;return me(r)?(r.anchor.set(a,i,"element"),r.focus.set(a,o,"element"),r.dirty=!0,r):iz(a,i,a,o,"element","element")}selectStart(){const e=this.getFirstDescendant();return e?e.selectStart():this.select()}selectEnd(){const e=this.getLastDescendant();return e?e.selectEnd():this.select()}clear(){const e=this.getWritable();return this.getChildren().forEach(n=>n.remove()),e}append(...e){return this.splice(this.getChildrenSize(),0,e)}setDirection(e){const n=this.getWritable();return n.__dir=e,n}setFormat(e){return this.getWritable().__format=e!==""?cI[e]:0,this}setStyle(e){return this.getWritable().__style=e||"",this}setIndent(e){return this.getWritable().__indent=e,this}splice(e,n,r){const i=r.length,o=this.getChildrenSize(),s=this.getWritable(),a=s.__key,l=[],c=[],u=this.getChildAtIndex(e+n);let h=null,f=o-n+i;if(e!==0)if(e===o)h=this.getLastChild();else{const p=this.getChildAtIndex(e);p!==null&&(h=p.getPreviousSibling())}if(n>0){let p=h===null?this.getFirstChild():h.getNextSibling();for(let m=0;m<n;m++){p===null&&we(100);const v=p.getNextSibling(),x=p.__key;Gc(p.getWritable()),c.push(x),p=v}}let d=h;for(let p=0;p<i;p++){const m=r[p];d!==null&&m.is(d)&&(h=d=d.getPreviousSibling());const v=m.getWritable();v.__parent===a&&f--,Gc(v);const x=m.__key;if(d===null)s.__first=x,v.__prev=null;else{const y=d.getWritable();y.__next=x,v.__prev=y.__key}m.__key===a&&we(76),v.__parent=a,l.push(x),d=m}if(e+n===o)d!==null&&(d.getWritable().__next=null,s.__last=d.__key);else if(u!==null){const p=u.getWritable();if(d!==null){const m=d.getWritable();p.__prev=d.__key,m.__next=u.__key}else p.__prev=null}if(s.__size=f,c.length){const p=Se();if(me(p)){const m=new Set(c),v=new Set(l),{anchor:x,focus:y}=p;$I(x,m,v)&&hv(x,x.getNode(),this,h,u),$I(y,m,v)&&hv(y,y.getNode(),this,h,u),f!==0||this.canBeEmpty()||Fr(this)||this.remove()}}return s}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"element",version:1}}insertNewAfter(e,n){return null}canIndent(){return!0}collapseAtStart(e){return!1}excludeFromCopy(e){return!1}canReplaceWith(e){return!0}canInsertAfter(e){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(e){return!1}extractWithChild(e,n,r){return!1}canMergeWhenEmpty(){return!1}}function oe(t){return t instanceof Ta}function $I(t,e,n){let r=t.getNode();for(;r;){const i=r.__key;if(e.has(i)&&!n.has(i))return!0;r=r.getParent()}return!1}class Rm extends c_{constructor(e){super(e)}decorate(e,n){we(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function Pt(t){return t instanceof Rm}class Pm extends Ta{static getType(){return"root"}static clone(){return new Pm}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){we(51)}getTextContent(){const e=this.__cachedText;return!Im()&&yn()._dirtyType!==uu||e===null?super.getTextContent():e}remove(){we(52)}replace(e){we(53)}insertBefore(e){we(54)}insertAfter(e){we(55)}updateDOM(e,n){return!1}append(...e){for(let n=0;n<e.length;n++){const r=e[n];oe(r)||Pt(r)||we(56)}return super.append(...e)}static importJSON(e){const n=It();return n.setFormat(e.format),n.setIndent(e.indent),n.setDirection(e.direction),n}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"root",version:1}}collapseAtStart(){return!0}}function dr(t){return t instanceof Pm}function QT(){return new h_(new Map([["root",new Pm]]))}function uz(t){const e=t.exportJSON(),n=t.constructor;if(e.type!==n.getType()&&we(130,n.name),oe(t)){const r=e.children;Array.isArray(r)||we(59,n.name);const i=t.getChildren();for(let o=0;o<i.length;o++){const s=uz(i[o]);r.push(s)}}return e}class h_{constructor(e,n){this._nodeMap=e,this._selection=n||null,this._flushSync=!1,this._readOnly=!1}isEmpty(){return this._nodeMap.size===1&&this._selection===null}read(e,n){return zI(n&&n.editor||null,this,e)}clone(e){const n=new h_(this._nodeMap,e===void 0?this._selection:e);return n._readOnly=!0,n}toJSON(){return zI(null,this,()=>({root:uz(It())}))}}class YT extends Ta{static getType(){return"artificial"}createDOM(e){return document.createElement("div")}}class Fu extends Ta{constructor(e){super(e),this.__textFormat=0,this.__textStyle=""}static getType(){return"paragraph"}getTextFormat(){return this.getLatest().__textFormat}setTextFormat(e){const n=this.getWritable();return n.__textFormat=e,n}hasTextFormat(e){const n=ta[e];return!!(this.getTextFormat()&n)}getTextStyle(){return this.getLatest().__textStyle}setTextStyle(e){const n=this.getWritable();return n.__textStyle=e,n}static clone(e){return new Fu(e.__key)}afterCloneFrom(e){super.afterCloneFrom(e),this.__textFormat=e.__textFormat,this.__textStyle=e.__textStyle}createDOM(e){const n=document.createElement("p"),r=wp(e.theme,"paragraph");return r!==void 0&&n.classList.add(...r),n}updateDOM(e,n,r){return!1}static importDOM(){return{p:e=>({conversion:Dfe,priority:0})}}exportDOM(e){const{element:n}=super.exportDOM(e);if(n&&ga(n)){this.isEmpty()&&n.append(document.createElement("br"));const r=this.getFormatType();n.style.textAlign=r;const i=this.getDirection();i&&(n.dir=i);const o=this.getIndent();o>0&&(n.style.textIndent=20*o+"px")}return{element:n}}static importJSON(e){const n=Zt();return n.setFormat(e.format),n.setIndent(e.indent),n.setDirection(e.direction),n.setTextFormat(e.textFormat),n}exportJSON(){return{...super.exportJSON(),textFormat:this.getTextFormat(),textStyle:this.getTextStyle(),type:"paragraph",version:1}}insertNewAfter(e,n){const r=Zt();r.setTextFormat(e.format),r.setTextStyle(e.style);const i=this.getDirection();return r.setDirection(i),r.setFormat(this.getFormatType()),r.setStyle(this.getTextStyle()),this.insertAfter(r,n),r}collapseAtStart(){const e=this.getChildren();if(e.length===0||ye(e[0])&&e[0].getTextContent().trim()===""){if(this.getNextSibling()!==null)return this.selectNext(),this.remove(),!0;if(this.getPreviousSibling()!==null)return this.selectPrevious(),this.remove(),!0}return!1}}function Dfe(t){const e=Zt();if(t.style){e.setFormat(t.style.textAlign);const n=parseInt(t.style.textIndent,10)/20;n>0&&e.setIndent(n)}return{node:e}}function Zt(){return As(new Fu)}function bf(t){return t instanceof Fu}const pt=0,Hr=1,ys=4;function hz(t,e,n,r){const i=t._keyToDOMMap;i.clear(),t._editorState=QT(),t._pendingEditorState=r,t._compositionKey=null,t._dirtyType=uu,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements.clear(),t._normalizedNodes=new Set,t._updateTags=new Set,t._updates=[],t._blockCursorElement=null;const o=t._observer;o!==null&&(o.disconnect(),t._observer=null),e!==null&&(e.textContent=""),n!==null&&(n.textContent="",i.set("root",n))}function fz(t){const e=t||{},n=Rfe(),r=e.theme||{},i=t===void 0?n:e.parentEditor||null,o=e.disableEvents||!1,s=QT(),a=e.namespace||(i!==null?i._config.namespace:FV()),l=e.editorState,c=[Pm,Ou,km,Tm,Fu,YT,...e.nodes||[]],{onError:u,html:h}=e,f=e.editable===void 0||e.editable;let d;if(t===void 0&&n!==null)d=n._nodes;else{d=new Map;for(let m=0;m<c.length;m++){let v=c[m],x=null,y=null;if(typeof v!="function"){const T=v;v=T.replace,x=T.with,y=T.withKlass||null}const _=v.getType(),C=v.transform(),S=new Set;C!==null&&S.add(C),d.set(_,{exportDOM:h&&h.export?h.export.get(v):void 0,klass:v,replace:x,replaceWithKlass:y,transforms:S})}}const p=new f_(s,i,d,{disableEvents:o,namespace:a,theme:r},u||console.error,function(m,v){const x=new Map,y=new Set,_=C=>{Object.keys(C).forEach(S=>{let T=x.get(S);T===void 0&&(T=[],x.set(S,T)),T.push(C[S])})};return m.forEach(C=>{const S=C.klass.importDOM;if(S==null||y.has(S))return;y.add(S);const T=S.call(C.klass);T!==null&&_(T)}),v&&_(v),x}(d,h?h.import:void 0),f);return l!==void 0&&(p._pendingEditorState=l,p._dirtyType=Cf),p}class f_{constructor(e,n,r,i,o,s,a){this._parentEditor=n,this._rootElement=null,this._editorState=e,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=i,this._nodes=r,this._decorators={},this._pendingDecorators=null,this._dirtyType=uu,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=FV(),this._onError=o,this._htmlConversions=s,this._editable=a,this._headless=n!==null&&n._headless,this._window=null,this._blockCursorElement=null}isComposing(){return this._compositionKey!=null}registerUpdateListener(e){const n=this._listeners.update;return n.add(e),()=>{n.delete(e)}}registerEditableListener(e){const n=this._listeners.editable;return n.add(e),()=>{n.delete(e)}}registerDecoratorListener(e){const n=this._listeners.decorator;return n.add(e),()=>{n.delete(e)}}registerTextContentListener(e){const n=this._listeners.textcontent;return n.add(e),()=>{n.delete(e)}}registerRootListener(e){const n=this._listeners.root;return e(this._rootElement,null),n.add(e),()=>{e(null,this._rootElement),n.delete(e)}}registerCommand(e,n,r){r===void 0&&we(35);const i=this._commands;i.has(e)||i.set(e,[new Set,new Set,new Set,new Set,new Set]);const o=i.get(e);o===void 0&&we(36,String(e));const s=o[r];return s.add(n),()=>{s.delete(n),o.every(a=>a.size===0)&&i.delete(e)}}registerMutationListener(e,n,r){const i=this.resolveRegisteredNodeAfterReplacements(this.getRegisteredNode(e)).klass,o=this._listeners.mutation;o.set(n,i);const s=r&&r.skipInitialization;return s===void 0||s||this.initializeMutationListener(n,i),()=>{o.delete(n)}}getRegisteredNode(e){const n=this._nodes.get(e.getType());return n===void 0&&we(37,e.name),n}resolveRegisteredNodeAfterReplacements(e){for(;e.replaceWithKlass;)e=this.getRegisteredNode(e.replaceWithKlass);return e}initializeMutationListener(e,n){const r=this._editorState,i=mfe(r).get(n.getType());if(!i)return;const o=new Map;for(const s of i.keys())o.set(s,"created");o.size>0&&e(o,{dirtyLeaves:new Set,prevEditorState:r,updateTags:new Set(["registerMutationListener"])})}registerNodeTransformToKlass(e,n){const r=this.getRegisteredNode(e);return r.transforms.add(n),r}registerNodeTransform(e,n){const r=this.registerNodeTransformToKlass(e,n),i=[r],o=r.replaceWithKlass;if(o!=null){const l=this.registerNodeTransformToKlass(o,n);i.push(l)}var s,a;return s=this,a=e.getType(),Ii(s,()=>{const l=ka();if(l.isEmpty())return;if(a==="root")return void It().markDirty();const c=l._nodeMap;for(const[,u]of c)u.markDirty()},s._pendingEditorState===null?{tag:"history-merge"}:void 0),()=>{i.forEach(l=>l.transforms.delete(n))}}hasNode(e){return this._nodes.has(e.getType())}hasNodes(e){return e.every(this.hasNode.bind(this))}dispatchCommand(e,n){return Te(this,e,n)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){const n=this._rootElement;if(e!==n){const r=wp(this._config.theme,"root"),i=this._pendingEditorState||this._editorState;if(this._rootElement=e,hz(this,n,e,i),n!==null&&(this._config.disableEvents||yfe(n),r!=null&&n.classList.remove(...r)),e!==null){const o=function(a){const l=a.ownerDocument;return l&&l.defaultView||null}(e),s=e.style;s.userSelect="text",s.whiteSpace="pre-wrap",s.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=o,this._dirtyType=Cf,RV(this),this._updateTags.add("history-merge"),pl(this),this._config.disableEvents||function(a,l){const c=a.ownerDocument,u=lv.get(c);(u===void 0||u<1)&&c.addEventListener("selectionchange",ZV),lv.set(c,(u||0)+1),a.__lexicalEditor=l;const h=XV(a);for(let f=0;f<uE.length;f++){const[d,p]=uE[f],m=typeof p=="function"?v=>{kI(v)||(SI(v),(l.isEditable()||d==="click")&&p(v,l))}:v=>{if(kI(v))return;SI(v);const x=l.isEditable();switch(d){case"cut":return x&&Te(l,bT,v);case"copy":return Te(l,t_,v);case"paste":return x&&Te(l,dT,v);case"dragstart":return x&&Te(l,CV,v);case"dragover":return x&&Te(l,bV,v);case"dragend":return x&&Te(l,Lhe,v);case"focus":return x&&Te(l,ET,v);case"blur":return x&&Te(l,ST,v);case"drop":return x&&Te(l,wV,v)}};a.addEventListener(d,m),h.push(()=>{a.removeEventListener(d,m)})}}(e,this),r!=null&&e.classList.add(...r)}else this._editorState=i,this._pendingEditorState=null,this._window=null;Ep("root",this,!1,e,n)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,n){e.isEmpty()&&we(38),IV(this);const r=this._pendingEditorState,i=this._updateTags,o=n!==void 0?n.tag:null;r===null||r.isEmpty()||(o!=null&&i.add(o),pl(this)),this._pendingEditorState=e,this._dirtyType=Cf,this._dirtyElements.set("root",!1),this._compositionKey=null,o!=null&&i.add(o),pl(this)}parseEditorState(e,n){return function(r,i,o){const s=QT(),a=Qn,l=gi,c=Yn,u=i._dirtyElements,h=i._dirtyLeaves,f=i._cloneNotNeeded,d=i._dirtyType;i._dirtyElements=new Map,i._dirtyLeaves=new Set,i._cloneNotNeeded=new Set,i._dirtyType=0,Qn=s,gi=!1,Yn=i;try{const p=i._nodes;JT(r.root,p),o&&o(),s._readOnly=!0}catch(p){p instanceof Error&&i._onError(p)}finally{i._dirtyElements=u,i._dirtyLeaves=h,i._cloneNotNeeded=f,i._dirtyType=d,Qn=a,gi=l,Yn=c}return s}(typeof e=="string"?JSON.parse(e):e,this,n)}read(e){return pl(this),this.getEditorState().read(e,{editor:this})}update(e,n){Ii(this,e,n)}focus(e,n={}){const r=this._rootElement;r!==null&&(r.setAttribute("autocapitalize","off"),Ii(this,()=>{const i=Se(),o=It();i!==null?i.dirty=!0:o.getChildrenSize()!==0&&(n.defaultSelection==="rootStart"?o.selectStart():o.selectEnd())},{onUpdate:()=>{r.removeAttribute("autocapitalize"),e&&e()},tag:"focus"}),this._pendingEditorState===null&&r.removeAttribute("autocapitalize"))}blur(){const e=this._rootElement;e!==null&&e.blur();const n=Ss(this._window);n!==null&&n.removeAllRanges()}isEditable(){return this._editable}setEditable(e){this._editable!==e&&(this._editable=e,Ep("editable",this,!0,e))}toJSON(){return{editorState:this._editorState.toJSON()}}}f_.version="0.17.1+prod.esm";function Mfe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Nfe=Mfe(function(t){const e=new URLSearchParams;e.append("code",t);for(let n=1;n<arguments.length;n++)e.append("v",arguments[n]);throw Error(`Minified Lexical error #${t}; visit https://lexical.dev/docs/error?${e} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});const Lfe=new Map;function Ofe(t){const e={},n=t.split(";");for(const r of n)if(r!==""){const[i,o]=r.split(/:([^]+)/);i&&o&&(e[i.trim()]=o.trim())}return e}function dz(t,e){const n=t.getStartEndPoints();if(e.isSelected(t)&&!e.isSegmented()&&!e.isToken()&&n!==null){const[r,i]=n,o=t.isBackward(),s=r.getNode(),a=i.getNode(),l=e.is(s),c=e.is(a);if(l||c){const[u,h]=pE(t),f=s.is(a),d=e.is(o?a:s),p=e.is(o?s:a);let m,v=0;return f?(v=u>h?h:u,m=u>h?u:h):d?(v=o?h:u,m=void 0):p&&(v=0,m=o?u:h),e.__text=e.__text.slice(v,m),e}}return e}function Ffe(t){const e=t.getStyle(),n=Ofe(e);Lfe.set(e,n)}function Bfe(t,e){if(t===null)return;const n=t.getStartEndPoints(),r=n?n[0]:null;if(r!==null&&r.key==="root"){const s=e(),a=It(),l=a.getFirstChild();return void(l?l.replace(s,!0):a.append(s))}const i=t.getNodes(),o=r!==null&&function(s,a){let l=s;for(;l!==null&&l.getParent()!==null&&!a(l);)l=l.getParentOrThrow();return a(l)?l:null}(r.getNode(),WI);o&&i.indexOf(o)===-1&&i.push(o);for(let s=0;s<i.length;s++){const a=i[s];if(!WI(a))continue;oe(a)||Nfe(178);const l=e();l.setFormat(a.getFormatType()),l.setIndent(a.getIndent()),a.replace(l,!0)}}function HI(t,e){const n=w0(t.focus,e);return Pt(n)&&!n.isIsolated()||oe(n)&&!n.isInline()&&!n.canBeEmpty()}function Vfe(t,e,n,r){t.modify(e?"extend":"move",n,r)}function zfe(t){const e=t.anchor.getNode();return(dr(e)?e:e.getParentOrThrow()).getDirection()==="rtl"}function UI(t,e,n){const r=zfe(t);Vfe(t,e,n?!r:r,"character")}function WI(t){if(Pt(t)||!oe(t)||Fr(t))return!1;const e=t.getFirstChild(),n=e===null||Nl(e)||ye(e)||e.isInline();return!t.isInline()&&t.canBeEmpty()!==!1&&n}function jfe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $fe=jfe(function(t){const e=new URLSearchParams;e.append("code",t);for(let n=1;n<arguments.length;n++)e.append("v",arguments[n]);throw Error(`Minified Lexical error #${t}; visit https://lexical.dev/docs/error?${e} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});const XT=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,Hfe=XT&&"documentMode"in document?document.documentMode:null,Ufe=XT&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);!(!XT||!("InputEvent"in window)||Hfe)&&"getTargetRanges"in new window.InputEvent("input");function pz(...t){const e=[];for(const n of t)if(n&&typeof n=="string")for(const[r]of n.matchAll(/\S+/g))e.push(r);return e}function Is(...t){return()=>{for(let e=t.length-1;e>=0;e--)t[e]();t.length=0}}const Wfe=Ufe;function Qf(t,...e){const n=pz(...e);n.length>0&&t.classList.add(...n)}function ZT(t,...e){const n=pz(...e);n.length>0&&t.classList.remove(...n)}function mz(t,e){let n=t;for(;n!=null;){if(n instanceof e)return n;n=n.getParent()}return null}function gz(t){const e=Yf(t,n=>oe(n)&&!n.isInline());return oe(e)||$fe(4,t.__key),e}const Yf=(t,e)=>{let n=t;for(;n!==It()&&n!=null;){if(e(n))return n;n=n.getParent()}return null};function xz(t){const e=Se()||Jf();if(me(e)){const{focus:n}=e,r=n.getNode(),i=n.offset;if(Fr(r)){const o=r.getChildAtIndex(i);o==null?r.append(t):o.insertBefore(t),t.selectNext()}else{let o,s;ye(r)?(o=r.getParentOrThrow(),s=r.getIndexWithinParent(),i>0&&(s+=1,r.splitText(i))):(o=r,s=i);const[,a]=ffe(o,s);a.insertBefore(t),a.selectStart()}}else{if(e!=null){const r=e.getNodes();r[r.length-1].getTopLevelElementOrThrow().insertAfter(t)}else It().append(t);const n=Zt();t.insertAfter(n),n.select()}return t.getLatest()}function qfe(t,e){const n=e();return t.replace(n),n.append(t),n}function Vc(t,e){return t!==null&&Object.getPrototypeOf(t).constructor.name===e.name}function Kfe(t,e){const n=[];for(let r=0;r<t.length;r++){const i=e(t[r]);i!==null&&n.push(i)}return n}function Gfe(t){if(Wfe)return 1;let e=1;for(;t;)e*=Number(window.getComputedStyle(t).getPropertyValue("zoom")),t=t.parentElement;return e}const Vg=0,gE=1,xE=2,Eo=0,Jfe=1,qI=2,Qfe=3,Yfe=4;function Xfe(t,e,n,r,i){if(t===null||n.size===0&&r.size===0&&!i)return Eo;const o=e._selection,s=t._selection;if(i)return Jfe;if(!(me(o)&&me(s)&&s.isCollapsed()&&o.isCollapsed()))return Eo;const a=function(x,y,_){const C=x._nodeMap,S=[];for(const T of y){const b=C.get(T);b!==void 0&&S.push(b)}for(const[T,b]of _){if(!b)continue;const w=C.get(T);w===void 0||dr(w)||S.push(w)}return S}(e,n,r);if(a.length===0)return Eo;if(a.length>1){const x=e._nodeMap,y=x.get(o.anchor.key),_=x.get(s.anchor.key);return y&&_&&!t._nodeMap.has(y.__key)&&ye(y)&&y.__text.length===1&&o.anchor.offset===1?qI:Eo}const l=a[0],c=t._nodeMap.get(l.__key);if(!ye(c)||!ye(l)||c.__mode!==l.__mode)return Eo;const u=c.__text,h=l.__text;if(u===h)return Eo;const f=o.anchor,d=s.anchor;if(f.key!==d.key||f.type!=="text")return Eo;const p=f.offset,m=d.offset,v=h.length-u.length;return v===1&&m===p-1?qI:v===-1&&m===p+1?Qfe:v===-1&&m===p?Yfe:Eo}function Zfe(t,e){let n=Date.now(),r=Eo;return(i,o,s,a,l,c)=>{const u=Date.now();if(c.has("historic"))return r=Eo,n=u,xE;const h=Xfe(i,o,a,l,t.isComposing()),f=(()=>{const d=s===null||s.editor===t,p=c.has("history-push");if(!p&&d&&c.has("history-merge"))return Vg;if(i===null)return gE;const m=o._selection;return a.size>0||l.size>0?p===!1&&h!==Eo&&h===r&&u<n+e&&d||a.size===1&&function(v,x,y){const _=x._nodeMap.get(v),C=y._nodeMap.get(v),S=x._selection,T=y._selection;return!(me(S)&&me(T)&&S.anchor.type==="element"&&S.focus.type==="element"&&T.anchor.type==="text"&&T.focus.type==="text"||!ye(_)||!ye(C)||_.__parent!==C.__parent)&&JSON.stringify(x.read(()=>_.exportJSON()))===JSON.stringify(y.read(()=>C.exportJSON()))}(Array.from(a)[0],i,o)?Vg:gE:m!==null?Vg:xE})();return n=u,r=h,f}}function KI(t){t.undoStack=[],t.redoStack=[],t.current=null}function ede(t,e,n){const r=Zfe(t,n);return Is(t.registerCommand(Zy,()=>(function(o,s){const a=s.redoStack,l=s.undoStack;if(l.length!==0){const c=s.current,u=l.pop();c!==null&&(a.push(c),o.dispatchCommand(Qd,!0)),l.length===0&&o.dispatchCommand(Yd,!1),s.current=u||null,u&&u.editor.setEditorState(u.editorState,{tag:"historic"})}}(t,e),!0),pt),t.registerCommand(e_,()=>(function(o,s){const a=s.redoStack,l=s.undoStack;if(a.length!==0){const c=s.current;c!==null&&(l.push(c),o.dispatchCommand(Yd,!0));const u=a.pop();a.length===0&&o.dispatchCommand(Qd,!1),s.current=u||null,u&&u.editor.setEditorState(u.editorState,{tag:"historic"})}}(t,e),!0),pt),t.registerCommand(Ohe,()=>(KI(e),!1),pt),t.registerCommand(Fhe,()=>(KI(e),t.dispatchCommand(Qd,!1),t.dispatchCommand(Yd,!1),!0),pt),t.registerUpdateListener(({editorState:o,prevEditorState:s,dirtyLeaves:a,dirtyElements:l,tags:c})=>{const u=e.current,h=e.redoStack,f=e.undoStack,d=u===null?null:u.editorState;if(u!==null&&o===d)return;const p=r(s,o,u,a,l,c);if(p===gE)h.length!==0&&(e.redoStack=[],t.dispatchCommand(Qd,!1)),u!==null&&(f.push({...u}),t.dispatchCommand(Yd,!0));else if(p===xE)return;e.current={editor:t,editorState:o}}))}function vz(){return{current:null,redoStack:[],undoStack:[]}}function yz({delay:t,externalHistoryState:e}){const[n]=Uo();return function(r,i,o=1e3){const s=k.useMemo(()=>i||vz(),[i]);k.useEffect(()=>ede(r,s,o),[o,r,s])}(n,e,t),null}function tde(t,e){const n=e.body?e.body.childNodes:[];let r=[];const i=[];for(let o=0;o<n.length;o++){const s=n[o];if(!wz.has(s.nodeName)){const a=Cz(s,t,i,!1);a!==null&&(r=r.concat(a))}}return function(o){for(const s of o)s.getNextSibling()instanceof YT&&s.insertAfter(Gl());for(const s of o){const a=s.getChildren();for(const l of a)s.insertBefore(l);s.remove()}}(i),r}function nde(t,e){if(typeof document>"u"||typeof window>"u"&&global.window===void 0)throw new Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");const n=document.createElement("div"),r=It().getChildren();for(let i=0;i<r.length;i++)_z(t,r[i],n,e);return n.innerHTML}function _z(t,e,n,r=null){let i=r===null||e.isSelected(r);const o=oe(e)&&e.excludeFromCopy("html");let s=e;if(r!==null){let d=WT(e);d=ye(d)&&r!==null?dz(r,d):d,s=d}const a=oe(s)?s.getChildren():[],l=t._nodes.get(s.getType());let c;c=l&&l.exportDOM!==void 0?l.exportDOM(t,s):s.exportDOM(t);const{element:u,after:h}=c;if(!u)return!1;const f=document.createDocumentFragment();for(let d=0;d<a.length;d++){const p=a[d],m=_z(t,p,f,r);!i&&oe(e)&&m&&e.extractWithChild(p,r,"html")&&(i=!0)}if(i&&!o){if(ga(u)&&u.append(f),n.append(u),h){const d=h.call(s,u);d&&u.replaceWith(d)}}else n.append(f);return i}const wz=new Set(["STYLE","SCRIPT"]);function Cz(t,e,n,r,i=new Map,o){let s=[];if(wz.has(t.nodeName))return s;let a=null;const l=function(p,m){const{nodeName:v}=p,x=m._htmlConversions.get(v.toLowerCase());let y=null;if(x!==void 0)for(const _ of x){const C=_(p);C!==null&&(y===null||(y.priority||0)<(C.priority||0))&&(y=C)}return y!==null?y.conversion:null}(t,e),c=l?l(t):null;let u=null;if(c!==null){u=c.after;const p=c.node;if(a=Array.isArray(p)?p[p.length-1]:p,a!==null){for(const[,m]of i)if(a=m(a,o),!a)break;a&&s.push(...Array.isArray(p)?p:[a])}c.forChild!=null&&i.set(t.nodeName,c.forChild)}const h=t.childNodes;let f=[];const d=(a==null||!Fr(a))&&(a!=null&&cv(a)||r);for(let p=0;p<h.length;p++)f.push(...Cz(h[p],e,n,d,new Map(i),a));return u!=null&&(f=u(f)),iv(t)&&(f=rde(t,f,d?()=>{const p=new YT;return n.push(p),p}:Zt)),a==null?f.length>0?s=s.concat(f):iv(t)&&function(p){return p.nextSibling==null||p.previousSibling==null?!1:nE(p.nextSibling)&&nE(p.previousSibling)}(t)&&(s=s.concat(Gl())):oe(a)&&a.append(...f),s}function rde(t,e,n){const r=t.style.textAlign,i=[];let o=[];for(let s=0;s<e.length;s++){const a=e[s];if(cv(a))r&&!a.getFormat()&&a.setFormat(r),i.push(a);else if(o.push(a),s===e.length-1||s<e.length-1&&cv(e[s+1])){const l=n();l.setFormat(r),l.append(...o),i.push(l),o=[]}}return i}function ide(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fv=ide(function(t){const e=new URLSearchParams;e.append("code",t);for(let n=1;n<arguments.length;n++)e.append("v",arguments[n]);throw Error(`Minified Lexical error #${t}; visit https://lexical.dev/docs/error?${e} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});const ode=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,bz=t=>ode?(t||window).getSelection():null;function sde(t,e=Se()){return e==null&&fv(166),me(e)&&e.isCollapsed()||e.getNodes().length===0?"":nde(t,e)}function ade(t,e=Se()){return e==null&&fv(166),me(e)&&e.isCollapsed()||e.getNodes().length===0?null:JSON.stringify(lde(t,e))}function GI(t,e,n){const r=t.getData("application/x-lexical-editor");if(r)try{const s=JSON.parse(r);if(s.namespace===n._config.namespace&&Array.isArray(s.nodes))return JI(n,cde(s.nodes),e)}catch{}const i=t.getData("text/html");if(i)try{const s=new DOMParser().parseFromString(i,"text/html");return JI(n,tde(n,s),e)}catch{}const o=t.getData("text/plain")||t.getData("text/uri-list");if(o!=null)if(me(e)){const s=o.split(/(\r?\n|\t)/);s[s.length-1]===""&&s.pop();for(let a=0;a<s.length;a++){const l=Se();if(me(l)){const c=s[a];c===`
`||c===`\r
`?l.insertParagraph():c==="	"?l.insertNodes([Am()]):l.insertText(c)}}}else e.insertRawText(o)}function JI(t,e,n){t.dispatchCommand(Phe,{nodes:e,selection:n})||n.insertNodes(e)}function Ez(t,e,n,r=[]){let i=e===null||n.isSelected(e);const o=oe(n)&&n.excludeFromCopy("html");let s=n;if(e!==null){let c=WT(n);c=ye(c)&&e!==null?dz(e,c):c,s=c}const a=oe(s)?s.getChildren():[],l=function(c){const u=c.exportJSON(),h=c.constructor;if(u.type!==h.getType()&&fv(58,h.name),oe(c)){const f=u.children;Array.isArray(f)||fv(59,h.name)}return u}(s);if(ye(s)){const c=s.__text;c.length>0?l.text=c:i=!1}for(let c=0;c<a.length;c++){const u=a[c],h=Ez(t,e,u,l.children);!i&&oe(n)&&h&&n.extractWithChild(u,e,"clone")&&(i=!0)}if(i&&!o)r.push(l);else if(Array.isArray(l.children))for(let c=0;c<l.children.length;c++){const u=l.children[c];r.push(u)}return i}function lde(t,e){const n=[],r=It().getChildren();for(let i=0;i<r.length;i++)Ez(t,e,r[i],n);return{namespace:t._config.namespace,nodes:n}}function cde(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n],i=Pfe(r);ye(i)&&Ffe(i),e.push(i)}return e}let Xu=null;async function QI(t,e,n){if(Xu!==null)return!1;if(e!==null)return new Promise((l,c)=>{t.update(()=>{l(YI(t,e,n))})});const r=t.getRootElement(),i=t._window==null?window.document:t._window.document,o=bz(t._window);if(r===null||o===null)return!1;const s=i.createElement("span");s.style.cssText="position: fixed; top: -1000px;",s.append(i.createTextNode("#")),r.append(s);const a=new Range;return a.setStart(s,0),a.setEnd(s,1),o.removeAllRanges(),o.addRange(a),new Promise((l,c)=>{const u=t.registerCommand(t_,h=>(Vc(h,ClipboardEvent)&&(u(),Xu!==null&&(window.clearTimeout(Xu),Xu=null),l(YI(t,h,n))),!0),ys);Xu=window.setTimeout(()=>{u(),Xu=null,l(!1)},50),i.execCommand("copy"),s.remove()})}function YI(t,e,n){if(n===void 0){const i=bz(t._window);if(!i)return!1;const o=i.anchorNode,s=i.focusNode;if(o!==null&&s!==null&&!Sm(t,o,s))return!1;const a=Se();if(a===null)return!1;n=hde(a)}e.preventDefault();const r=e.clipboardData;return r!==null&&(fde(r,n),!0)}const ude=[["text/html",sde],["application/x-lexical-editor",ade]];function hde(t=Se()){const e={"text/plain":t?t.getTextContent():""};if(t){const n=dfe();for(const[r,i]of ude){const o=i(n,t);o!==null&&(e[r]=o)}}return e}function fde(t,e){for(const n in e){const r=e[n];r!==void 0&&t.setData(n,r)}}function XI(t,e){if(document.caretRangeFromPoint!==void 0){const n=document.caretRangeFromPoint(t,e);return n===null?null:{node:n.startContainer,offset:n.startOffset}}if(document.caretPositionFromPoint!=="undefined"){const n=document.caretPositionFromPoint(t,e);return n===null?null:{node:n.offsetNode,offset:n.offset}}return null}const Xf=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0,dde=Xf&&"documentMode"in document?document.documentMode:null,pde=!(!Xf||!("InputEvent"in window)||dde)&&"getTargetRanges"in new window.InputEvent("input"),mde=Xf&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),gde=Xf&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,xde=Xf&&/^(?=.*Chrome).*/i.test(navigator.userAgent),vde=Xf&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!xde,ZI=Lu();class Dm extends Ta{static getType(){return"quote"}static clone(e){return new Dm(e.__key)}constructor(e){super(e)}createDOM(e){const n=document.createElement("blockquote");return Qf(n,e.theme.quote),n}updateDOM(e,n){return!1}static importDOM(){return{blockquote:e=>({conversion:_de,priority:0})}}exportDOM(e){const{element:n}=super.exportDOM(e);if(n&&ga(n)){this.isEmpty()&&n.append(document.createElement("br"));const r=this.getFormatType();n.style.textAlign=r;const i=this.getDirection();i&&(n.dir=i)}return{element:n}}static importJSON(e){const n=d_();return n.setFormat(e.format),n.setIndent(e.indent),n.setDirection(e.direction),n}exportJSON(){return{...super.exportJSON(),type:"quote"}}insertNewAfter(e,n){const r=Zt(),i=this.getDirection();return r.setDirection(i),this.insertAfter(r,n),r}collapseAtStart(){const e=Zt();return this.getChildren().forEach(n=>e.append(n)),this.replace(e),!0}canMergeWhenEmpty(){return!0}}function d_(){return As(new Dm)}function yde(t){return t instanceof Dm}class Mm extends Ta{static getType(){return"heading"}static clone(e){return new Mm(e.__tag,e.__key)}constructor(e,n){super(n),this.__tag=e}getTag(){return this.__tag}createDOM(e){const n=this.__tag,r=document.createElement(n),i=e.theme.heading;if(i!==void 0){const o=i[n];Qf(r,o)}return r}updateDOM(e,n){return!1}static importDOM(){return{h1:e=>({conversion:Zu,priority:0}),h2:e=>({conversion:Zu,priority:0}),h3:e=>({conversion:Zu,priority:0}),h4:e=>({conversion:Zu,priority:0}),h5:e=>({conversion:Zu,priority:0}),h6:e=>({conversion:Zu,priority:0}),p:e=>{const n=e.firstChild;return n!==null&&eR(n)?{conversion:()=>({node:null}),priority:3}:null},span:e=>eR(e)?{conversion:n=>({node:ml("h1")}),priority:3}:null}}exportDOM(e){const{element:n}=super.exportDOM(e);if(n&&ga(n)){this.isEmpty()&&n.append(document.createElement("br"));const r=this.getFormatType();n.style.textAlign=r;const i=this.getDirection();i&&(n.dir=i)}return{element:n}}static importJSON(e){const n=ml(e.tag);return n.setFormat(e.format),n.setIndent(e.indent),n.setDirection(e.direction),n}exportJSON(){return{...super.exportJSON(),tag:this.getTag(),type:"heading",version:1}}insertNewAfter(e,n=!0){const r=e?e.anchor.offset:0,i=this.getLastDescendant(),o=!i||e&&e.anchor.key===i.getKey()&&r===i.getTextContentSize()||!e?Zt():ml(this.getTag()),s=this.getDirection();if(o.setDirection(s),this.insertAfter(o,n),r===0&&!this.isEmpty()&&e){const a=Zt();a.select(),this.replace(a,!0)}return o}collapseAtStart(){const e=this.isEmpty()?Zt():ml(this.getTag());return this.getChildren().forEach(n=>e.append(n)),this.replace(e),!0}extractWithChild(){return!0}}function eR(t){return t.nodeName.toLowerCase()==="span"&&t.style.fontSize==="26pt"}function Zu(t){const e=t.nodeName.toLowerCase();let n=null;return e!=="h1"&&e!=="h2"&&e!=="h3"&&e!=="h4"&&e!=="h5"&&e!=="h6"||(n=ml(e),t.style!==null&&n.setFormat(t.style.textAlign)),{node:n}}function _de(t){const e=d_();return t.style!==null&&e.setFormat(t.style.textAlign),{node:e}}function ml(t){return As(new Mm(t))}function Sz(t){return t instanceof Mm}function zg(t){let e=null;if(Vc(t,DragEvent)?e=t.dataTransfer:Vc(t,ClipboardEvent)&&(e=t.clipboardData),e===null)return[!1,[],!1];const n=e.types,r=n.includes("Files"),i=n.includes("text/html")||n.includes("text/plain");return[r,Array.from(e.files),i]}function tR(t){const e=Se();if(!me(e))return!1;const n=new Set,r=e.getNodes();for(let i=0;i<r.length;i++){const o=r[i],s=o.getKey();if(n.has(s))continue;const a=Yf(o,c=>oe(c)&&!c.isInline());if(a===null)continue;const l=a.getKey();a.canIndent()&&!n.has(l)&&(n.add(l),t(a))}return n.size>0}function jg(t){const e=Es(t);return Pt(e)}function wde(t){return Is(t.registerCommand(fT,e=>{const n=Se();return!!$r(n)&&(n.clear(),!0)},0),t.registerCommand(Kc,e=>{const n=Se();return!!me(n)&&(n.deleteCharacter(e),!0)},pt),t.registerCommand(v0,e=>{const n=Se();return!!me(n)&&(n.deleteWord(e),!0)},pt),t.registerCommand(y0,e=>{const n=Se();return!!me(n)&&(n.deleteLine(e),!0)},pt),t.registerCommand(qh,e=>{const n=Se();if(typeof e=="string")n!==null&&n.insertText(e);else{if(n===null)return!1;const r=e.dataTransfer;if(r!=null)GI(r,n,t);else if(me(n)){const i=e.data;return i&&n.insertText(i),!0}}return!0},pt),t.registerCommand(Qb,()=>{const e=Se();return!!me(e)&&(e.removeText(),!0)},pt),t.registerCommand(Ys,e=>{const n=Se();return!!me(n)&&(n.formatText(e),!0)},pt),t.registerCommand(Nhe,e=>{const n=Se();if(!me(n)&&!$r(n))return!1;const r=n.getNodes();for(const i of r){const o=Yf(i,s=>oe(s)&&!s.isInline());o!==null&&o.setFormat(e)}return!0},pt),t.registerCommand(Wh,e=>{const n=Se();return!!me(n)&&(n.insertLineBreak(e),!0)},pt),t.registerCommand(x0,()=>{const e=Se();return!!me(e)&&(e.insertParagraph(),!0)},pt),t.registerCommand(_V,()=>(GT([Am()]),!0),pt),t.registerCommand(CT,()=>tR(e=>{const n=e.getIndent();e.setIndent(n+1)}),pt),t.registerCommand(Yb,()=>tR(e=>{const n=e.getIndent();n>0&&e.setIndent(n-1)}),pt),t.registerCommand(gT,e=>{const n=Se();if($r(n)&&!jg(e.target)){const r=n.getNodes();if(r.length>0)return r[0].selectPrevious(),!0}else if(me(n)){const r=w0(n.focus,!0);if(!e.shiftKey&&Pt(r)&&!r.isIsolated()&&!r.isInline())return r.selectPrevious(),e.preventDefault(),!0}return!1},pt),t.registerCommand(xT,e=>{const n=Se();if($r(n)){const r=n.getNodes();if(r.length>0)return r[0].selectNext(0,0),!0}else if(me(n)){if(function(i){const o=i.focus;return o.key==="root"&&o.offset===It().getChildrenSize()}(n))return e.preventDefault(),!0;const r=w0(n.focus,!1);if(!e.shiftKey&&Pt(r)&&!r.isIsolated()&&!r.isInline())return r.selectNext(),e.preventDefault(),!0}return!1},pt),t.registerCommand(mT,e=>{const n=Se();if($r(n)){const r=n.getNodes();if(r.length>0)return e.preventDefault(),r[0].selectPrevious(),!0}if(!me(n))return!1;if(HI(n,!0)){const r=e.shiftKey;return e.preventDefault(),UI(n,r,!0),!0}return!1},pt),t.registerCommand(vV,e=>{const n=Se();if($r(n)&&!jg(e.target)){const i=n.getNodes();if(i.length>0)return e.preventDefault(),i[0].selectNext(0,0),!0}if(!me(n))return!1;const r=e.shiftKey;return!!HI(n,!1)&&(e.preventDefault(),UI(n,r,!1),!0)},pt),t.registerCommand(vT,e=>{if(jg(e.target))return!1;const n=Se();if(!me(n))return!1;e.preventDefault();const{anchor:r}=n,i=r.getNode();return n.isCollapsed()&&r.offset===0&&!dr(i)&&gz(i).getIndent()>0?t.dispatchCommand(Yb,void 0):t.dispatchCommand(Kc,!0)},pt),t.registerCommand(_T,e=>{if(jg(e.target))return!1;const n=Se();return!!me(n)&&(e.preventDefault(),t.dispatchCommand(Kc,!1))},pt),t.registerCommand(_0,e=>{const n=Se();if(!me(n))return!1;if(e!==null){if((gde||mde||vde)&&pde)return!1;if(e.preventDefault(),e.shiftKey)return t.dispatchCommand(Wh,!1)}return t.dispatchCommand(x0,void 0)},pt),t.registerCommand(yT,()=>{const e=Se();return!!me(e)&&(t.blur(),!0)},pt),t.registerCommand(wV,e=>{const[,n]=zg(e);if(n.length>0){const i=XI(e.clientX,e.clientY);if(i!==null){const{offset:o,node:s}=i,a=Es(s);if(a!==null){const l=oz();if(ye(a))l.anchor.set(a.getKey(),o,"text"),l.focus.set(a.getKey(),o,"text");else{const u=a.getParentOrThrow().getKey(),h=a.getIndexWithinParent()+1;l.anchor.set(u,h,"element"),l.focus.set(u,h,"element")}const c=OT(l);Bi(c)}t.dispatchCommand(ZI,n)}return e.preventDefault(),!0}const r=Se();return!!me(r)},pt),t.registerCommand(CV,e=>{const[n]=zg(e),r=Se();return!(n&&!me(r))},pt),t.registerCommand(bV,e=>{const[n]=zg(e),r=Se();if(n&&!me(r))return!1;const i=XI(e.clientX,e.clientY);if(i!==null){const o=Es(i.node);Pt(o)&&e.preventDefault()}return!0},pt),t.registerCommand(Xb,()=>(lfe(),!0),pt),t.registerCommand(t_,e=>(QI(t,Vc(e,ClipboardEvent)?e:null),!0),pt),t.registerCommand(bT,e=>(async function(n,r){await QI(r,Vc(n,ClipboardEvent)?n:null),r.update(()=>{const i=Se();me(i)?i.removeText():$r(i)&&i.getNodes().forEach(o=>o.remove())})}(e,t),!0),pt),t.registerCommand(dT,e=>{const[,n,r]=zg(e);return n.length>0&&!r?(t.dispatchCommand(ZI,n),!0):FT(e.target)?!1:Se()!==null&&(function(i,o){i.preventDefault(),o.update(()=>{const s=Se(),a=Vc(i,InputEvent)||Vc(i,KeyboardEvent)?null:i.clipboardData;a!=null&&s!==null&&GI(a,s,o)},{tag:"paste"})}(e,t),!0)},pt))}function oo(t,e,n,r){const i=t.length;let o=0,s;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(e,n),t.splice(...s);else for(n&&t.splice(e,n);o<r.length;)s=r.slice(o,o+1e4),s.unshift(e,0),t.splice(...s),o+=1e4,e+=1e4}function Ji(t,e){return t.length>0?(oo(t,t.length,0,e),t):e}const is=fc(/[A-Za-z]/),Io=fc(/[\dA-Za-z]/),Cde=fc(/[#-'*+\--9=?A-Z^-~]/);function vE(t){return t!==null&&(t<32||t===127)}const yE=fc(/\d/),bde=fc(/[\dA-Fa-f]/),Ede=fc(/[!-/:-@[-`{-~]/);function De(t){return t!==null&&t<-2}function en(t){return t!==null&&(t<0||t===32)}function rt(t){return t===-2||t===-1||t===32}const Sde=fc(new RegExp("\\p{P}|\\p{S}","u")),zs=fc(/\s/);function fc(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function dv(t){if(t===null||en(t)||zs(t))return 1;if(Sde(t))return 2}function p_(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const o=t[i].resolveAll;o&&!r.includes(o)&&(e=o(e,n),r.push(o))}return e}function kde(t){let n={}.singleTilde;const r={name:"strikethrough",tokenize:o,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(s,a){let l=-1;for(;++l<s.length;)if(s[l][0]==="enter"&&s[l][1].type==="strikethroughSequenceTemporary"&&s[l][1]._close){let c=l;for(;c--;)if(s[c][0]==="exit"&&s[c][1].type==="strikethroughSequenceTemporary"&&s[c][1]._open&&s[l][1].end.offset-s[l][1].start.offset===s[c][1].end.offset-s[c][1].start.offset){s[l][1].type="strikethroughSequence",s[c][1].type="strikethroughSequence";const u={type:"strikethrough",start:Object.assign({},s[c][1].start),end:Object.assign({},s[l][1].end)},h={type:"strikethroughText",start:Object.assign({},s[c][1].end),end:Object.assign({},s[l][1].start)},f=[["enter",u,a],["enter",s[c][1],a],["exit",s[c][1],a],["enter",h,a]],d=a.parser.constructs.insideSpan.null;d&&oo(f,f.length,0,p_(d,s.slice(c+1,l),a)),oo(f,f.length,0,[["exit",h,a],["enter",s[l][1],a],["exit",s[l][1],a],["exit",u,a]]),oo(s,c-1,l-c+3,f),l=c+f.length-2;break}}for(l=-1;++l<s.length;)s[l][1].type==="strikethroughSequenceTemporary"&&(s[l][1].type="data");return s}function o(s,a,l){const c=this.previous,u=this.events;let h=0;return f;function f(p){return c===126&&u[u.length-1][1].type!=="characterEscape"?l(p):(s.enter("strikethroughSequenceTemporary"),d(p))}function d(p){const m=dv(c);if(p===126)return h>1?l(p):(s.consume(p),h++,d);if(h<2&&!n)return l(p);const v=s.exit("strikethroughSequenceTemporary"),x=dv(p);return v._open=!x||x===2&&!!m,v._close=!m||m===2&&!!x,a(p)}}}const Tde=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];kz.peek=Dde;function Ade(){return{canContainEols:["delete"],enter:{strikethrough:Rde},exit:{strikethrough:Pde}}}function Ide(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Tde}],handlers:{delete:kz}}}function Rde(t){this.enter({type:"delete",children:[]},t)}function Pde(t){this.exit(t)}function kz(t,e,n,r){const i=n.createTracker(r),o=n.enter("strikethrough");let s=i.move("~~");return s+=n.containerPhrasing(t,{...i.current(),before:s,after:"~"}),s+=i.move("~~"),o(),s}function Dde(){return"~"}function nR(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(e);for(;i!==-1;)r++,i=n.indexOf(e,i+e.length);return r}const Mde=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],rR={0:"",128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""};function Tz(t){const e=typeof t=="string"?t.charCodeAt(0):t;return e>=48&&e<=57}function Nde(t){const e=typeof t=="string"?t.charCodeAt(0):t;return e>=97&&e<=102||e>=65&&e<=70||e>=48&&e<=57}function Lde(t){const e=typeof t=="string"?t.charCodeAt(0):t;return e>=97&&e<=122||e>=65&&e<=90}function iR(t){return Lde(t)||Tz(t)}const oR=document.createElement("i");function S0(t){const e="&"+t+";";oR.innerHTML=e;const n=oR.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}const eh=String.fromCharCode,Ode=["","Named character references must be terminated by a semicolon","Numeric character references must be terminated by a semicolon","Named character references cannot be empty","Numeric character references cannot be empty","Named character references must be known","Numeric character references cannot be disallowed","Numeric character references cannot be outside the permissible Unicode range"];function Fde(t,e={}){const n=typeof e.additional=="string"?e.additional.charCodeAt(0):e.additional,r=[];let i=0,o=-1,s="",a,l;e.position&&("start"in e.position||"indent"in e.position?(l=e.position.indent,a=e.position.start):a=e.position);let c=(a?a.line:0)||1,u=(a?a.column:0)||1,h=d(),f;for(i--;++i<=t.length;)if(f===10&&(u=(l?l[o]:0)||1),f=t.charCodeAt(i),f===38){const v=t.charCodeAt(i+1);if(v===9||v===10||v===12||v===32||v===38||v===60||Number.isNaN(v)||n&&v===n){s+=eh(f),u++;continue}const x=i+1;let y=x,_=x,C;if(v===35){_=++y;const D=t.charCodeAt(_);D===88||D===120?(C="hexadecimal",_=++y):C="decimal"}else C="named";let S="",T="",b="";const w=C==="named"?iR:C==="decimal"?Tz:Nde;for(_--;++_<=t.length;){const D=t.charCodeAt(_);if(!w(D))break;b+=eh(D),C==="named"&&Mde.includes(b)&&(S=b,T=S0(b))}let I=t.charCodeAt(_)===59;if(I){_++;const D=C==="named"?S0(b):!1;D&&(S=b,T=D)}let E=1+_-x,R="";if(!(!I&&e.nonTerminated===!1))if(!b)C!=="named"&&p(4,E);else if(C==="named"){if(I&&!T)p(5,1);else if(S!==b&&(_=y+S.length,E=1+_-y,I=!1),!I){const D=S?1:3;if(e.attribute){const N=t.charCodeAt(_);N===61?(p(D,E),T=""):iR(N)?T="":p(D,E)}else p(D,E)}R=T}else{I||p(2,E);let D=Number.parseInt(b,C==="hexadecimal"?16:10);if(Bde(D))p(7,E),R=eh(65533);else if(D in rR)p(6,E),R=rR[D];else{let N="";Vde(D)&&p(6,E),D>65535&&(D-=65536,N+=eh(D>>>10|55296),D=56320|D&1023),R=N+eh(D)}}if(R){m(),h=d(),i=_-1,u+=_-x+1,r.push(R);const D=d();D.offset++,e.reference&&e.reference.call(e.referenceContext,R,{start:h,end:D},t.slice(x-1,_)),h=D}else b=t.slice(x-1,_),s+=b,u+=b.length,i=_-1}else f===10&&(c++,o++,u=0),Number.isNaN(f)?m():(s+=eh(f),u++);return r.join("");function d(){return{line:c,column:u,offset:i+((a?a.offset:0)||0)}}function p(v,x){let y;e.warning&&(y=d(),y.column+=x,y.offset+=x,e.warning.call(e.warningContext,Ode[v],y,v))}function m(){s&&(r.push(s),e.text&&e.text.call(e.textContext,s,{start:h,end:d()}),s="")}}function Bde(t){return t>=55296&&t<=57343||t>1114111}function Vde(t){return t>=1&&t<=8||t===11||t>=13&&t<=31||t>=127&&t<=159||t>=64976&&t<=65007||(t&65535)===65535||(t&65535)===65534}const zde=/["&'<>`]/g,jde=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$de=/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,Hde=/[|\\{}()[\]^$+*?.]/g,sR=new WeakMap;function Ude(t,e){if(t=t.replace(e.subset?Wde(e.subset):zde,r),e.subset||e.escapeOnly)return t;return t.replace(jde,n).replace($de,r);function n(i,o,s){return e.format((i.charCodeAt(0)-55296)*1024+i.charCodeAt(1)-56320+65536,s.charCodeAt(o+2),e)}function r(i,o,s){return e.format(i.charCodeAt(0),s.charCodeAt(o+1),e)}}function Wde(t){let e=sR.get(t);return e||(e=qde(t),sR.set(t,e)),e}function qde(t){const e=[];let n=-1;for(;++n<t.length;)e.push(t[n].replace(Hde,"\\$&"));return new RegExp("(?:"+e.join("|")+")","g")}function Kde(t){return"&#x"+t.toString(16).toUpperCase()+";"}function Gde(t,e){return Ude(t,Object.assign({format:Kde},e))}function Xs(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?aR(t.position):"start"in t||"end"in t?aR(t):"line"in t||"column"in t?_E(t):""}function _E(t){return lR(t&&t.line)+":"+lR(t&&t.column)}function aR(t){return _E(t&&t.start)+"-"+_E(t&&t.end)}function lR(t){return t&&typeof t=="number"?t:1}class Lt extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",o={},s=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof e=="string"?i=e:!o.cause&&e&&(s=!0,i=e.message,o.cause=e),!o.ruleId&&!o.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?o.ruleId=r:(o.source=r.slice(0,l),o.ruleId=r.slice(l+1))}if(!o.place&&o.ancestors&&o.ancestors){const l=o.ancestors[o.ancestors.length-1];l&&(o.place=l.position)}const a=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=a?a.line:void 0,this.name=Xs(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=s&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}Lt.prototype.file="";Lt.prototype.name="";Lt.prototype.reason="";Lt.prototype.message="";Lt.prototype.stack="";Lt.prototype.column=void 0;Lt.prototype.line=void 0;Lt.prototype.ancestors=void 0;Lt.prototype.cause=void 0;Lt.prototype.fatal=void 0;Lt.prototype.place=void 0;Lt.prototype.ruleId=void 0;Lt.prototype.source=void 0;const Az="  ";function Jde(){return{canContainEols:["mdxJsxTextElement"],enter:{mdxJsxFlowTag:r,mdxJsxFlowTagClosingMarker:i,mdxJsxFlowTagAttribute:h,mdxJsxFlowTagExpressionAttribute:f,mdxJsxFlowTagAttributeValueLiteral:t,mdxJsxFlowTagAttributeValueExpression:t,mdxJsxFlowTagSelfClosingMarker:s,mdxJsxTextTag:r,mdxJsxTextTagClosingMarker:i,mdxJsxTextTagAttribute:h,mdxJsxTextTagExpressionAttribute:f,mdxJsxTextTagAttributeValueLiteral:t,mdxJsxTextTagAttributeValueExpression:t,mdxJsxTextTagSelfClosingMarker:s},exit:{mdxJsxFlowTagClosingMarker:a,mdxJsxFlowTagNamePrimary:l,mdxJsxFlowTagNameMember:c,mdxJsxFlowTagNameLocal:u,mdxJsxFlowTagExpressionAttribute:d,mdxJsxFlowTagExpressionAttributeValue:n,mdxJsxFlowTagAttributeNamePrimary:p,mdxJsxFlowTagAttributeNameLocal:m,mdxJsxFlowTagAttributeValueLiteral:v,mdxJsxFlowTagAttributeValueLiteralValue:n,mdxJsxFlowTagAttributeValueExpression:x,mdxJsxFlowTagAttributeValueExpressionValue:n,mdxJsxFlowTagSelfClosingMarker:y,mdxJsxFlowTag:_,mdxJsxTextTagClosingMarker:a,mdxJsxTextTagNamePrimary:l,mdxJsxTextTagNameMember:c,mdxJsxTextTagNameLocal:u,mdxJsxTextTagExpressionAttribute:d,mdxJsxTextTagExpressionAttributeValue:n,mdxJsxTextTagAttributeNamePrimary:p,mdxJsxTextTagAttributeNameLocal:m,mdxJsxTextTagAttributeValueLiteral:v,mdxJsxTextTagAttributeValueLiteralValue:n,mdxJsxTextTagAttributeValueExpression:x,mdxJsxTextTagAttributeValueExpressionValue:n,mdxJsxTextTagSelfClosingMarker:y,mdxJsxTextTag:_}};function t(){this.buffer()}function e(b){return{line:b.line,column:b.column,offset:b.offset}}function n(b){this.config.enter.data.call(this,b),this.config.exit.data.call(this,b)}function r(b){const w={name:void 0,attributes:[],close:!1,selfClosing:!1,start:b.start,end:b.end};this.data.mdxJsxTagStack||(this.data.mdxJsxTagStack=[]),this.data.mdxJsxTag=w,this.buffer()}function i(b){if(this.data.mdxJsxTagStack.length===0)throw new Lt("Unexpected closing slash `/` in tag, expected an open tag first",{start:b.start,end:b.end},"mdast-util-mdx-jsx:unexpected-closing-slash")}function o(b){if(this.data.mdxJsxTag.close)throw new Lt("Unexpected attribute in closing tag, expected the end of the tag",{start:b.start,end:b.end},"mdast-util-mdx-jsx:unexpected-attribute")}function s(b){if(this.data.mdxJsxTag.close)throw new Lt("Unexpected self-closing slash `/` in closing tag, expected the end of the tag",{start:b.start,end:b.end},"mdast-util-mdx-jsx:unexpected-self-closing-slash")}function a(){const b=this.data.mdxJsxTag;b.close=!0}function l(b){const w=this.data.mdxJsxTag;w.name=this.sliceSerialize(b)}function c(b){const w=this.data.mdxJsxTag;w.name+="."+this.sliceSerialize(b)}function u(b){const w=this.data.mdxJsxTag;w.name+=":"+this.sliceSerialize(b)}function h(b){const w=this.data.mdxJsxTag;o.call(this,b),w.attributes.push({type:"mdxJsxAttribute",name:"",value:null,position:{start:e(b.start),end:void 0}})}function f(b){const w=this.data.mdxJsxTag;o.call(this,b),w.attributes.push({type:"mdxJsxExpressionAttribute",value:""}),this.buffer()}function d(b){const w=this.data.mdxJsxTag,I=w.attributes[w.attributes.length-1];I.type;const E=b.estree;I.value=this.resume(),E&&(I.data={estree:E})}function p(b){const w=this.data.mdxJsxTag,I=w.attributes[w.attributes.length-1];I.type,I.name=this.sliceSerialize(b),I.position,I.position.end=e(b.end)}function m(b){const w=this.data.mdxJsxTag,I=w.attributes[w.attributes.length-1];I.type,I.name+=":"+this.sliceSerialize(b),I.position,I.position.end=e(b.end)}function v(b){const w=this.data.mdxJsxTag,I=w.attributes[w.attributes.length-1];I.value=Fde(this.resume(),{nonTerminated:!1}),I.position,I.position.end=e(b.end)}function x(b){const w=this.data.mdxJsxTag,I=w.attributes[w.attributes.length-1];I.type;const E={type:"mdxJsxAttributeValueExpression",value:this.resume()},R=b.estree;R&&(E.data={estree:R}),I.value=E,I.position,I.position.end=e(b.end)}function y(){const b=this.data.mdxJsxTag;b.selfClosing=!0}function _(b){const w=this.data.mdxJsxTag,I=this.data.mdxJsxTagStack,E=I[I.length-1];if(w.close&&E.name!==w.name)throw new Lt("Unexpected closing tag `"+T(w)+"`, expected corresponding closing tag for `"+T(E)+"` ("+Xs(E)+")",{start:b.start,end:b.end},"mdast-util-mdx-jsx:end-tag-mismatch");this.resume(),w.close?I.pop():this.enter({type:b.type==="mdxJsxTextTag"?"mdxJsxTextElement":"mdxJsxFlowElement",name:w.name||null,attributes:w.attributes,children:[]},b,C),w.selfClosing||w.close?this.exit(b,S):I.push(w)}function C(b,w){const I=this.data.mdxJsxTagStack,E=I[I.length-1],R=b?" before the end of `"+b.type+"`":"",D=b?{start:b.start,end:b.end}:void 0;throw new Lt("Expected a closing tag for `"+T(E)+"` ("+Xs({start:w.start,end:w.end})+")"+R,D,"mdast-util-mdx-jsx:end-tag-mismatch")}function S(b,w){const I=this.data.mdxJsxTag;throw new Lt("Expected the closing tag `"+T(I)+"` either after the end of `"+w.type+"` ("+Xs(w.end)+") or another opening tag after the start of `"+w.type+"` ("+Xs(w.start)+")",{start:b.start,end:b.end},"mdast-util-mdx-jsx:end-tag-mismatch")}function T(b){return"<"+(b.close?"/":"")+(b.name||"")+">"}}function Qde(t){const e={},n=e.quote||'"',r=e.quoteSmart||!1,i=e.tightSelfClosing||!1,o=e.printWidth||Number.POSITIVE_INFINITY,s=n==='"'?"'":'"';if(n!=='"'&&n!=="'")throw new Error("Cannot serialize attribute values with `"+n+"` for `options.quote`, expected `\"`, or `'`");return a.peek=Xde,{handlers:{mdxJsxFlowElement:a,mdxJsxTextElement:a},unsafe:[{character:"<",inConstruct:["phrasing"]},{atBreak:!0,character:"<"}],fences:!0,resourceLink:!0};function a(l,c,u,h){const f=l.type==="mdxJsxFlowElement",d=l.name?!l.children||l.children.length===0:!1,p=Iz(u),m=Rz(p),v=u.createTracker(h),x=u.createTracker(h),y=[],_=(f?m:"")+"<"+(l.name||""),C=u.enter(l.type);if(v.move(_),x.move(_),l.attributes&&l.attributes.length>0){if(!l.name)throw new Error("Cannot serialize fragment w/ attributes");let I=-1;for(;++I<l.attributes.length;){const E=l.attributes[I];let R;if(E.type==="mdxJsxExpressionAttribute")R="{"+(E.value||"")+"}";else{if(!E.name)throw new Error("Cannot serialize attribute w/o name");const D=E.value,N=E.name;let z="";if(D!=null)if(typeof D=="object")z="{"+(D.value||"")+"}";else{const $=r&&nR(D,n)>nR(D,s)?s:n;z=$+Gde(D,{subset:[$]})+$}R=N+(z?"=":"")+z}y.push(R)}}let S=!1;const T=y.join(" ");f&&(/\r?\n|\r/.test(T)||v.current().now.column+T.length+(d?i?2:3:1)>o)&&(S=!0);let b=v,w=_;if(S){b=x;let I=-1;for(;++I<y.length;)y[I]=m+Az+y[I];w+=b.move(`
`+y.join(`
`)+`
`+m)}else T&&(w+=b.move(" "+T));return d&&(w+=b.move((i||S?"":" ")+"/")),w+=b.move(">"),l.children&&l.children.length>0&&(l.type==="mdxJsxTextElement"?w+=b.move(u.containerPhrasing(l,{...b.current(),before:">",after:"<"})):(b.shift(2),w+=b.move(`
`),w+=b.move(Yde(l,u,b.current())),w+=b.move(`
`))),d||(w+=b.move((f?m:"")+"</"+(l.name||"")+">")),C(),w}}function Yde(t,e,n){const r=e.indexStack,i=t.children,o=e.createTracker(n),s=Rz(Iz(e)),a=[];let l=-1;for(r.push(-1);++l<i.length;){const c=i[l];r[r.length-1]=l;const u={before:`
`,after:`
`,...o.current()},h=e.handle(c,t,e,u),f=c.type==="mdxJsxFlowElement"?h:e.indentLines(h,function(d,p,m){return(m?"":s)+d});a.push(o.move(f)),c.type!=="list"&&(e.bulletLastUsed=void 0),l<i.length-1&&a.push(o.move(`

`))}return r.pop(),a.join("")}function Iz(t){let e=0,n=t.stack.length;for(;--n>-1;){const r=t.stack[n];if(r==="blockquote"||r==="listItem")break;r==="mdxJsxFlowElement"&&e++}return e}function Rz(t){return Az.repeat(t)}function Xde(){return"<"}const Zde=/[$_\p{ID_Start}]/u,epe=/[$_\u{200C}\u{200D}\p{ID_Continue}]/u,tpe=/[-$_\u{200C}\u{200D}\p{ID_Continue}]/u,npe={};function vo(t){return t?Zde.test(String.fromCodePoint(t)):!1}function Rd(t,e){const r=(e||npe).jsx?tpe:epe;return t?r.test(String.fromCodePoint(t)):!1}function gt(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let o=0;return s;function s(l){return rt(l)?(t.enter(n),a(l)):e(l)}function a(l){return rt(l)&&o++<i?(t.consume(l),a):(t.exit(n),e(l))}}const rpe={}.hasOwnProperty,ipe=Symbol("continue"),V2=Symbol("exit"),ope=Symbol("skip");function spe(t,e){let n,r;typeof e=="function"?n=e:e&&typeof e=="object"&&(e.enter&&(n=e.enter),e.leave&&(r=e.leave)),i(t,void 0,void 0,[])();function i(o,s,a,l){return z2(o)&&(c.displayName="node ("+o.type+")"),c;function c(){const u=n?cR(n(o,s,a,l)):[];if(u[0]===V2)return u;if(u[0]!==ope){let h;for(h in o)if(rpe.call(o,h)&&o[h]&&typeof o[h]=="object"&&h!=="data"&&h!=="position"){const f=l.concat(o),d=o[h];if(Array.isArray(d)){const p=d;let m=0;for(;m>-1&&m<p.length;){const v=p[m];if(z2(v)){const x=i(v,h,m,f)();if(x[0]===V2)return x;m=typeof x[1]=="number"?x[1]:m+1}else m++}}else if(z2(d)){const p=i(d,h,void 0,f)();if(p[0]===V2)return p}}}return r?cR(r(o,s,a,l)):u}}}function cR(t){return Array.isArray(t)?t:typeof t=="number"?[ipe,t]:[t]}function z2(t){return!!(t&&typeof t=="object"&&"type"in t&&typeof t.type=="string"&&t.type.length>0)}function ape(t,e){const n=e.prefix||"",r=e.suffix||"",i=Object.assign({},e.acornOptions),o=[],s=[],a=i.onComment,l=i.onToken;let c=!1,u,h;const f=Object.assign({},i,{onComment:o,preserveParens:!0});l&&(f.onToken=s);const d=lpe(t,e.tokenTypes),p=d.value,m=n+p+r,v=uR(p);if(v&&!e.allowEmpty)throw new Lt("Unexpected empty expression",{place:y(0),ruleId:"unexpected-empty-expression",source:"micromark-extension-mdx-expression"});try{u=e.expression&&!v?e.acorn.parseExpressionAt(m,0,f):e.acorn.parse(m,f)}catch(_){const C=_,S=y(C.pos);C.message=String(C.message).replace(/ \(\d+:\d+\)$/,""),C.pos=S.offset,C.loc={line:S.line,column:S.column-1},h=C,c=C.raisedAt>=n.length+p.length||C.message==="Unterminated comment"}if(u&&e.expression&&!v)if(uR(m.slice(u.end,m.length-r.length)))u={type:"Program",start:0,end:n.length+p.length,body:[{type:"ExpressionStatement",expression:u,start:0,end:n.length+p.length}],sourceType:"module",comments:[]};else{const _=y(u.end),C=new Error("Unexpected content after expression");C.pos=_.offset,C.loc={line:_.line,column:_.column-1},h=C,u=void 0}if(u){if(u.comments=o,spe(u,function(_,C,S,T){let b=T[T.length-1],w=C;_.type==="ParenthesizedExpression"&&b&&w&&(typeof S=="number"&&(b=b[w],w=S),b[w]=_.expression),x(_)}),Array.isArray(a))a.push(...o);else if(typeof a=="function")for(const _ of o)a(_.type==="Block",_.value,_.start,_.end,_.loc.start,_.loc.end);for(const _ of s)_.end<=n.length||_.start-n.length>=p.length||(x(_),Array.isArray(l)?l.push(_):l(_))}return{estree:u,error:h,swallow:c};function x(_){const C=y(_.start),S=y(_.end);_.start=C.offset,_.end=S.offset,_.loc={start:{line:C.line,column:C.column-1,offset:C.offset},end:{line:S.line,column:S.column-1,offset:S.offset}},_.range=[_.start,_.end]}function y(_){let C=_-n.length;C<0?C=0:C>p.length&&(C=p.length);let S=cpe(d.stops,C);return S||(S={line:e.start.line,column:e.start.column,offset:e.start.offset}),S}}function uR(t){return/^\s*$/.test(t.replace(/\/\*[\s\S]*?\*\//g,"").replace(/\/\/[^\r\n]*(\r\n|\n|\r)/g,""))}function lpe(t,e){const n={value:"",stops:[]};let r=-1;for(;++r<t.length;){const i=t[r];if(i[0]==="enter"){const o=i[1].type;if(o==="lineEnding"||e.includes(o)){const s=i[2].sliceStream(i[1]);for(;s.length>0&&s[0]===-1;)s.shift();const a=upe(s);n.stops.push([n.value.length,i[1].start]),n.value+=a,n.stops.push([n.value.length,i[1].end])}}}return n}function cpe(t,e){let n=0;for(;n<t.length&&t[n][0]<=e;)n+=1;if(n===0)return;const[r,i]=t[n-1],o=e-r;return{line:i.line,column:i.column+o,offset:i.offset+o}}function upe(t){let e=-1;const n=[];let r;for(;++e<t.length;){const i=t[e];let o;if(typeof i=="string")o=i;else switch(i){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o="	";break}case-1:{if(r)continue;o=" ";break}default:o=String.fromCharCode(i)}r=i===-2,n.push(o)}return n.join("")}function j2(t){const e=t||{},n=e.loc||{},r=e.range||[void 0,void 0],i=hR(n.start,r[0]||e.start),o=hR(n.end,r[1]||e.end);if(i&&o)return{start:i,end:o}}function hR(t,e){if(t&&typeof t=="object"){const n="line"in t?$2(t.line):void 0,r="column"in t?$2(t.column):void 0;if(n&&r!==void 0)return{line:n,column:r+1,offset:$2(e)}}}function $2(t){return typeof t=="number"&&t>-1?t:void 0}const hpe=2,Ah="https://github.com/micromark/micromark-extension-mdx-expression/tree/main/packages/micromark-extension-mdx-expression",fpe="#unexpected-end-of-file-in-expression-expected-a-corresponding-closing-brace-for-",dpe="#unexpected-lazy-line-in-expression-in-container-expected-line-to-be-prefixed",fR="#unexpected-type-in-code-expected-an-object-spread-spread",ppe="#unexpected-extra-content-in-spread-only-a-single-spread-is-supported",mpe="#could-not-parse-expression-with-acorn";function dR(t,e,n,r,i,o,s,a,l,c,u){const h=this,f=this.events.length+3;let d=0,p,m;return v;function v(C){return t.enter(n),t.enter(r),t.consume(C),t.exit(r),p=h.now(),x}function x(C){if(C===null){if(m)throw m;const S=new Lt("Unexpected end of file in expression, expected a corresponding closing brace for `{`",{place:h.now(),ruleId:"unexpected-eof",source:"micromark-extension-mdx-expression"});throw S.url=Ah+fpe,S}if(De(C))return t.enter("lineEnding"),t.consume(C),t.exit("lineEnding"),_;if(C===125&&d===0){const S=o?gpe.call(h,o,s,i,f,p,c||!1,l||!1):{type:"ok",estree:void 0};if(S.type==="ok"){t.enter(r),t.consume(C),t.exit(r);const T=t.exit(n);return a&&S.estree&&Object.assign(T,{estree:S.estree}),e}return m=S.message,t.enter(i),t.consume(C),y}return t.enter(i),y(C)}function y(C){return C===125&&d===0||C===null||De(C)?(t.exit(i),x(C)):(C===123&&!o?d+=1:C===125&&(d-=1),t.consume(C),y)}function _(C){const S=h.now();if(S.line!==p.line&&!u&&h.parser.lazy[S.line]){const T=new Lt("Unexpected lazy line in expression in container, expected line to be prefixed with `>` when in a block quote, whitespace when in a list, etc",{place:h.now(),ruleId:"unexpected-lazy",source:"micromark-extension-mdx-expression"});throw T.url=Ah+dpe,T}return rt(C)?gt(t,x,"linePrefix",hpe+1)(C):x(C)}}function gpe(t,e,n,r,i,o,s){const a=ape(this.events.slice(r),{acorn:t,tokenTypes:[n],acornOptions:e,start:i,expression:!0,allowEmpty:o,prefix:s?"({":"",suffix:s?"})":""}),l=a.estree;if(s&&l){const c=l.body[0];if(c.type!=="ExpressionStatement"||c.expression.type!=="ObjectExpression"){const u=j2(c),h=new Lt("Unexpected `"+c.type+"` in code: expected an object spread (`{...spread}`)",{place:u.start,ruleId:"non-spread",source:"micromark-extension-mdx-expression"});throw h.url=Ah+fR,h}if(c.expression.properties[1]){const u=j2(c.expression.properties[1]),h=new Lt("Unexpected extra content in spread: only a single spread is supported",{place:u.start,ruleId:"spread-extra",source:"micromark-extension-mdx-expression"});throw h.url=Ah+ppe,h}if(c.expression.properties[0]&&c.expression.properties[0].type!=="SpreadElement"){const u=j2(c.expression.properties[0]),h=new Lt("Unexpected `"+c.expression.properties[0].type+"` in code: only spread elements are supported",{place:u.start,ruleId:"non-spread",source:"micromark-extension-mdx-expression"});throw h.url=Ah+fR,h}}if(a.error){const c=new Lt("Could not parse expression with acorn",{cause:a.error,place:{line:a.error.loc.line,column:a.error.loc.column+1,offset:a.error.pos},ruleId:"acorn",source:"micromark-extension-mdx-expression"});return c.url=Ah+mpe,{type:"nok",message:c}}return{type:"ok",estree:l}}const pR="https://github.com/micromark/micromark-extension-mdx-jsx";function Pz(t,e,n,r,i,o,s,a,l,c,u,h,f,d,p,m,v,x,y,_,C,S,T,b,w,I,E,R,D,N,z,$){const Q=this;let Y,q;return H;function H(V){return t.enter(a),t.enter(l),t.consume(V),t.exit(l),O}function O(V){return en(V)?n(V):(Y=U,vt(V))}function U(V){if(V===47)return t.enter(c),t.consume(V),t.exit(c),Y=K,vt;if(V===62)return wn(V);if(V!==null&&V>=0&&vo(V))return t.enter(h),t.enter(f),t.consume(V),L;ie(V,"before name","a character that can start a name, such as a letter, `$`, or `_`"+(V===33?" (note: to create a comment in MDX, use `{/* text */}`)":""))}function K(V){if(V===62)return wn(V);if(V!==null&&V>=0&&vo(V))return t.enter(h),t.enter(f),t.consume(V),L;ie(V,"before name","a character that can start a name, such as a letter, `$`, or `_`"+(V===42||V===47?" (note: JS comments in JSX tags are not supported in MDX)":""))}function L(V){if(V!==null&&V>=0&&Rd(V,{jsx:!0}))return t.consume(V),L;if(V===46||V===47||V===58||V===62||V===123||en(V)||zs(V))return t.exit(f),Y=J,vt(V);ie(V,"in name","a name character such as letters, digits, `$`, or `_`; whitespace before attributes; or the end of the tag"+(V===64?" (note: to create a link in MDX, use `[text](url)`)":""))}function J(V){if(V===46)return t.enter(d),t.consume(V),t.exit(d),Y=Ee,vt;if(V===58)return t.enter(m),t.consume(V),t.exit(m),Y=fe,vt;if(V===47||V===62||V===123||V!==null&&V>=0&&vo(V))return t.exit(h),Be(V);ie(V,"after name","a character that can start an attribute name, such as a letter, `$`, or `_`; whitespace before attributes; or the end of the tag")}function Ee(V){if(V!==null&&V>=0&&vo(V))return t.enter(p),t.consume(V),de;ie(V,"before member name","a character that can start an attribute name, such as a letter, `$`, or `_`; whitespace before attributes; or the end of the tag")}function de(V){if(V!==null&&V>=0&&Rd(V,{jsx:!0}))return t.consume(V),de;if(V===46||V===47||V===62||V===123||en(V)||zs(V))return t.exit(p),Y=ue,vt(V);ie(V,"in member name","a name character such as letters, digits, `$`, or `_`; whitespace before attributes; or the end of the tag"+(V===64?" (note: to create a link in MDX, use `[text](url)`)":""))}function ue(V){if(V===46)return t.enter(d),t.consume(V),t.exit(d),Y=Ee,vt;if(V===47||V===62||V===123||V!==null&&V>=0&&vo(V))return t.exit(h),Be(V);ie(V,"after member name","a character that can start an attribute name, such as a letter, `$`, or `_`; whitespace before attributes; or the end of the tag")}function fe(V){if(V!==null&&V>=0&&vo(V))return t.enter(v),t.consume(V),je;ie(V,"before local name","a character that can start a name, such as a letter, `$`, or `_`"+(V===43||V!==null&&V>46&&V<58?" (note: to create a link in MDX, use `[text](url)`)":""))}function je(V){if(V!==null&&V>=0&&Rd(V,{jsx:!0}))return t.consume(V),je;if(V===47||V===62||V===123||en(V)||zs(V))return t.exit(v),Y=Le,vt(V);ie(V,"in local name","a name character such as letters, digits, `$`, or `_`; whitespace before attributes; or the end of the tag")}function Le(V){if(V===47||V===62||V===123||V!==null&&V>=0&&vo(V))return t.exit(h),Be(V);ie(V,"after local name","a character that can start an attribute name, such as a letter, `$`, or `_`; whitespace before attributes; or the end of the tag")}function Be(V){if(V===47)return t.enter(u),t.consume(V),t.exit(u),Y=kn,vt;if(V===62)return wn(V);if(V===123)return dR.call(Q,t,Qe,x,y,_,r,i,o,!0,!1,s)(V);if(V!==null&&V>=0&&vo(V))return t.enter(C),t.enter(S),t.enter(T),t.consume(V),ct;ie(V,"before attribute name","a character that can start an attribute name, such as a letter, `$`, or `_`; whitespace before attributes; or the end of the tag")}function Qe(V){return Y=Be,vt(V)}function ct(V){if(V!==null&&V>=0&&Rd(V,{jsx:!0}))return t.consume(V),ct;if(V===47||V===58||V===61||V===62||V===123||en(V)||zs(V))return t.exit(T),Y=We,vt(V);ie(V,"in attribute name","an attribute name character such as letters, digits, `$`, or `_`; `=` to initialize a value; whitespace before attributes; or the end of the tag")}function We(V){if(V===58)return t.enter(b),t.consume(V),t.exit(b),Y=zt,vt;if(V===61)return t.exit(S),t.enter(I),t.consume(V),t.exit(I),Y=fn,vt;if(V===47||V===62||V===123||en(V)||zs(V)||V!==null&&V>=0&&vo(V))return t.exit(S),t.exit(C),Y=Be,vt(V);ie(V,"after attribute name","a character that can start an attribute name, such as a letter, `$`, or `_`; `=` to initialize a value; or the end of the tag")}function zt(V){if(V!==null&&V>=0&&vo(V))return t.enter(w),t.consume(V),on;ie(V,"before local attribute name","a character that can start an attribute name, such as a letter, `$`, or `_`; `=` to initialize a value; or the end of the tag")}function on(V){if(V!==null&&V>=0&&Rd(V,{jsx:!0}))return t.consume(V),on;if(V===47||V===61||V===62||V===123||en(V)||zs(V))return t.exit(w),t.exit(S),Y=Ln,vt(V);ie(V,"in local attribute name","an attribute name character such as letters, digits, `$`, or `_`; `=` to initialize a value; whitespace before attributes; or the end of the tag")}function Ln(V){if(V===61)return t.enter(I),t.consume(V),t.exit(I),Y=fn,vt;if(V===47||V===62||V===123||V!==null&&V>=0&&vo(V))return t.exit(C),Be(V);ie(V,"after local attribute name","a character that can start an attribute name, such as a letter, `$`, or `_`; `=` to initialize a value; or the end of the tag")}function fn(V){if(V===34||V===39)return t.enter(E),t.enter(R),t.consume(V),t.exit(R),q=V,Kn;if(V===123)return dR.call(Q,t,qn,N,z,$,r,i,o,!1,!1,s)(V);ie(V,"before attribute value","a character that can start an attribute value, such as `\"`, `'`, or `{`"+(V===60?" (note: to use an element or fragment as a prop value in MDX, use `{<element />}`)":""))}function qn(V){return t.exit(C),Y=Be,vt(V)}function Kn(V){return V===null&&ie(V,"in attribute value","a corresponding closing quote `"+String.fromCodePoint(q)+"`"),V===q?(t.enter(R),t.consume(V),t.exit(R),t.exit(E),t.exit(C),q=void 0,Y=Be,vt):De(V)?(Y=Kn,vt(V)):(t.enter(D),dn(V))}function dn(V){return V===null||V===q||De(V)?(t.exit(D),Kn(V)):(t.consume(V),dn)}function kn(V){if(V===62)return wn(V);ie(V,"after self-closing slash","`>` to end the tag"+(V===42||V===47?" (note: JS comments in JSX tags are not supported in MDX)":""))}function wn(V){return t.enter(l),t.consume(V),t.exit(l),t.exit(a),e}function vt(V){return De(V)?(t.enter("lineEnding"),t.consume(V),t.exit("lineEnding"),X):rt(V)||zs(V)?(t.enter("esWhitespace"),Ui(V)):Y(V)}function Ui(V){return De(V)?(t.exit("esWhitespace"),vt(V)):rt(V)||zs(V)?(t.consume(V),Ui):(t.exit("esWhitespace"),Y(V))}function X(V){if(!s&&Q.parser.lazy[Q.now().line]){const $e=new Lt("Unexpected lazy line in container, expected line to be prefixed with `>` when in a block quote, whitespace when in a list, etc",Q.now(),"micromark-extension-mdx-jsx:unexpected-lazy");throw $e.url=pR+"#unexpected-lazy-line-in-container-expected-line-to-be",$e}return vt(V)}function ie(V,$e,Ye){const wt=new Lt("Unexpected "+(V===null?"end of file":"character `"+(V===96?"` ` `":String.fromCodePoint(V))+"` ("+xpe(V)+")")+" "+$e+", expected "+Ye,Q.now(),"micromark-extension-mdx-jsx:unexpected-"+(V===null?"eof":"character"));throw wt.url=pR+(V===null?"#unexpected-end-of-file-at-expected-expect":"#unexpected-character-at-expected-expect"),wt}}function xpe(t){return"U+"+t.toString(16).toUpperCase().padStart(4,"0")}function vpe(t,e){return{name:"mdxJsxTextTag",tokenize:n};function n(r,i,o){return Pz.call(this,r,i,o,t,e.acornOptions,e.addResult,!0,"mdxJsxTextTag","mdxJsxTextTagMarker","mdxJsxTextTagClosingMarker","mdxJsxTextTagSelfClosingMarker","mdxJsxTextTagName","mdxJsxTextTagNamePrimary","mdxJsxTextTagNameMemberMarker","mdxJsxTextTagNameMember","mdxJsxTextTagNamePrefixMarker","mdxJsxTextTagNameLocal","mdxJsxTextTagExpressionAttribute","mdxJsxTextTagExpressionAttributeMarker","mdxJsxTextTagExpressionAttributeValue","mdxJsxTextTagAttribute","mdxJsxTextTagAttributeName","mdxJsxTextTagAttributeNamePrimary","mdxJsxTextTagAttributeNamePrefixMarker","mdxJsxTextTagAttributeNameLocal","mdxJsxTextTagAttributeInitializerMarker","mdxJsxTextTagAttributeValueLiteral","mdxJsxTextTagAttributeValueLiteralMarker","mdxJsxTextTagAttributeValueLiteralValue","mdxJsxTextTagAttributeValueExpression","mdxJsxTextTagAttributeValueExpressionMarker","mdxJsxTextTagAttributeValueExpressionValue")}}function ype(t,e){return{name:"mdxJsxFlowTag",tokenize:n,concrete:!0};function n(r,i,o){const s=this;return a;function a(h){return l(h)}function l(h){return Pz.call(s,r,c,o,t,e.acornOptions,e.addResult,!1,"mdxJsxFlowTag","mdxJsxFlowTagMarker","mdxJsxFlowTagClosingMarker","mdxJsxFlowTagSelfClosingMarker","mdxJsxFlowTagName","mdxJsxFlowTagNamePrimary","mdxJsxFlowTagNameMemberMarker","mdxJsxFlowTagNameMember","mdxJsxFlowTagNamePrefixMarker","mdxJsxFlowTagNameLocal","mdxJsxFlowTagExpressionAttribute","mdxJsxFlowTagExpressionAttributeMarker","mdxJsxFlowTagExpressionAttributeValue","mdxJsxFlowTagAttribute","mdxJsxFlowTagAttributeName","mdxJsxFlowTagAttributeNamePrimary","mdxJsxFlowTagAttributeNamePrefixMarker","mdxJsxFlowTagAttributeNameLocal","mdxJsxFlowTagAttributeInitializerMarker","mdxJsxFlowTagAttributeValueLiteral","mdxJsxFlowTagAttributeValueLiteralMarker","mdxJsxFlowTagAttributeValueLiteralValue","mdxJsxFlowTagAttributeValueExpression","mdxJsxFlowTagAttributeValueExpressionMarker","mdxJsxFlowTagAttributeValueExpressionValue")(h)}function c(h){return rt(h)?gt(r,u,"whitespace")(h):u(h)}function u(h){const f=s.parser.constructs.flow[123],p=(Array.isArray(f)?f:f?[f]:[]).find(m=>m.name==="mdxFlowExpression");return h===60?a(h):h===123&&p?r.attempt(p,u,o)(h):h===null||De(h)?i(h):o(h)}}}function _pe(t){const e={},n=e.acorn;let r;if(n){if(!n.parse||!n.parseExpressionAt)throw new Error("Expected a proper `acorn` instance passed in as `options.acorn`");r=Object.assign({ecmaVersion:2024,sourceType:"module"},e.acornOptions,{locations:!0})}else if(e.acornOptions||e.addResult)throw new Error("Expected an `acorn` instance passed in as `options.acorn`");return{flow:{60:ype(n||void 0,{acornOptions:r,addResult:e.addResult||void 0})},text:{60:vpe(n||void 0,{acornOptions:r,addResult:e.addResult||void 0})}}}function wpe(){return{disable:{null:["autolink","codeIndented","htmlFlow","htmlText"]}}}const mR={}.hasOwnProperty;function Cpe(t,e){const n=e||{};function r(i,...o){let s=r.invalid;const a=r.handlers;if(i&&mR.call(i,t)){const l=String(i[t]);s=mR.call(a,l)?a[l]:r.unknown}if(s)return s.call(this,i,...o)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}const bpe={}.hasOwnProperty;function Dz(t,e){let n=-1,r;if(e.extensions)for(;++n<e.extensions.length;)Dz(t,e.extensions[n]);for(r in e)if(bpe.call(e,r))switch(r){case"extensions":break;case"unsafe":{gR(t[r],e[r]);break}case"join":{gR(t[r],e[r]);break}case"handlers":{Epe(t[r],e[r]);break}default:t.options[r]=e[r]}return t}function gR(t,e){e&&t.push(...e)}function Epe(t,e){e&&Object.assign(t,e)}function Spe(t,e,n,r){const i=n.enter("blockquote"),o=n.createTracker(r);o.move("> "),o.shift(2);const s=n.indentLines(n.containerFlow(t,o.current()),kpe);return i(),s}function kpe(t,e,n){return">"+(n?"":" ")+t}function Mz(t,e){return xR(t,e.inConstruct,!0)&&!xR(t,e.notInConstruct,!1)}function xR(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function vR(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&Mz(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function Tpe(t,e){const n=String(t);let r=n.indexOf(e),i=r,o=0,s=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++o>s&&(s=o):o=1,i=r+e.length,r=n.indexOf(e,i);return s}function wE(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function Ape(t){const e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function Ipe(t,e,n,r){const i=Ape(n),o=t.value||"",s=i==="`"?"GraveAccent":"Tilde";if(wE(t,n)){const h=n.enter("codeIndented"),f=n.indentLines(o,Rpe);return h(),f}const a=n.createTracker(r),l=i.repeat(Math.max(Tpe(o,i)+1,3)),c=n.enter("codeFenced");let u=a.move(l);if(t.lang){const h=n.enter(`codeFencedLang${s}`);u+=a.move(n.safe(t.lang,{before:u,after:" ",encode:["`"],...a.current()})),h()}if(t.lang&&t.meta){const h=n.enter(`codeFencedMeta${s}`);u+=a.move(" "),u+=a.move(n.safe(t.meta,{before:u,after:`
`,encode:["`"],...a.current()})),h()}return u+=a.move(`
`),o&&(u+=a.move(o+`
`)),u+=a.move(l),c(),u}function Rpe(t,e,n){return(n?"":"    ")+t}function eA(t){const e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function Ppe(t,e,n,r){const i=eA(n),o=i==='"'?"Quote":"Apostrophe",s=n.enter("definition");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("[");return c+=l.move(n.safe(n.associationId(t),{before:c,after:"]",...l.current()})),c+=l.move("]: "),a(),!t.url||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(t.url,{before:c,after:t.title?" ":`
`,...l.current()}))),a(),t.title&&(a=n.enter(`title${o}`),c+=l.move(" "+i),c+=l.move(n.safe(t.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),s(),c}function Dpe(t){const e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}Nz.peek=Mpe;function Nz(t,e,n,r){const i=Dpe(n),o=n.enter("emphasis"),s=n.createTracker(r);let a=s.move(i);return a+=s.move(n.containerPhrasing(t,{before:a,after:i,...s.current()})),a+=s.move(i),o(),a}function Mpe(t,e,n){return n.options.emphasis||"*"}const tA=function(t){if(t==null)return Fpe;if(typeof t=="function")return m_(t);if(typeof t=="object")return Array.isArray(t)?Npe(t):Lpe(t);if(typeof t=="string")return Ope(t);throw new Error("Expected function, string, or object as test")};function Npe(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=tA(t[n]);return m_(r);function r(...i){let o=-1;for(;++o<e.length;)if(e[o].apply(this,i))return!0;return!1}}function Lpe(t){const e=t;return m_(n);function n(r){const i=r;let o;for(o in t)if(i[o]!==e[o])return!1;return!0}}function Ope(t){return m_(e);function e(n){return n&&n.type===t}}function m_(t){return e;function e(n,r,i){return!!(Bpe(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Fpe(){return!0}function Bpe(t){return t!==null&&typeof t=="object"&&"type"in t}const Lz=[],Vpe=!0,CE=!1,zpe="skip";function jpe(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const o=tA(i),s=r?-1:1;a(t,void 0,[])();function a(l,c,u){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const d=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(l.type+(d?"<"+d+">":""))+")"})}return f;function f(){let d=Lz,p,m,v;if((!e||o(l,c,u[u.length-1]||void 0))&&(d=$pe(n(l,u)),d[0]===CE))return d;if("children"in l&&l.children){const x=l;if(x.children&&d[0]!==zpe)for(m=(r?x.children.length:-1)+s,v=u.concat(x);m>-1&&m<x.children.length;){const y=x.children[m];if(p=a(y,m,v)(),p[0]===CE)return p;m=typeof p[1]=="number"?p[1]:m+s}}return d}}}function $pe(t){return Array.isArray(t)?t:typeof t=="number"?[Vpe,t]:t==null?Lz:[t]}function Hpe(t,e,n,r){let i,o,s;typeof e=="function"&&typeof n!="function"?(o=void 0,s=e,i=n):(o=e,s=n,i=r),jpe(t,o,a,i);function a(l,c){const u=c[c.length-1],h=u?u.children.indexOf(l):void 0;return s(l,h,u)}}const Upe={};function nA(t,e){const n=Upe,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Oz(t,r,i)}function Oz(t,e,n){if(Wpe(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return yR(t.children,e,n)}return Array.isArray(t)?yR(t,e,n):""}function yR(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=Oz(t[i],e,n);return r.join("")}function Wpe(t){return!!(t&&typeof t=="object")}function Fz(t,e){let n=!1;return Hpe(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,CE}),!!((!t.depth||t.depth<3)&&nA(t)&&(e.options.setext||n))}function qpe(t,e,n,r){const i=Math.max(Math.min(6,t.depth||1),1),o=n.createTracker(r);if(Fz(t,n)){const u=n.enter("headingSetext"),h=n.enter("phrasing"),f=n.containerPhrasing(t,{...o.current(),before:`
`,after:`
`});return h(),u(),f+`
`+(i===1?"=":"-").repeat(f.length-(Math.max(f.lastIndexOf("\r"),f.lastIndexOf(`
`))+1))}const s="#".repeat(i),a=n.enter("headingAtx"),l=n.enter("phrasing");o.move(s+" ");let c=n.containerPhrasing(t,{before:"# ",after:`
`,...o.current()});return/^[\t ]/.test(c)&&(c="&#x"+c.charCodeAt(0).toString(16).toUpperCase()+";"+c.slice(1)),c=c?s+" "+c:s,n.options.closeAtx&&(c+=" "+s),l(),a(),c}Bz.peek=Kpe;function Bz(t){return t.value||""}function Kpe(){return"<"}Vz.peek=Gpe;function Vz(t,e,n,r){const i=eA(n),o=i==='"'?"Quote":"Apostrophe",s=n.enter("image");let a=n.enter("label");const l=n.createTracker(r);let c=l.move("![");return c+=l.move(n.safe(t.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),a(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(a=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(t.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(a=n.enter("destinationRaw"),c+=l.move(n.safe(t.url,{before:c,after:t.title?" ":")",...l.current()}))),a(),t.title&&(a=n.enter(`title${o}`),c+=l.move(" "+i),c+=l.move(n.safe(t.title,{before:c,after:i,...l.current()})),c+=l.move(i),a()),c+=l.move(")"),s(),c}function Gpe(){return"!"}zz.peek=Jpe;function zz(t,e,n,r){const i=t.referenceType,o=n.enter("imageReference");let s=n.enter("label");const a=n.createTracker(r);let l=a.move("![");const c=n.safe(t.alt,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),s();const u=n.stack;n.stack=[],s=n.enter("reference");const h=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return s(),n.stack=u,o(),i==="full"||!c||c!==h?l+=a.move(h+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function Jpe(){return"!"}jz.peek=Qpe;function jz(t,e,n){let r=t.value||"",i="`",o=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++o<n.unsafe.length;){const s=n.unsafe[o],a=n.compilePattern(s);let l;if(s.atBreak)for(;l=a.exec(r);){let c=l.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(l.index+1)}}return i+r+i}function Qpe(){return"`"}function $z(t,e){const n=nA(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}Hz.peek=Ype;function Hz(t,e,n,r){const i=eA(n),o=i==='"'?"Quote":"Apostrophe",s=n.createTracker(r);let a,l;if($z(t,n)){const u=n.stack;n.stack=[],a=n.enter("autolink");let h=s.move("<");return h+=s.move(n.containerPhrasing(t,{before:h,after:">",...s.current()})),h+=s.move(">"),a(),n.stack=u,h}a=n.enter("link"),l=n.enter("label");let c=s.move("[");return c+=s.move(n.containerPhrasing(t,{before:c,after:"](",...s.current()})),c+=s.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),c+=s.move("<"),c+=s.move(n.safe(t.url,{before:c,after:">",...s.current()})),c+=s.move(">")):(l=n.enter("destinationRaw"),c+=s.move(n.safe(t.url,{before:c,after:t.title?" ":")",...s.current()}))),l(),t.title&&(l=n.enter(`title${o}`),c+=s.move(" "+i),c+=s.move(n.safe(t.title,{before:c,after:i,...s.current()})),c+=s.move(i),l()),c+=s.move(")"),a(),c}function Ype(t,e,n){return $z(t,n)?"<":"["}Uz.peek=Xpe;function Uz(t,e,n,r){const i=t.referenceType,o=n.enter("linkReference");let s=n.enter("label");const a=n.createTracker(r);let l=a.move("[");const c=n.containerPhrasing(t,{before:l,after:"]",...a.current()});l+=a.move(c+"]["),s();const u=n.stack;n.stack=[],s=n.enter("reference");const h=n.safe(n.associationId(t),{before:l,after:"]",...a.current()});return s(),n.stack=u,o(),i==="full"||!c||c!==h?l+=a.move(h+"]"):i==="shortcut"?l=l.slice(0,-1):l+=a.move("]"),l}function Xpe(){return"["}function rA(t){const e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function Zpe(t){const e=rA(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function e0e(t){const e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function Wz(t){const e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function t0e(t,e,n,r){const i=n.enter("list"),o=n.bulletCurrent;let s=t.ordered?e0e(n):rA(n);const a=t.ordered?s==="."?")":".":Zpe(n);let l=e&&n.bulletLastUsed?s===n.bulletLastUsed:!1;if(!t.ordered){const u=t.children?t.children[0]:void 0;if((s==="*"||s==="-")&&u&&(!u.children||!u.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),Wz(n)===s&&u){let h=-1;for(;++h<t.children.length;){const f=t.children[h];if(f&&f.type==="listItem"&&f.children&&f.children[0]&&f.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(s=a),n.bulletCurrent=s;const c=n.containerFlow(t,r);return n.bulletLastUsed=s,n.bulletCurrent=o,i(),c}function n0e(t){const e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function r0e(t,e,n,r){const i=n0e(n);let o=n.bulletCurrent||rA(n);e&&e.type==="list"&&e.ordered&&(o=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+o);let s=o.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(s=Math.ceil(s/4)*4);const a=n.createTracker(r);a.move(o+" ".repeat(s-o.length)),a.shift(s);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(t,a.current()),u);return l(),c;function u(h,f,d){return f?(d?"":" ".repeat(s))+h:(d?o:o+" ".repeat(s-o.length))+h}}function i0e(t,e,n,r){const i=n.enter("paragraph"),o=n.enter("phrasing"),s=n.containerPhrasing(t,r);return o(),i(),s}const o0e=tA(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function s0e(t,e,n,r){return(t.children.some(function(s){return o0e(s)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function a0e(t){const e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}qz.peek=l0e;function qz(t,e,n,r){const i=a0e(n),o=n.enter("strong"),s=n.createTracker(r);let a=s.move(i+i);return a+=s.move(n.containerPhrasing(t,{before:a,after:i,...s.current()})),a+=s.move(i+i),o(),a}function l0e(t,e,n){return n.options.strong||"*"}function c0e(t,e,n,r){return n.safe(t.value,r)}function u0e(t){const e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function h0e(t,e,n){const r=(Wz(n)+(n.options.ruleSpaces?" ":"")).repeat(u0e(n));return n.options.ruleSpaces?r.slice(0,-1):r}const iA={blockquote:Spe,break:vR,code:Ipe,definition:Ppe,emphasis:Nz,hardBreak:vR,heading:qpe,html:Bz,image:Vz,imageReference:zz,inlineCode:jz,link:Hz,linkReference:Uz,list:t0e,listItem:r0e,paragraph:i0e,root:s0e,strong:qz,text:c0e,thematicBreak:h0e},f0e=[d0e];function d0e(t,e,n,r){if(e.type==="code"&&wE(e,r)&&(t.type==="list"||t.type===e.type&&wE(t,r)))return!1;if("spread"in n&&typeof n.spread=="boolean")return t.type==="paragraph"&&(t.type===e.type||e.type==="definition"||e.type==="heading"&&Fz(e,r))?void 0:n.spread?1:0}const Sc=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],p0e=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:Sc},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:Sc},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:Sc},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:Sc},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:Sc},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:Sc},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:Sc},{atBreak:!0,character:"~"}];function Kz(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}const m0e=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Gz(t){return t.replace(m0e,g0e)}function g0e(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),o=i===120||i===88;return Kz(n.slice(o?2:1),o?16:10)}return S0(n)||t}function x0e(t){return t.label||!t.identifier?t.label||"":Gz(t.identifier)}function v0e(t){if(!t._compiled){const e=(t.atBreak?"[\\r\\n][\\t ]*":"")+(t.before?"(?:"+t.before+")":"");t._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(t.character)?"\\":"")+t.character+(t.after?"(?:"+t.after+")":""),"g")}return t._compiled}function y0e(t,e,n){const r=e.indexStack,i=t.children||[],o=[];let s=-1,a=n.before;r.push(-1);let l=e.createTracker(n);for(;++s<i.length;){const c=i[s];let u;if(r[r.length-1]=s,s+1<i.length){let h=e.handle.handlers[i[s+1].type];h&&h.peek&&(h=h.peek),u=h?h(i[s+1],t,e,{before:"",after:"",...l.current()}).charAt(0):""}else u=n.after;o.length>0&&(a==="\r"||a===`
`)&&c.type==="html"&&(o[o.length-1]=o[o.length-1].replace(/(\r?\n|\r)$/," "),a=" ",l=e.createTracker(n),l.move(o.join(""))),o.push(l.move(e.handle(c,t,e,{...l.current(),before:a,after:u}))),a=o[o.length-1].slice(-1)}return r.pop(),o.join("")}function _0e(t,e,n){const r=e.indexStack,i=t.children||[],o=e.createTracker(n),s=[];let a=-1;for(r.push(-1);++a<i.length;){const l=i[a];r[r.length-1]=a,s.push(o.move(e.handle(l,t,e,{before:`
`,after:`
`,...o.current()}))),l.type!=="list"&&(e.bulletLastUsed=void 0),a<i.length-1&&s.push(o.move(w0e(l,i[a+1],t,e)))}return r.pop(),s.join("")}function w0e(t,e,n,r){let i=r.join.length;for(;i--;){const o=r.join[i](t,e,n,r);if(o===!0||o===1)break;if(typeof o=="number")return`
`.repeat(1+o);if(o===!1)return`

<!---->

`}return`

`}const C0e=/\r?\n|\r/g;function b0e(t,e){const n=[];let r=0,i=0,o;for(;o=C0e.exec(t);)s(t.slice(r,o.index)),n.push(o[0]),r=o.index+o[0].length,i++;return s(t.slice(r)),n.join("");function s(a){n.push(e(a,i,!a))}}function E0e(t,e,n){const r=(n.before||"")+(e||"")+(n.after||""),i=[],o=[],s={};let a=-1;for(;++a<t.unsafe.length;){const u=t.unsafe[a];if(!Mz(t.stack,u))continue;const h=t.compilePattern(u);let f;for(;f=h.exec(r);){const d="before"in u||!!u.atBreak,p="after"in u,m=f.index+(d?f[1].length:0);i.includes(m)?(s[m].before&&!d&&(s[m].before=!1),s[m].after&&!p&&(s[m].after=!1)):(i.push(m),s[m]={before:d,after:p})}}i.sort(S0e);let l=n.before?n.before.length:0;const c=r.length-(n.after?n.after.length:0);for(a=-1;++a<i.length;){const u=i[a];u<l||u>=c||u+1<c&&i[a+1]===u+1&&s[u].after&&!s[u+1].before&&!s[u+1].after||i[a-1]===u-1&&s[u].before&&!s[u-1].before&&!s[u-1].after||(l!==u&&o.push(_R(r.slice(l,u),"\\")),l=u,/[!-/:-@[-`{-~]/.test(r.charAt(u))&&(!n.encode||!n.encode.includes(r.charAt(u)))?o.push("\\"):(o.push("&#x"+r.charCodeAt(u).toString(16).toUpperCase()+";"),l++))}return o.push(_R(r.slice(l,c),n.after)),o.join("")}function S0e(t,e){return t-e}function _R(t,e){const n=/\\(?=[!-/:-@[-`{-~])/g,r=[],i=[],o=t+e;let s=-1,a=0,l;for(;l=n.exec(o);)r.push(l.index);for(;++s<r.length;)a!==r[s]&&i.push(t.slice(a,r[s])),i.push("\\"),a=r[s];return i.push(t.slice(a)),i.join("")}function k0e(t){const e=t||{},n=e.now||{};let r=e.lineShift||0,i=n.line||1,o=n.column||1;return{move:l,current:s,shift:a};function s(){return{now:{line:i,column:o},lineShift:r}}function a(c){r+=c}function l(c){const u=c||"",h=u.split(/\r?\n|\r/g),f=h[h.length-1];return i+=h.length-1,o=h.length===1?o+f.length:1+f.length+r,u}}function Jz(t,e={}){const n={enter:i,indentLines:b0e,associationId:x0e,containerPhrasing:R0e,containerFlow:P0e,createTracker:k0e,compilePattern:v0e,safe:D0e,stack:[],unsafe:[...p0e],join:[...f0e],handlers:{...iA},options:{},indexStack:[],handle:void 0};Dz(n,e),n.options.tightDefinitions&&n.join.push(I0e),n.handle=Cpe("type",{invalid:T0e,unknown:A0e,handlers:n.handlers});let r=n.handle(t,void 0,n,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return r&&r.charCodeAt(r.length-1)!==10&&r.charCodeAt(r.length-1)!==13&&(r+=`
`),r;function i(o){return n.stack.push(o),s;function s(){n.stack.pop()}}}function T0e(t){throw new Error("Cannot handle value `"+t+"`, expected node")}function A0e(t){const e=t;throw new Error("Cannot handle unknown node `"+e.type+"`")}function I0e(t,e){if(t.type==="definition"&&t.type===e.type)return 0}function R0e(t,e){return y0e(t,this,e)}function P0e(t,e){return _0e(t,this,e)}function D0e(t,e){return E0e(this,t,e)}const M0e=["mdxJsxTextElement","mdxJsxFlowElement"];function Qz(t){return M0e.includes(t.type)&&N0e.includes(t.name.toLowerCase())}const N0e=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","input","ins","kbd","label","legend","li","link","main","map","mark","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function L0e(t,e){const n=wR(t),r=wR(e),i={...n,...r};return O0e(i)}function wR(t){const e={};return t.split(";").filter(r=>r.trim()!=="").forEach(r=>{const[i,o]=r.split(":").map(s=>s.trim());e[i]=o}),e}function O0e(t){return Object.entries(t).map(([e,n])=>`${e}: ${n}`).join("; ")}function F0e(t){return t.children instanceof Array}function Yz({root:t,visitors:e,jsxComponentDescriptors:n,jsxIsAvailable:r,addImportStatements:i=!0}){let o=null;const s=new Set;e=e.sort((v,x)=>(x.priority??0)-(v.priority??0)),u(t,null);function a(v){s.add(v)}function l(v,x){if(o===null)return o=x,o;if(!F0e(v))throw new Error("Attempting to append children to a non-parent");const y=v.children,_=y.at(-1);if(_){const C=e.find(S=>{var T;return(T=S.shouldJoin)==null?void 0:T.call(S,_,x)});if(C){const S=C.join(_,x);return y.splice(y.length-1,1,S),S}}return y.push(x),x}function c(v,x){v.getChildren().forEach(y=>{u(y,x)})}function u(v,x){var y;const _=e.find(C=>{var S;return(S=C.testLexicalNode)==null?void 0:S.call(C,v)});if(!_)throw new Error(`no lexical visitor found for ${v.getType()}`,{cause:v});(y=_.visitLexicalNode)==null||y.call(_,{lexicalNode:v,mdastParent:x,actions:{addAndStepInto(C,S={},T=!0){const b={type:C,...S,...T?{children:[]}:{}};l(x,b),oe(v)&&T&&c(v,b)},appendToParent:l,visitChildren:c,registerReferredComponent:a}})}if(o===null)throw new Error("traversal ended with no root element");const h=new Map,f=new Map;for(const v of s){const x=n.find(y=>y.name===v);if(!x)throw new Error(`Component ${v} is used but not imported`);if(x.source)if(x.defaultExport)f.set(v,x.source);else{const{source:y}=x,_=h.get(y);_?_.push(v):h.set(y,[v])}}const d=Array.from(h).map(([v,x])=>({type:"mdxjsEsm",value:`import { ${x.join(", ")} } from '${v}'`}));d.push(...Array.from(f).map(([v,x])=>({type:"mdxjsEsm",value:`import ${v} from '${x}'`})));const p=o,m=p.children.find(v=>v.type==="yaml");return i&&(m?p.children.splice(p.children.indexOf(m)+1,0,...d):p.children.unshift(...d)),H1(p,[]),Xz(p),r||Zz(p),p}function Xz(t){if("children"in t&&t.children.length>0){if(Qz(t)&&t.children.length===1){const e=t.children[0];e.type==="mdxJsxTextElement"&&e.name==="span"&&(e.attributes.forEach(n=>{if(n.type==="mdxJsxAttribute"){const r=t.attributes.find(i=>i.type==="mdxJsxAttribute"&&i.name===n.name);if(r)if(n.name==="className"){const i=new Set([...r.value.split(" "),...n.value.split(" ")]);r.value=Array.from(i).join(" ")}else n.name==="style"&&(r.value=L0e(r.value,n.value));else t.attributes.push(n)}}),t.children=e.children)}t.children.forEach(e=>{Xz(e)})}}function Zz(t){if(Object.hasOwn(t,"children")){const e=t,n=[];e.children.forEach(r=>{r.type==="mdxJsxTextElement"&&r.name==="u"?n.push({type:"html",value:"<u>"},...r.children,{type:"html",value:"</u>"}):(n.push(r),Zz(r))}),e.children=n}}const CR=/\s+$/,bR=/^\s+/;function H1(t,e){if(t.type==="strong"||t.type==="emphasis"){const n=t.children.at(-1);if((n==null?void 0:n.type)==="text"){const i=n.value.match(CR);if(i){n.value=n.value.replace(CR,"");const o=e.at(-1);o&&(o.children.splice(o.children.indexOf(t)+1,0,{type:"text",value:i[0]}),H1(o,e.slice(0,-1)))}}const r=t.children.at(0);if((r==null?void 0:r.type)==="text"){const i=r.value.match(bR);if(i){r.value=r.value.replace(bR,"");const o=e.at(-1);o&&(o.children.splice(o.children.indexOf(t),0,{type:"text",value:i[0]}),H1(o,e.slice(0,-1)))}}}if("children"in t&&t.children.length>0){const n=t;n.children.forEach(r=>{H1(r,[...e,n])})}}function B0e({root:t,toMarkdownOptions:e,toMarkdownExtensions:n,visitors:r,jsxComponentDescriptors:i,jsxIsAvailable:o}){return Jz(Yz({root:t,visitors:r,jsxComponentDescriptors:i,jsxIsAvailable:o}),{extensions:n,...e})+`
`}const ER={}.hasOwnProperty;function V0e(t){const e={};let n=-1;for(;++n<t.length;)z0e(e,t[n]);return e}function z0e(t,e){let n;for(n in e){const i=(ER.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let s;if(o)for(s in o){ER.call(i,s)||(i[s]=[]);const a=o[s];j0e(i[s],Array.isArray(a)?a:a?[a]:[])}}}function j0e(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);oo(t,0,0,r)}function Gh(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const $0e={tokenize:H0e};function H0e(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),gt(t,e,"linePrefix")}function i(a){return t.enter("paragraph"),o(a)}function o(a){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(a)}function s(a){if(a===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(a);return}return De(a)?(t.consume(a),t.exit("chunkText"),o):(t.consume(a),s)}}const U0e={tokenize:W0e},SR={tokenize:q0e};function W0e(t){const e=this,n=[];let r=0,i,o,s;return a;function a(_){if(r<n.length){const C=n[r];return e.containerState=C[1],t.attempt(C[0].continuation,l,c)(_)}return c(_)}function l(_){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&y();const C=e.events.length;let S=C,T;for(;S--;)if(e.events[S][0]==="exit"&&e.events[S][1].type==="chunkFlow"){T=e.events[S][1].end;break}x(r);let b=C;for(;b<e.events.length;)e.events[b][1].end=Object.assign({},T),b++;return oo(e.events,S+1,0,e.events.slice(C)),e.events.length=b,c(_)}return a(_)}function c(_){if(r===n.length){if(!i)return f(_);if(i.currentConstruct&&i.currentConstruct.concrete)return p(_);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(SR,u,h)(_)}function u(_){return i&&y(),x(r),f(_)}function h(_){return e.parser.lazy[e.now().line]=r!==n.length,s=e.now().offset,p(_)}function f(_){return e.containerState={},t.attempt(SR,d,p)(_)}function d(_){return r++,n.push([e.currentConstruct,e.containerState]),f(_)}function p(_){if(_===null){i&&y(),x(0),t.consume(_);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{contentType:"flow",previous:o,_tokenizer:i}),m(_)}function m(_){if(_===null){v(t.exit("chunkFlow"),!0),x(0),t.consume(_);return}return De(_)?(t.consume(_),v(t.exit("chunkFlow")),r=0,e.interrupt=void 0,a):(t.consume(_),m)}function v(_,C){const S=e.sliceStream(_);if(C&&S.push(null),_.previous=o,o&&(o.next=_),o=_,i.defineSkip(_.start),i.write(S),e.parser.lazy[_.start.line]){let T=i.events.length;for(;T--;)if(i.events[T][1].start.offset<s&&(!i.events[T][1].end||i.events[T][1].end.offset>s))return;const b=e.events.length;let w=b,I,E;for(;w--;)if(e.events[w][0]==="exit"&&e.events[w][1].type==="chunkFlow"){if(I){E=e.events[w][1].end;break}I=!0}for(x(r),T=b;T<e.events.length;)e.events[T][1].end=Object.assign({},E),T++;oo(e.events,w+1,0,e.events.slice(b)),e.events.length=T}}function x(_){let C=n.length;for(;C-- >_;){const S=n[C];e.containerState=S[1],S[0].exit.call(e,t)}n.length=_}function y(){i.write([null]),o=void 0,i=void 0,e.containerState._closeFlow=void 0}}function q0e(t,e,n){return gt(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}const bE={name:"attention",tokenize:G0e,resolveAll:K0e};function K0e(t,e){let n=-1,r,i,o,s,a,l,c,u;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const h=Object.assign({},t[r][1].end),f=Object.assign({},t[n][1].start);kR(h,-l),kR(f,l),s={type:l>1?"strongSequence":"emphasisSequence",start:h,end:Object.assign({},t[r][1].end)},a={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[n][1].start),end:f},o={type:l>1?"strongText":"emphasisText",start:Object.assign({},t[r][1].end),end:Object.assign({},t[n][1].start)},i={type:l>1?"strong":"emphasis",start:Object.assign({},s.start),end:Object.assign({},a.end)},t[r][1].end=Object.assign({},s.start),t[n][1].start=Object.assign({},a.end),c=[],t[r][1].end.offset-t[r][1].start.offset&&(c=Ji(c,[["enter",t[r][1],e],["exit",t[r][1],e]])),c=Ji(c,[["enter",i,e],["enter",s,e],["exit",s,e],["enter",o,e]]),c=Ji(c,p_(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),c=Ji(c,[["exit",o,e],["enter",a,e],["exit",a,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(u=2,c=Ji(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):u=0,oo(t,r-1,n-r+3,c),n=r+c.length-u-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function G0e(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=dv(r);let o;return s;function s(l){return o=l,t.enter("attentionSequence"),a(l)}function a(l){if(l===o)return t.consume(l),a;const c=t.exit("attentionSequence"),u=dv(l),h=!u||u===2&&i||n.includes(l),f=!i||i===2&&u||n.includes(r);return c._open=!!(o===42?h:h&&(i||!f)),c._close=!!(o===42?f:f&&(u||!h)),e(l)}}function kR(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const J0e={name:"autolink",tokenize:Q0e};function Q0e(t,e,n){let r=0;return i;function i(d){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(d),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(d){return is(d)?(t.consume(d),s):d===64?n(d):c(d)}function s(d){return d===43||d===45||d===46||Io(d)?(r=1,a(d)):c(d)}function a(d){return d===58?(t.consume(d),r=0,l):(d===43||d===45||d===46||Io(d))&&r++<32?(t.consume(d),a):(r=0,c(d))}function l(d){return d===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(d),t.exit("autolinkMarker"),t.exit("autolink"),e):d===null||d===32||d===60||vE(d)?n(d):(t.consume(d),l)}function c(d){return d===64?(t.consume(d),u):Cde(d)?(t.consume(d),c):n(d)}function u(d){return Io(d)?h(d):n(d)}function h(d){return d===46?(t.consume(d),r=0,u):d===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(d),t.exit("autolinkMarker"),t.exit("autolink"),e):f(d)}function f(d){if((d===45||Io(d))&&r++<63){const p=d===45?f:h;return t.consume(d),p}return n(d)}}const g_={tokenize:Y0e,partial:!0};function Y0e(t,e,n){return r;function r(o){return rt(o)?gt(t,i,"linePrefix")(o):i(o)}function i(o){return o===null||De(o)?e(o):n(o)}}const ej={name:"blockQuote",tokenize:X0e,continuation:{tokenize:Z0e},exit:eme};function X0e(t,e,n){const r=this;return i;function i(s){if(s===62){const a=r.containerState;return a.open||(t.enter("blockQuote",{_container:!0}),a.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(s),t.exit("blockQuoteMarker"),o}return n(s)}function o(s){return rt(s)?(t.enter("blockQuotePrefixWhitespace"),t.consume(s),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(s))}}function Z0e(t,e,n){const r=this;return i;function i(s){return rt(s)?gt(t,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):o(s)}function o(s){return t.attempt(ej,e,n)(s)}}function eme(t){t.exit("blockQuote")}const tj={name:"characterEscape",tokenize:tme};function tme(t,e,n){return r;function r(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),i}function i(o){return Ede(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const nj={name:"characterReference",tokenize:nme};function nme(t,e,n){const r=this;let i=0,o,s;return a;function a(h){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),l}function l(h){return h===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(h),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),o=31,s=Io,u(h))}function c(h){return h===88||h===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(h),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,s=bde,u):(t.enter("characterReferenceValue"),o=7,s=yE,u(h))}function u(h){if(h===59&&i){const f=t.exit("characterReferenceValue");return s===Io&&!S0(r.sliceSerialize(f))?n(h):(t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return s(h)&&i++<o?(t.consume(h),u):n(h)}}const TR={tokenize:ime,partial:!0},AR={name:"codeFenced",tokenize:rme,concrete:!0};function rme(t,e,n){const r=this,i={tokenize:S,partial:!0};let o=0,s=0,a;return l;function l(T){return c(T)}function c(T){const b=r.events[r.events.length-1];return o=b&&b[1].type==="linePrefix"?b[2].sliceSerialize(b[1],!0).length:0,a=T,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),u(T)}function u(T){return T===a?(s++,t.consume(T),u):s<3?n(T):(t.exit("codeFencedFenceSequence"),rt(T)?gt(t,h,"whitespace")(T):h(T))}function h(T){return T===null||De(T)?(t.exit("codeFencedFence"),r.interrupt?e(T):t.check(TR,m,C)(T)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),f(T))}function f(T){return T===null||De(T)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),h(T)):rt(T)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),gt(t,d,"whitespace")(T)):T===96&&T===a?n(T):(t.consume(T),f)}function d(T){return T===null||De(T)?h(T):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),p(T))}function p(T){return T===null||De(T)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),h(T)):T===96&&T===a?n(T):(t.consume(T),p)}function m(T){return t.attempt(i,C,v)(T)}function v(T){return t.enter("lineEnding"),t.consume(T),t.exit("lineEnding"),x}function x(T){return o>0&&rt(T)?gt(t,y,"linePrefix",o+1)(T):y(T)}function y(T){return T===null||De(T)?t.check(TR,m,C)(T):(t.enter("codeFlowValue"),_(T))}function _(T){return T===null||De(T)?(t.exit("codeFlowValue"),y(T)):(t.consume(T),_)}function C(T){return t.exit("codeFenced"),e(T)}function S(T,b,w){let I=0;return E;function E($){return T.enter("lineEnding"),T.consume($),T.exit("lineEnding"),R}function R($){return T.enter("codeFencedFence"),rt($)?gt(T,D,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)($):D($)}function D($){return $===a?(T.enter("codeFencedFenceSequence"),N($)):w($)}function N($){return $===a?(I++,T.consume($),N):I>=s?(T.exit("codeFencedFenceSequence"),rt($)?gt(T,z,"whitespace")($):z($)):w($)}function z($){return $===null||De($)?(T.exit("codeFencedFence"),b($)):w($)}}}function ime(t,e,n){const r=this;return i;function i(s){return s===null?n(s):(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),o)}function o(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}const H2={name:"codeIndented",tokenize:sme},ome={tokenize:ame,partial:!0};function sme(t,e,n){const r=this;return i;function i(c){return t.enter("codeIndented"),gt(t,o,"linePrefix",5)(c)}function o(c){const u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?s(c):n(c)}function s(c){return c===null?l(c):De(c)?t.attempt(ome,s,l)(c):(t.enter("codeFlowValue"),a(c))}function a(c){return c===null||De(c)?(t.exit("codeFlowValue"),s(c)):(t.consume(c),a)}function l(c){return t.exit("codeIndented"),e(c)}}function ame(t,e,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):De(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),i):gt(t,o,"linePrefix",5)(s)}function o(s){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(s):De(s)?i(s):n(s)}}const lme={name:"codeText",tokenize:hme,resolve:cme,previous:ume};function cme(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function ume(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function hme(t,e,n){let r=0,i,o;return s;function s(h){return t.enter("codeText"),t.enter("codeTextSequence"),a(h)}function a(h){return h===96?(t.consume(h),r++,a):(t.exit("codeTextSequence"),l(h))}function l(h){return h===null?n(h):h===32?(t.enter("space"),t.consume(h),t.exit("space"),l):h===96?(o=t.enter("codeTextSequence"),i=0,u(h)):De(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(h))}function c(h){return h===null||h===32||h===96||De(h)?(t.exit("codeTextData"),l(h)):(t.consume(h),c)}function u(h){return h===96?(t.consume(h),i++,u):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(h)):(o.type="codeTextData",c(h))}}class fme{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Pd(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Pd(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Pd(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);Pd(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Pd(this.left,n.reverse())}}}function Pd(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function rj(t){const e={};let n=-1,r,i,o,s,a,l,c;const u=new fme(t);for(;++n<u.length;){for(;n in e;)n=e[n];if(r=u.get(n),n&&r[1].type==="chunkFlow"&&u.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,o=0,o<l.length&&l[o][1].type==="lineEndingBlank"&&(o+=2),o<l.length&&l[o][1].type==="content"))for(;++o<l.length&&l[o][1].type!=="content";)l[o][1].type==="chunkText"&&(l[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,dme(u,n)),n=e[n],c=!0);else if(r[1]._container){for(o=n,i=void 0;o--&&(s=u.get(o),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank");)s[0]==="enter"&&(i&&(u.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=o);i&&(r[1].end=Object.assign({},u.get(i)[1].start),a=u.slice(i,n),a.unshift(r),u.splice(i,n-i+1,a))}}return oo(t,0,Number.POSITIVE_INFINITY,u.slice(0)),!c}function dme(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const o=[],s=n._tokenizer||r.parser[n.contentType](n.start),a=s.events,l=[],c={};let u,h,f=-1,d=n,p=0,m=0;const v=[m];for(;d;){for(;t.get(++i)[1]!==d;);o.push(i),d._tokenizer||(u=r.sliceStream(d),d.next||u.push(null),h&&s.defineSkip(d.start),d._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(u),d._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),h=d,d=d.next}for(d=n;++f<a.length;)a[f][0]==="exit"&&a[f-1][0]==="enter"&&a[f][1].type===a[f-1][1].type&&a[f][1].start.line!==a[f][1].end.line&&(m=f+1,v.push(m),d._tokenizer=void 0,d.previous=void 0,d=d.next);for(s.events=[],d?(d._tokenizer=void 0,d.previous=void 0):v.pop(),f=v.length;f--;){const x=a.slice(v[f],v[f+1]),y=o.pop();l.push([y,y+x.length-1]),t.splice(y,2,x)}for(l.reverse(),f=-1;++f<l.length;)c[p+l[f][0]]=p+l[f][1],p+=l[f][1]-l[f][0]-1;return c}const pme={tokenize:xme,resolve:gme},mme={tokenize:vme,partial:!0};function gme(t){return rj(t),t}function xme(t,e){let n;return r;function r(a){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(a)}function i(a){return a===null?o(a):De(a)?t.check(mme,s,o)(a):(t.consume(a),i)}function o(a){return t.exit("chunkContent"),t.exit("content"),e(a)}function s(a){return t.consume(a),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function vme(t,e,n){const r=this;return i;function i(s){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),gt(t,o,"linePrefix")}function o(s){if(s===null||De(s))return n(s);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(s):t.interrupt(r.parser.constructs.flow,n,e)(s)}}function ij(t,e,n,r,i,o,s,a,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return h;function h(x){return x===60?(t.enter(r),t.enter(i),t.enter(o),t.consume(x),t.exit(o),f):x===null||x===32||x===41||vE(x)?n(x):(t.enter(r),t.enter(s),t.enter(a),t.enter("chunkString",{contentType:"string"}),m(x))}function f(x){return x===62?(t.enter(o),t.consume(x),t.exit(o),t.exit(i),t.exit(r),e):(t.enter(a),t.enter("chunkString",{contentType:"string"}),d(x))}function d(x){return x===62?(t.exit("chunkString"),t.exit(a),f(x)):x===null||x===60||De(x)?n(x):(t.consume(x),x===92?p:d)}function p(x){return x===60||x===62||x===92?(t.consume(x),d):d(x)}function m(x){return!u&&(x===null||x===41||en(x))?(t.exit("chunkString"),t.exit(a),t.exit(s),t.exit(r),e(x)):u<c&&x===40?(t.consume(x),u++,m):x===41?(t.consume(x),u--,m):x===null||x===32||x===40||vE(x)?n(x):(t.consume(x),x===92?v:m)}function v(x){return x===40||x===41||x===92?(t.consume(x),m):m(x)}}function oj(t,e,n,r,i,o){const s=this;let a=0,l;return c;function c(d){return t.enter(r),t.enter(i),t.consume(d),t.exit(i),t.enter(o),u}function u(d){return a>999||d===null||d===91||d===93&&!l||d===94&&!a&&"_hiddenFootnoteSupport"in s.parser.constructs?n(d):d===93?(t.exit(o),t.enter(i),t.consume(d),t.exit(i),t.exit(r),e):De(d)?(t.enter("lineEnding"),t.consume(d),t.exit("lineEnding"),u):(t.enter("chunkString",{contentType:"string"}),h(d))}function h(d){return d===null||d===91||d===93||De(d)||a++>999?(t.exit("chunkString"),u(d)):(t.consume(d),l||(l=!rt(d)),d===92?f:h)}function f(d){return d===91||d===92||d===93?(t.consume(d),a++,h):h(d)}}function sj(t,e,n,r,i,o){let s;return a;function a(f){return f===34||f===39||f===40?(t.enter(r),t.enter(i),t.consume(f),t.exit(i),s=f===40?41:f,l):n(f)}function l(f){return f===s?(t.enter(i),t.consume(f),t.exit(i),t.exit(r),e):(t.enter(o),c(f))}function c(f){return f===s?(t.exit(o),l(s)):f===null?n(f):De(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),gt(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),u(f))}function u(f){return f===s||f===null||De(f)?(t.exit("chunkString"),c(f)):(t.consume(f),f===92?h:u)}function h(f){return f===s||f===92?(t.consume(f),u):u(f)}}function Sp(t,e){let n;return r;function r(i){return De(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):rt(i)?gt(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const yme={name:"definition",tokenize:wme},_me={tokenize:Cme,partial:!0};function wme(t,e,n){const r=this;let i;return o;function o(d){return t.enter("definition"),s(d)}function s(d){return oj.call(r,t,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(d)}function a(d){return i=Gh(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),d===58?(t.enter("definitionMarker"),t.consume(d),t.exit("definitionMarker"),l):n(d)}function l(d){return en(d)?Sp(t,c)(d):c(d)}function c(d){return ij(t,u,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(d)}function u(d){return t.attempt(_me,h,h)(d)}function h(d){return rt(d)?gt(t,f,"whitespace")(d):f(d)}function f(d){return d===null||De(d)?(t.exit("definition"),r.parser.defined.push(i),e(d)):n(d)}}function Cme(t,e,n){return r;function r(a){return en(a)?Sp(t,i)(a):n(a)}function i(a){return sj(t,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function o(a){return rt(a)?gt(t,s,"whitespace")(a):s(a)}function s(a){return a===null||De(a)?e(a):n(a)}}const bme={name:"hardBreakEscape",tokenize:Eme};function Eme(t,e,n){return r;function r(o){return t.enter("hardBreakEscape"),t.consume(o),i}function i(o){return De(o)?(t.exit("hardBreakEscape"),e(o)):n(o)}}const Sme={name:"headingAtx",tokenize:Tme,resolve:kme};function kme(t,e){let n=t.length-2,r=3,i,o;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},o={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},oo(t,r,n-r+1,[["enter",i,e],["enter",o,e],["exit",o,e],["exit",i,e]])),t}function Tme(t,e,n){let r=0;return i;function i(u){return t.enter("atxHeading"),o(u)}function o(u){return t.enter("atxHeadingSequence"),s(u)}function s(u){return u===35&&r++<6?(t.consume(u),s):u===null||en(u)?(t.exit("atxHeadingSequence"),a(u)):n(u)}function a(u){return u===35?(t.enter("atxHeadingSequence"),l(u)):u===null||De(u)?(t.exit("atxHeading"),e(u)):rt(u)?gt(t,a,"whitespace")(u):(t.enter("atxHeadingText"),c(u))}function l(u){return u===35?(t.consume(u),l):(t.exit("atxHeadingSequence"),a(u))}function c(u){return u===null||u===35||en(u)?(t.exit("atxHeadingText"),a(u)):(t.consume(u),c)}}const Ame=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],IR=["pre","script","style","textarea"],Ime={name:"htmlFlow",tokenize:Mme,resolveTo:Dme,concrete:!0},Rme={tokenize:Lme,partial:!0},Pme={tokenize:Nme,partial:!0};function Dme(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function Mme(t,e,n){const r=this;let i,o,s,a,l;return c;function c(L){return u(L)}function u(L){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(L),h}function h(L){return L===33?(t.consume(L),f):L===47?(t.consume(L),o=!0,m):L===63?(t.consume(L),i=3,r.interrupt?e:O):is(L)?(t.consume(L),s=String.fromCharCode(L),v):n(L)}function f(L){return L===45?(t.consume(L),i=2,d):L===91?(t.consume(L),i=5,a=0,p):is(L)?(t.consume(L),i=4,r.interrupt?e:O):n(L)}function d(L){return L===45?(t.consume(L),r.interrupt?e:O):n(L)}function p(L){const J="CDATA[";return L===J.charCodeAt(a++)?(t.consume(L),a===J.length?r.interrupt?e:D:p):n(L)}function m(L){return is(L)?(t.consume(L),s=String.fromCharCode(L),v):n(L)}function v(L){if(L===null||L===47||L===62||en(L)){const J=L===47,Ee=s.toLowerCase();return!J&&!o&&IR.includes(Ee)?(i=1,r.interrupt?e(L):D(L)):Ame.includes(s.toLowerCase())?(i=6,J?(t.consume(L),x):r.interrupt?e(L):D(L)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(L):o?y(L):_(L))}return L===45||Io(L)?(t.consume(L),s+=String.fromCharCode(L),v):n(L)}function x(L){return L===62?(t.consume(L),r.interrupt?e:D):n(L)}function y(L){return rt(L)?(t.consume(L),y):E(L)}function _(L){return L===47?(t.consume(L),E):L===58||L===95||is(L)?(t.consume(L),C):rt(L)?(t.consume(L),_):E(L)}function C(L){return L===45||L===46||L===58||L===95||Io(L)?(t.consume(L),C):S(L)}function S(L){return L===61?(t.consume(L),T):rt(L)?(t.consume(L),S):_(L)}function T(L){return L===null||L===60||L===61||L===62||L===96?n(L):L===34||L===39?(t.consume(L),l=L,b):rt(L)?(t.consume(L),T):w(L)}function b(L){return L===l?(t.consume(L),l=null,I):L===null||De(L)?n(L):(t.consume(L),b)}function w(L){return L===null||L===34||L===39||L===47||L===60||L===61||L===62||L===96||en(L)?S(L):(t.consume(L),w)}function I(L){return L===47||L===62||rt(L)?_(L):n(L)}function E(L){return L===62?(t.consume(L),R):n(L)}function R(L){return L===null||De(L)?D(L):rt(L)?(t.consume(L),R):n(L)}function D(L){return L===45&&i===2?(t.consume(L),Q):L===60&&i===1?(t.consume(L),Y):L===62&&i===4?(t.consume(L),U):L===63&&i===3?(t.consume(L),O):L===93&&i===5?(t.consume(L),H):De(L)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(Rme,K,N)(L)):L===null||De(L)?(t.exit("htmlFlowData"),N(L)):(t.consume(L),D)}function N(L){return t.check(Pme,z,K)(L)}function z(L){return t.enter("lineEnding"),t.consume(L),t.exit("lineEnding"),$}function $(L){return L===null||De(L)?N(L):(t.enter("htmlFlowData"),D(L))}function Q(L){return L===45?(t.consume(L),O):D(L)}function Y(L){return L===47?(t.consume(L),s="",q):D(L)}function q(L){if(L===62){const J=s.toLowerCase();return IR.includes(J)?(t.consume(L),U):D(L)}return is(L)&&s.length<8?(t.consume(L),s+=String.fromCharCode(L),q):D(L)}function H(L){return L===93?(t.consume(L),O):D(L)}function O(L){return L===62?(t.consume(L),U):L===45&&i===2?(t.consume(L),O):D(L)}function U(L){return L===null||De(L)?(t.exit("htmlFlowData"),K(L)):(t.consume(L),U)}function K(L){return t.exit("htmlFlow"),e(L)}}function Nme(t,e,n){const r=this;return i;function i(s){return De(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),o):n(s)}function o(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}function Lme(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(g_,e,n)}}const Ome={name:"htmlText",tokenize:Fme};function Fme(t,e,n){const r=this;let i,o,s;return a;function a(O){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(O),l}function l(O){return O===33?(t.consume(O),c):O===47?(t.consume(O),S):O===63?(t.consume(O),_):is(O)?(t.consume(O),w):n(O)}function c(O){return O===45?(t.consume(O),u):O===91?(t.consume(O),o=0,p):is(O)?(t.consume(O),y):n(O)}function u(O){return O===45?(t.consume(O),d):n(O)}function h(O){return O===null?n(O):O===45?(t.consume(O),f):De(O)?(s=h,Y(O)):(t.consume(O),h)}function f(O){return O===45?(t.consume(O),d):h(O)}function d(O){return O===62?Q(O):O===45?f(O):h(O)}function p(O){const U="CDATA[";return O===U.charCodeAt(o++)?(t.consume(O),o===U.length?m:p):n(O)}function m(O){return O===null?n(O):O===93?(t.consume(O),v):De(O)?(s=m,Y(O)):(t.consume(O),m)}function v(O){return O===93?(t.consume(O),x):m(O)}function x(O){return O===62?Q(O):O===93?(t.consume(O),x):m(O)}function y(O){return O===null||O===62?Q(O):De(O)?(s=y,Y(O)):(t.consume(O),y)}function _(O){return O===null?n(O):O===63?(t.consume(O),C):De(O)?(s=_,Y(O)):(t.consume(O),_)}function C(O){return O===62?Q(O):_(O)}function S(O){return is(O)?(t.consume(O),T):n(O)}function T(O){return O===45||Io(O)?(t.consume(O),T):b(O)}function b(O){return De(O)?(s=b,Y(O)):rt(O)?(t.consume(O),b):Q(O)}function w(O){return O===45||Io(O)?(t.consume(O),w):O===47||O===62||en(O)?I(O):n(O)}function I(O){return O===47?(t.consume(O),Q):O===58||O===95||is(O)?(t.consume(O),E):De(O)?(s=I,Y(O)):rt(O)?(t.consume(O),I):Q(O)}function E(O){return O===45||O===46||O===58||O===95||Io(O)?(t.consume(O),E):R(O)}function R(O){return O===61?(t.consume(O),D):De(O)?(s=R,Y(O)):rt(O)?(t.consume(O),R):I(O)}function D(O){return O===null||O===60||O===61||O===62||O===96?n(O):O===34||O===39?(t.consume(O),i=O,N):De(O)?(s=D,Y(O)):rt(O)?(t.consume(O),D):(t.consume(O),z)}function N(O){return O===i?(t.consume(O),i=void 0,$):O===null?n(O):De(O)?(s=N,Y(O)):(t.consume(O),N)}function z(O){return O===null||O===34||O===39||O===60||O===61||O===96?n(O):O===47||O===62||en(O)?I(O):(t.consume(O),z)}function $(O){return O===47||O===62||en(O)?I(O):n(O)}function Q(O){return O===62?(t.consume(O),t.exit("htmlTextData"),t.exit("htmlText"),e):n(O)}function Y(O){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(O),t.exit("lineEnding"),q}function q(O){return rt(O)?gt(t,H,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(O):H(O)}function H(O){return t.enter("htmlTextData"),s(O)}}const oA={name:"labelEnd",tokenize:Hme,resolveTo:$me,resolveAll:jme},Bme={tokenize:Ume},Vme={tokenize:Wme},zme={tokenize:qme};function jme(t){let e=-1;for(;++e<t.length;){const n=t[e][1];(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(t.splice(e+1,n.type==="labelImage"?4:2),n.type="data",e++)}return t}function $me(t,e){let n=t.length,r=0,i,o,s,a;for(;n--;)if(i=t[n][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:t[o][1].type==="labelLink"?"link":"image",start:Object.assign({},t[o][1].start),end:Object.assign({},t[t.length-1][1].end)},c={type:"label",start:Object.assign({},t[o][1].start),end:Object.assign({},t[s][1].end)},u={type:"labelText",start:Object.assign({},t[o+r+2][1].end),end:Object.assign({},t[s-2][1].start)};return a=[["enter",l,e],["enter",c,e]],a=Ji(a,t.slice(o+1,o+r+3)),a=Ji(a,[["enter",u,e]]),a=Ji(a,p_(e.parser.constructs.insideSpan.null,t.slice(o+r+4,s-3),e)),a=Ji(a,[["exit",u,e],t[s-2],t[s-1],["exit",c,e]]),a=Ji(a,t.slice(s+1)),a=Ji(a,[["exit",l,e]]),oo(t,o,t.length,a),t}function Hme(t,e,n){const r=this;let i=r.events.length,o,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){o=r.events[i][1];break}return a;function a(f){return o?o._inactive?h(f):(s=r.parser.defined.includes(Gh(r.sliceSerialize({start:o.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(f),t.exit("labelMarker"),t.exit("labelEnd"),l):n(f)}function l(f){return f===40?t.attempt(Bme,u,s?u:h)(f):f===91?t.attempt(Vme,u,s?c:h)(f):s?u(f):h(f)}function c(f){return t.attempt(zme,u,h)(f)}function u(f){return e(f)}function h(f){return o._balanced=!0,n(f)}}function Ume(t,e,n){return r;function r(h){return t.enter("resource"),t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),i}function i(h){return en(h)?Sp(t,o)(h):o(h)}function o(h){return h===41?u(h):ij(t,s,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function s(h){return en(h)?Sp(t,l)(h):u(h)}function a(h){return n(h)}function l(h){return h===34||h===39||h===40?sj(t,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):u(h)}function c(h){return en(h)?Sp(t,u)(h):u(h)}function u(h){return h===41?(t.enter("resourceMarker"),t.consume(h),t.exit("resourceMarker"),t.exit("resource"),e):n(h)}}function Wme(t,e,n){const r=this;return i;function i(a){return oj.call(r,t,o,s,"reference","referenceMarker","referenceString")(a)}function o(a){return r.parser.defined.includes(Gh(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(a):n(a)}function s(a){return n(a)}}function qme(t,e,n){return r;function r(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),i}function i(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const Kme={name:"labelStartImage",tokenize:Gme,resolveAll:oA.resolveAll};function Gme(t,e,n){const r=this;return i;function i(a){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(a),t.exit("labelImageMarker"),o}function o(a){return a===91?(t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelImage"),s):n(a)}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}const Jme={name:"labelStartLink",tokenize:Qme,resolveAll:oA.resolveAll};function Qme(t,e,n){const r=this;return i;function i(s){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelLink"),o}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const U2={name:"lineEnding",tokenize:Yme};function Yme(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),gt(t,e,"linePrefix")}}const U1={name:"thematicBreak",tokenize:Xme};function Xme(t,e,n){let r=0,i;return o;function o(c){return t.enter("thematicBreak"),s(c)}function s(c){return i=c,a(c)}function a(c){return c===i?(t.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||De(c))?(t.exit("thematicBreak"),e(c)):n(c)}function l(c){return c===i?(t.consume(c),r++,l):(t.exit("thematicBreakSequence"),rt(c)?gt(t,a,"whitespace")(c):a(c))}}const oi={name:"list",tokenize:tge,continuation:{tokenize:nge},exit:ige},Zme={tokenize:oge,partial:!0},ege={tokenize:rge,partial:!0};function tge(t,e,n){const r=this,i=r.events[r.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return a;function a(d){const p=r.containerState.type||(d===42||d===43||d===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||d===r.containerState.marker:yE(d)){if(r.containerState.type||(r.containerState.type=p,t.enter(p,{_container:!0})),p==="listUnordered")return t.enter("listItemPrefix"),d===42||d===45?t.check(U1,n,c)(d):c(d);if(!r.interrupt||d===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(d)}return n(d)}function l(d){return yE(d)&&++s<10?(t.consume(d),l):(!r.interrupt||s<2)&&(r.containerState.marker?d===r.containerState.marker:d===41||d===46)?(t.exit("listItemValue"),c(d)):n(d)}function c(d){return t.enter("listItemMarker"),t.consume(d),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||d,t.check(g_,r.interrupt?n:u,t.attempt(Zme,f,h))}function u(d){return r.containerState.initialBlankLine=!0,o++,f(d)}function h(d){return rt(d)?(t.enter("listItemPrefixWhitespace"),t.consume(d),t.exit("listItemPrefixWhitespace"),f):n(d)}function f(d){return r.containerState.size=o+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(d)}}function nge(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(g_,i,o);function i(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,gt(t,e,"listItemIndent",r.containerState.size+1)(a)}function o(a){return r.containerState.furtherBlankLines||!rt(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(ege,e,s)(a))}function s(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,gt(t,t.attempt(oi,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function rge(t,e,n){const r=this;return gt(t,i,"listItemIndent",r.containerState.size+1);function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?e(o):n(o)}}function ige(t){t.exit(this.containerState.type)}function oge(t,e,n){const r=this;return gt(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const s=r.events[r.events.length-1];return!rt(o)&&s&&s[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const RR={name:"setextUnderline",tokenize:age,resolveTo:sge};function sge(t,e){let n=t.length,r,i,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const s={type:"setextHeading",start:Object.assign({},t[i][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[i][1].type="setextHeadingText",o?(t.splice(i,0,["enter",s,e]),t.splice(o+1,0,["exit",t[r][1],e]),t[r][1].end=Object.assign({},t[o][1].end)):t[r][1]=s,t.push(["exit",s,e]),t}function age(t,e,n){const r=this;let i;return o;function o(c){let u=r.events.length,h;for(;u--;)if(r.events[u][1].type!=="lineEnding"&&r.events[u][1].type!=="linePrefix"&&r.events[u][1].type!=="content"){h=r.events[u][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(t.enter("setextHeadingLine"),i=c,s(c)):n(c)}function s(c){return t.enter("setextHeadingLineSequence"),a(c)}function a(c){return c===i?(t.consume(c),a):(t.exit("setextHeadingLineSequence"),rt(c)?gt(t,l,"lineSuffix")(c):l(c))}function l(c){return c===null||De(c)?(t.exit("setextHeadingLine"),e(c)):n(c)}}const lge={tokenize:cge};function cge(t){const e=this,n=t.attempt(g_,r,t.attempt(this.parser.constructs.flowInitial,i,gt(t,t.attempt(this.parser.constructs.flow,i,t.attempt(pme,i)),"linePrefix")));return n;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const uge={resolveAll:lj()},hge=aj("string"),fge=aj("text");function aj(t){return{tokenize:e,resolveAll:lj(t==="text"?dge:void 0)};function e(n){const r=this,i=this.parser.constructs[t],o=n.attempt(i,s,a);return s;function s(u){return c(u)?o(u):a(u)}function a(u){if(u===null){n.consume(u);return}return n.enter("data"),n.consume(u),l}function l(u){return c(u)?(n.exit("data"),o(u)):(n.consume(u),l)}function c(u){if(u===null)return!0;const h=i[u];let f=-1;if(h)for(;++f<h.length;){const d=h[f];if(!d.previous||d.previous.call(r,r.previous))return!0}return!1}}}function lj(t){return e;function e(n,r){let i=-1,o;for(;++i<=n.length;)o===void 0?n[i]&&n[i][1].type==="data"&&(o=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==o+2&&(n[o][1].end=n[i-1][1].end,n.splice(o+2,i-o-2),i=o+2),o=void 0);return t?t(n,r):n}}function dge(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let o=i.length,s=-1,a=0,l;for(;o--;){const c=i[o];if(typeof c=="string"){for(s=c.length;c.charCodeAt(s-1)===32;)a++,s--;if(s)break;s=-1}else if(c===-2)l=!0,a++;else if(c!==-1){o++;break}}if(a){const c={type:n===t.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{line:r.end.line,column:r.end.column-a,offset:r.end.offset-a,_index:r.start._index+o,_bufferIndex:o?s:r.start._bufferIndex+s},end:Object.assign({},r.end)};r.end=Object.assign({},c.start),r.start.offset===r.end.offset?Object.assign(r,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}function pge(t,e,n){let r=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},o=[];let s=[],a=[];const l={consume:y,enter:_,exit:C,attempt:b(S),check:b(T),interrupt:b(T,{interrupt:!0})},c={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:d,sliceSerialize:f,now:p,defineSkip:m,write:h};let u=e.tokenize.call(c,l);return e.resolveAll&&o.push(e),c;function h(R){return s=Ji(s,R),v(),s[s.length-1]!==null?[]:(w(e,0),c.events=p_(o,c.events,c),c.events)}function f(R,D){return gge(d(R),D)}function d(R){return mge(s,R)}function p(){const{line:R,column:D,offset:N,_index:z,_bufferIndex:$}=r;return{line:R,column:D,offset:N,_index:z,_bufferIndex:$}}function m(R){i[R.line]=R.column,E()}function v(){let R;for(;r._index<s.length;){const D=s[r._index];if(typeof D=="string")for(R=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===R&&r._bufferIndex<D.length;)x(D.charCodeAt(r._bufferIndex));else x(D)}}function x(R){u=u(R)}function y(R){De(R)?(r.line++,r.column=1,r.offset+=R===-3?2:1,E()):R!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=R}function _(R,D){const N=D||{};return N.type=R,N.start=p(),c.events.push(["enter",N,c]),a.push(N),N}function C(R){const D=a.pop();return D.end=p(),c.events.push(["exit",D,c]),D}function S(R,D){w(R,D.from)}function T(R,D){D.restore()}function b(R,D){return N;function N(z,$,Q){let Y,q,H,O;return Array.isArray(z)?K(z):"tokenize"in z?K([z]):U(z);function U(de){return ue;function ue(fe){const je=fe!==null&&de[fe],Le=fe!==null&&de.null,Be=[...Array.isArray(je)?je:je?[je]:[],...Array.isArray(Le)?Le:Le?[Le]:[]];return K(Be)(fe)}}function K(de){return Y=de,q=0,de.length===0?Q:L(de[q])}function L(de){return ue;function ue(fe){return O=I(),H=de,de.partial||(c.currentConstruct=de),de.name&&c.parser.constructs.disable.null.includes(de.name)?Ee():de.tokenize.call(D?Object.assign(Object.create(c),D):c,l,J,Ee)(fe)}}function J(de){return R(H,O),$}function Ee(de){return O.restore(),++q<Y.length?L(Y[q]):Q}}}function w(R,D){R.resolveAll&&!o.includes(R)&&o.push(R),R.resolve&&oo(c.events,D,c.events.length-D,R.resolve(c.events.slice(D),c)),R.resolveTo&&(c.events=R.resolveTo(c.events,c))}function I(){const R=p(),D=c.previous,N=c.currentConstruct,z=c.events.length,$=Array.from(a);return{restore:Q,from:z};function Q(){r=R,c.previous=D,c.currentConstruct=N,c.events.length=z,a=$,E()}}function E(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function mge(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,o=e.end._bufferIndex;let s;if(n===i)s=[t[n].slice(r,o)];else{if(s=t.slice(n,i),r>-1){const a=s[0];typeof a=="string"?s[0]=a.slice(r):s.shift()}o>0&&s.push(t[i].slice(0,o))}return s}function gge(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const o=t[n];let s;if(typeof o=="string")s=o;else switch(o){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&i)continue;s=" ";break}default:s=String.fromCharCode(o)}i=o===-2,r.push(s)}return r.join("")}const xge={42:oi,43:oi,45:oi,48:oi,49:oi,50:oi,51:oi,52:oi,53:oi,54:oi,55:oi,56:oi,57:oi,62:ej},vge={91:yme},yge={[-2]:H2,[-1]:H2,32:H2},_ge={35:Sme,42:U1,45:[RR,U1],60:Ime,61:RR,95:U1,96:AR,126:AR},wge={38:nj,92:tj},Cge={[-5]:U2,[-4]:U2,[-3]:U2,33:Kme,38:nj,42:bE,60:[J0e,Ome],91:Jme,92:[bme,tj],93:oA,95:bE,96:lme},bge={null:[bE,uge]},Ege={null:[42,95]},Sge={null:[]},kge=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Ege,contentInitial:vge,disable:Sge,document:xge,flow:_ge,flowInitial:yge,insideSpan:bge,string:wge,text:Cge},Symbol.toStringTag,{value:"Module"}));function Tge(t){const n=V0e([kge,...(t||{}).extensions||[]]),r={defined:[],lazy:{},constructs:n,content:i($0e),document:i(U0e),flow:i(lge),string:i(hge),text:i(fge)};return r;function i(o){return s;function s(a){return pge(r,o,a)}}}function Age(t){for(;!rj(t););return t}const PR=/[\0\t\n\r]/g;function Ige(){let t=1,e="",n=!0,r;return i;function i(o,s,a){const l=[];let c,u,h,f,d;for(o=e+(typeof o=="string"?o.toString():new TextDecoder(s||void 0).decode(o)),h=0,e="",n&&(o.charCodeAt(0)===65279&&h++,n=void 0);h<o.length;){if(PR.lastIndex=h,c=PR.exec(o),f=c&&c.index!==void 0?c.index:o.length,d=o.charCodeAt(f),!c){e=o.slice(h);break}if(d===10&&h===f&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),h<f&&(l.push(o.slice(h,f)),t+=f-h),d){case 0:{l.push(65533),t++;break}case 9:{for(u=Math.ceil(t/4)*4,l.push(-2);t++<u;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}h=f+1}return a&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const cj={}.hasOwnProperty;function Rge(t,e,n){return typeof e!="string"&&(n=e,e=void 0),Pge(n)(Age(Tge(n).document().write(Ige()(t,e,!0))))}function Pge(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(qn),autolinkProtocol:I,autolinkEmail:I,atxHeading:o(zt),blockQuote:o(Le),characterEscape:I,characterReference:I,codeFenced:o(Be),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:o(Be,s),codeText:o(Qe,s),codeTextData:I,data:I,codeFlowValue:I,definition:o(ct),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:o(We),hardBreakEscape:o(on),hardBreakTrailing:o(on),htmlFlow:o(Ln,s),htmlFlowData:I,htmlText:o(Ln,s),htmlTextData:I,image:o(fn),label:s,link:o(qn),listItem:o(dn),listItemValue:f,listOrdered:o(Kn,h),listUnordered:o(Kn),paragraph:o(kn),reference:L,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:o(zt),strong:o(wn),thematicBreak:o(Ui)},exit:{atxHeading:l(),atxHeadingSequence:S,autolink:l(),autolinkEmail:je,autolinkProtocol:fe,blockQuote:l(),characterEscapeValue:E,characterReferenceMarkerHexadecimal:Ee,characterReferenceMarkerNumeric:Ee,characterReferenceValue:de,characterReference:ue,codeFenced:l(v),codeFencedFence:m,codeFencedFenceInfo:d,codeFencedFenceMeta:p,codeFlowValue:E,codeIndented:l(x),codeText:l($),codeTextData:E,data:E,definition:l(),definitionDestinationString:C,definitionLabelString:y,definitionTitleString:_,emphasis:l(),hardBreakEscape:l(D),hardBreakTrailing:l(D),htmlFlow:l(N),htmlFlowData:E,htmlText:l(z),htmlTextData:E,image:l(Y),label:H,labelText:q,lineEnding:R,link:l(Q),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:J,resourceDestinationString:O,resourceTitleString:U,resource:K,setextHeading:l(w),setextHeadingLineSequence:b,setextHeadingText:T,strong:l(),thematicBreak:l()}};uj(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(X){let ie={type:"root",children:[]};const V={stack:[ie],tokenStack:[],config:e,enter:a,exit:c,buffer:s,resume:u,data:n},$e=[];let Ye=-1;for(;++Ye<X.length;)if(X[Ye][1].type==="listOrdered"||X[Ye][1].type==="listUnordered")if(X[Ye][0]==="enter")$e.push(Ye);else{const wt=$e.pop();Ye=i(X,wt,Ye)}for(Ye=-1;++Ye<X.length;){const wt=e[X[Ye][0]];cj.call(wt,X[Ye][1].type)&&wt[X[Ye][1].type].call(Object.assign({sliceSerialize:X[Ye][2].sliceSerialize},V),X[Ye][1])}if(V.tokenStack.length>0){const wt=V.tokenStack[V.tokenStack.length-1];(wt[1]||DR).call(V,void 0,wt[0])}for(ie.position={start:Ha(X.length>0?X[0][1].start:{line:1,column:1,offset:0}),end:Ha(X.length>0?X[X.length-2][1].end:{line:1,column:1,offset:0})},Ye=-1;++Ye<e.transforms.length;)ie=e.transforms[Ye](ie)||ie;return ie}function i(X,ie,V){let $e=ie-1,Ye=-1,wt=!1,pn,On,_i,Cn;for(;++$e<=V;){const Tn=X[$e];switch(Tn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Tn[0]==="enter"?Ye++:Ye--,Cn=void 0;break}case"lineEndingBlank":{Tn[0]==="enter"&&(pn&&!Cn&&!Ye&&!_i&&(_i=$e),Cn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Cn=void 0}if(!Ye&&Tn[0]==="enter"&&Tn[1].type==="listItemPrefix"||Ye===-1&&Tn[0]==="exit"&&(Tn[1].type==="listUnordered"||Tn[1].type==="listOrdered")){if(pn){let wi=$e;for(On=void 0;wi--;){const Fn=X[wi];if(Fn[1].type==="lineEnding"||Fn[1].type==="lineEndingBlank"){if(Fn[0]==="exit")continue;On&&(X[On][1].type="lineEndingBlank",wt=!0),Fn[1].type="lineEnding",On=wi}else if(!(Fn[1].type==="linePrefix"||Fn[1].type==="blockQuotePrefix"||Fn[1].type==="blockQuotePrefixWhitespace"||Fn[1].type==="blockQuoteMarker"||Fn[1].type==="listItemIndent"))break}_i&&(!On||_i<On)&&(pn._spread=!0),pn.end=Object.assign({},On?X[On][1].start:Tn[1].end),X.splice(On||$e,0,["exit",pn,Tn[2]]),$e++,V++}if(Tn[1].type==="listItemPrefix"){const wi={type:"listItem",_spread:!1,start:Object.assign({},Tn[1].start),end:void 0};pn=wi,X.splice($e,0,["enter",wi,Tn[2]]),$e++,V++,_i=void 0,Cn=!0}}}return X[ie][1]._spread=wt,V}function o(X,ie){return V;function V($e){a.call(this,X($e),$e),ie&&ie.call(this,$e)}}function s(){this.stack.push({type:"fragment",children:[]})}function a(X,ie,V){this.stack[this.stack.length-1].children.push(X),this.stack.push(X),this.tokenStack.push([ie,V]),X.position={start:Ha(ie.start),end:void 0}}function l(X){return ie;function ie(V){X&&X.call(this,V),c.call(this,V)}}function c(X,ie){const V=this.stack.pop(),$e=this.tokenStack.pop();if($e)$e[0].type!==X.type&&(ie?ie.call(this,X,$e[0]):($e[1]||DR).call(this,X,$e[0]));else throw new Error("Cannot close `"+X.type+"` ("+Xs({start:X.start,end:X.end})+"): its not open");V.position.end=Ha(X.end)}function u(){return nA(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function f(X){if(this.data.expectingFirstListItemValue){const ie=this.stack[this.stack.length-2];ie.start=Number.parseInt(this.sliceSerialize(X),10),this.data.expectingFirstListItemValue=void 0}}function d(){const X=this.resume(),ie=this.stack[this.stack.length-1];ie.lang=X}function p(){const X=this.resume(),ie=this.stack[this.stack.length-1];ie.meta=X}function m(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function v(){const X=this.resume(),ie=this.stack[this.stack.length-1];ie.value=X.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const X=this.resume(),ie=this.stack[this.stack.length-1];ie.value=X.replace(/(\r?\n|\r)$/g,"")}function y(X){const ie=this.resume(),V=this.stack[this.stack.length-1];V.label=ie,V.identifier=Gh(this.sliceSerialize(X)).toLowerCase()}function _(){const X=this.resume(),ie=this.stack[this.stack.length-1];ie.title=X}function C(){const X=this.resume(),ie=this.stack[this.stack.length-1];ie.url=X}function S(X){const ie=this.stack[this.stack.length-1];if(!ie.depth){const V=this.sliceSerialize(X).length;ie.depth=V}}function T(){this.data.setextHeadingSlurpLineEnding=!0}function b(X){const ie=this.stack[this.stack.length-1];ie.depth=this.sliceSerialize(X).codePointAt(0)===61?1:2}function w(){this.data.setextHeadingSlurpLineEnding=void 0}function I(X){const V=this.stack[this.stack.length-1].children;let $e=V[V.length-1];(!$e||$e.type!=="text")&&($e=vt(),$e.position={start:Ha(X.start),end:void 0},V.push($e)),this.stack.push($e)}function E(X){const ie=this.stack.pop();ie.value+=this.sliceSerialize(X),ie.position.end=Ha(X.end)}function R(X){const ie=this.stack[this.stack.length-1];if(this.data.atHardBreak){const V=ie.children[ie.children.length-1];V.position.end=Ha(X.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(ie.type)&&(I.call(this,X),E.call(this,X))}function D(){this.data.atHardBreak=!0}function N(){const X=this.resume(),ie=this.stack[this.stack.length-1];ie.value=X}function z(){const X=this.resume(),ie=this.stack[this.stack.length-1];ie.value=X}function $(){const X=this.resume(),ie=this.stack[this.stack.length-1];ie.value=X}function Q(){const X=this.stack[this.stack.length-1];if(this.data.inReference){const ie=this.data.referenceType||"shortcut";X.type+="Reference",X.referenceType=ie,delete X.url,delete X.title}else delete X.identifier,delete X.label;this.data.referenceType=void 0}function Y(){const X=this.stack[this.stack.length-1];if(this.data.inReference){const ie=this.data.referenceType||"shortcut";X.type+="Reference",X.referenceType=ie,delete X.url,delete X.title}else delete X.identifier,delete X.label;this.data.referenceType=void 0}function q(X){const ie=this.sliceSerialize(X),V=this.stack[this.stack.length-2];V.label=Gz(ie),V.identifier=Gh(ie).toLowerCase()}function H(){const X=this.stack[this.stack.length-1],ie=this.resume(),V=this.stack[this.stack.length-1];if(this.data.inReference=!0,V.type==="link"){const $e=X.children;V.children=$e}else V.alt=ie}function O(){const X=this.resume(),ie=this.stack[this.stack.length-1];ie.url=X}function U(){const X=this.resume(),ie=this.stack[this.stack.length-1];ie.title=X}function K(){this.data.inReference=void 0}function L(){this.data.referenceType="collapsed"}function J(X){const ie=this.resume(),V=this.stack[this.stack.length-1];V.label=ie,V.identifier=Gh(this.sliceSerialize(X)).toLowerCase(),this.data.referenceType="full"}function Ee(X){this.data.characterReferenceType=X.type}function de(X){const ie=this.sliceSerialize(X),V=this.data.characterReferenceType;let $e;V?($e=Kz(ie,V==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):$e=S0(ie);const Ye=this.stack[this.stack.length-1];Ye.value+=$e}function ue(X){const ie=this.stack.pop();ie.position.end=Ha(X.end)}function fe(X){E.call(this,X);const ie=this.stack[this.stack.length-1];ie.url=this.sliceSerialize(X)}function je(X){E.call(this,X);const ie=this.stack[this.stack.length-1];ie.url="mailto:"+this.sliceSerialize(X)}function Le(){return{type:"blockquote",children:[]}}function Be(){return{type:"code",lang:null,meta:null,value:""}}function Qe(){return{type:"inlineCode",value:""}}function ct(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function We(){return{type:"emphasis",children:[]}}function zt(){return{type:"heading",depth:0,children:[]}}function on(){return{type:"break"}}function Ln(){return{type:"html",value:""}}function fn(){return{type:"image",title:null,url:"",alt:null}}function qn(){return{type:"link",title:null,url:"",children:[]}}function Kn(X){return{type:"list",ordered:X.type==="listOrdered",start:null,spread:X._spread,children:[]}}function dn(X){return{type:"listItem",spread:X._spread,checked:null,children:[]}}function kn(){return{type:"paragraph",children:[]}}function wn(){return{type:"strong",children:[]}}function vt(){return{type:"text",value:""}}function Ui(){return{type:"thematicBreak"}}}function Ha(t){return{line:t.line,column:t.column,offset:t.offset}}function uj(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?uj(t,r):Dge(t,r)}}function Dge(t,e){let n;for(n in e)if(cj.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function DR(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Xs({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Xs({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Xs({start:e.start,end:e.end})+") is still open")}function $g(t){return t.children instanceof Array}class EE extends Error{constructor(e,n){super(e),this.name="MarkdownParseError",this.cause=n}}class SE extends Error{constructor(e){super(e),this.name="UnrecognizedMarkdownConstructError"}}function Mge({root:t,markdown:e,visitors:n,syntaxExtensions:r,mdastExtensions:i,...o}){var s;let a;try{a=Rge(e,{extensions:r,mdastExtensions:i})}catch(l){throw l instanceof Error?new EE(`Error parsing markdown: ${l.message}`,l):new EE(`Error parsing markdown: ${l}`,l)}a.children.length===0&&a.children.push({type:"paragraph",children:[]}),((s=a.children.at(-1))==null?void 0:s.type)!=="paragraph"&&a.children.push({type:"paragraph",children:[]}),hj({root:t,mdastRoot:a,visitors:n,...o})}function hj({root:t,mdastRoot:e,visitors:n,...r}){const i=new WeakMap;n=n.sort((a,l)=>(l.priority??0)-(a.priority??0));function o(a,l){if(!$g(a))throw new Error("Attempting to visit children of a non-parent");a.children.forEach(c=>{s(c,l,a)})}function s(a,l,c){const u=n.find(h=>typeof h.testNode=="string"?h.testNode===a.type:h.testNode(a,r));if(!u)try{throw new SE(`Unsupported markdown syntax: ${Jz(a)}`)}catch{throw new SE(`Parsing of the following markdown structure failed: ${JSON.stringify({type:a.type,name:"name"in a?a.name:"N/A"})}`)}u.visitNode({mdastNode:a,lexicalParent:l,mdastParent:c,actions:{visitChildren:o,addAndStepInto(h){l.append(h),$g(a)&&o(a,h)},addFormatting(h,f){f||$g(a)&&(f=a),f&&i.set(f,h|(i.get(c)??0))},removeFormatting(h,f){f||$g(a)&&(f=a),f&&i.set(f,h^(i.get(c)??0))},getParentFormatting(){return i.get(c)??0}}})}s(e,t,null)}const Nge=typeof window<"u"&&typeof window.document.createElement<"u",kE=Nge&&/Mac|iPod|iPhone|iPad/.test(navigator.platform);function fj(t,e){return kE?t:e}var Lge=Object.defineProperty,Oge=(t,e,n)=>e in t?Lge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,W2=(t,e,n)=>(Oge(t,typeof e!="symbol"?e+"":e,n),n);const MR="generic-html";class Nm extends Ta{constructor(e,n,r,i){super(i),W2(this,"__tag"),W2(this,"__nodeType"),W2(this,"__attributes"),this.__tag=e,this.__nodeType=n,this.__attributes=r}static getType(){return MR}static clone(e){return new Nm(e.__tag,e.__nodeType,e.__attributes,e.__key)}getTag(){return this.__tag}getNodeType(){return this.__nodeType}getAttributes(){return this.__attributes}updateAttributes(e){const n=this.getWritable();n.__attributes=e}getStyle(){var e;return(e=this.__attributes.find(n=>n.name==="style"))==null?void 0:e.value}createDOM(){const e=this.__tag,n=document.createElement(e);return this.__attributes.forEach(r=>{n.setAttribute(r.name,r.value)}),n}updateDOM(){return!1}static importDOM(){return{}}exportDOM(e){const{element:n}=super.exportDOM(e);return{element:n}}static importJSON(e){const n=dj(e.tag,e.mdxType,e.attributes);return n.setFormat(e.format),n.setIndent(e.indent),n.setDirection(e.direction),n}exportJSON(){return{...super.exportJSON(),tag:this.getTag(),attributes:this.__attributes,mdxType:this.__nodeType,type:MR,version:1}}extractWithChild(){return!0}isInline(){return this.__nodeType==="mdxJsxTextElement"}}function dj(t,e,n){return As(new Nm(t,e,n))}function Fge(t){return t instanceof Nm}const Bge={testLexicalNode:Fge,visitLexicalNode({actions:t,lexicalNode:e}){t.addAndStepInto("mdxJsxTextElement",{name:e.getTag(),type:e.getNodeType(),attributes:e.getAttributes()})},priority:-100},Vge={testLexicalNode:Nl,visitLexicalNode:({mdastParent:t,actions:e})=>{e.appendToParent(t,{type:"text",value:`
`})}},zge={testLexicalNode:bf,visitLexicalNode:({actions:t})=>{t.addAndStepInto("paragraph")}},jge={testLexicalNode:dr,visitLexicalNode:({actions:t})=>{t.addAndStepInto("root")}},kp=1,Tp=2,Ap=4,Ip=8,x_=16,Rp=32,Pp=64;function NR(t){return t.type==="text"}const $ge=["u","span","sub","sup"],Hge={shouldJoin:(t,e)=>{if(["text","emphasis","strong"].includes(t.type))return t.type===e.type;if(t.type==="mdxJsxTextElement"&&e.type==="mdxJsxTextElement"&&$ge.includes(e.name)){const n=e;return t.name===n.name&&JSON.stringify(t.attributes)===JSON.stringify(n.attributes)}return!1},join(t,e){return NR(t)&&NR(e)?{type:"text",value:t.value+e.value}:{...t,children:[...t.children,...e.children]}},testLexicalNode:ye,visitLexicalNode:({lexicalNode:t,mdastParent:e,actions:n})=>{const r=t.getPreviousSibling(),i=ye(r)?r.getFormat():0,o=t.getTextContent(),s=t.getFormat(),a=t.getStyle();let l=e;if(a&&(l=n.appendToParent(l,{type:"mdxJsxTextElement",name:"span",children:[],attributes:[{type:"mdxJsxAttribute",name:"style",value:a}]})),i&s&Tp&&(l=n.appendToParent(l,{type:"emphasis",children:[]})),i&s&kp&&(l=n.appendToParent(l,{type:"strong",children:[]})),i&s&Ip&&(l=n.appendToParent(l,{type:"mdxJsxTextElement",name:"u",children:[],attributes:[]})),i&s&Ap&&(l=n.appendToParent(l,{type:"delete",children:[]})),i&s&Pp&&(l=n.appendToParent(l,{type:"mdxJsxTextElement",name:"sup",children:[],attributes:[]})),i&s&Rp&&(l=n.appendToParent(l,{type:"mdxJsxTextElement",name:"sub",children:[],attributes:[]})),s&Tp&&!(i&Tp)&&(l=n.appendToParent(l,{type:"emphasis",children:[]})),s&kp&&!(i&kp)&&(l=n.appendToParent(l,{type:"strong",children:[]})),s&Ip&&!(i&Ip)&&(l=n.appendToParent(l,{type:"mdxJsxTextElement",name:"u",children:[],attributes:[]})),s&Ap&&!(i&Ap)&&(l=n.appendToParent(l,{type:"delete",children:[]})),s&Pp&&!(i&Pp)&&(l=n.appendToParent(l,{type:"mdxJsxTextElement",name:"sup",children:[],attributes:[]})),s&Rp&&!(i&Rp)&&(l=n.appendToParent(l,{type:"mdxJsxTextElement",name:"sub",children:[],attributes:[]})),s&x_){n.appendToParent(l,{type:"inlineCode",value:o});return}n.appendToParent(l,{type:"text",value:o})}},Uge={testNode:"break",visitNode:function({lexicalParent:t}){t.append(Gl())}};function Hg(t,e){return[{testNode:n=>n.type==="mdxJsxTextElement"&&n.name===t,visitNode({actions:n,mdastNode:r,lexicalParent:i}){n.addFormatting(e),n.visitChildren(r,i)}},{testNode:n=>n.type==="html"&&n.value===`<${t}>`,visitNode({actions:n,mdastParent:r}){n.addFormatting(e,r)}},{testNode:n=>n.type==="html"&&n.value===`</${t}>`,visitNode({actions:n,mdastParent:r}){n.removeFormatting(e,r)}}]}const Wge={testNode:"delete",visitNode({mdastNode:t,actions:e,lexicalParent:n}){e.addFormatting(Ap),e.visitChildren(t,n)}},qge={testNode:"inlineCode",visitNode({mdastNode:t,actions:e}){e.addAndStepInto(Bn(t.value).setFormat(e.getParentFormatting()|x_))}},Kge={testNode:"emphasis",visitNode({mdastNode:t,actions:e,lexicalParent:n}){e.addFormatting(Tp),e.visitChildren(t,n)}},Gge={testNode:"strong",visitNode({mdastNode:t,actions:e,lexicalParent:n}){e.addFormatting(kp),e.visitChildren(t,n)}},Jge=[Kge,Gge,...Hg("u",Ip),...Hg("code",x_),qge,Wge,...Hg("sup",Pp),...Hg("sub",Rp)],Qge={testNode:Qz,visitNode:function({mdastNode:t,actions:e}){e.addAndStepInto(dj(t.name,t.type,t.attributes))},priority:-100},Yge=["listitem","quote","admonition"],Xge={testNode:"paragraph",visitNode:function({mdastNode:t,lexicalParent:e,actions:n}){Yge.includes(e.getType())?n.visitChildren(t,e):n.addAndStepInto(Zt())}},Zge={testNode:"root",visitNode({actions:t,mdastNode:e,lexicalParent:n}){t.visitChildren(e,n)}},e1e={testNode:"text",visitNode({mdastNode:t,actions:e}){e.addAndStepInto(Bn(t.value).setFormat(e.getParentFormatting()))}},t1e=()=>F.createElement(yz,{externalHistoryState:qr(R1e)}),yo={carriageReturn:-5,lineFeed:-4,carriageReturnLineFeed:-3,horizontalTab:-2,virtualSpace:-1,eof:null,nul:0,soh:1,stx:2,etx:3,eot:4,enq:5,ack:6,bel:7,bs:8,ht:9,lf:10,vt:11,ff:12,cr:13,so:14,si:15,dle:16,dc1:17,dc2:18,dc3:19,dc4:20,nak:21,syn:22,etb:23,can:24,em:25,sub:26,esc:27,fs:28,gs:29,rs:30,us:31,space:32,exclamationMark:33,quotationMark:34,numberSign:35,dollarSign:36,percentSign:37,ampersand:38,apostrophe:39,leftParenthesis:40,rightParenthesis:41,asterisk:42,plusSign:43,comma:44,dash:45,dot:46,slash:47,digit0:48,digit1:49,digit2:50,digit3:51,digit4:52,digit5:53,digit6:54,digit7:55,digit8:56,digit9:57,colon:58,semicolon:59,lessThan:60,equalsTo:61,greaterThan:62,questionMark:63,atSign:64,uppercaseA:65,uppercaseB:66,uppercaseC:67,uppercaseD:68,uppercaseE:69,uppercaseF:70,uppercaseG:71,uppercaseH:72,uppercaseI:73,uppercaseJ:74,uppercaseK:75,uppercaseL:76,uppercaseM:77,uppercaseN:78,uppercaseO:79,uppercaseP:80,uppercaseQ:81,uppercaseR:82,uppercaseS:83,uppercaseT:84,uppercaseU:85,uppercaseV:86,uppercaseW:87,uppercaseX:88,uppercaseY:89,uppercaseZ:90,leftSquareBracket:91,backslash:92,rightSquareBracket:93,caret:94,underscore:95,graveAccent:96,lowercaseA:97,lowercaseB:98,lowercaseC:99,lowercaseD:100,lowercaseE:101,lowercaseF:102,lowercaseG:103,lowercaseH:104,lowercaseI:105,lowercaseJ:106,lowercaseK:107,lowercaseL:108,lowercaseM:109,lowercaseN:110,lowercaseO:111,lowercaseP:112,lowercaseQ:113,lowercaseR:114,lowercaseS:115,lowercaseT:116,lowercaseU:117,lowercaseV:118,lowercaseW:119,lowercaseX:120,lowercaseY:121,lowercaseZ:122,leftCurlyBrace:123,verticalBar:124,rightCurlyBrace:125,tilde:126,del:127,byteOrderMarker:65279,replacementCharacter:65533},kc={data:"data",whitespace:"whitespace",lineEnding:"lineEnding",lineEndingBlank:"lineEndingBlank",linePrefix:"linePrefix",lineSuffix:"lineSuffix",atxHeading:"atxHeading",atxHeadingSequence:"atxHeadingSequence",atxHeadingText:"atxHeadingText",autolink:"autolink",autolinkEmail:"autolinkEmail",autolinkMarker:"autolinkMarker",autolinkProtocol:"autolinkProtocol",characterEscape:"characterEscape",characterEscapeValue:"characterEscapeValue",characterReference:"characterReference",characterReferenceMarker:"characterReferenceMarker",characterReferenceMarkerNumeric:"characterReferenceMarkerNumeric",characterReferenceMarkerHexadecimal:"characterReferenceMarkerHexadecimal",characterReferenceValue:"characterReferenceValue",codeFenced:"codeFenced",codeFencedFence:"codeFencedFence",codeFencedFenceSequence:"codeFencedFenceSequence",codeFencedFenceInfo:"codeFencedFenceInfo",codeFencedFenceMeta:"codeFencedFenceMeta",codeFlowValue:"codeFlowValue",codeIndented:"codeIndented",codeText:"codeText",codeTextData:"codeTextData",codeTextPadding:"codeTextPadding",codeTextSequence:"codeTextSequence",content:"content",definition:"definition",definitionDestination:"definitionDestination",definitionDestinationLiteral:"definitionDestinationLiteral",definitionDestinationLiteralMarker:"definitionDestinationLiteralMarker",definitionDestinationRaw:"definitionDestinationRaw",definitionDestinationString:"definitionDestinationString",definitionLabel:"definitionLabel",definitionLabelMarker:"definitionLabelMarker",definitionLabelString:"definitionLabelString",definitionMarker:"definitionMarker",definitionTitle:"definitionTitle",definitionTitleMarker:"definitionTitleMarker",definitionTitleString:"definitionTitleString",emphasis:"emphasis",emphasisSequence:"emphasisSequence",emphasisText:"emphasisText",escapeMarker:"escapeMarker",hardBreakEscape:"hardBreakEscape",hardBreakTrailing:"hardBreakTrailing",htmlFlow:"htmlFlow",htmlFlowData:"htmlFlowData",htmlText:"htmlText",htmlTextData:"htmlTextData",image:"image",label:"label",labelText:"labelText",labelLink:"labelLink",labelImage:"labelImage",labelMarker:"labelMarker",labelImageMarker:"labelImageMarker",labelEnd:"labelEnd",link:"link",paragraph:"paragraph",reference:"reference",referenceMarker:"referenceMarker",referenceString:"referenceString",resource:"resource",resourceDestination:"resourceDestination",resourceDestinationLiteral:"resourceDestinationLiteral",resourceDestinationLiteralMarker:"resourceDestinationLiteralMarker",resourceDestinationRaw:"resourceDestinationRaw",resourceDestinationString:"resourceDestinationString",resourceMarker:"resourceMarker",resourceTitle:"resourceTitle",resourceTitleMarker:"resourceTitleMarker",resourceTitleString:"resourceTitleString",setextHeading:"setextHeading",setextHeadingText:"setextHeadingText",setextHeadingLine:"setextHeadingLine",setextHeadingLineSequence:"setextHeadingLineSequence",strong:"strong",strongSequence:"strongSequence",strongText:"strongText",thematicBreak:"thematicBreak",thematicBreakSequence:"thematicBreakSequence",blockQuote:"blockQuote",blockQuotePrefix:"blockQuotePrefix",blockQuoteMarker:"blockQuoteMarker",blockQuotePrefixWhitespace:"blockQuotePrefixWhitespace",listOrdered:"listOrdered",listUnordered:"listUnordered",listItemIndent:"listItemIndent",listItemMarker:"listItemMarker",listItemPrefix:"listItemPrefix",listItemPrefixWhitespace:"listItemPrefixWhitespace",listItemValue:"listItemValue",chunkDocument:"chunkDocument",chunkContent:"chunkContent",chunkFlow:"chunkFlow",chunkText:"chunkText",chunkString:"chunkString"};function n1e(t){return{canContainEols:["comment"],enter:{comment(e){this.buffer()}},exit:{comment(e){this.resume()}}}}const LR=(t,e,n)=>{return r;function r(p){return t.enter("comment"),t.consume(p),i}function i(p){return p===yo.exclamationMark?(t.consume(p),o):n(p)}function o(p){return p===yo.dash?(t.consume(p),s):n(p)}function s(p){return p===yo.dash?(t.consume(p),a):n(p)}function a(p){return p===yo.greaterThan?n(p):De(p)?u(p):(t.enter(kc.data),p===yo.dash?(t.consume(p),l):c(p))}function l(p){return p===yo.greaterThan?n(p):c(p)}function c(p){return p===yo.eof?n(p):p===yo.dash?(t.consume(p),f):De(p)?(t.exit(kc.data),u(p)):(t.consume(p),c)}function u(p){return t.enter(kc.lineEnding),t.consume(p),t.exit(kc.lineEnding),gt(t,h,kc.linePrefix)}function h(p){return De(p)?u(p):(t.enter(kc.data),c(p))}function f(p){return p===yo.dash?(t.consume(p),d):c(p)}function d(p){return p===yo.greaterThan?(t.exit(kc.data),t.enter("commentEnd"),t.consume(p),t.exit("commentEnd"),t.exit("comment"),e(p)):p===yo.dash?(t.consume(p),d):c(p)}},r1e={flow:{60:{tokenize:LR,concrete:!0}},text:{60:{tokenize:LR}}},i1e="_light_1tncs_1",o1e="_light-theme_1tncs_1",s1e="_dark_1tncs_1",a1e="_dark-theme_1tncs_1",l1e="_bold_1tncs_10",c1e="_italic_1tncs_14",u1e="_underline_1tncs_18",h1e="_strikethrough_1tncs_34",f1e="_underlineStrikethrough_1tncs_38",d1e="_subscript_1tncs_42",p1e="_superscript_1tncs_47",m1e="_code_1tncs_52",g1e="_nestedListItem_1tncs_59",x1e="_listitem_1tncs_69",v1e="_listItemChecked_1tncs_73",y1e="_listItemUnchecked_1tncs_74",_1e="_admonitionDanger_1tncs_151",w1e="_admonitionInfo_1tncs_152",C1e="_admonitionNote_1tncs_153",b1e="_admonitionTip_1tncs_154",E1e="_admonitionCaution_1tncs_155",S1e="_mdxExpression_1tncs_188",rr={light:i1e,lightTheme:o1e,dark:s1e,darkTheme:a1e,bold:l1e,italic:c1e,underline:u1e,strikethrough:h1e,underlineStrikethrough:f1e,subscript:d1e,superscript:p1e,code:m1e,nestedListItem:g1e,listitem:x1e,listItemChecked:v1e,listItemUnchecked:y1e,admonitionDanger:_1e,admonitionInfo:w1e,admonitionNote:C1e,admonitionTip:b1e,admonitionCaution:E1e,mdxExpression:S1e},sA={text:{bold:rr.bold,italic:rr.italic,underline:rr.underline,code:rr.code,strikethrough:rr.strikethrough,subscript:rr.subscript,superscript:rr.superscript,underlineStrikethrough:rr.underlineStrikethrough},list:{listitem:rr.listitem,listitemChecked:rr.listItemChecked,listitemUnchecked:rr.listItemUnchecked,nested:{listitem:rr.nestedListItem}},admonition:{danger:rr.admonitionDanger,info:rr.admonitionInfo,note:rr.admonitionNote,tip:rr.admonitionTip,caution:rr.admonitionCaution}},k0=Lu(),Aa=Ge(null),ri=Ge(null),TE=Ge(""),fu=Ge(!1,t=>{t.sub(t.pipe(fu,vi(Aa)),([e,n])=>{n==null||n.setEditable(!e)})}),AE=Ge(""),OR=Ge(!1),T0=Ge(!1),aA=Ge(0),pv=Ge(null),IE=ni(t=>{t.link(t.pipe(pv,Yy(e=>e!==null)),IE)}),lA=ni(t=>{t.sub(t.pipe(lA,vi(ri)),([e,n])=>{n==null||n.dispatchCommand(Ys,e)})}),cA=Ge(null,t=>{t.sub(t.pipe(cA,vi(ri)),([e,n])=>{if(!e||!n)return;const r=e.anchor.getNode();let i=r.getKey()==="root"?r:Yf(r,a=>{const l=a.getParent();return l!==null&&Fr(l)});i===null&&(i=r.getTopLevelElementOrThrow());const o=i.getKey();if(n.getElementByKey(o)!==null){const a=Sz(i)?i.getTag():i.getType();t.pub(Ij,a)}})}),pj=Ge(""),du=Ge(""),v_=ni(t=>{t.link(du,v_),t.link(pj,du)}),RE=ni(t=>{t.link(t.pipe(v_,vi(DE),Yy(([,e])=>!e),Qy(([e])=>e)),RE)}),uA=Ge([]),hA=Ge([]),mj=Ge([]),gj=Ge([]),fA=Ge([]),xj=Ge([]),PE=Ge({}),vj=Ge(!1),dA=Ge([]),yj=Ge([]),Lm=Ge([]),Om=Ge(null),Bu=yi(hA),Jl=yi(uA),mv=yi(mj),gv=yi(gj),Vu=yi(fA),pA=yi(xj),DE=Ge(!1),mA=ni(t=>{t.sub(t.pipe(mA,vi(du,Aa,T0),Yy(([e,n])=>e.trim()!==n.trim())),([e,,n,r])=>{t.pub(DE,!0),n==null||n.update(()=>{It().clear(),gA(t,It(),e),r?n.focus():Bi(null)},{onUpdate:()=>{t.pub(DE,!1)}})})}),_j=ni(t=>{t.sub(t.pipe(_j,vi(ri,T0)),([e,n,r])=>{n==null||n.update(()=>{const i=Se();if(i!==null){const o={children:[],append(s){this.children.push(s)},getType(){return i.getNodes()[0].getType()}};gA(t,o,e),GT(o.children)}r?n.focus():Bi(null)})})});function wj(){return gV((t,[e,n])=>(t.forEach(r=>{if(!r)throw new Error("You have a subscription that does not return a teardown");r()}),n?e.map(r=>r(n)):[]),[])}const Cj=Ge([],t=>{t.pipe(t.combine(Cj,ri),wj())}),bj=Ge([],t=>{t.pipe(t.combine(bj,Aa),wj())}),y_=Ge(null),ME=ni(),Hi=Ge(t=>{throw new Error(`No icon component for ${t}`)});function yi(t,e){return ni((n,r)=>{n.changeWith(t,r,(i,o)=>{Array.isArray(o)||(o=[o]);let s=i;for(const a of o)i.includes(a)||(s=[...s,a]);return s}),e==null||e(n,r)})}function Ej(t){const e=Se();me(e)&&t.pubIn({[cA]:e,[aA]:e.format})}const Sj=yi(bj,(t,e)=>{t.pub(e,[n=>n.registerCommand(Xy,(r,i)=>(t.pubIn({[ri]:i,[T0]:!0}),i._parentEditor===null&&i.getEditorState().read(()=>{t.pub(y_,{rootNode:It(),editorType:"lexical"})}),Ej(t),!1),ys),n=>n.registerUpdateListener(({dirtyElements:r,dirtyLeaves:i,editorState:o})=>{if(t.getValue(pv)!==null||r.size===0&&i.size===0)return;let a;o.read(()=>{It().getLastChild()instanceof Rm&&n.update(()=>{It().append(Zt())},{discrete:!0}),a=B0e({root:It(),visitors:t.getValue(fA),jsxComponentDescriptors:t.getValue(dA),toMarkdownExtensions:t.getValue(xj),toMarkdownOptions:t.getValue(PE),jsxIsAvailable:t.getValue(vj)})}),t.pub(du,a.trim())}),n=>n.registerCommand(ET,()=>(t.pub(T0,!0),!1),ys),n=>n.registerCommand(pT,r=>{const{keyCode:i,ctrlKey:o,metaKey:s}=r;if(i===65&&fj(s,o)){let a=!1;if(n.getEditorState().read(()=>{a=Pt(It().getFirstChild())||Pt(It().getLastChild())}),a)return r.preventDefault(),r.stopImmediatePropagation(),n.update(()=>{var l;const c=n.getRootElement();(l=window.getSelection())==null||l.selectAllChildren(c),c.focus({preventScroll:!0})}),!0}return!1},ys)])}),k1e=yi(Cj,(t,e)=>{t.pub(e,[n=>n.registerUpdateListener(({editorState:r})=>{r.read(()=>{Ej(t)})}),n=>n.registerCommand(ST,r=>{var i;const o=t.getValue(Aa);return o&&!((i=o.getRootElement())!=null&&i.contains(r.relatedTarget))&&t.pubIn({[T0]:!1,[ME]:r}),!1},ys)])});function gA(t,e,n){try{Mge({root:e,visitors:t.getValue(uA),mdastExtensions:t.getValue(gj),markdown:n,syntaxExtensions:t.getValue(mj),jsxComponentDescriptors:t.getValue(dA),directiveDescriptors:t.getValue(yj),codeBlockEditorDescriptors:t.getValue(Lm)}),t.pub(pv,null)}catch(r){if(r instanceof EE||r instanceof SE)t.pubIn({[du]:n,[pv]:{error:r.message,source:n}});else throw r}}const kj=Ge([]),xA=yi(kj),Tj=Ge([]),T1e=yi(Tj),Aj=Ge([]);yi(Aj);const A1e=Ge([]),I1e=yi(A1e),R1e=Ge(vz()),Ij=Ge("");ni();const xv=ni(t=>{t.sub(t.pipe(xv,vi(ri)),([e,n])=>{n==null||n.update(()=>{const r=Se();me(r)&&(Bfe(r,e),setTimeout(()=>{n.focus()}))})})}),vA=ni(t=>{t.sub(t.pipe(vA,vi(ri)),([e,n])=>{n==null||n.focus(()=>{n.getEditorState().read(()=>{const r=Se();me(r)&&(n.update(()=>{const i=e();i.isInline()?(GT([i]),Fr(i.getParentOrThrow())&&qfe(i,Zt).selectEnd()):xz(i),setTimeout(()=>{"select"in i&&typeof i.select=="function"&&i.select()})}),setTimeout(()=>{n.dispatchCommand(k0,void 0)}))})},{defaultSelection:"rootEnd"})})}),NE=Ge("rich-text",t=>{function e(){return gV((n,r)=>({current:n.next,next:r}),{current:"rich-text",next:"rich-text"})}t.sub(t.pipe(NE,e(),vi(vv)),([{current:n},r])=>{(n==="source"||n==="diff")&&t.pub(mA,r)}),t.sub(t.pipe(NE,e(),Yy(n=>n.current==="rich-text"),vi(ri)),([,n])=>{n==null||n.dispatchCommand(k0,void 0)})}),vv=Ge("",t=>{t.link(du,vv),t.link(vv,v_)}),Rj=Ge([]),__=yi(Rj),Pj=Ge(()=>{throw new Error("No translation function provided")}),P1e=Sa({init(t,e){t.register(Sj),t.register(k1e),t.register(v_),t.pubIn({[pj]:e==null?void 0:e.initialMarkdown.trim(),[Hi]:e==null?void 0:e.iconComponentFor,[Jl]:[Zge,Xge,e1e,Uge,...Jge],[Bu]:[Fu,Ou,Nm],[Vu]:[jge,zge,Hge,Vge,Bge],[xA]:t1e,[TE]:e==null?void 0:e.contentEditableClassName,[PE]:e==null?void 0:e.toMarkdownOptions,[OR]:e==null?void 0:e.autoFocus,[AE]:e==null?void 0:e.placeholder,[fu]:e==null?void 0:e.readOnly,[Pj]:e==null?void 0:e.translation,[gv]:Ade(),[mv]:kde(),[pA]:[Qde(),Ide()]}),t.singletonSub(IE,e==null?void 0:e.onError),t.singletonSub(RE,e==null?void 0:e.onChange),t.singletonSub(ME,e==null?void 0:e.onBlur),e!=null&&e.suppressHtmlProcessing||t.pubIn({[gv]:[Jde(),n1e()],[mv]:[_pe(),wpe(),r1e],[Jl]:Qge})},postInit(t,e){const n=fz({editable:(e==null?void 0:e.readOnly)!==!0,namespace:"MDXEditor",nodes:t.getValue(hA),onError:r=>{throw r},theme:sA});n.update(()=>{const r=(e==null?void 0:e.initialMarkdown.trim())??"";gA(t,It(),r);const i=e==null?void 0:e.autoFocus;if(i){if(i===!0){setTimeout(()=>{n.focus(qc,{defaultSelection:"rootStart"})});return}setTimeout(()=>{n.focus(qc,{defaultSelection:i.defaultSelection??"rootStart"})})}}),t.pub(Aa,n),t.pub(ri,n)},update(t,e){t.pubIn({[TE]:e==null?void 0:e.contentEditableClassName,[PE]:e==null?void 0:e.toMarkdownOptions,[OR]:e==null?void 0:e.autoFocus,[AE]:e==null?void 0:e.placeholder,[fu]:e==null?void 0:e.readOnly}),t.singletonSub(RE,e==null?void 0:e.onChange),t.singletonSub(ME,e==null?void 0:e.onBlur),t.singletonSub(IE,e==null?void 0:e.onError)}});function Br(){return qr(Pj)}function D1e(){return It().getTextContent()}function M1e(t,e=!0){if(t)return!1;let n=D1e();return e&&(n=n.trim()),n===""}function N1e(t){if(!M1e(t,!1))return!1;const e=It().getChildren(),n=e.length;if(n>1)return!1;for(let r=0;r<n;r++){const i=e[r];if(Pt(i))return!1;if(oe(i)){if(!bf(i)||i.__indent!==0)return!1;const o=i.getChildren(),s=o.length;for(let a=0;a<s;a++){const l=o[r];if(!ye(l))return!1}}}return!0}function Dj(t){return()=>N1e(t)}function L1e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}L1e(function(t){const e=new URLSearchParams;e.append("code",t);for(let n=1;n<arguments.length;n++)e.append("v",arguments[n]);throw Error(`Minified Lexical error #${t}; visit https://lexical.dev/docs/error?${e} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});const Mj=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?k.useLayoutEffect:k.useEffect;function O1e({editor:t,ariaActiveDescendant:e,ariaAutoComplete:n,ariaControls:r,ariaDescribedBy:i,ariaExpanded:o,ariaLabel:s,ariaLabelledBy:a,ariaMultiline:l,ariaOwns:c,ariaRequired:u,autoCapitalize:h,className:f,id:d,role:p="textbox",spellCheck:m=!0,style:v,tabIndex:x,"data-testid":y,..._},C){const[S,T]=k.useState(t.isEditable()),b=k.useCallback(I=>{I&&I.ownerDocument&&I.ownerDocument.defaultView?t.setRootElement(I):t.setRootElement(null)},[t]),w=k.useMemo(()=>function(...I){return E=>{I.forEach(R=>{typeof R=="function"?R(E):R!=null&&(R.current=E)})}}(C,b),[b,C]);return Mj(()=>(T(t.isEditable()),t.registerEditableListener(I=>{T(I)})),[t]),P.jsx("div",{..._,"aria-activedescendant":S?e:void 0,"aria-autocomplete":S?n:"none","aria-controls":S?r:void 0,"aria-describedby":i,"aria-expanded":S&&p==="combobox"?!!o:void 0,"aria-label":s,"aria-labelledby":a,"aria-multiline":l,"aria-owns":S?c:void 0,"aria-readonly":!S||void 0,"aria-required":u,autoCapitalize:h,className:f,contentEditable:S,"data-testid":y,id:d,ref:w,role:S?p:void 0,spellCheck:m,style:v,tabIndex:x})}const F1e=k.forwardRef(O1e);function FR(t){return t.getEditorState().read(Dj(t.isComposing()))}const Nj=k.forwardRef(B1e);function B1e(t,e){const{placeholder:n,...r}=t,[i]=Uo();return P.jsxs(P.Fragment,{children:[P.jsx(F1e,{editor:i,...r,ref:e}),n!=null&&P.jsx(V1e,{editor:i,content:n})]})}function V1e({content:t,editor:e}){const n=function(s){const[a,l]=k.useState(()=>FR(s));return Mj(()=>{function c(){const u=FR(s);l(u)}return c(),Is(s.registerUpdateListener(()=>{c()}),s.registerEditableListener(()=>{c()}))},[s]),a}(e),[r,i]=k.useState(e.isEditable());if(k.useLayoutEffect(()=>(i(e.isEditable()),e.registerEditableListener(s=>{i(s)})),[e]),!n)return null;let o=null;return typeof t=="function"?o=t(r):t!==null&&(o=t),o===null?null:P.jsx("div",{"aria-hidden":!0,children:o})}function LE(t,e){return LE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},LE(t,e)}var BR={error:null},z1e=function(t){var e,n;function r(){for(var o,s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return(o=t.call.apply(t,[this].concat(a))||this).state=BR,o.resetErrorBoundary=function(){for(var c,u=arguments.length,h=new Array(u),f=0;f<u;f++)h[f]=arguments[f];o.props.onReset==null||(c=o.props).onReset.apply(c,h),o.reset()},o}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,LE(e,n),r.getDerivedStateFromError=function(o){return{error:o}};var i=r.prototype;return i.reset=function(){this.setState(BR)},i.componentDidCatch=function(o,s){var a,l;(a=(l=this.props).onError)==null||a.call(l,o,s)},i.componentDidUpdate=function(o,s){var a,l,c,u,h=this.state.error,f=this.props.resetKeys;h!==null&&s.error!==null&&((c=o.resetKeys)===void 0&&(c=[]),(u=f)===void 0&&(u=[]),c.length!==u.length||c.some(function(d,p){return!Object.is(d,u[p])}))&&((a=(l=this.props).onResetKeysChange)==null||a.call(l,o.resetKeys,f),this.reset())},i.render=function(){var o=this.state.error,s=this.props,a=s.fallbackRender,l=s.FallbackComponent,c=s.fallback;if(o!==null){var u={error:o,resetErrorBoundary:this.resetErrorBoundary};if(k.isValidElement(c))return c;if(typeof a=="function")return a(u);if(l)return k.createElement(l,u);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},r}(k.Component);function Lj({children:t,onError:e}){return P.jsx(z1e,{fallback:P.jsx("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"},children:"An error was thrown."}),onError:e,children:t})}const j1e=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?k.useLayoutEffect:k.useEffect;function $1e(t){return{initialValueFn:()=>t.isEditable(),subscribe:e=>t.registerEditableListener(e)}}function H1e(){return function(t){const[e]=Uo(),n=k.useMemo(()=>t(e),[e,t]),r=k.useRef(n.initialValueFn()),[i,o]=k.useState(r.current);return j1e(()=>{const{initialValueFn:s,subscribe:a}=n,l=s();return r.current!==l&&(r.current=l,o(l)),a(c=>{r.current=c,o(c)})},[n,t]),i}($1e)}function U1e(t){const e=window.location.origin,n=r=>{if(r.origin!==e)return;const i=t.getRootElement();if(document.activeElement!==i)return;const o=r.data;if(typeof o=="string"){let s;try{s=JSON.parse(o)}catch{return}if(s&&s.protocol==="nuanria_messaging"&&s.type==="request"){const a=s.payload;if(a&&a.functionId==="makeChanges"){const l=a.args;if(l){const[c,u,h,f,d,p]=l;t.update(()=>{const m=Se();if(me(m)){const v=m.anchor;let x=v.getNode(),y=0,_=0;if(ye(x)&&c>=0&&u>=0&&(y=c,_=c+u,m.setTextNodeRange(x,y,x,_)),y===_&&h===""||(m.insertRawText(h),x=v.getNode()),ye(x)){y=f,_=f+d;const C=x.getTextContentSize();y=y>C?C:y,_=_>C?C:_,m.setTextNodeRange(x,y,x,_)}r.stopImmediatePropagation()}})}}}}};return window.addEventListener("message",n,!0),()=>{window.removeEventListener("message",n,!0)}}const OE=typeof window<"u"&&window.document!==void 0&&window.document.createElement!==void 0?k.useLayoutEffect:k.useEffect;function VR(t){return t.getEditorState().read(Dj(t.isComposing()))}function Oj({contentEditable:t,placeholder:e=null,ErrorBoundary:n}){const[r]=Uo(),i=function(o,s){const[a,l]=k.useState(()=>o.getDecorators());return OE(()=>o.registerDecoratorListener(c=>{Oo.flushSync(()=>{l(c)})}),[o]),k.useEffect(()=>{l(o.getDecorators())},[o]),k.useMemo(()=>{const c=[],u=Object.keys(a);for(let h=0;h<u.length;h++){const f=u[h],d=P.jsx(s,{onError:m=>o._onError(m),children:P.jsx(k.Suspense,{fallback:null,children:a[f]})}),p=o.getElementByKey(f);p!==null&&c.push(Oo.createPortal(d,p,f))}return c},[s,a,o])}(r,n);return function(o){OE(()=>Is(wde(o),U1e(o)),[o])}(r),P.jsxs(P.Fragment,{children:[t,P.jsx(W1e,{content:e}),i]})}function W1e({content:t}){const[e]=Uo(),n=function(i){const[o,s]=k.useState(()=>VR(i));return OE(()=>{function a(){const l=VR(i);s(l)}return a(),Is(i.registerUpdateListener(()=>{a()}),i.registerEditableListener(()=>{a()}))},[i]),o}(e),r=H1e();return n?typeof t=="function"?t(r):t:null}var Fj={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",s=0;s<arguments.length;s++){var a=arguments[s];a&&(o=i(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var a in o)e.call(o,a)&&o[a]&&(s=i(s,a));return s}function i(o,s){return s?o?o+" "+s:o+s:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(Fj);var q1e=Fj.exports;const Oi=qv(q1e),K1e="_editorRoot_uazmk_53",G1e="_editorWrapper_uazmk_154",J1e="_nestedListItem_uazmk_156",Q1e="_toolbarRoot_uazmk_160",Y1e="_readOnlyToolbarRoot_uazmk_187",X1e="_toolbarModeSwitch_uazmk_196",Z1e="_toolbarToggleItem_uazmk_206",exe="_toolbarGroupOfGroups_uazmk_217",txe="_toolbarToggleSingleGroup_uazmk_222",nxe="_toolbarButton_uazmk_237",rxe="_activeToolbarButton_uazmk_274",ixe="_toolbarNodeKindSelectContainer_uazmk_284",oxe="_toolbarButtonDropdownContainer_uazmk_285",sxe="_toolbarCodeBlockLanguageSelectContent_uazmk_286",axe="_selectContainer_uazmk_287",lxe="_selectItem_uazmk_300",cxe="_toolbarNodeKindSelectTrigger_uazmk_305",uxe="_toolbarButtonSelectTrigger_uazmk_306",hxe="_selectTrigger_uazmk_307",fxe="_toolbarCodeBlockLanguageSelectTrigger_uazmk_342",dxe="_toolbarNodeKindSelectItem_uazmk_347",pxe="_toolbarNodeKindSelectDropdownArrow_uazmk_372",mxe="_selectDropdownArrow_uazmk_373",gxe="_contentEditable_uazmk_379",xxe="_codeMirrorWrapper_uazmk_391",vxe="_sandPackWrapper_uazmk_400",yxe="_codeMirrorToolbar_uazmk_408",_xe="_frontmatterWrapper_uazmk_412",wxe="_frontmatterToggleButton_uazmk_422",Cxe="_propertyPanelTitle_uazmk_430",bxe="_propertyEditorTable_uazmk_438",Exe="_iconButton_uazmk_456",Sxe="_readOnlyColumnCell_uazmk_461",kxe="_propertyEditorLabelCell_uazmk_466",Txe="_buttonsFooter_uazmk_474",Axe="_propertyEditorInput_uazmk_480",Ixe="_primaryButton_uazmk_506",Rxe="_secondaryButton_uazmk_507",Pxe="_smallButton_uazmk_522",Dxe="_dialogForm_uazmk_534",Mxe="_linkDialogEditForm_uazmk_540",Nxe="_linkDialogInputContainer_uazmk_548",Lxe="_linkDialogInputWrapper_uazmk_554",Oxe="_linkDialogInput_uazmk_548",Fxe="_dialogInput_uazmk_575",Bxe="_linkDialogAnchor_uazmk_586",Vxe="_linkDialogPopoverContent_uazmk_600",zxe="_tableColumnEditorPopoverContent_uazmk_601",jxe="_dialogContent_uazmk_602",$xe="_largeDialogContent_uazmk_614",Hxe="_dialogTitle_uazmk_624",Uxe="_dialogCloseButton_uazmk_630",Wxe="_popoverContent_uazmk_637",qxe="_popoverArrow_uazmk_649",Kxe="_linkDialogPreviewAnchor_uazmk_653",Gxe="_tooltipTrigger_uazmk_676",Jxe="_tooltipContent_uazmk_680",Qxe="_actionButton_uazmk_694",Yxe="_primaryActionButton_uazmk_701",Xxe="_tableEditor_uazmk_713",Zxe="_toolCell_uazmk_724",eve="_tableColumnEditorTrigger_uazmk_743",tve="_tableRowEditorTrigger_uazmk_744",nve="_addRowButton_uazmk_745",rve="_addColumnButton_uazmk_746",ive="_tableColumnEditorToolbar_uazmk_789",ove="_toggleGroupRoot_uazmk_803",sve="_tableToolsColumn_uazmk_821",ave="_leftAlignedCell_uazmk_830",lve="_rightAlignedCell_uazmk_834",cve="_centeredCell_uazmk_838",uve="_dialogOverlay_uazmk_871",hve="_overlayShow_uazmk_1",fve="_contentShow_uazmk_1",dve="_focusedImage_uazmk_918",pve="_imageWrapper_uazmk_922",mve="_editImageToolbar_uazmk_935",gve="_editImageButton_uazmk_939",xve="_inlineEditor_uazmk_945",vve="_blockEditor_uazmk_954",yve="_nestedEditor_uazmk_963",_ve="_genericComponentName_uazmk_982",wve="_diffSourceToggle_uazmk_988",Cve="_selectWithLabel_uazmk_1002",bve="_toolbarTitleMode_uazmk_1017",Eve="_imageControlWrapperResizing_uazmk_1023",Sve="_imageResizer_uazmk_1027",kve="_imageResizerN_uazmk_1036",Tve="_imageResizerNe_uazmk_1042",Ave="_imageResizerE_uazmk_1048",Ive="_imageResizerSe_uazmk_1054",Rve="_imageResizerS_uazmk_1054",Pve="_imageResizerSw_uazmk_1066",Dve="_imageResizerW_uazmk_1072",Mve="_imageResizerNw_uazmk_1078",Nve="_placeholder_uazmk_1084",Lve="_rootContentEditableWrapper_uazmk_1097",Ove="_downshiftContainer_uazmk_1103",Fve="_downshiftInputWrapper_uazmk_1109",Bve="_downshiftInput_uazmk_1109",Vve="_downshiftAutocompleteContainer_uazmk_1140",zve="_textInput_uazmk_1186",jve="_multiFieldForm_uazmk_1194",$ve="_formField_uazmk_1200",Hve="_markdownParseError_uazmk_1211",Uve="_popupContainer_uazmk_1220",Wve="_inputSizer_uazmk_1225",Ke={editorRoot:K1e,editorWrapper:G1e,nestedListItem:J1e,toolbarRoot:Q1e,readOnlyToolbarRoot:Y1e,toolbarModeSwitch:X1e,toolbarToggleItem:Z1e,toolbarGroupOfGroups:exe,toolbarToggleSingleGroup:txe,toolbarButton:nxe,activeToolbarButton:rxe,toolbarNodeKindSelectContainer:ixe,toolbarButtonDropdownContainer:oxe,toolbarCodeBlockLanguageSelectContent:sxe,selectContainer:axe,selectItem:lxe,toolbarNodeKindSelectTrigger:cxe,toolbarButtonSelectTrigger:uxe,selectTrigger:hxe,toolbarCodeBlockLanguageSelectTrigger:fxe,toolbarNodeKindSelectItem:dxe,toolbarNodeKindSelectDropdownArrow:pxe,selectDropdownArrow:mxe,contentEditable:gxe,codeMirrorWrapper:xxe,sandPackWrapper:vxe,codeMirrorToolbar:yxe,frontmatterWrapper:_xe,frontmatterToggleButton:wxe,propertyPanelTitle:Cxe,propertyEditorTable:bxe,iconButton:Exe,readOnlyColumnCell:Sxe,propertyEditorLabelCell:kxe,buttonsFooter:Txe,propertyEditorInput:Axe,primaryButton:Ixe,secondaryButton:Rxe,smallButton:Pxe,dialogForm:Dxe,linkDialogEditForm:Mxe,linkDialogInputContainer:Nxe,linkDialogInputWrapper:Lxe,linkDialogInput:Oxe,dialogInput:Fxe,linkDialogAnchor:Bxe,linkDialogPopoverContent:Vxe,tableColumnEditorPopoverContent:zxe,dialogContent:jxe,largeDialogContent:$xe,dialogTitle:Hxe,dialogCloseButton:Uxe,popoverContent:Wxe,popoverArrow:qxe,linkDialogPreviewAnchor:Kxe,tooltipTrigger:Gxe,tooltipContent:Jxe,actionButton:Qxe,primaryActionButton:Yxe,tableEditor:Xxe,toolCell:Zxe,tableColumnEditorTrigger:eve,tableRowEditorTrigger:tve,addRowButton:nve,addColumnButton:rve,tableColumnEditorToolbar:ive,toggleGroupRoot:ove,tableToolsColumn:sve,leftAlignedCell:ave,rightAlignedCell:lve,centeredCell:cve,dialogOverlay:uve,overlayShow:hve,contentShow:fve,focusedImage:dve,imageWrapper:pve,editImageToolbar:mve,editImageButton:gve,inlineEditor:xve,blockEditor:vve,nestedEditor:yve,genericComponentName:_ve,diffSourceToggle:wve,selectWithLabel:Cve,toolbarTitleMode:bve,imageControlWrapperResizing:Eve,imageResizer:Sve,imageResizerN:kve,imageResizerNe:Tve,imageResizerE:Ave,imageResizerSe:Ive,imageResizerS:Rve,imageResizerSw:Pve,imageResizerW:Dve,imageResizerNw:Mve,placeholder:Nve,rootContentEditableWrapper:Lve,downshiftContainer:Ove,downshiftInputWrapper:Fve,downshiftInput:Bve,downshiftAutocompleteContainer:Vve,textInput:zve,multiFieldForm:jve,formField:$ve,markdownParseError:Hve,popupContainer:Uve,inputSizer:Wve},qve={undo:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M7.202 18.5V17H14.3788C15.4224 17 16.3205 16.6554 17.073 15.9663C17.8257 15.2773 18.202 14.4263 18.202 13.4135C18.202 12.4007 17.8257 11.5512 17.073 10.8652C16.3205 10.1794 15.4224 9.8365 14.3788 9.8365H7.35775L10.1402 12.6193L9.0865 13.673L4.5 9.0865L9.0865 4.5L10.1402 5.55375L7.35775 8.3365H14.3788C15.8416 8.3365 17.0945 8.82467 18.1375 9.801C19.1805 10.7773 19.702 11.9815 19.702 13.4135C19.702 14.8455 19.1805 16.0513 18.1375 17.0308C17.0945 18.0103 15.8416 18.5 14.3788 18.5H7.202Z",fill:"currentColor"})),redo:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M9.6211 18.5C8.15827 18.5 6.90535 18.0103 5.86235 17.0308C4.81935 16.0513 4.29785 14.8455 4.29785 13.4135C4.29785 11.9815 4.81935 10.7773 5.86235 9.801C6.90535 8.82467 8.15827 8.3365 9.6211 8.3365H16.6421L13.8596 5.55375L14.9134 4.5L19.4999 9.0865L14.9134 13.673L13.8596 12.6193L16.6421 9.8365H9.6211C8.57744 9.8365 7.67935 10.1794 6.92685 10.8652C6.17418 11.5512 5.79785 12.4007 5.79785 13.4135C5.79785 14.4263 6.17418 15.2773 6.92685 15.9663C7.67935 16.6554 8.57744 17 9.6211 17H16.7979V18.5H9.6211Z",fill:"currentColor"})),format_bold:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M7.33838 18.625V5.375H12.1999C13.219 5.375 14.1405 5.69233 14.9644 6.327C15.788 6.9615 16.1999 7.816 16.1999 8.8905C16.1999 9.63783 16.0194 10.2471 15.6584 10.7182C15.2975 11.1894 14.9088 11.5314 14.4921 11.7442C15.005 11.9211 15.4947 12.2708 15.9614 12.7933C16.428 13.3158 16.6614 14.0193 16.6614 14.9038C16.6614 16.1819 16.1902 17.1217 15.2479 17.723C14.3055 18.3243 13.3562 18.625 12.3999 18.625H7.33838ZM9.48838 16.6328H12.3191C13.1063 16.6328 13.6627 16.4142 13.9884 15.977C14.314 15.5398 14.4769 15.1206 14.4769 14.7192C14.4769 14.3179 14.314 13.8987 13.9884 13.4615C13.6627 13.0243 13.0909 12.8058 12.2729 12.8058H9.48838V16.6328ZM9.48838 10.875H12.0826C12.6903 10.875 13.172 10.7013 13.5279 10.3538C13.8835 10.0064 14.0614 9.59042 14.0614 9.10575C14.0614 8.59042 13.8733 8.16925 13.4971 7.84225C13.1208 7.51542 12.6595 7.352 12.1134 7.352H9.48838V10.875Z",fill:"currentColor"})),format_italic:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M5.39404 18.625V16.8173H9.21129L12.4518 7.18275H8.63454V5.375H17.7883V7.18275H14.2785L11.0383 16.8173H14.5478V18.625H5.39404Z",fill:"currentColor"})),format_underlined:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M5.34619 22.125V20.625H18.6537V22.125H5.34619ZM11.9999 18.5287C10.4448 18.5287 9.23102 18.0566 8.35869 17.1125C7.48619 16.1683 7.04994 14.9032 7.04994 13.3172V5.41345H8.90369V13.4095C8.90369 14.4198 9.17228 15.2295 9.70944 15.8385C10.2466 16.4475 11.0101 16.752 11.9999 16.752C12.9898 16.752 13.7533 16.4475 14.2904 15.8385C14.8276 15.2295 15.0962 14.4198 15.0962 13.4095V5.41345H16.9499V13.3172C16.9499 14.9032 16.5137 16.1683 15.6412 17.1125C14.7689 18.0566 13.5551 18.5287 11.9999 18.5287Z",fill:"currentColor"})),code:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M7.99994 17.6537L2.34619 11.9999L7.99994 6.34619L9.06919 7.41544L4.46919 12.0154L9.05369 16.5999L7.99994 17.6537ZM15.9999 17.6537L14.9307 16.5844L19.5307 11.9844L14.9462 7.39994L15.9999 6.34619L21.6537 11.9999L15.9999 17.6537Z",fill:"currentColor"})),strikeThrough:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M12.15 19.6923C10.9732 19.6923 9.9315 19.359 9.025 18.6923C8.11867 18.0256 7.45525 17.1128 7.03475 15.9538L8.6385 15.2635C8.91667 16.0444 9.3545 16.6867 9.952 17.1905C10.5493 17.6944 11.2923 17.9463 12.1808 17.9463C12.9578 17.9463 13.6744 17.7508 14.3307 17.3598C14.9872 16.9686 15.3155 16.3487 15.3155 15.5C15.3155 15.123 15.2555 14.7968 15.1355 14.5213C15.0157 14.2456 14.8462 13.9885 14.627 13.75H16.677C16.7987 13.9705 16.8932 14.2256 16.9605 14.5153C17.0278 14.8051 17.0615 15.1334 17.0615 15.5C17.0615 16.8372 16.5747 17.8702 15.601 18.599C14.6272 19.3279 13.4768 19.6923 12.15 19.6923ZM2.25 11.75V10.25H21.75V11.75H2.25ZM12.05 4.19629C13.0475 4.19629 13.9123 4.42704 14.6443 4.88854C15.3763 5.35004 15.9673 6.05896 16.4173 7.01529L14.823 7.73079C14.6218 7.26029 14.2978 6.84462 13.851 6.48379C13.4042 6.12279 12.8141 5.94229 12.0808 5.94229C11.2244 5.94229 10.5392 6.16221 10.025 6.60204C9.51083 7.04171 9.264 7.59104 9.2845 8.25004H7.5385C7.50133 7.16421 7.89783 6.21712 8.728 5.40879C9.558 4.60046 10.6653 4.19629 12.05 4.19629Z",fill:"currentColor"})),superscript:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M16.6924 8V6.2115C16.6924 5.95383 16.7786 5.73875 16.9511 5.56625C17.1235 5.39392 17.3385 5.30775 17.5961 5.30775H19.5001V4.38475H16.6924V3.5H19.4809C19.7385 3.5 19.9536 3.58625 20.1261 3.75875C20.2985 3.93108 20.3846 4.14617 20.3846 4.404V5.2885C20.3846 5.54617 20.2985 5.76125 20.1261 5.93375C19.9536 6.10608 19.7385 6.19225 19.4809 6.19225H17.5771V7.1155H20.3846V8H16.6924ZM4.44238 18.5L8.84638 11.6287L4.77713 5.30775H6.74438L9.95963 10.404H10.0214L13.2501 5.30775H15.2329L11.1194 11.6287L15.5579 18.5H13.5751L10.0214 12.9308H9.95963L6.42513 18.5H4.44238Z",fill:"currentColor"})),subscript:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M16.6924 20.5V18.7115C16.6924 18.4538 16.7786 18.2387 16.9511 18.0662C17.1235 17.8939 17.3385 17.8077 17.5961 17.8077H19.5001V16.8845H16.6924V16H19.4809C19.7385 16 19.9536 16.0863 20.1261 16.2587C20.2985 16.4311 20.3846 16.6461 20.3846 16.9038V17.7885C20.3846 18.0462 20.2985 18.2612 20.1261 18.4337C19.9536 18.6061 19.7385 18.6923 19.4809 18.6923H17.5771V19.6152H20.3846V20.5H16.6924ZM4.44238 18.6923L8.84638 11.8212L4.77713 5.5H6.74438L9.95963 10.5962H10.0214L13.2501 5.5H15.2329L11.1194 11.8212L15.5579 18.6923H13.5751L10.0214 13.123H9.95963L6.42513 18.6923H4.44238Z",fill:"currentColor"})),format_list_bulleted:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M9.30775 18.75V17.25H20.5V18.75H9.30775ZM9.30775 12.75V11.25H20.5V12.75H9.30775ZM9.30775 6.75005V5.25005H20.5V6.75005H9.30775ZM5.1635 19.6635C4.706 19.6635 4.31442 19.5006 3.98875 19.1748C3.66292 18.8491 3.5 18.4575 3.5 18C3.5 17.5425 3.66292 17.151 3.98875 16.8253C4.31442 16.4995 4.706 16.3365 5.1635 16.3365C5.621 16.3365 6.01258 16.4995 6.33825 16.8253C6.66408 17.151 6.827 17.5425 6.827 18C6.827 18.4575 6.66408 18.8491 6.33825 19.1748C6.01258 19.5006 5.621 19.6635 5.1635 19.6635ZM5.1635 13.6635C4.706 13.6635 4.31442 13.5006 3.98875 13.1748C3.66292 12.8491 3.5 12.4575 3.5 12C3.5 11.5425 3.66292 11.151 3.98875 10.8253C4.31442 10.4995 4.706 10.3365 5.1635 10.3365C5.621 10.3365 6.01258 10.4995 6.33825 10.8253C6.66408 11.151 6.827 11.5425 6.827 12C6.827 12.4575 6.66408 12.8491 6.33825 13.1748C6.01258 13.5006 5.621 13.6635 5.1635 13.6635ZM5.1635 7.66355C4.706 7.66355 4.31442 7.50063 3.98875 7.1748C3.66292 6.84913 3.5 6.45755 3.5 6.00005C3.5 5.54255 3.66292 5.15096 3.98875 4.8253C4.31442 4.49946 4.706 4.33655 5.1635 4.33655C5.621 4.33655 6.01258 4.49946 6.33825 4.8253C6.66408 5.15096 6.827 5.54255 6.827 6.00005C6.827 6.45755 6.66408 6.84913 6.33825 7.1748C6.01258 7.50063 5.621 7.66355 5.1635 7.66355Z",fill:"currentColor"})),format_list_numbered:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M3.5 21.5V20.3078H6V19.25H4.5V18.0577H6V17H3.5V15.8077H6.34625C6.58592 15.8077 6.78683 15.8888 6.949 16.051C7.11117 16.2132 7.19225 16.4141 7.19225 16.6538V17.8462C7.19225 18.0859 7.11117 18.2868 6.949 18.449C6.78683 18.6112 6.58592 18.6923 6.34625 18.6923C6.58592 18.6923 6.78683 18.7733 6.949 18.9355C7.11117 19.0977 7.19225 19.2987 7.19225 19.5385V20.6538C7.19225 20.8936 7.11117 21.0946 6.949 21.2568C6.78683 21.4189 6.58592 21.5 6.34625 21.5H3.5ZM3.5 14.8463V12.25C3.5 12.0103 3.58108 11.8093 3.74325 11.647C3.90542 11.4848 4.10642 11.4038 4.34625 11.4038H6V10.3462H3.5V9.15375H6.34625C6.58592 9.15375 6.78683 9.23483 6.949 9.397C7.11117 9.55933 7.19225 9.76033 7.19225 10V11.75C7.19225 11.9897 7.11117 12.1907 6.949 12.353C6.78683 12.5152 6.58592 12.5963 6.34625 12.5963H4.69225V13.6538H7.19225V14.8463H3.5ZM5 8.19225V3.69225H3.5V2.5H6.19225V8.19225H5ZM9.30775 18.75V17.25H20.5V18.75H9.30775ZM9.30775 12.75V11.25H20.5V12.75H9.30775ZM9.30775 6.75V5.25H20.5V6.75H9.30775Z",fill:"currentColor"})),format_list_checked:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M5.69425 18.452L2.5 15.2578L3.54425 14.2135L5.66925 16.3385L9.91925 12.0885L10.9635 13.1578L5.69425 18.452ZM5.69425 10.8365L2.5 7.64227L3.54425 6.59802L5.66925 8.72302L9.91925 4.47302L10.9635 5.54227L5.69425 10.8365ZM13.0095 16.5578V15.0578H21.5095V16.5578H13.0095ZM13.0095 8.94227V7.44227H21.5095V8.94227H13.0095Z",fill:"currentColor"})),link:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M10.8077 16.5385H7.0385C5.78283 16.5385 4.7125 16.096 3.8275 15.211C2.9425 14.3262 2.5 13.256 2.5 12.0005C2.5 10.745 2.9425 9.67471 3.8275 8.78955C4.7125 7.90421 5.78283 7.46155 7.0385 7.46155H10.8077V8.96155H7.0385C6.19867 8.96155 5.48233 9.25805 4.8895 9.85105C4.2965 10.444 4 11.1604 4 12C4 12.8397 4.2965 13.556 4.8895 14.149C5.48233 14.742 6.19867 15.0385 7.0385 15.0385H10.8077V16.5385ZM8.25 12.75V11.25H15.75V12.75H8.25ZM13.1923 16.5385V15.0385H16.9615C17.8013 15.0385 18.5177 14.742 19.1105 14.149C19.7035 13.556 20 12.8397 20 12C20 11.1604 19.7035 10.444 19.1105 9.85105C18.5177 9.25805 17.8013 8.96155 16.9615 8.96155H13.1923V7.46155H16.9615C18.2172 7.46155 19.2875 7.90405 20.1725 8.78905C21.0575 9.67388 21.5 10.744 21.5 11.9995C21.5 13.255 21.0575 14.3254 20.1725 15.2105C19.2875 16.0959 18.2172 16.5385 16.9615 16.5385H13.1923Z",fill:"currentColor"})),add_photo:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M5.11537 20.5C4.6182 20.5 4.19262 20.323 3.83862 19.969C3.48462 19.615 3.30762 19.1894 3.30762 18.6922V5.30773C3.30762 4.81056 3.48462 4.38498 3.83862 4.03098C4.19262 3.67698 4.6182 3.49998 5.11537 3.49998H13.8076V4.99998H5.11537C5.02553 4.99998 4.95178 5.02881 4.89412 5.08648C4.83645 5.14415 4.80762 5.2179 4.80762 5.30773V18.6922C4.80762 18.7821 4.83645 18.8558 4.89412 18.9135C4.95178 18.9711 5.02553 19 5.11537 19H18.4999C18.5895 19 18.6633 18.9711 18.7211 18.9135C18.7788 18.8558 18.8076 18.7821 18.8076 18.6922V9.99998H20.3076V18.6922C20.3076 19.1894 20.1306 19.615 19.7766 19.969C19.4226 20.323 18.997 20.5 18.4999 20.5H5.11537ZM17.1921 8.61523V6.61523H15.1921V5.11548H17.1921V3.11548H18.6921V5.11548H20.6921V6.61523H18.6921V8.61523H17.1921ZM6.55762 16.75H17.1344L13.8459 12.3655L11.0384 16.0192L9.03837 13.4615L6.55762 16.75Z",fill:"currentColor"})),table:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M3.5 18.6923V5.30775C3.5 4.81058 3.677 4.385 4.031 4.031C4.385 3.677 4.81058 3.5 5.30775 3.5H18.6923C19.1894 3.5 19.615 3.677 19.969 4.031C20.323 4.385 20.5 4.81058 20.5 5.30775V18.6923C20.5 19.1894 20.323 19.615 19.969 19.969C19.615 20.323 19.1894 20.5 18.6923 20.5H5.30775C4.81058 20.5 4.385 20.323 4.031 19.969C3.677 19.615 3.5 19.1894 3.5 18.6923ZM5 9.077H19V5.30775C19 5.21792 18.9712 5.14417 18.9135 5.0865C18.8558 5.02883 18.7821 5 18.6923 5H5.30775C5.21792 5 5.14417 5.02883 5.0865 5.0865C5.02883 5.14417 5 5.21792 5 5.30775V9.077ZM10.1615 14.0385H13.8385V10.577H10.1615V14.0385ZM10.1615 19H13.8385V15.5385H10.1615V19ZM5 14.0385H8.6615V10.577H5V14.0385ZM15.3385 14.0385H19V10.577H15.3385V14.0385ZM5.30775 19H8.6615V15.5385H5V18.6923C5 18.7821 5.02883 18.8558 5.0865 18.9135C5.14417 18.9712 5.21792 19 5.30775 19ZM15.3385 19H18.6923C18.7821 19 18.8558 18.9712 18.9135 18.9135C18.9712 18.8558 19 18.7821 19 18.6923V15.5385H15.3385V19Z",fill:"currentColor"})),horizontal_rule:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M4.5 12.75V11.25H19.5V12.75H4.5Z",fill:"currentColor"})),frontmatter:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M4.5 8.75V7.25H8.5V8.75H4.5Z",fill:"currentColor"}),F.createElement("path",{d:"M4.5 14.75V13.25H8.5V14.75H4.5Z",fill:"currentColor"}),F.createElement("path",{d:"M9.5 8.75V7.25H13.5V8.75H9.5Z",fill:"currentColor"}),F.createElement("path",{d:"M9.5 14.75V13.25H13.5V14.75H9.5Z",fill:"currentColor"}),F.createElement("path",{d:"M14.5 8.75V7.25H18.5V8.75H14.5Z",fill:"currentColor"}),F.createElement("path",{d:"M14.5 14.75V13.25H18.5V14.75H14.5Z",fill:"currentColor"})),frame_source:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M8.6 15.2443L5.35575 12L8.6 8.75575L9.64425 9.825L7.46925 12L9.64425 14.175L8.6 15.2443ZM15.4 15.2443L14.3558 14.175L16.5307 12L14.3558 9.825L15.4 8.75575L18.6443 12L15.4 15.2443ZM5.30775 20.5C4.80258 20.5 4.375 20.325 4.025 19.975C3.675 19.625 3.5 19.1974 3.5 18.6923V15H5V18.6923C5 18.7692 5.03208 18.8398 5.09625 18.9038C5.16025 18.9679 5.23075 19 5.30775 19H9V20.5H5.30775ZM15 20.5V19H18.6923C18.7692 19 18.8398 18.9679 18.9038 18.9038C18.9679 18.8398 19 18.7692 19 18.6923V15H20.5V18.6923C20.5 19.1974 20.325 19.625 19.975 19.975C19.625 20.325 19.1974 20.5 18.6923 20.5H15ZM3.5 9V5.30775C3.5 4.80258 3.675 4.375 4.025 4.025C4.375 3.675 4.80258 3.5 5.30775 3.5H9V5H5.30775C5.23075 5 5.16025 5.03208 5.09625 5.09625C5.03208 5.16025 5 5.23075 5 5.30775V9H3.5ZM19 9V5.30775C19 5.23075 18.9679 5.16025 18.9038 5.09625C18.8398 5.03208 18.7692 5 18.6923 5H15V3.5H18.6923C19.1974 3.5 19.625 3.675 19.975 4.025C20.325 4.375 20.5 4.80258 20.5 5.30775V9H19Z",fill:"currentColor"})),arrow_drop_down:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M11.9999 14.6537L7.59619 10.25H16.4037L11.9999 14.6537Z",fill:"currentColor"})),admonition:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M12.0001 21.4C11.7654 21.4 11.5385 21.3548 11.3193 21.2645C11.1002 21.174 10.9002 21.0435 10.7193 20.873L3.1271 13.2807C2.9566 13.0999 2.8261 12.8999 2.7356 12.6807C2.64526 12.4616 2.6001 12.2346 2.6001 12C2.6001 11.7653 2.64526 11.5358 2.7356 11.3115C2.8261 11.0871 2.9566 10.8897 3.1271 10.7192L10.7193 3.12698C10.9002 2.94614 11.1002 2.81314 11.3193 2.72798C11.5385 2.64264 11.7654 2.59998 12.0001 2.59998C12.2348 2.59998 12.4643 2.64264 12.6886 2.72798C12.9129 2.81314 13.1103 2.94614 13.2808 3.12698L20.8731 10.7192C21.0539 10.8897 21.1869 11.0871 21.2721 11.3115C21.3574 11.5358 21.4001 11.7653 21.4001 12C21.4001 12.2346 21.3574 12.4616 21.2721 12.6807C21.1869 12.8999 21.0539 13.0999 20.8731 13.2807L13.2808 20.873C13.1103 21.0435 12.9129 21.174 12.6886 21.2645C12.4643 21.3548 12.2348 21.4 12.0001 21.4ZM12.2213 19.8037L19.8039 12.2212C19.8552 12.1699 19.8808 12.0961 19.8808 12C19.8808 11.9038 19.8552 11.8301 19.8039 11.7787L12.2213 4.19623C12.17 4.14489 12.0963 4.11923 12.0001 4.11923C11.9039 4.11923 11.8302 4.14489 11.7788 4.19623L4.19635 11.7787C4.14501 11.8301 4.11935 11.9038 4.11935 12C4.11935 12.0961 4.14501 12.1699 4.19635 12.2212L11.7788 19.8037C11.8302 19.8551 11.9039 19.8807 12.0001 19.8807C12.0963 19.8807 12.17 19.8551 12.2213 19.8037ZM11.2501 13.0865H12.7501V7.47123H11.2501V13.0865ZM12.0001 15.702C12.2258 15.702 12.4168 15.6237 12.5731 15.4672C12.7296 15.3109 12.8078 15.1199 12.8078 14.8942C12.8078 14.6686 12.7296 14.4776 12.5731 14.3212C12.4168 14.1647 12.2258 14.0865 12.0001 14.0865C11.7744 14.0865 11.5834 14.1647 11.4271 14.3212C11.2706 14.4776 11.1923 14.6686 11.1923 14.8942C11.1923 15.1199 11.2706 15.3109 11.4271 15.4672C11.5834 15.6237 11.7744 15.702 12.0001 15.702Z",fill:"currentColor"})),sandpack:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M12.9999 22.5C12.4947 22.5 12.0671 22.325 11.7171 21.975C11.3671 21.625 11.1921 21.1974 11.1921 20.6922V7.30775C11.1921 6.80258 11.3671 6.375 11.7171 6.025C12.0671 5.675 12.4947 5.5 12.9999 5.5H16.3844C16.8895 5.5 17.3171 5.675 17.6671 6.025C18.0171 6.375 18.1921 6.80258 18.1921 7.30775V20.6922C18.1921 21.1974 18.0171 21.625 17.6671 21.975C17.3171 22.325 16.8895 22.5 16.3844 22.5H12.9999ZM12.6921 7.30775V20.6922C12.6921 20.7692 12.7242 20.8398 12.7884 20.9038C12.8524 20.9679 12.9229 21 12.9999 21H16.3844C16.4614 21 16.5319 20.9679 16.5959 20.9038C16.66 20.8398 16.6921 20.7692 16.6921 20.6922V7.30775C16.6921 7.23075 16.66 7.16025 16.5959 7.09625C16.5319 7.03208 16.4614 7 16.3844 7H12.9999C12.9229 7 12.8524 7.03208 12.7884 7.09625C12.7242 7.16025 12.6921 7.23075 12.6921 7.30775ZM6.61537 18.5C6.1102 18.5 5.68262 18.325 5.33262 17.975C4.98262 17.625 4.80762 17.1974 4.80762 16.6923V3.30775C4.80762 2.80258 4.98262 2.375 5.33262 2.025C5.68262 1.675 6.1102 1.5 6.61537 1.5H9.99987C10.505 1.5 10.9326 1.675 11.2826 2.025C11.6326 2.375 11.8076 2.80258 11.8076 3.30775V16.6923C11.8076 17.1974 11.6326 17.625 11.2826 17.975C10.9326 18.325 10.505 18.5 9.99987 18.5H6.61537ZM6.30762 3.30775V16.6923C6.30762 16.7692 6.3397 16.8398 6.40387 16.9038C6.46787 16.9679 6.53837 17 6.61537 17H9.99987C10.0769 17 10.1474 16.9679 10.2114 16.9038C10.2755 16.8398 10.3076 16.7692 10.3076 16.6923V3.30775C10.3076 3.23075 10.2755 3.16025 10.2114 3.09625C10.1474 3.03208 10.0769 3 9.99987 3H6.61537C6.53837 3 6.46787 3.03208 6.40387 3.09625C6.3397 3.16025 6.30762 3.23075 6.30762 3.30775Z",fill:"currentColor"})),rich_text:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M5.30775 20.5C4.80258 20.5 4.375 20.325 4.025 19.975C3.675 19.625 3.5 19.1974 3.5 18.6923V5.30775C3.5 4.80258 3.675 4.375 4.025 4.025C4.375 3.675 4.80258 3.5 5.30775 3.5H18.6923C19.1974 3.5 19.625 3.675 19.975 4.025C20.325 4.375 20.5 4.80258 20.5 5.30775V18.6923C20.5 19.1974 20.325 19.625 19.975 19.975C19.625 20.325 19.1974 20.5 18.6923 20.5H5.30775ZM5.30775 19H18.6923C18.7692 19 18.8398 18.9679 18.9038 18.9038C18.9679 18.8398 19 18.7692 19 18.6923V5.30775C19 5.23075 18.9679 5.16025 18.9038 5.09625C18.8398 5.03208 18.7692 5 18.6923 5H5.30775C5.23075 5 5.16025 5.03208 5.09625 5.09625C5.03208 5.16025 5 5.23075 5 5.30775V18.6923C5 18.7692 5.03208 18.8398 5.09625 18.9038C5.16025 18.9679 5.23075 19 5.30775 19ZM6.75 17H17.3268L14 12.3655L11.2308 16.0192L9 13.4615L6.75 17Z",fill:"currentColor"}),F.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 12V6.5H9.1925C9.5925 6.5 9.9425 6.65 10.2425 6.95C10.5425 7.25 10.6925 7.6 10.6925 8V8.6925C10.6925 9.03733 10.605 9.32675 10.43 9.56075C10.255 9.79458 10.0168 9.97817 9.7155 10.1115L10.6155 12H9.404L8.504 10.1925H7.1925V12H6ZM9.1925 9H7.1925V7.6925H9.1925C9.26933 7.6925 9.33983 7.7245 9.404 7.7885C9.468 7.85267 9.5 7.92317 9.5 8V8.6925C9.5 8.76933 9.468 8.83983 9.404 8.904C9.33983 8.968 9.26933 9 9.1925 9Z",fill:"currentColor"}),F.createElement("path",{d:"M12.5 7H17.5V8.25H12.5V7Z",fill:"currentColor"}),F.createElement("path",{d:"M12.5 9.25H17.5V10.5H12.5V9.25Z",fill:"currentColor"})),difference:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.30775 20.5C4.80258 20.5 4.375 20.325 4.025 19.975C3.675 19.625 3.5 19.1974 3.5 18.6923V5.30775C3.5 4.80258 3.675 4.375 4.025 4.025C4.375 3.675 4.80258 3.5 5.30775 3.5H18.6923C19.1974 3.5 19.625 3.675 19.975 4.025C20.325 4.375 20.5 4.80258 20.5 5.30775V18.6923C20.5 19.1974 20.325 19.625 19.975 19.975C19.625 20.325 19.1974 20.5 18.6923 20.5H5.30775ZM18.6923 19H5.30775C5.23075 19 5.16025 18.9679 5.09625 18.9038C5.03208 18.8398 5 18.7692 5 18.6923V5.30775C5 5.23075 5.03208 5.16025 5.09625 5.09625C5.16025 5.03208 5.23075 5 5.30775 5H18.6923C18.7692 5 18.8398 5.03208 18.9038 5.09625C18.9679 5.16025 19 5.23075 19 5.30775V18.6923C19 18.7692 18.9679 18.8398 18.9038 18.9038C18.8398 18.9679 18.7692 19 18.6923 19Z",fill:"currentColor"}),F.createElement("rect",{x:"9",y:"10",width:"5.5",height:"1.5",fill:"currentColor"}),F.createElement("rect",{x:"9",y:"15",width:"5.5",height:"1.5",fill:"currentColor"}),F.createElement("rect",{x:"11",y:"8",width:"1.5",height:"5.5",fill:"currentColor"})),markdown:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.30775 20.5C4.80258 20.5 4.375 20.325 4.025 19.975C3.675 19.625 3.5 19.1974 3.5 18.6923V5.30775C3.5 4.80258 3.675 4.375 4.025 4.025C4.375 3.675 4.80258 3.5 5.30775 3.5H18.6923C19.1974 3.5 19.625 3.675 19.975 4.025C20.325 4.375 20.5 4.80258 20.5 5.30775V18.6923C20.5 19.1974 20.325 19.625 19.975 19.975C19.625 20.325 19.1974 20.5 18.6923 20.5H5.30775ZM18.6923 19H5.30775C5.23075 19 5.16025 18.9679 5.09625 18.9038C5.03208 18.8398 5 18.7692 5 18.6923V5.30775C5 5.23075 5.03208 5.16025 5.09625 5.09625C5.16025 5.03208 5.23075 5 5.30775 5H18.6923C18.7692 5 18.8398 5.03208 18.9038 5.09625C18.9679 5.16025 19 5.23075 19 5.30775V18.6923C19 18.7692 18.9679 18.8398 18.9038 18.9038C18.8398 18.9679 18.7692 19 18.6923 19Z",fill:"currentColor"}),F.createElement("path",{d:"M13 15H11.5V11L9.5 14L7.5 11V15H6V8H7.5L9.5 11L11.5 8H13V15Z",fill:"currentColor"}),F.createElement("path",{d:"M15.9921 15.5833L13.2886 12.8797L14.0546 12.1137L15.4504 13.5016V7.99597L16.5336 7.99993V13.5016L17.9296 12.1137L18.6954 12.8797L15.9921 15.5833Z",fill:"currentColor"})),open_in_new:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M5.30775 20.5C4.80258 20.5 4.375 20.325 4.025 19.975C3.675 19.625 3.5 19.1974 3.5 18.6923V5.30775C3.5 4.80258 3.675 4.375 4.025 4.025C4.375 3.675 4.80258 3.5 5.30775 3.5H11.6152V5H5.30775C5.23075 5 5.16025 5.03208 5.09625 5.09625C5.03208 5.16025 5 5.23075 5 5.30775V18.6923C5 18.7692 5.03208 18.8398 5.09625 18.9038C5.16025 18.9679 5.23075 19 5.30775 19H18.6923C18.7692 19 18.8398 18.9679 18.9038 18.9038C18.9679 18.8398 19 18.7692 19 18.6923V12.3848H20.5V18.6923C20.5 19.1974 20.325 19.625 19.975 19.975C19.625 20.325 19.1974 20.5 18.6923 20.5H5.30775ZM9.71925 15.3345L8.6655 14.2808L17.9462 5H14V3.5H20.5V10H19V6.05375L9.71925 15.3345Z",fill:"currentColor"})),link_off:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M18.8843 16.1038L17.7498 14.9385C18.4228 14.7552 18.9661 14.3946 19.3796 13.8568C19.7931 13.319 19.9998 12.7 19.9998 12C19.9998 11.1604 19.705 10.444 19.1153 9.85105C18.5255 9.25805 17.8139 8.96155 16.9806 8.96155H13.1728V7.46155H16.9806C18.2293 7.46155 19.2947 7.90422 20.1768 8.78955C21.0588 9.67472 21.4998 10.7449 21.4998 12C21.4998 12.8859 21.262 13.6951 20.7863 14.4278C20.3107 15.1606 19.6767 15.7193 18.8843 16.1038ZM15.5806 12.75L14.0806 11.25H15.7306V12.75H15.5806ZM20.1461 22.2538L1.74609 3.8538L2.79984 2.80005L21.1998 21.2L20.1461 22.2538ZM10.8268 16.5386H7.03834C5.78318 16.5386 4.71301 16.0959 3.82784 15.2105C2.94251 14.3254 2.49984 13.2552 2.49984 12C2.49984 10.8885 2.85784 9.91322 3.57384 9.07405C4.28984 8.23505 5.18826 7.72838 6.26909 7.55405H6.49984L7.90759 8.96155H7.03834C6.19851 8.96155 5.48218 9.25805 4.88934 9.85105C4.29634 10.444 3.99984 11.1604 3.99984 12C3.99984 12.8397 4.29634 13.556 4.88934 14.149C5.48218 14.742 6.19851 15.0385 7.03834 15.0385H10.8268V16.5386ZM8.26909 12.75V11.25H10.2113L11.6863 12.75H8.26909Z",fill:"currentColor"})),edit:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M5 19H6.2615L16.498 8.7635L15.2365 7.502L5 17.7385V19ZM3.5 20.5V17.1155L16.6905 3.93075C16.8417 3.79342 17.0086 3.68733 17.1913 3.6125C17.3741 3.5375 17.5658 3.5 17.7663 3.5C17.9668 3.5 18.1609 3.53558 18.3488 3.60675C18.5367 3.67792 18.7032 3.79108 18.848 3.94625L20.0693 5.18275C20.2244 5.32758 20.335 5.49425 20.401 5.68275C20.467 5.87125 20.5 6.05975 20.5 6.24825C20.5 6.44942 20.4657 6.64133 20.397 6.824C20.3283 7.00683 20.2191 7.17383 20.0693 7.325L6.8845 20.5H3.5ZM15.8562 8.14375L15.2365 7.502L16.498 8.7635L15.8562 8.14375Z",fill:"currentColor"})),content_copy:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M9.05775 17.5C8.55258 17.5 8.125 17.325 7.775 16.975C7.425 16.625 7.25 16.1974 7.25 15.6923V4.30775C7.25 3.80258 7.425 3.375 7.775 3.025C8.125 2.675 8.55258 2.5 9.05775 2.5H17.4423C17.9474 2.5 18.375 2.675 18.725 3.025C19.075 3.375 19.25 3.80258 19.25 4.30775V15.6923C19.25 16.1974 19.075 16.625 18.725 16.975C18.375 17.325 17.9474 17.5 17.4423 17.5H9.05775ZM9.05775 16H17.4423C17.5192 16 17.5898 15.9679 17.6538 15.9038C17.7179 15.8398 17.75 15.7692 17.75 15.6923V4.30775C17.75 4.23075 17.7179 4.16025 17.6538 4.09625C17.5898 4.03208 17.5192 4 17.4423 4H9.05775C8.98075 4 8.91025 4.03208 8.84625 4.09625C8.78208 4.16025 8.75 4.23075 8.75 4.30775V15.6923C8.75 15.7692 8.78208 15.8398 8.84625 15.9038C8.91025 15.9679 8.98075 16 9.05775 16ZM5.55775 21C5.05258 21 4.625 20.825 4.275 20.475C3.925 20.125 3.75 19.6974 3.75 19.1923V6.30775H5.25V19.1923C5.25 19.2693 5.28208 19.3398 5.34625 19.4038C5.41025 19.4679 5.48075 19.5 5.55775 19.5H15.4423V21H5.55775Z",fill:"currentColor"})),more_horiz:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M6.23096 13.5C5.81846 13.5 5.46537 13.3531 5.17171 13.0592C4.87787 12.7656 4.73096 12.4125 4.73096 12C4.73096 11.5875 4.87787 11.2344 5.17171 10.9408C5.46537 10.6469 5.81846 10.5 6.23096 10.5C6.64346 10.5 6.99662 10.6469 7.29046 10.9408C7.58412 11.2344 7.73096 11.5875 7.73096 12C7.73096 12.4125 7.58412 12.7656 7.29046 13.0592C6.99662 13.3531 6.64346 13.5 6.23096 13.5ZM12.0002 13.5C11.5877 13.5 11.2346 13.3531 10.941 13.0592C10.6471 12.7656 10.5002 12.4125 10.5002 12C10.5002 11.5875 10.6471 11.2344 10.941 10.9408C11.2346 10.6469 11.5877 10.5 12.0002 10.5C12.4127 10.5 12.7658 10.6469 13.0595 10.9408C13.3533 11.2344 13.5002 11.5875 13.5002 12C13.5002 12.4125 13.3533 12.7656 13.0595 13.0592C12.7658 13.3531 12.4127 13.5 12.0002 13.5ZM17.7695 13.5C17.357 13.5 17.0038 13.3531 16.71 13.0592C16.4163 12.7656 16.2695 12.4125 16.2695 12C16.2695 11.5875 16.4163 11.2344 16.71 10.9408C17.0038 10.6469 17.357 10.5 17.7695 10.5C18.182 10.5 18.535 10.6469 18.8287 10.9408C19.1225 11.2344 19.2695 11.5875 19.2695 12C19.2695 12.4125 19.1225 12.7656 18.8287 13.0592C18.535 13.3531 18.182 13.5 17.7695 13.5Z",fill:"currentColor"})),more_vert:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M12 19.2692C11.5875 19.2692 11.2344 19.1223 10.9408 18.8285C10.6469 18.5348 10.5 18.1817 10.5 17.7692C10.5 17.3567 10.6469 17.0035 10.9408 16.7097C11.2344 16.416 11.5875 16.2692 12 16.2692C12.4125 16.2692 12.7656 16.416 13.0592 16.7097C13.3531 17.0035 13.5 17.3567 13.5 17.7692C13.5 18.1817 13.3531 18.5348 13.0592 18.8285C12.7656 19.1223 12.4125 19.2692 12 19.2692ZM12 13.5C11.5875 13.5 11.2344 13.353 10.9408 13.0592C10.6469 12.7655 10.5 12.4125 10.5 12C10.5 11.5875 10.6469 11.2344 10.9408 10.9407C11.2344 10.6469 11.5875 10.5 12 10.5C12.4125 10.5 12.7656 10.6469 13.0592 10.9407C13.3531 11.2344 13.5 11.5875 13.5 12C13.5 12.4125 13.3531 12.7655 13.0592 13.0592C12.7656 13.353 12.4125 13.5 12 13.5ZM12 7.73071C11.5875 7.73071 11.2344 7.58388 10.9408 7.29021C10.6469 6.99638 10.5 6.64321 10.5 6.23071C10.5 5.81821 10.6469 5.46513 10.9408 5.17146C11.2344 4.87763 11.5875 4.73071 12 4.73071C12.4125 4.73071 12.7656 4.87763 13.0592 5.17146C13.3531 5.46513 13.5 5.81821 13.5 6.23071C13.5 6.64321 13.3531 6.99638 13.0592 7.29021C12.7656 7.58388 12.4125 7.73071 12 7.73071Z",fill:"currentColor"})),close:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M6.39994 18.6538L5.34619 17.6L10.9462 12L5.34619 6.4L6.39994 5.34625L11.9999 10.9463L17.5999 5.34625L18.6537 6.4L13.0537 12L18.6537 17.6L17.5999 18.6538L11.9999 13.0538L6.39994 18.6538Z",fill:"currentColor"})),settings:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M9.69225 21.5L9.3115 18.4538C9.04367 18.3641 8.769 18.2385 8.4875 18.077C8.20617 17.9153 7.95459 17.7422 7.73275 17.5577L4.9115 18.75L2.604 14.75L5.04425 12.9058C5.02125 12.7571 5.00492 12.6077 4.99525 12.4578C4.98559 12.3078 4.98075 12.1583 4.98075 12.0095C4.98075 11.8673 4.98559 11.7228 4.99525 11.576C5.00492 11.4292 5.02125 11.2686 5.04425 11.0943L2.604 9.25L4.9115 5.26925L7.723 6.452C7.96417 6.261 8.22159 6.08633 8.49525 5.928C8.76892 5.76967 9.03784 5.64242 9.302 5.54625L9.69225 2.5H14.3078L14.6885 5.55575C14.9885 5.66475 15.2599 5.792 15.5028 5.9375C15.7458 6.083 15.991 6.2545 16.2385 6.452L19.0885 5.26925L21.396 9.25L18.9173 11.123C18.9531 11.2845 18.9727 11.4355 18.976 11.576C18.9792 11.7163 18.9808 11.8577 18.9808 12C18.9808 12.1358 18.9775 12.274 18.971 12.4145C18.9647 12.5548 18.9417 12.7154 18.902 12.8963L21.3615 14.75L19.0538 18.75L16.2385 17.548C15.991 17.7455 15.7384 17.9202 15.4808 18.072C15.2231 18.224 14.959 18.3481 14.6885 18.4443L14.3078 21.5H9.69225ZM11 20H12.9655L13.325 17.3212C13.8353 17.1879 14.3017 16.9985 14.724 16.753C15.1465 16.5073 15.5539 16.1916 15.9463 15.8057L18.4308 16.85L19.4155 15.15L17.2463 13.5155C17.3296 13.2565 17.3863 13.0026 17.4163 12.7537C17.4464 12.5051 17.4615 12.2538 17.4615 12C17.4615 11.7397 17.4464 11.4884 17.4163 11.2463C17.3863 11.0039 17.3296 10.7564 17.2463 10.5038L19.4345 8.85L18.45 7.15L15.9365 8.2095C15.6018 7.85183 15.2009 7.53583 14.7338 7.2615C14.2664 6.98717 13.7937 6.79292 13.3155 6.67875L13 4H11.0155L10.6845 6.66925C10.1743 6.78975 9.70325 6.97433 9.27125 7.223C8.83909 7.47183 8.42684 7.79233 8.0345 8.1845L5.55 7.15L4.5655 8.85L6.725 10.4595C6.64167 10.6968 6.58334 10.9437 6.55 11.2C6.51667 11.4563 6.5 11.7262 6.5 12.0095C6.5 12.2698 6.51667 12.525 6.55 12.775C6.58334 13.025 6.6385 13.2718 6.7155 13.5155L4.5655 15.15L5.55 16.85L8.025 15.8C8.4045 16.1897 8.81025 16.5089 9.24225 16.7578C9.67442 17.0064 10.152 17.1974 10.675 17.3307L11 20ZM12.0115 15C12.8435 15 13.5515 14.708 14.1355 14.124C14.7195 13.54 15.0115 12.832 15.0115 12C15.0115 11.168 14.7195 10.46 14.1355 9.876C13.5515 9.292 12.8435 9 12.0115 9C11.1692 9 10.4586 9.292 9.87975 9.876C9.30092 10.46 9.0115 11.168 9.0115 12C9.0115 12.832 9.30092 13.54 9.87975 14.124C10.4586 14.708 11.1692 15 12.0115 15Z",fill:"currentColor"})),delete_big:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M7.30775 20.5C6.80908 20.5 6.38308 20.3234 6.02975 19.9702C5.67658 19.6169 5.5 19.1909 5.5 18.6922V5.99998H4.5V4.49998H9V3.61548H15V4.49998H19.5V5.99998H18.5V18.6922C18.5 19.1974 18.325 19.625 17.975 19.975C17.625 20.325 17.1974 20.5 16.6923 20.5H7.30775ZM17 5.99998H7V18.6922C7 18.7821 7.02883 18.8558 7.0865 18.9135C7.14417 18.9711 7.21792 19 7.30775 19H16.6923C16.7692 19 16.8398 18.9679 16.9038 18.9037C16.9679 18.8397 17 18.7692 17 18.6922V5.99998ZM9.404 17H10.9037V7.99998H9.404V17ZM13.0962 17H14.596V7.99998H13.0962V17Z",fill:"currentColor"})),delete_small:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M7.30775 20.5C6.80908 20.5 6.38308 20.3234 6.02975 19.9702C5.67658 19.6169 5.5 19.1909 5.5 18.6922V5.99998H4.5V4.49998H9V3.61548H15V4.49998H19.5V5.99998H18.5V18.6922C18.5 19.1974 18.325 19.625 17.975 19.975C17.625 20.325 17.1974 20.5 16.6923 20.5H7.30775ZM17 5.99998H7V18.6922C7 18.7821 7.02883 18.8558 7.0865 18.9135C7.14417 18.9711 7.21792 19 7.30775 19H16.6923C16.7692 19 16.8398 18.9679 16.9038 18.9037C16.9679 18.8397 17 18.7692 17 18.6922V5.99998ZM9.404 17H10.9037V7.99998H9.404V17ZM13.0962 17H14.596V7.99998H13.0962V17Z",fill:"currentColor"})),format_align_center:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M3.5 20.5V19H20.5V20.5H3.5ZM7.5 16.625V15.125H16.5V16.625H7.5ZM3.5 12.75V11.25H20.5V12.75H3.5ZM7.5 8.875V7.375H16.5V8.875H7.5ZM3.5 5V3.5H20.5V5H3.5Z",fill:"currentColor"})),format_align_left:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M3.5 20.5V19H20.5V20.5H3.5ZM3.5 16.625V15.125H14.5V16.625H3.5ZM3.5 12.75V11.25H20.5V12.75H3.5ZM3.5 8.875V7.375H14.5V8.875H3.5ZM3.5 5V3.5H20.5V5H3.5Z",fill:"currentColor"})),format_align_right:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M3.5 5V3.5H20.5V5H3.5ZM9.5 8.875V7.375H20.5V8.875H9.5ZM3.5 12.75V11.25H20.5V12.75H3.5ZM9.5 16.625V15.125H20.5V16.625H9.5ZM3.5 20.5V19H20.5V20.5H3.5Z",fill:"currentColor"})),add_row:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.025 10.2077C4.375 9.85775 4.80258 9.68275 5.30775 9.68275H6.5V11.1827H5.30775C5.21792 11.1827 5.14417 11.2116 5.0865 11.2693C5.02883 11.3269 5 11.4007 5 11.4905V16.1923C5 16.2821 5.02883 16.3558 5.0865 16.4135C5.14417 16.4712 5.21792 16.5 5.30775 16.5H18.6923C18.7821 16.5 18.8558 16.4712 18.9135 16.4135C18.9712 16.3558 19 16.2821 19 16.1923V11.4905C19 11.4007 18.9712 11.3269 18.9135 11.2693C18.8558 11.2116 18.7821 11.1827 18.6923 11.1827H17.6923V9.68275H18.6923C19.1974 9.68275 19.625 9.85775 19.975 10.2077C20.325 10.5577 20.5 10.9853 20.5 11.4905V16.1923C20.5 16.6974 20.325 17.125 19.975 17.475C19.625 17.825 19.1974 18 18.6923 18H5.30775C4.80258 18 4.375 17.825 4.025 17.475C3.675 17.125 3.5 16.6974 3.5 16.1923V11.4905C3.5 10.9853 3.675 10.5577 4.025 10.2077Z",fill:"currentColor"}),F.createElement("path",{d:"M11.3848 9.68275V7.5H12.8848V9.68275H15V11.1827H12.8848V13.2307H11.3848V11.1827H9.26925V9.68275H11.3848Z",fill:"currentColor"})),add_column:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.70775 4.025C9.35775 4.375 9.18275 4.80258 9.18275 5.30775V6.5H10.6827V5.30775C10.6827 5.21792 10.7116 5.14417 10.7693 5.0865C10.8269 5.02883 10.9007 5 10.9905 5H15.6923C15.7821 5 15.8558 5.02883 15.9135 5.0865C15.9712 5.14417 16 5.21792 16 5.30775V18.6923C16 18.7821 15.9712 18.8558 15.9135 18.9135C15.8558 18.9712 15.7821 19 15.6923 19H10.9905C10.9007 19 10.8269 18.9712 10.7693 18.9135C10.7116 18.8558 10.6827 18.7821 10.6827 18.6923V17.6923H9.18275V18.6923C9.18275 19.1974 9.35775 19.625 9.70775 19.975C10.0577 20.325 10.4853 20.5 10.9905 20.5H15.6923C16.1974 20.5 16.625 20.325 16.975 19.975C17.325 19.625 17.5 19.1974 17.5 18.6923V5.30775C17.5 4.80258 17.325 4.375 16.975 4.025C16.625 3.675 16.1974 3.5 15.6923 3.5H10.9905C10.4853 3.5 10.0577 3.675 9.70775 4.025Z",fill:"currentColor"}),F.createElement("path",{d:"M9.18275 11.3848H7V12.8848H9.18275V15H10.6827V12.8848H12.7307V11.3848H10.6827V9.26925H9.18275V11.3848Z",fill:"currentColor"})),insert_col_left:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M13.0001 20.1152H8.67713H8.75388H8.69238H13.0001ZM7.19238 19.8075C7.19238 20.3127 7.36738 20.7402 7.71738 21.0902C8.06738 21.4402 8.49497 21.6152 9.00013 21.6152H12.6924C13.1975 21.6152 13.6251 21.4402 13.9751 21.0902C14.3251 20.7402 14.5001 20.3127 14.5001 19.8075V10.423H13.0001V19.8075C13.0001 19.8973 12.9713 19.9711 12.9136 20.0287C12.856 20.0864 12.7822 20.1152 12.6924 20.1152H9.00013C8.9103 20.1152 8.83655 20.0864 8.77888 20.0287C8.72122 19.9711 8.69238 19.8973 8.69238 19.8075V4.69223C8.26422 4.74357 7.90722 4.93299 7.62138 5.26048C7.33538 5.58798 7.19238 5.97548 7.19238 6.42298V19.8075ZM13.0001 2.49998V4.61523H10.8846V6.11523H13.0001V8.23073H14.5001V6.11523H16.6154V4.61523H14.5001V2.49998H13.0001Z",fill:"currentColor"})),insert_row_above:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M20.1152 9.99987V14.3229V14.2461V14.3076V9.99987ZM19.8075 15.8076C20.3127 15.8076 20.7402 15.6326 21.0902 15.2826C21.4402 14.9326 21.6152 14.505 21.6152 13.9999V10.3076C21.6152 9.80245 21.4402 9.37487 21.0902 9.02487C20.7402 8.67487 20.3127 8.49987 19.8075 8.49987H10.423V9.99987H19.8075C19.8973 9.99987 19.9711 10.0287 20.0287 10.0864C20.0864 10.144 20.1152 10.2178 20.1152 10.3076V13.9999C20.1152 14.0897 20.0864 14.1635 20.0287 14.2211C19.9711 14.2788 19.8973 14.3076 19.8075 14.3076H4.69223C4.74357 14.7358 4.93299 15.0928 5.26048 15.3786C5.58798 15.6646 5.97548 15.8076 6.42298 15.8076H19.8075ZM2.49998 9.99987H4.61523V12.1154H6.11523V9.99987H8.23073V8.49987H6.11523V6.38462H4.61523V8.49987H2.49998V9.99987Z",fill:"currentColor"})),insert_row_below:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M20.1152 14.1924V9.86939V9.94614V9.88464V14.1924ZM19.8075 8.38464C20.3127 8.38464 20.7402 8.55964 21.0902 8.90964C21.4402 9.25964 21.6152 9.68723 21.6152 10.1924V13.8846C21.6152 14.3898 21.4402 14.8174 21.0902 15.1674C20.7402 15.5174 20.3127 15.6924 19.8075 15.6924H10.423V14.1924H19.8075C19.8973 14.1924 19.9711 14.1636 20.0287 14.1059C20.0864 14.0482 20.1152 13.9745 20.1152 13.8846V10.1924C20.1152 10.1026 20.0864 10.0288 20.0287 9.97114C19.9711 9.91348 19.8973 9.88464 19.8075 9.88464H4.69223C4.74357 9.45648 4.93299 9.09948 5.26048 8.81364C5.58798 8.52764 5.97548 8.38464 6.42298 8.38464H19.8075ZM2.49998 14.1924H4.61523V12.0769H6.11523V14.1924H8.23073V15.6924H6.11523V17.8076H4.61523V15.6924H2.49998V14.1924Z",fill:"currentColor"})),insert_col_right:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M10.8075 20.1152H15.1305H15.0537H15.1152H10.8075ZM16.6152 19.8075C16.6152 20.3127 16.4402 20.7402 16.0902 21.0902C15.7402 21.4402 15.3127 21.6152 14.8075 21.6152H11.1152C10.6101 21.6152 10.1825 21.4402 9.83248 21.0902C9.48248 20.7402 9.30748 20.3127 9.30748 19.8075V10.423H10.8075V19.8075C10.8075 19.8973 10.8363 19.9711 10.894 20.0287C10.9517 20.0864 11.0254 20.1152 11.1152 20.1152H14.8075C14.8973 20.1152 14.9711 20.0864 15.0287 20.0287C15.0864 19.9711 15.1152 19.8973 15.1152 19.8075V4.69223C15.5434 4.74357 15.9004 4.93299 16.1862 5.26048C16.4722 5.58798 16.6152 5.97548 16.6152 6.42298V19.8075ZM10.8075 2.49998V4.61523H12.923V6.11523H10.8075V8.23073H9.30748V6.11523H7.19223V4.61523H9.30748V2.49998H10.8075Z",fill:"currentColor"})),check:F.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},F.createElement("path",{d:"M9.54983 17.6537L4.21533 12.3192L5.28433 11.25L9.54983 15.5155L18.7153 6.34998L19.7843 7.41923L9.54983 17.6537Z",fill:"currentColor"}))},Kve=({children:t})=>{const e=qr(Aa),n=F.useMemo(()=>[e,xV(null,sA)],[e]);return F.createElement(Qx.Provider,{value:n},t)},Gve=()=>{const t=Br(),[e,n,r,i,o]=$i(TE,kj,Tj,Aj,AE);return F.createElement(F.Fragment,null,r.map((s,a)=>F.createElement(s,{key:a})),F.createElement(Bj,{wrappers:i},F.createElement("div",{className:Oi(Ke.rootContentEditableWrapper,"mdxeditor-root-contenteditable")},F.createElement(Oj,{contentEditable:F.createElement(Nj,{className:Oi(Ke.contentEditable,e),ariaLabel:t("contentArea.editableMarkdown","editable markdown")}),placeholder:F.createElement("div",{className:Oi(Ke.contentEditable,Ke.placeholder,e)},F.createElement("p",null,o)),ErrorBoundary:Lj}))),n.map((s,a)=>F.createElement(s,{key:a})))},Jve={listItemIndent:"one"},Qve=t=>qve[t];function Yve(t,e,n={}){let r=e;for(const[i,o]of Object.entries(n))r=r.replaceAll(`{{${i}}}`,String(o));return r}const Bj=({wrappers:t,children:e})=>{if(t.length===0)return F.createElement(F.Fragment,null,e);const n=t[0];return F.createElement(n,null,F.createElement(Bj,{wrappers:t.slice(1)},e))},Xve=({children:t,className:e})=>{const n=F.useRef(null),r=Ea(Om);return F.useEffect(()=>{const i=document.createElement("div");return i.classList.add("mdxeditor-popup-container",Ke.editorRoot,Ke.popupContainer,...(e??"").trim().split(" ").filter(Boolean)),document.body.appendChild(i),n.current=i,r(n),()=>{i.remove()}},[e,n,r]),F.createElement("div",{className:Oi("mdxeditor",Ke.editorRoot,Ke.editorWrapper,e)},t)},Zve=({mdxRef:t})=>{const e=Jy();return F.useImperativeHandle(t,()=>({getMarkdown:()=>e.getValue(NE)==="source"?e.getValue(vv):e.getValue(du),setMarkdown:n=>{e.pub(mA,n)},insertMarkdown:n=>{e.pub(_j,n)},focus:(n,r)=>{var i;(i=e.getValue(Aa))==null||i.focus(n,r)}}),[e]),null},eye=F.forwardRef((t,e)=>F.createElement(Ahe,{plugins:[P1e({contentEditableClassName:t.contentEditableClassName??"",initialMarkdown:t.markdown,onChange:t.onChange??qc,onBlur:t.onBlur??qc,toMarkdownOptions:t.toMarkdownOptions??Jve,autoFocus:t.autoFocus??!1,placeholder:t.placeholder??"",readOnly:!!t.readOnly,iconComponentFor:t.iconComponentFor??Qve,suppressHtmlProcessing:t.suppressHtmlProcessing??!1,onError:t.onError??qc,translation:t.translation??Yve}),...t.plugins??[]]},F.createElement(Xve,{className:t.className},F.createElement(Kve,null,F.createElement(Gve,null))),F.createElement(Zve,{mdxRef:e}))),tye={testLexicalNode:Sz,visitLexicalNode:({lexicalNode:t,actions:e})=>{const n=parseInt(t.getTag()[1],10);e.addAndStepInto("heading",{depth:n})}},nye={testNode:"heading",visitNode:function({mdastNode:t,actions:e}){e.addAndStepInto(ml(`h${t.depth}`))}},rye=[48,49,50,51,52,53,54],Vj=[1,2,3,4,5,6],iye={49:1,50:2,51:3,52:4,53:5,54:6},yA=Ge(Vj,t=>{t.pub(Sj,e=>e.registerCommand(pT,n=>{const{keyCode:r,ctrlKey:i,metaKey:o,altKey:s}=n;return rye.includes(r)&&fj(o,i)&&s?(n.preventDefault(),e.update(()=>{if(r===48)t.pub(xv,()=>Zt());else{const a=t.getValue(yA),l=iye[r];a.includes(l)||t.pub(xv,()=>ml(`h${l}`))}}),!0):!1},Hr))}),oye=Sa({init(t){t.pubIn({[__]:"headings",[Jl]:nye,[Bu]:Mm,[Vu]:tye})},update(t,e){t.pub(yA,(e==null?void 0:e.allowedHeadingLevels)??Vj)}});function zR(t,e){return t.getEditorState().read(()=>{const n=Hn(e);return n!==null&&n.isSelected()})}function sye(t){const[e]=Uo(),[n,r]=k.useState(()=>zR(e,t));return k.useEffect(()=>{let i=!0;const o=e.registerUpdateListener(()=>{i&&r(zR(e,t))});return()=>{i=!1,o()}},[e,t]),[n,k.useCallback(i=>{e.update(()=>{let o=Se();$r(o)||(o=mE(),Bi(o)),$r(o)&&(i?o.add(t):o.delete(t))})},[e,t]),k.useCallback(()=>{e.update(()=>{const i=Se();$r(i)&&i.clear()})},[e])]}const zj=Lu();function aye({nodeKey:t}){const[e]=Uo(),[n,r,i]=sye(t),o=k.useCallback(s=>{const a=Se();return n&&$r(a)&&(s.preventDefault(),e.update(()=>{a.getNodes().forEach(l=>{$j(l)&&l.remove()})})),!1},[e,n]);return k.useEffect(()=>Is(e.registerCommand(fT,s=>{const a=e.getElementByKey(t);return s.target===a&&(s.shiftKey||i(),r(!n),!0)},Hr),e.registerCommand(_T,o,Hr),e.registerCommand(vT,o,Hr)),[i,e,n,t,o,r]),k.useEffect(()=>{const s=e.getElementByKey(t),a="selected";s!==null&&(n?Qf(s,a):ZT(s,a))},[e,n,t]),null}let _A=class jj extends Rm{static getType(){return"horizontalrule"}static clone(e){return new jj(e.__key)}static importJSON(e){return w_()}static importDOM(){return{hr:()=>({conversion:lye,priority:0})}}exportJSON(){return{type:"horizontalrule",version:1}}exportDOM(){return{element:document.createElement("hr")}}createDOM(e){const n=document.createElement("hr");return Qf(n,e.theme.hr),n}getTextContent(){return`
`}isInline(){return!1}updateDOM(){return!1}decorate(){return P.jsx(aye,{nodeKey:this.__key})}};function lye(){return{node:w_()}}function w_(){return As(new _A)}function $j(t){return t instanceof _A}function cye(){const[t]=Uo();return k.useEffect(()=>t.registerCommand(zj,e=>{const n=Se();if(!me(n))return!1;if(n.focus.getNode()!==null){const r=w_();xz(r)}return!0},pt),[t]),null}const uye={testLexicalNode:$j,visitLexicalNode({actions:t}){t.addAndStepInto("thematicBreak")}},hye={testNode:"thematicBreak",visitNode({actions:t}){t.addAndStepInto(w_())}},Hj=khe(t=>{t.sub(t.pipe(Hj,vi(ri)),([,e])=>{e==null||e.dispatchCommand(zj,void 0)})}),fye=Sa({init(t){t.pubIn({[Jl]:hye,[Bu]:_A,[Vu]:uye,[xA]:cye})}});function dye(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var os=dye(function(t){const e=new URLSearchParams;e.append("code",t);for(let n=1;n<arguments.length;n++)e.append("v",arguments[n]);throw Error(`Minified Lexical error #${t}; visit https://lexical.dev/docs/error?${e} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});function FE(t){let e=1,n=t.getParent();for(;n!=null;){if(At(n)){const r=n.getParent();if(it(r)){e++,n=r.getParent();continue}os(40)}return e}return e}function BE(t){let e=t.getParent();it(e)||os(40);let n=e;for(;n!==null;)n=n.getParent(),it(n)&&(e=n);return e}function Uj(t){let e=[];const n=t.getChildren().filter(At);for(let r=0;r<n.length;r++){const i=n[r],o=i.getFirstChild();it(o)?e=e.concat(Uj(o)):e.push(i)}return e}function ss(t){return At(t)&&it(t.getFirstChild())}function jR(t){return Yr().append(t)}function Wj(t,e){return At(t)&&(e.length===0||e.length===1&&t.is(e[0])&&t.getChildrenSize()===0)}function VE(t,e){t.update(()=>{const n=Se();if(n!==null){const r=n.getNodes();if(me(n)){const o=n.getStartEndPoints();o===null&&os(143);const[s]=o,a=s.getNode(),l=a.getParent();if(Wj(a,r)){const c=Gr(e);if(Fr(l)){a.replace(c);const u=Yr();oe(a)&&(u.setFormat(a.getFormatType()),u.setIndent(a.getIndent())),c.append(u)}else if(At(a)){const u=a.getParentOrThrow();pu(c,u.getChildren()),u.replace(c)}return}}const i=new Set;for(let o=0;o<r.length;o++){const s=r[o];if(!oe(s)||!s.isEmpty()||At(s)||i.has(s.getKey())){if(PV(s)){let a=s.getParent();for(;a!=null;){const l=a.getKey();if(it(a)){if(!i.has(l)){const c=Gr(e);pu(c,a.getChildren()),a.replace(c),i.add(l)}break}{const c=a.getParent();if(Fr(c)&&!i.has(l)){i.add(l),$R(a,e);break}a=c}}}}else $R(s,e)}}})}function pu(t,e){t.splice(t.getChildrenSize(),0,e)}function $R(t,e){if(it(t))return t;const n=t.getPreviousSibling(),r=t.getNextSibling(),i=Yr();if(i.setFormat(t.getFormatType()),i.setIndent(t.getIndent()),pu(i,t.getChildren()),it(n)&&e===n.getListType())return n.append(i),t.remove(),it(r)&&e===r.getListType()&&(pu(n,r.getChildren()),r.remove()),n;if(it(r)&&e===r.getListType())return r.getFirstChildOrThrow().insertBefore(i),t.remove(),r;{const o=Gr(e);return o.append(i),t.replace(o),o}}function wA(t,e){const n=t.getLastChild(),r=e.getFirstChild();n&&r&&ss(n)&&ss(r)&&(wA(n.getFirstChild(),r.getFirstChild()),r.remove());const i=e.getChildren();i.length>0&&t.append(...i),e.remove()}function pye(t){t.update(()=>{const e=Se();if(me(e)){const n=new Set,r=e.getNodes(),i=e.anchor.getNode();if(Wj(i,r))n.add(BE(i));else for(let o=0;o<r.length;o++){const s=r[o];if(PV(s)){const a=mz(s,zu);a!=null&&n.add(BE(a))}}for(const o of n){let s=o;const a=Uj(o);for(const l of a){const c=Zt();pu(c,l.getChildren()),s.insertAfter(c),s=c,l.__key===e.anchor.key&&e.anchor.set(c.getKey(),0,"element"),l.__key===e.focus.key&&e.focus.set(c.getKey(),0,"element"),l.remove()}o.remove()}}})}function mye(t){const e=new Set;if(ss(t)||e.has(t.getKey()))return;const n=t.getParent(),r=t.getNextSibling(),i=t.getPreviousSibling();if(ss(r)&&ss(i)){const o=i.getFirstChild();if(it(o)){o.append(t);const s=r.getFirstChild();it(s)&&(pu(o,s.getChildren()),r.remove(),e.add(r.getKey()))}}else if(ss(r)){const o=r.getFirstChild();if(it(o)){const s=o.getFirstChild();s!==null&&s.insertBefore(t)}}else if(ss(i)){const o=i.getFirstChild();it(o)&&o.append(t)}else if(it(n)){const o=Yr(),s=Gr(n.getListType());o.append(s),s.append(t),i?i.insertAfter(o):r?r.insertBefore(o):n.append(o)}}function gye(t){if(ss(t))return;const e=t.getParent(),n=e?e.getParent():void 0;if(it(n?n.getParent():void 0)&&At(n)&&it(e)){const r=e?e.getFirstChild():void 0,i=e?e.getLastChild():void 0;if(t.is(r))n.insertBefore(t),e.isEmpty()&&n.remove();else if(t.is(i))n.insertAfter(t),e.isEmpty()&&n.remove();else{const o=e.getListType(),s=Yr(),a=Gr(o);s.append(a),t.getPreviousSiblings().forEach(u=>a.append(u));const l=Yr(),c=Gr(o);l.append(c),pu(c,t.getNextSiblings()),n.insertBefore(s),n.insertAfter(l),n.replace(t)}}}function xye(){const t=Se();if(!me(t)||!t.isCollapsed())return!1;const e=t.anchor.getNode();if(!At(e)||e.getChildrenSize()!==0)return!1;const n=BE(e),r=e.getParent();it(r)||os(40);const i=r.getParent();let o;if(Fr(i))o=Zt(),n.insertAfter(o);else{if(!At(i))return!1;o=Yr(),i.insertAfter(o)}o.select();const s=e.getNextSiblings();if(s.length>0){const a=Gr(r.getListType());if(bf(o))o.insertAfter(a);else{const l=Yr();l.append(a),o.insertAfter(l)}s.forEach(l=>{l.remove(),a.append(l)})}return function(a){let l=a;for(;l.getNextSibling()==null&&l.getPreviousSibling()==null;){const c=l.getParent();if(c==null||!At(l)&&!it(l))break;l=c}l.remove()}(e),!0}function yv(...t){const e=[];for(const n of t)if(n&&typeof n=="string")for(const[r]of n.matchAll(/\S+/g))e.push(r);return e}class zu extends Ta{static getType(){return"listitem"}static clone(e){return new zu(e.__value,e.__checked,e.__key)}constructor(e,n,r){super(r),this.__value=e===void 0?1:e,this.__checked=n}createDOM(e){const n=document.createElement("li"),r=this.getParent();return it(r)&&r.getListType()==="check"&&UR(n,this,null),n.value=this.__value,HR(n,e.theme,this),n}updateDOM(e,n,r){const i=this.getParent();return it(i)&&i.getListType()==="check"&&UR(n,this,e),n.value=this.__value,HR(n,r.theme,this),!1}static transform(){return e=>{if(At(e)||os(144),e.__checked==null)return;const n=e.getParent();it(n)&&n.getListType()!=="check"&&e.getChecked()!=null&&e.setChecked(void 0)}}static importDOM(){return{li:()=>({conversion:vye,priority:0})}}static importJSON(e){const n=Yr();return n.setChecked(e.checked),n.setValue(e.value),n.setFormat(e.format),n.setDirection(e.direction),n}exportDOM(e){const n=this.createDOM(e._config);return n.style.textAlign=this.getFormatType(),{element:n}}exportJSON(){return{...super.exportJSON(),checked:this.getChecked(),type:"listitem",value:this.getValue(),version:1}}append(...e){for(let n=0;n<e.length;n++){const r=e[n];if(oe(r)&&this.canMergeWith(r)){const i=r.getChildren();this.append(...i),r.remove()}else super.append(r)}return this}replace(e,n){if(At(e))return super.replace(e);this.setIndent(0);const r=this.getParentOrThrow();if(!it(r))return e;if(r.__first===this.getKey())r.insertBefore(e);else if(r.__last===this.getKey())r.insertAfter(e);else{const i=Gr(r.getListType());let o=this.getNextSibling();for(;o;){const s=o;o=o.getNextSibling(),i.append(s)}r.insertAfter(e),e.insertAfter(i)}return n&&(oe(e)||os(139),this.getChildren().forEach(i=>{e.append(i)})),this.remove(),r.getChildrenSize()===0&&r.remove(),e}insertAfter(e,n=!0){const r=this.getParentOrThrow();if(it(r)||os(39),At(e))return super.insertAfter(e,n);const i=this.getNextSiblings();if(r.insertAfter(e,n),i.length!==0){const o=Gr(r.getListType());i.forEach(s=>o.append(s)),e.insertAfter(o,n)}return e}remove(e){const n=this.getPreviousSibling(),r=this.getNextSibling();super.remove(e),n&&r&&ss(n)&&ss(r)&&(wA(n.getFirstChild(),r.getFirstChild()),r.remove())}insertNewAfter(e,n=!0){const r=Yr(this.__checked==null&&void 0);return this.insertAfter(r,n),r}collapseAtStart(e){const n=Zt();this.getChildren().forEach(s=>n.append(s));const r=this.getParentOrThrow(),i=r.getParentOrThrow(),o=At(i);if(r.getChildrenSize()===1)if(o)r.remove(),i.select();else{r.insertBefore(n),r.remove();const s=e.anchor,a=e.focus,l=n.getKey();s.type==="element"&&s.getNode().is(this)&&s.set(l,s.offset,"element"),a.type==="element"&&a.getNode().is(this)&&a.set(l,a.offset,"element")}else r.insertBefore(n),this.remove();return!0}getValue(){return this.getLatest().__value}setValue(e){this.getWritable().__value=e}getChecked(){const e=this.getLatest();let n;const r=this.getParent();return it(r)&&(n=r.getListType()),n==="check"?!!e.__checked:void 0}setChecked(e){this.getWritable().__checked=e}toggleChecked(){this.setChecked(!this.__checked)}getIndent(){const e=this.getParent();if(e===null)return this.getLatest().__indent;let n=e.getParentOrThrow(),r=0;for(;At(n);)n=n.getParentOrThrow().getParentOrThrow(),r++;return r}setIndent(e){typeof e!="number"&&os(117),(e=Math.floor(e))>=0||os(199);let n=this.getIndent();for(;n!==e;)n<e?(mye(this),n++):(gye(this),n--);return this}canInsertAfter(e){return At(e)}canReplaceWith(e){return At(e)}canMergeWith(e){return bf(e)||At(e)}extractWithChild(e,n){if(!me(n))return!1;const r=n.anchor.getNode(),i=n.focus.getNode();return this.isParentOf(r)&&this.isParentOf(i)&&this.getTextContent().length===n.getTextContent().length}isParentRequired(){return!0}createParentElementNode(){return Gr("bullet")}canMergeWhenEmpty(){return!0}}function HR(t,e,n){const r=[],i=[],o=e.list,s=o?o.listitem:void 0;let a;if(o&&o.nested&&(a=o.nested.listitem),s!==void 0&&r.push(...yv(s)),o){const l=n.getParent(),c=it(l)&&l.getListType()==="check",u=n.getChecked();c&&!u||i.push(o.listitemUnchecked),c&&u||i.push(o.listitemChecked),c&&r.push(u?o.listitemChecked:o.listitemUnchecked)}if(a!==void 0){const l=yv(a);n.getChildren().some(c=>it(c))?r.push(...l):i.push(...l)}i.length>0&&ZT(t,...i),r.length>0&&Qf(t,...r)}function UR(t,e,n,r){it(e.getFirstChild())?(t.removeAttribute("role"),t.removeAttribute("tabIndex"),t.removeAttribute("aria-checked")):(t.setAttribute("role","checkbox"),t.setAttribute("tabIndex","-1"),n&&e.__checked===n.__checked||t.setAttribute("aria-checked",e.getChecked()?"true":"false"))}function vye(t){if(t.classList.contains("task-list-item")){for(const n of t.children)if(n.tagName==="INPUT")return yye(n)}const e=t.getAttribute("aria-checked");return{node:Yr(e==="true"||e!=="false"&&void 0)}}function yye(t){return t.getAttribute("type")!=="checkbox"?{node:null}:{node:Yr(t.hasAttribute("checked"))}}function Yr(t){return As(new zu(void 0,t))}function At(t){return t instanceof zu}class ju extends Ta{static getType(){return"list"}static clone(e){const n=e.__listType||KR[e.__tag];return new ju(n,e.__start,e.__key)}constructor(e,n,r){super(r);const i=KR[e]||e;this.__listType=i,this.__tag=i==="number"?"ol":"ul",this.__start=n}getTag(){return this.__tag}setListType(e){const n=this.getWritable();n.__listType=e,n.__tag=e==="number"?"ol":"ul"}getListType(){return this.__listType}getStart(){return this.__start}createDOM(e,n){const r=this.__tag,i=document.createElement(r);return this.__start!==1&&i.setAttribute("start",String(this.__start)),i.__lexicalListType=this.__listType,WR(i,e.theme,this),i}updateDOM(e,n,r){return e.__tag!==this.__tag||(WR(n,r.theme,this),!1)}static transform(){return e=>{it(e)||os(163),function(n){const r=n.getNextSibling();it(r)&&n.getListType()===r.getListType()&&wA(n,r)}(e),function(n){const r=n.getListType()!=="check";let i=n.getStart();for(const o of n.getChildren())At(o)&&(o.getValue()!==i&&o.setValue(i),r&&o.getLatest().__checked!=null&&o.setChecked(void 0),it(o.getFirstChild())||i++)}(e)}}static importDOM(){return{ol:()=>({conversion:qR,priority:0}),ul:()=>({conversion:qR,priority:0})}}static importJSON(e){const n=Gr(e.listType,e.start);return n.setFormat(e.format),n.setIndent(e.indent),n.setDirection(e.direction),n}exportDOM(e){const{element:n}=super.exportDOM(e);return n&&ga(n)&&(this.__start!==1&&n.setAttribute("start",String(this.__start)),this.__listType==="check"&&n.setAttribute("__lexicalListType","check")),{element:n}}exportJSON(){return{...super.exportJSON(),listType:this.getListType(),start:this.getStart(),tag:this.getTag(),type:"list",version:1}}canBeEmpty(){return!1}canIndent(){return!1}append(...e){for(let n=0;n<e.length;n++){const r=e[n];if(At(r))super.append(r);else{const i=Yr();if(it(r))i.append(r);else if(oe(r)){const o=Bn(r.getTextContent());i.append(o)}else i.append(r);super.append(i)}}return this}extractWithChild(e){return At(e)}}function WR(t,e,n){const r=[],i=[],o=e.list;if(o!==void 0){const s=o[`${n.__tag}Depth`]||[],a=FE(n)-1,l=a%s.length,c=s[l],u=o[n.__tag];let h;const f=o.nested,d=o.checklist;if(f!==void 0&&f.list&&(h=f.list),u!==void 0&&r.push(u),d!==void 0&&n.__listType==="check"&&r.push(d),c!==void 0){r.push(...yv(c));for(let p=0;p<s.length;p++)p!==l&&i.push(n.__tag+p)}if(h!==void 0){const p=yv(h);a>1?r.push(...p):i.push(...p)}}i.length>0&&ZT(t,...i),r.length>0&&Qf(t,...r)}function _ye(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n];if(At(r)){e.push(r);const i=r.getChildren();i.length>1&&i.forEach(o=>{it(o)&&e.push(jR(o))})}else e.push(jR(r))}return e}function qR(t){const e=t.nodeName.toLowerCase();let n=null;return e==="ol"?n=Gr("number",t.start):e==="ul"&&(n=function(r){if(r.getAttribute("__lexicallisttype")==="check"||r.classList.contains("contains-task-list"))return!0;for(const i of r.childNodes)if(ga(i)&&i.hasAttribute("aria-checked"))return!0;return!1}(t)?Gr("check"):Gr("bullet")),{after:_ye,node:n}}const KR={ol:"number",ul:"bullet"};function Gr(t,e=1){return As(new ju(t,e))}function it(t){return t instanceof ju}const qj=Lu(),Kj=Lu(),Gj=Lu(),Jj=Lu(),wye={testNode:"list",visitNode:function({mdastNode:t,lexicalParent:e,actions:n}){const r=t.children.some(o=>typeof o.checked=="boolean")?"check":t.ordered?"number":"bullet",i=Gr(r);if(At(e)){const o=Yr();o.append(i),e.insertAfter(o)}else e.append(i);n.visitChildren(t,i)}},Cye={testNode:"listItem",visitNode({mdastNode:t,actions:e,lexicalParent:n}){const r=n.getListType()==="check"?t.checked??!1:void 0;e.addAndStepInto(Yr(r))}},bye={testLexicalNode:it,visitLexicalNode:({lexicalNode:t,actions:e})=>{e.addAndStepInto("list",{ordered:t.getListType()==="number",spread:!1})}},Eye={testLexicalNode:At,visitLexicalNode:({lexicalNode:t,mdastParent:e,actions:n})=>{const r=t.getChildren(),i=r[0];if(r.length===1&&it(i)){const o=e.children.at(-1);n.visitChildren(t,o)}else{const o=t.getParent(),s=n.appendToParent(e,{type:"listItem",checked:o.getListType()==="check"?!!t.getChecked():void 0,spread:!1,children:[{type:"paragraph",children:[]}]});n.visitChildren(t,s.children[0])}}};function Sye(t){return t.registerCommand(wT,e=>{const n=Se();if(!me(n))return!1;e.preventDefault();const r=function(i){const o=i.getNodes();if(Kfe(o,h=>cv(h)&&h.canIndent()?h:null).length>0)return!0;const s=i.anchor,a=i.focus,l=a.isBefore(s)?a:s,c=l.getNode(),u=gz(c);if(u.canIndent()){const h=u.getKey();let f=oz();if(f.anchor.set(h,0,"element"),f.focus.set(h,0,"element"),f=OT(f),f.anchor.is(l))return!0}return!1}(n)?e.shiftKey?Yb:CT:_V;return t.dispatchCommand(r,void 0)},pt)}function GR(){const[t]=Uo();return k.useEffect(()=>Sye(t)),null}function JR(){const[t]=Uo();return k.useEffect(()=>Is(t.registerCommand(Gj,()=>(VE(t,"check"),!0),Hr),t.registerCommand(xT,e=>XR(e,t,!1),Hr),t.registerCommand(gT,e=>XR(e,t,!0),Hr),t.registerCommand(yT,e=>{if(zE()!=null){const n=t.getRootElement();return n!=null&&n.focus(),!0}return!1},Hr),t.registerCommand(yV,e=>{const n=zE();return!(n==null||!t.isEditable())&&(t.update(()=>{const r=Es(n);At(r)&&(e.preventDefault(),r.toggleChecked())}),!0)},Hr),t.registerCommand(mT,e=>t.getEditorState().read(()=>{const n=Se();if(me(n)&&n.isCollapsed()){const{anchor:r}=n,i=r.type==="element";if(i||r.offset===0){const o=r.getNode(),s=Yf(o,a=>oe(a)&&!a.isInline());if(At(s)){const a=s.getParent();if(it(a)&&a.getListType()==="check"&&(i||s.getFirstDescendant()===o)){const l=t.getElementByKey(s.__key);if(l!=null&&document.activeElement!==l)return l.focus(),e.preventDefault(),!0}}}}return!1}),Hr),t.registerRootListener((e,n)=>{e!==null&&(e.addEventListener("click",QR),e.addEventListener("pointerdown",YR)),n!==null&&(n.removeEventListener("click",QR),n.removeEventListener("pointerdown",YR))}))),null}function Qj(t,e){const n=t.target;if(n===null||!ga(n))return;const r=n.firstChild;if(r!=null&&ga(r)&&(r.tagName==="UL"||r.tagName==="OL"))return;const i=n.parentNode;if(!i||i.__lexicalListType!=="check")return;const o=n.getBoundingClientRect(),s=t.pageX/Gfe(n);(n.dir==="rtl"?s<o.right&&s>o.right-20:s>o.left&&s<o.left+20)&&e()}function QR(t){Qj(t,()=>{if(t.target instanceof HTMLElement){const e=t.target,n=VT(e);n!=null&&n.isEditable()&&n.update(()=>{const r=Es(e);At(r)&&(e.focus(),r.toggleChecked())})}})}function YR(t){Qj(t,()=>{t.preventDefault()})}function zE(){const t=document.activeElement;return t!=null&&t.tagName==="LI"&&t.parentNode!=null&&t.parentNode.__lexicalListType==="check"?t:null}function XR(t,e,n){const r=zE();return r!=null&&e.update(()=>{const i=Es(r);if(!At(i))return;const o=function(s,a){let l=a?s.getPreviousSibling():s.getNextSibling(),c=s;for(;l==null&&At(c);)c=c.getParentOrThrow().getParent(),c!=null&&(l=a?c.getPreviousSibling():c.getNextSibling());for(;At(l);){const u=a?l.getLastChild():l.getFirstChild();if(!it(u))return l;l=a?u.getLastChild():u.getFirstChild()}return null}(i,n);if(o!=null){o.selectStart();const s=e.getElementByKey(o.__key);s!=null&&(t.preventDefault(),setTimeout(()=>{s.focus()},0))}}),!1}function ZR(){const[t]=Uo();return k.useEffect(()=>{if(!t.hasNodes([ju,zu]))throw new Error("ListPlugin: ListNode and/or ListItemNode not registered on editor")},[t]),function(e){k.useEffect(()=>Is(e.registerCommand(Kj,()=>(VE(e,"number"),!0),Hr),e.registerCommand(qj,()=>(VE(e,"bullet"),!0),Hr),e.registerCommand(Jj,()=>(pye(e),!0),Hr),e.registerCommand(x0,()=>!!xye(),Hr)),[e])}(t),null}const kye={name:"tasklistCheck",tokenize:Aye};function Tye(){return{text:{91:kye}}}function Aye(t,e,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(t.enter("taskListCheck"),t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),o)}function o(l){return en(l)?(t.enter("taskListCheckValueUnchecked"),t.consume(l),t.exit("taskListCheckValueUnchecked"),s):l===88||l===120?(t.enter("taskListCheckValueChecked"),t.consume(l),t.exit("taskListCheckValueChecked"),s):n(l)}function s(l){return l===93?(t.enter("taskListCheckMarker"),t.consume(l),t.exit("taskListCheckMarker"),t.exit("taskListCheck"),a):n(l)}function a(l){return De(l)?e(l):rt(l)?t.check({tokenize:Iye},e,n)(l):n(l)}}function Iye(t,e,n){return gt(t,r,"whitespace");function r(i){return i===null?n(i):e(i)}}function Rye(){return{exit:{taskListCheckValueChecked:eP,taskListCheckValueUnchecked:eP,paragraph:Dye}}}function Pye(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Mye}}}function eP(t){const e=this.stack[this.stack.length-2];e.type,e.checked=t.type==="taskListCheckValueChecked"}function Dye(t){const e=this.stack[this.stack.length-2];if(e&&e.type==="listItem"&&typeof e.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=e.children;let o=-1,s;for(;++o<i.length;){const a=i[o];if(a.type==="paragraph"){s=a;break}}s===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(t)}function Mye(t,e,n,r){const i=t.children[0],o=typeof t.checked=="boolean"&&i&&i.type==="paragraph",s="["+(t.checked?"x":" ")+"] ",a=n.createTracker(r);o&&a.move(s);let l=iA.listItem(t,e,n,{...r,...a.current()});return o&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,c)),l;function c(u){return u+s}}const Nye=new Map([["number",Kj],["bullet",qj],["check",Gj],["",Jj]]),jE=Ge("",t=>{t.sub(t.pipe(cA,vi(ri)),([e,n])=>{if(!e||!n)return;const r=e.anchor.getNode();let i=r.getKey()==="root"?r:Yf(r,a=>{const l=a.getParent();return l!==null&&Fr(l)});i===null&&(i=r.getTopLevelElementOrThrow());const o=i.getKey();if(n.getElementByKey(o)!==null)if(it(i)){const a=mz(r,ju),l=a?a.getListType():i.getListType();t.pub(jE,l)}else t.pub(jE,"")})}),Yj=ni(t=>{t.sub(t.pipe(Yj,vi(ri)),([e,n])=>{n==null||n.dispatchCommand(Nye.get(e),void 0)})}),Lye=Sa({init(t){var e;(e=t.getValue(Aa))==null||e.registerCommand(CT,()=>!Fye(7),ys),t.pubIn({[__]:"lists",[gv]:Rye(),[mv]:Tye(),[Jl]:[wye,Cye],[Bu]:[zu,ju],[Vu]:[bye,Eye],[pA]:Pye(),[xA]:[GR,ZR,JR],[I1e]:[GR,ZR,JR]})}});function Oye(t){const e=t.getNodes();return e.length===0?new Set([t.anchor.getNode().getParentOrThrow(),t.focus.getNode().getParentOrThrow()]):new Set(e.map(n=>oe(n)?n:n.getParentOrThrow()))}function Fye(t){const e=Se();if(!me(e))return!1;const n=Oye(e);let r=0;for(const i of n)if(it(i))r=Math.max(FE(i)+1,r);else if(At(i)){const o=i.getParent();if((o==null?void 0:o.getChildren().length)===1){const s=o.getParent();if(At(s)&&s.getChildren().length===1)return!1}if(!it(o))throw new Error("ListMaxIndentLevelPlugin: A ListItemNode must have a ListNode for a parent.");r=Math.max(FE(o)+1,r)}return r<=t}function Bye(t,e={}){const n=(e.align||[]).concat(),r=e.stringLength||zye,i=[],o=[],s=[],a=[];let l=0,c=-1;for(;++c<t.length;){const p=[],m=[];let v=-1;for(t[c].length>l&&(l=t[c].length);++v<t[c].length;){const x=Vye(t[c][v]);if(e.alignDelimiters!==!1){const y=r(x);m[v]=y,(a[v]===void 0||y>a[v])&&(a[v]=y)}p.push(x)}o[c]=p,s[c]=m}let u=-1;if(typeof n=="object"&&"length"in n)for(;++u<l;)i[u]=tP(n[u]);else{const p=tP(n);for(;++u<l;)i[u]=p}u=-1;const h=[],f=[];for(;++u<l;){const p=i[u];let m="",v="";p===99?(m=":",v=":"):p===108?m=":":p===114&&(v=":");let x=e.alignDelimiters===!1?1:Math.max(1,a[u]-m.length-v.length);const y=m+"-".repeat(x)+v;e.alignDelimiters!==!1&&(x=m.length+x+v.length,x>a[u]&&(a[u]=x),f[u]=x),h[u]=y}o.splice(1,0,h),s.splice(1,0,f),c=-1;const d=[];for(;++c<o.length;){const p=o[c],m=s[c];u=-1;const v=[];for(;++u<l;){const x=p[u]||"";let y="",_="";if(e.alignDelimiters!==!1){const C=a[u]-(m[u]||0),S=i[u];S===114?y=" ".repeat(C):S===99?C%2?(y=" ".repeat(C/2+.5),_=" ".repeat(C/2-.5)):(y=" ".repeat(C/2),_=y):_=" ".repeat(C)}e.delimiterStart!==!1&&!u&&v.push("|"),e.padding!==!1&&!(e.alignDelimiters===!1&&x==="")&&(e.delimiterStart!==!1||u)&&v.push(" "),e.alignDelimiters!==!1&&v.push(y),v.push(x),e.alignDelimiters!==!1&&v.push(_),e.padding!==!1&&v.push(" "),(e.delimiterEnd!==!1||u!==l-1)&&v.push("|")}d.push(e.delimiterEnd===!1?v.join("").replace(/ +$/,""):v.join(""))}return d.join(`
`)}function Vye(t){return t==null?"":String(t)}function zye(t){return t.length}function tP(t){const e=typeof t=="string"?t.codePointAt(0):0;return e===67||e===99?99:e===76||e===108?108:e===82||e===114?114:0}function jye(){return{enter:{table:$ye,tableData:nP,tableHeader:nP,tableRow:Uye},exit:{codeText:Wye,table:Hye,tableData:q2,tableHeader:q2,tableRow:q2}}}function $ye(t){const e=t._align;this.enter({type:"table",align:e.map(function(n){return n==="none"?null:n}),children:[]},t),this.data.inTable=!0}function Hye(t){this.exit(t),this.data.inTable=void 0}function Uye(t){this.enter({type:"tableRow",children:[]},t)}function q2(t){this.exit(t)}function nP(t){this.enter({type:"tableCell",children:[]},t)}function Wye(t){let e=this.resume();this.data.inTable&&(e=e.replace(/\\([\\|])/g,qye));const n=this.stack[this.stack.length-1];n.type,n.value=e,this.exit(t)}function qye(t,e){return e==="|"?e:t}function Kye(t){const e=t||{},n=e.tableCellPadding,r=e.tablePipeAlign,i=e.stringLength,o=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:f,table:s,tableCell:l,tableRow:a}};function s(d,p,m,v){return c(u(d,m,v),d.align)}function a(d,p,m,v){const x=h(d,m,v),y=c([x]);return y.slice(0,y.indexOf(`
`))}function l(d,p,m,v){const x=m.enter("tableCell"),y=m.enter("phrasing"),_=m.containerPhrasing(d,{...v,before:o,after:o});return y(),x(),_}function c(d,p){return Bye(d,{align:p,alignDelimiters:r,padding:n,stringLength:i})}function u(d,p,m){const v=d.children;let x=-1;const y=[],_=p.enter("table");for(;++x<v.length;)y[x]=h(v[x],p,m);return _(),y}function h(d,p,m){const v=d.children;let x=-1;const y=[],_=p.enter("tableRow");for(;++x<v.length;)y[x]=l(v[x],d,p,m);return _(),y}function f(d,p,m){let v=iA.inlineCode(d,p,m);return m.stack.includes("tableCell")&&(v=v.replace(/\|/g,"\\$&")),v}}class Gye{constructor(){this.map=[]}add(e,n,r){Jye(this,e,n,r)}consume(e){if(this.map.sort(function(o,s){return o[0]-s[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(e.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),e.length=this.map[n][0];r.push([...e]),e.length=0;let i=r.pop();for(;i;)e.push(...i),i=r.pop();this.map.length=0}}function Jye(t,e,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<t.map.length;){if(t.map[i][0]===e){t.map[i][1]+=n,t.map[i][2].push(...r);return}i+=1}t.map.push([e,n,r])}}function Qye(t,e){let n=!1;const r=[];for(;e<t.length;){const i=t[e];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(t[e+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(t[e-1][1].type==="tableDelimiterMarker"){const o=r.length-1;r[o]=r[o]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);e+=1}return r}function Yye(){return{flow:{null:{name:"table",tokenize:Xye,resolveAll:Zye}}}}function Xye(t,e,n){const r=this;let i=0,o=0,s;return a;function a(E){let R=r.events.length-1;for(;R>-1;){const z=r.events[R][1].type;if(z==="lineEnding"||z==="linePrefix")R--;else break}const D=R>-1?r.events[R][1].type:null,N=D==="tableHead"||D==="tableRow"?T:l;return N===T&&r.parser.lazy[r.now().line]?n(E):N(E)}function l(E){return t.enter("tableHead"),t.enter("tableRow"),c(E)}function c(E){return E===124||(s=!0,o+=1),u(E)}function u(E){return E===null?n(E):De(E)?o>1?(o=0,r.interrupt=!0,t.exit("tableRow"),t.enter("lineEnding"),t.consume(E),t.exit("lineEnding"),d):n(E):rt(E)?gt(t,u,"whitespace")(E):(o+=1,s&&(s=!1,i+=1),E===124?(t.enter("tableCellDivider"),t.consume(E),t.exit("tableCellDivider"),s=!0,u):(t.enter("data"),h(E)))}function h(E){return E===null||E===124||en(E)?(t.exit("data"),u(E)):(t.consume(E),E===92?f:h)}function f(E){return E===92||E===124?(t.consume(E),h):h(E)}function d(E){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(E):(t.enter("tableDelimiterRow"),s=!1,rt(E)?gt(t,p,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(E):p(E))}function p(E){return E===45||E===58?v(E):E===124?(s=!0,t.enter("tableCellDivider"),t.consume(E),t.exit("tableCellDivider"),m):S(E)}function m(E){return rt(E)?gt(t,v,"whitespace")(E):v(E)}function v(E){return E===58?(o+=1,s=!0,t.enter("tableDelimiterMarker"),t.consume(E),t.exit("tableDelimiterMarker"),x):E===45?(o+=1,x(E)):E===null||De(E)?C(E):S(E)}function x(E){return E===45?(t.enter("tableDelimiterFiller"),y(E)):S(E)}function y(E){return E===45?(t.consume(E),y):E===58?(s=!0,t.exit("tableDelimiterFiller"),t.enter("tableDelimiterMarker"),t.consume(E),t.exit("tableDelimiterMarker"),_):(t.exit("tableDelimiterFiller"),_(E))}function _(E){return rt(E)?gt(t,C,"whitespace")(E):C(E)}function C(E){return E===124?p(E):E===null||De(E)?!s||i!==o?S(E):(t.exit("tableDelimiterRow"),t.exit("tableHead"),e(E)):S(E)}function S(E){return n(E)}function T(E){return t.enter("tableRow"),b(E)}function b(E){return E===124?(t.enter("tableCellDivider"),t.consume(E),t.exit("tableCellDivider"),b):E===null||De(E)?(t.exit("tableRow"),e(E)):rt(E)?gt(t,b,"whitespace")(E):(t.enter("data"),w(E))}function w(E){return E===null||E===124||en(E)?(t.exit("data"),b(E)):(t.consume(E),E===92?I:w)}function I(E){return E===92||E===124?(t.consume(E),w):w(E)}}function Zye(t,e){let n=-1,r=!0,i=0,o=[0,0,0,0],s=[0,0,0,0],a=!1,l=0,c,u,h;const f=new Gye;for(;++n<t.length;){const d=t[n],p=d[1];d[0]==="enter"?p.type==="tableHead"?(a=!1,l!==0&&(rP(f,e,l,c,u),u=void 0,l=0),c={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},f.add(n,0,[["enter",c,e]])):p.type==="tableRow"||p.type==="tableDelimiterRow"?(r=!0,h=void 0,o=[0,0,0,0],s=[0,n+1,0,0],a&&(a=!1,u={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},f.add(n,0,[["enter",u,e]])),i=p.type==="tableDelimiterRow"?2:u?3:1):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")?(r=!1,s[2]===0&&(o[1]!==0&&(s[0]=s[1],h=Ug(f,e,o,i,void 0,h),o=[0,0,0,0]),s[2]=n)):p.type==="tableCellDivider"&&(r?r=!1:(o[1]!==0&&(s[0]=s[1],h=Ug(f,e,o,i,void 0,h)),o=s,s=[o[1],n,0,0])):p.type==="tableHead"?(a=!0,l=n):p.type==="tableRow"||p.type==="tableDelimiterRow"?(l=n,o[1]!==0?(s[0]=s[1],h=Ug(f,e,o,i,n,h)):s[1]!==0&&(h=Ug(f,e,s,i,n,h)),i=0):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")&&(s[3]=n)}for(l!==0&&rP(f,e,l,c,u),f.consume(e.events),n=-1;++n<e.events.length;){const d=e.events[n];d[0]==="enter"&&d[1].type==="table"&&(d[1]._align=Qye(e.events,n))}return t}function Ug(t,e,n,r,i,o){const s=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",a="tableContent";n[0]!==0&&(o.end=Object.assign({},uh(e.events,n[0])),t.add(n[0],0,[["exit",o,e]]));const l=uh(e.events,n[1]);if(o={type:s,start:Object.assign({},l),end:Object.assign({},l)},t.add(n[1],0,[["enter",o,e]]),n[2]!==0){const c=uh(e.events,n[2]),u=uh(e.events,n[3]),h={type:a,start:Object.assign({},c),end:Object.assign({},u)};if(t.add(n[2],0,[["enter",h,e]]),r!==2){const f=e.events[n[2]],d=e.events[n[3]];if(f[1].end=Object.assign({},d[1].end),f[1].type="chunkText",f[1].contentType="text",n[3]>n[2]+1){const p=n[2]+1,m=n[3]-n[2]-1;t.add(p,m,[])}}t.add(n[3]+1,0,[["exit",h,e]])}return i!==void 0&&(o.end=Object.assign({},uh(e.events,i)),t.add(i,0,[["exit",o,e]]),o=void 0),o}function rP(t,e,n,r,i){const o=[],s=uh(e.events,n);i&&(i.end=Object.assign({},s),o.push(["exit",i,e])),r.end=Object.assign({},s),o.push(["exit",r,e]),t.add(n+1,0,o)}function uh(t,e){const n=t[e],r=n[0]==="enter"?"start":"end";return n[1][r]}const iP=[["Cat","rgb(125, 50, 0)"],["Dog","rgb(100, 0, 0)"],["Rabbit","rgb(150, 0, 0)"],["Frog","rgb(200, 0, 0)"],["Fox","rgb(200, 75, 0)"],["Hedgehog","rgb(0, 75, 0)"],["Pigeon","rgb(0, 125, 0)"],["Squirrel","rgb(75, 100, 0)"],["Bear","rgb(125, 100, 0)"],["Tiger","rgb(0, 0, 150)"],["Leopard","rgb(0, 0, 200)"],["Zebra","rgb(0, 0, 250)"],["Wolf","rgb(0, 100, 150)"],["Owl","rgb(0, 100, 100)"],["Gull","rgb(100, 0, 100)"],["Squid","rgb(150, 0, 150)"]],oP=iP[Math.floor(Math.random()*iP.length)],e_e=k.createContext({clientID:0,color:oP[1],isCollabActive:!1,name:oP[0],yjsDocMap:new Map});function t_e(t,e){return k.useContext(e_e)}function n_e(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var r_e=n_e(function(t){const e=new URLSearchParams;e.append("code",t);for(let n=1;n<arguments.length;n++)e.append("v",arguments[n]);throw Error(`Minified Lexical error #${t}; visit https://lexical.dev/docs/error?${e} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)});function sP(t){const e=t.transform();return e!==null?new Set([e]):new Set}function i_e({initialEditor:t,children:e,initialNodes:n,initialTheme:r,skipCollabChecks:i}){const o=k.useRef(!1),s=k.useContext(Qx);s==null&&r_e(9);const[a,{getTheme:l}]=s,c=k.useMemo(()=>{const d=r||l()||void 0,p=xV(s,d);if(d!==void 0&&(t._config.theme=d),t._parentEditor=a,n)for(let m of n){let v=null,x=null;if(typeof m!="function"){const _=m;m=_.replace,v=_.with,x=_.withKlass||null}const y=t._nodes.get(m.getType());t._nodes.set(m.getType(),{exportDOM:y?y.exportDOM:void 0,klass:m,replace:v,replaceWithKlass:x,transforms:sP(m)})}else{const m=t._nodes=new Map(a._nodes);for(const[v,x]of m)t._nodes.set(v,{exportDOM:x.exportDOM,klass:x.klass,replace:x.replace,replaceWithKlass:x.replaceWithKlass,transforms:sP(x.klass)})}return t._config.namespace=a._config.namespace,t._editable=a._editable,[t,p]},[]),{isCollabActive:u,yjsDocMap:h}=t_e(),f=i||o.current||h.has(t.getKey());return k.useEffect(()=>{f&&(o.current=!0)},[f]),k.useEffect(()=>a.registerEditableListener(d=>{t.setEditable(d)}),[t,a]),P.jsx(Qx.Provider,{value:c,children:!u||f?e:null})}var CA="Popover",[Xj,GAe]=ho(CA,[cc]),Fm=cc(),[o_e,dc]=Xj(CA),Zj=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!1}=t,a=Fm(e),l=k.useRef(null),[c,u]=k.useState(!1),[h=!1,f]=zo({prop:r,defaultProp:i,onChange:o});return P.jsx(Ny,{...a,children:P.jsx(o_e,{scope:e,contentId:Mo(),triggerRef:l,open:h,onOpenChange:f,onOpenToggle:k.useCallback(()=>f(d=>!d),[f]),hasCustomAnchor:c,onCustomAnchorAdd:k.useCallback(()=>u(!0),[]),onCustomAnchorRemove:k.useCallback(()=>u(!1),[]),modal:s,children:n})})};Zj.displayName=CA;var e$="PopoverAnchor",s_e=k.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=dc(e$,n),o=Fm(n),{onCustomAnchorAdd:s,onCustomAnchorRemove:a}=i;return k.useEffect(()=>(s(),()=>a()),[s,a]),P.jsx(gm,{...o,...r,ref:e})});s_e.displayName=e$;var t$="PopoverTrigger",bA=k.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=dc(t$,n),o=Fm(n),s=St(e,i.triggerRef),a=P.jsx(He.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":s$(i.open),...r,ref:s,onClick:_e(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?a:P.jsx(gm,{asChild:!0,...o,children:a})});bA.displayName=t$;var EA="PopoverPortal",[a_e,l_e]=Xj(EA,{forceMount:void 0}),n$=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,o=dc(EA,e);return P.jsx(a_e,{scope:e,forceMount:n,children:P.jsx(ji,{present:n||o.open,children:P.jsx(Du,{asChild:!0,container:i,children:r})})})};n$.displayName=EA;var Ef="PopoverContent",SA=k.forwardRef((t,e)=>{const n=l_e(Ef,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,o=dc(Ef,t.__scopePopover);return P.jsx(ji,{present:r||o.open,children:o.modal?P.jsx(c_e,{...i,ref:e}):P.jsx(u_e,{...i,ref:e})})});SA.displayName=Ef;var c_e=k.forwardRef((t,e)=>{const n=dc(Ef,t.__scopePopover),r=k.useRef(null),i=St(e,r),o=k.useRef(!1);return k.useEffect(()=>{const s=r.current;if(s)return Uy(s)},[]),P.jsx(wm,{as:fa,allowPinchZoom:!0,children:P.jsx(r$,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_e(t.onCloseAutoFocus,s=>{var a;s.preventDefault(),o.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:_e(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;o.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:_e(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),u_e=k.forwardRef((t,e)=>{const n=dc(Ef,t.__scopePopover),r=k.useRef(!1),i=k.useRef(!1);return P.jsx(r$,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,a;(s=t.onCloseAutoFocus)==null||s.call(t,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((c=n.triggerRef.current)==null?void 0:c.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),r$=k.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:s,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,...h}=t,f=dc(Ef,n),d=Fm(n);return jy(),P.jsx(_m,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:P.jsx(Pu,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:u,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>f.onOpenChange(!1),children:P.jsx(Ly,{"data-state":s$(f.open),role:"dialog",id:f.contentId,...d,...h,ref:e,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),i$="PopoverClose",h_e=k.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=dc(i$,n);return P.jsx(He.button,{type:"button",...r,ref:e,onClick:_e(t.onClick,()=>i.onOpenChange(!1))})});h_e.displayName=i$;var f_e="PopoverArrow",o$=k.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Fm(n);return P.jsx(Oy,{...i,...r,ref:e})});o$.displayName=f_e;function s$(t){return t?"open":"closed"}var a$=Zj,l$=n$,c$=o$,d_e="Separator",aP="horizontal",p_e=["horizontal","vertical"],u$=k.forwardRef((t,e)=>{const{decorative:n,orientation:r=aP,...i}=t,o=m_e(r)?r:aP,a=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return P.jsx(He.div,{"data-orientation":o,...a,...i,ref:e})});u$.displayName=d_e;function m_e(t){return p_e.includes(t)}var g_e=u$,x_e="Toggle",h$=k.forwardRef((t,e)=>{const{pressed:n,defaultPressed:r=!1,onPressedChange:i,...o}=t,[s=!1,a]=zo({prop:n,onChange:i,defaultProp:r});return P.jsx(He.button,{type:"button","aria-pressed":s,"data-state":s?"on":"off","data-disabled":t.disabled?"":void 0,...o,ref:e,onClick:_e(t.onClick,()=>{t.disabled||a(!s)})})});h$.displayName=x_e;var Zf="ToggleGroup",[f$,d$]=ho(Zf,[Gf]),p$=Gf(),kA=F.forwardRef((t,e)=>{const{type:n,...r}=t;if(n==="single"){const i=r;return P.jsx(v_e,{...i,ref:e})}if(n==="multiple"){const i=r;return P.jsx(y_e,{...i,ref:e})}throw new Error(`Missing prop \`type\` expected on \`${Zf}\``)});kA.displayName=Zf;var[m$,g$]=f$(Zf),v_e=F.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...o}=t,[s,a]=zo({prop:n,defaultProp:r,onChange:i});return P.jsx(m$,{scope:t.__scopeToggleGroup,type:"single",value:s?[s]:[],onItemActivate:a,onItemDeactivate:F.useCallback(()=>a(""),[a]),children:P.jsx(x$,{...o,ref:e})})}),y_e=F.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...o}=t,[s=[],a]=zo({prop:n,defaultProp:r,onChange:i}),l=F.useCallback(u=>a((h=[])=>[...h,u]),[a]),c=F.useCallback(u=>a((h=[])=>h.filter(f=>f!==u)),[a]);return P.jsx(m$,{scope:t.__scopeToggleGroup,type:"multiple",value:s,onItemActivate:l,onItemDeactivate:c,children:P.jsx(x$,{...o,ref:e})})});kA.displayName=Zf;var[__e,w_e]=f$(Zf),x$=F.forwardRef((t,e)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:i=!0,orientation:o,dir:s,loop:a=!0,...l}=t,c=p$(n),u=ym(s),h={role:"group",dir:u,...l};return P.jsx(__e,{scope:n,rovingFocus:i,disabled:r,children:i?P.jsx(nT,{asChild:!0,...c,orientation:o,dir:u,loop:a,children:P.jsx(He.div,{...h,ref:e})}):P.jsx(He.div,{...h,ref:e})})}),_v="ToggleGroupItem",v$=F.forwardRef((t,e)=>{const n=g$(_v,t.__scopeToggleGroup),r=w_e(_v,t.__scopeToggleGroup),i=p$(t.__scopeToggleGroup),o=n.value.includes(t.value),s=r.disabled||t.disabled,a={...t,pressed:o,disabled:s},l=F.useRef(null);return r.rovingFocus?P.jsx(Hy,{asChild:!0,...i,focusable:!s,active:o,ref:l,children:P.jsx(lP,{...a,ref:e})}):P.jsx(lP,{...a,ref:e})});v$.displayName=_v;var lP=F.forwardRef((t,e)=>{const{__scopeToggleGroup:n,value:r,...i}=t,o=g$(_v,n),s={role:"radio","aria-checked":t.pressed,"aria-pressed":void 0},a=o.type==="single"?s:void 0;return P.jsx(h$,{...a,...i,ref:e,onPressedChange:l=>{l?o.onItemActivate(r):o.onItemDeactivate(r)}})}),C_e=kA,b_e=v$,TA="Toolbar",[E_e,JAe]=ho(TA,[Gf,d$]),AA=Gf(),y$=d$(),[S_e,_$]=E_e(TA),w$=k.forwardRef((t,e)=>{const{__scopeToolbar:n,orientation:r="horizontal",dir:i,loop:o=!0,...s}=t,a=AA(n),l=ym(i);return P.jsx(S_e,{scope:n,orientation:r,dir:l,children:P.jsx(nT,{asChild:!0,...a,orientation:r,dir:l,loop:o,children:P.jsx(He.div,{role:"toolbar","aria-orientation":r,dir:l,...s,ref:e})})})});w$.displayName=TA;var C$="ToolbarSeparator",b$=k.forwardRef((t,e)=>{const{__scopeToolbar:n,...r}=t,i=_$(C$,n);return P.jsx(g_e,{orientation:i.orientation==="horizontal"?"vertical":"horizontal",...r,ref:e})});b$.displayName=C$;var k_e="ToolbarButton",IA=k.forwardRef((t,e)=>{const{__scopeToolbar:n,...r}=t,i=AA(n);return P.jsx(Hy,{asChild:!0,...i,focusable:!t.disabled,children:P.jsx(He.button,{type:"button",...r,ref:e})})});IA.displayName=k_e;var T_e="ToolbarLink",A_e=k.forwardRef((t,e)=>{const{__scopeToolbar:n,...r}=t,i=AA(n);return P.jsx(Hy,{asChild:!0,...i,focusable:!0,children:P.jsx(He.a,{...r,ref:e,onKeyDown:_e(t.onKeyDown,o=>{o.key===" "&&o.currentTarget.click()})})})});A_e.displayName=T_e;var E$="ToolbarToggleGroup",S$=k.forwardRef((t,e)=>{const{__scopeToolbar:n,...r}=t,i=_$(E$,n),o=y$(n);return P.jsx(C_e,{"data-orientation":i.orientation,dir:i.dir,...o,...r,ref:e,rovingFocus:!1})});S$.displayName=E$;var I_e="ToolbarToggleItem",k$=k.forwardRef((t,e)=>{const{__scopeToolbar:n,...r}=t,i=y$(n),o={__scopeToolbar:t.__scopeToolbar};return P.jsx(IA,{asChild:!0,...o,children:P.jsx(b_e,{...i,...r,ref:e})})});k$.displayName=I_e;var RA=w$,T$=b$,Jc=IA,C_=S$,W1=k$;function A$(t,e){return t===null||t===e?!1:t.dataset.editorDialog!==void 0||t.dataset.toolbarItem!==void 0||t.dataset.editorDropdown?!0:A$(t.parentElement,e)}function R_e(){const t=[...Array(256).keys()].map(n=>n.toString(16).padStart(2,"0")),e=crypto.getRandomValues(new Uint8Array(16));return e[6]=e[6]&15|64,e[8]=e[8]&63|128,[...e.entries()].map(([n,r])=>[4,6,8,10].includes(n)?`-${t[r]}`:t[r]).join("")}const I$=t=>t===0?"th":"td",R$={center:Ke.centeredCell,left:Ke.leftAlignedCell,right:Ke.rightAlignedCell},P_e=({mdastNode:t,parentEditor:e,lexicalTable:n})=>{const[r,i]=F.useState(null),[o,s]=$i(Hi,fu),a=F.useMemo(()=>m=>(m.__cacheKey||(m.__cacheKey=R_e()),m.__cacheKey),[]),l=F.useCallback(m=>{const v=n.getColCount();if(m===null){i(null);return}let[x,y]=m;if(x>v-1&&(x=0,y++),x<0&&(x=v-1,y-=1),y>n.getRowCount()-1){i(null),e.update(()=>{if(n.getLatest().getNextSibling())n.getLatest().selectNext();else{const C=Zt();n.insertAfter(C),C.select()}});return}if(y<0){i(null),e.update(()=>{n.getLatest().selectPrevious()});return}i([x,y])},[n,e]);F.useEffect(()=>{n.focusEmitter.subscribe(l)},[n,l]);const c=F.useCallback(m=>{m.preventDefault(),e.update(()=>{n.addRowToBottom(),i([0,n.getRowCount()])})},[e,n]),u=F.useCallback(m=>{m.preventDefault(),e.update(()=>{n.addColumnToRight(),i([n.getColCount(),0])})},[e,n]),[h,f]=F.useState([-1,-1]),d=F.useCallback(m=>{let v=m.target;for(;v&&!["TH","TD"].includes(v.tagName);){if(v===m.currentTarget)return;v=v.parentElement}if(v===null)return;const x=v.parentElement,_=x.parentElement.tagName==="TFOOT"?-1:Array.from(x.children).indexOf(v),C=v.tagName==="TH"?-1:Array.from(x.parentElement.children).indexOf(x);f([_,C])},[]),p=Br();return F.createElement("table",{className:Ke.tableEditor,onMouseOver:d,onMouseLeave:()=>{f([-1,-1])}},F.createElement("colgroup",null,s?null:F.createElement("col",null),Array.from({length:t.children[0].children.length},(m,v)=>{const y=(t.align??[])[v]??"left",_=R$[y];return F.createElement("col",{key:v,className:_})}),s?null:F.createElement("col",null)),s||F.createElement("thead",null,F.createElement("tr",null,F.createElement("th",{className:Ke.tableToolsColumn}),Array.from({length:t.children[0].children.length},(m,v)=>F.createElement("th",{key:v,"data-tool-cell":!0},F.createElement(N_e,{setActiveCellWithBoundaries:l,parentEditor:e,colIndex:v,highlightedCoordinates:h,lexicalTable:n,align:(t.align??[])[v]}))),F.createElement("th",{className:Ke.tableToolsColumn,"data-tool-cell":!0},F.createElement("button",{className:Ke.iconButton,type:"button",title:p("table.deleteTable","Delete table"),onClick:m=>{m.preventDefault(),e.update(()=>{n.selectNext(),n.remove()})}},o("delete_small"))))),F.createElement("tbody",null,t.children.map((m,v)=>{const x=I$(v);return F.createElement("tr",{key:v},s||F.createElement(x,{className:Ke.toolCell,"data-tool-cell":!0},F.createElement(L_e,{setActiveCellWithBoundaries:l,parentEditor:e,rowIndex:v,highlightedCoordinates:h,lexicalTable:n})),m.children.map((y,_)=>{var C;return F.createElement(D_e,{align:(C=t.align)==null?void 0:C[_],key:a(y),contents:y.children,setActiveCell:l,rowIndex:v,colIndex:_,lexicalTable:n,parentEditor:e,activeCell:s?[-1,-1]:r})}),s||v===0&&F.createElement("th",{rowSpan:n.getRowCount(),"data-tool-cell":!0},F.createElement("button",{type:"button",className:Ke.addColumnButton,onClick:u},o("add_column"))))})),s||F.createElement("tfoot",null,F.createElement("tr",null,F.createElement("th",null),F.createElement("th",{colSpan:n.getColCount()},F.createElement("button",{type:"button",className:Ke.addRowButton,onClick:c},o("add_row"))),F.createElement("th",null))))},D_e=({align:t,...e})=>{const{activeCell:n,setActiveCell:r}=e,i=!!(n&&n[0]===e.colIndex&&n[1]===e.rowIndex),o=R$[t??"left"],s=I$(e.rowIndex);return F.createElement(s,{className:o,"data-active":i,onClick:()=>{r([e.colIndex,e.rowIndex])}},F.createElement(M_e,{...e,focus:i}))},M_e=({focus:t,setActiveCell:e,parentEditor:n,lexicalTable:r,contents:i,colIndex:o,rowIndex:s})=>{const[a,l,c,u,h,f,d,p]=$i(uA,fA,hA,dA,yj,Lm,vj,Aa),[m]=F.useState(()=>{const x=fz({nodes:c,theme:sA});return x.update(()=>{hj({root:It(),mdastRoot:{type:"root",children:[{type:"paragraph",children:i}]},visitors:a,jsxComponentDescriptors:u,directiveDescriptors:h,codeBlockEditorDescriptors:f})}),x}),v=F.useCallback(x=>{m.getEditorState().read(()=>{const y=Yz({root:It(),jsxComponentDescriptors:u,visitors:l,jsxIsAvailable:d});n.update(()=>{r.updateCellContents(o,s,y.children[0].children)},{discrete:!0}),n.dispatchCommand(k0,void 0)}),e(x)},[o,m,l,u,d,r,n,s,e]);return F.useEffect(()=>Is(m.registerCommand(wT,x=>{x.preventDefault();const y=x.shiftKey?[o-1,s]:[o+1,s];return v(y),!0},ys),m.registerCommand(ET,()=>(e([o,s]),!1),Hr),m.registerCommand(_0,x=>{x==null||x.preventDefault();const y=x!=null&&x.shiftKey?[o,s-1]:[o,s+1];return v(y),!0},ys),m.registerCommand(ST,x=>{const y=x.relatedTarget;return A$(y,p.getRootElement())?!1:(v(null),!0)},pt),m.registerCommand(k0,()=>(v(null),!0),pt)),[o,m,p,s,v,e]),F.useEffect(()=>{t&&m.focus()},[t,m]),F.createElement(i_e,{initialEditor:m},F.createElement(Oj,{contentEditable:F.createElement(Nj,null),placeholder:F.createElement("div",null),ErrorBoundary:Lj}),F.createElement(yz,null))},N_e=({parentEditor:t,highlightedCoordinates:e,align:n,lexicalTable:r,colIndex:i,setActiveCellWithBoundaries:o})=>{const[s,a]=$i(Om,Hi),l=F.useCallback(f=>{t.update(()=>{r.insertColumnAt(f)}),o([f,0])},[t,r,o]),c=F.useCallback(f=>{t.update(()=>{r.deleteColumnAt(f)})},[t,r]),u=F.useCallback((f,d)=>{t.update(()=>{r.setColumnAlign(f,d)})},[t,r]),h=Br();return F.createElement(a$,null,F.createElement(bA,{className:Ke.tableColumnEditorTrigger,"data-active":e[0]===i+1,title:h("table.columnMenu","Column menu")},a("more_horiz")),F.createElement(l$,{container:s==null?void 0:s.current},F.createElement(SA,{className:Oi(Ke.tableColumnEditorPopoverContent),onOpenAutoFocus:f=>{f.preventDefault()},sideOffset:5,side:"top"},F.createElement(RA,{className:Ke.tableColumnEditorToolbar},F.createElement(C_,{className:Ke.toggleGroupRoot,onValueChange:f=>{u(i,f)},value:n??"left",type:"single","aria-label":h("table.textAlignment","Text alignment")},F.createElement(W1,{value:"left",title:h("table.alignLeft","Align left")},a("format_align_left")),F.createElement(W1,{value:"center",title:h("table.alignCenter","Align center")},a("format_align_center")),F.createElement(W1,{value:"right",title:h("table.alignRight","Align right")},a("format_align_right"))),F.createElement(T$,null),F.createElement(Jc,{onClick:l.bind(null,i),title:h("table.insertColumnLeft","Insert a column to the left of this one")},a("insert_col_left")),F.createElement(Jc,{onClick:l.bind(null,i+1),title:h("table.insertColumnRight","Insert a column to the right of this one")},a("insert_col_right")),F.createElement(Jc,{onClick:c.bind(null,i),title:h("table.deleteColumn","Delete this column")},a("delete_small"))),F.createElement(c$,{className:Ke.popoverArrow}))))},L_e=({parentEditor:t,highlightedCoordinates:e,lexicalTable:n,rowIndex:r,setActiveCellWithBoundaries:i})=>{const[o,s]=$i(Om,Hi),a=F.useCallback(u=>{t.update(()=>{n.insertRowAt(u)}),i([0,u])},[t,n,i]),l=F.useCallback(u=>{t.update(()=>{n.deleteRowAt(u)})},[t,n]),c=Br();return F.createElement(a$,null,F.createElement(bA,{className:Ke.tableColumnEditorTrigger,"data-active":e[1]===r,title:c("table.rowMenu","Row menu")},s("more_horiz")),F.createElement(l$,{container:o==null?void 0:o.current},F.createElement(SA,{className:Oi(Ke.tableColumnEditorPopoverContent),onOpenAutoFocus:u=>{u.preventDefault()},sideOffset:5,side:"bottom"},F.createElement(RA,{className:Ke.tableColumnEditorToolbar},F.createElement(Jc,{onClick:a.bind(null,r),title:c("table.insertRowAbove","Insert a row above this one")},s("insert_row_above")),F.createElement(Jc,{onClick:a.bind(null,r+1),title:c("table.insertRowBelow","Insert a row below this one")},s("insert_row_below")),F.createElement(Jc,{onClick:l.bind(null,r),title:c("table.deleteRow","Delete this row")},s("delete_small"))),F.createElement(c$,{className:Ke.popoverArrow}))))};var O_e=Object.defineProperty,F_e=(t,e,n)=>e in t?O_e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,cP=(t,e,n)=>(F_e(t,typeof e!="symbol"?e+"":e,n),n);const uP={type:"tableCell",children:[]};function B_e(){let t=qc;return{publish:e=>{t(e)},subscribe:e=>{t=e}}}class Bm extends Rm{constructor(e,n){super(n),cP(this,"__mdastNode"),cP(this,"focusEmitter",B_e()),this.__mdastNode=e??{type:"table",children:[]}}static getType(){return"table"}static clone(e){return new Bm(structuredClone(e.__mdastNode),e.__key)}static importJSON(e){return PA(e.mdastNode)}exportJSON(){return{mdastNode:structuredClone(this.__mdastNode),type:"table",version:1}}getMdastNode(){return this.__mdastNode}getRowCount(){return this.__mdastNode.children.length}getColCount(){var e;return((e=this.__mdastNode.children[0])==null?void 0:e.children.length)||0}createDOM(){return document.createElement("div")}updateDOM(){return!1}updateCellContents(e,n,r){const o=this.getWritable().__mdastNode,s=o.children[n],a=s.children,l=a[e],c=Array.from(a),u={...l,children:r},h={...s,children:c};c[e]=u,o.children[n]=h}insertColumnAt(e){const r=this.getWritable().__mdastNode;for(let i=0;i<r.children.length;i++){const o=r.children[i],s=o.children,a=Array.from(s),l={...o,children:a};a.splice(e,0,structuredClone(uP)),r.children[i]=l}r.align&&r.align.length>0&&r.align.splice(e,0,"left")}deleteColumnAt(e){const r=this.getWritable().__mdastNode;for(let i=0;i<r.children.length;i++){const o=r.children[i],s=o.children,a=Array.from(s),l={...o,children:a};a.splice(e,1),r.children[i]=l}}insertRowAt(e){const r=this.getWritable().__mdastNode,i={type:"tableRow",children:Array.from({length:this.getColCount()},()=>structuredClone(uP))};r.children.splice(e,0,i)}deleteRowAt(e){this.getRowCount()===1?(this.selectNext(),this.remove()):this.getWritable().__mdastNode.children.splice(e,1)}addRowToBottom(){this.insertRowAt(this.getRowCount())}addColumnToRight(){this.insertColumnAt(this.getColCount())}setColumnAlign(e,n){const i=this.getWritable().__mdastNode;i.align==null&&(i.align=[]),i.align[e]=n}decorate(e){return F.createElement(P_e,{lexicalTable:this,mdastNode:this.__mdastNode,parentEditor:e})}select(e){this.focusEmitter.publish(e??[0,0])}isInline(){return!1}}function V_e(t){return t instanceof Bm}function PA(t){return new Bm(t)}const z_e={testLexicalNode:V_e,visitLexicalNode({actions:t,mdastParent:e,lexicalNode:n}){t.appendToParent(e,n.getMdastNode())}},j_e={testNode:"table",visitNode({mdastNode:t,lexicalParent:e}){e.append(PA(t))}};function $_e(t=1,e=1){const n={type:"table",children:[]};for(let r=0;r<t;r++){const i={type:"tableRow",children:[]};for(let o=0;o<e;o++){const s={type:"tableCell",children:[]};i.children.push(s)}n.children.push(i)}return n}const P$=ni(t=>{t.link(t.pipe(P$,Qy(({rows:e,columns:n})=>()=>PA($_e(e,n)))),vA)}),H_e=Sa({init(t){t.pubIn({[gv]:jye(),[mv]:Yye(),[Jl]:j_e,[Bu]:Bm,[Vu]:z_e,[pA]:Kye({tableCellPadding:!0,tablePipeAlign:!0})})}});var DA="Dialog",[D$,QAe]=ho(DA),[U_e,qo]=D$(DA),M$=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!0}=t,a=k.useRef(null),l=k.useRef(null),[c=!1,u]=zo({prop:r,defaultProp:i,onChange:o});return P.jsx(U_e,{scope:e,triggerRef:a,contentRef:l,contentId:Mo(),titleId:Mo(),descriptionId:Mo(),open:c,onOpenChange:u,onOpenToggle:k.useCallback(()=>u(h=>!h),[u]),modal:s,children:n})};M$.displayName=DA;var N$="DialogTrigger",L$=k.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=qo(N$,n),o=St(e,i.triggerRef);return P.jsx(He.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":LA(i.open),...r,ref:o,onClick:_e(t.onClick,i.onOpenToggle)})});L$.displayName=N$;var MA="DialogPortal",[W_e,O$]=D$(MA,{forceMount:void 0}),F$=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,o=qo(MA,e);return P.jsx(W_e,{scope:e,forceMount:n,children:k.Children.map(r,s=>P.jsx(ji,{present:n||o.open,children:P.jsx(Du,{asChild:!0,container:i,children:s})}))})};F$.displayName=MA;var wv="DialogOverlay",B$=k.forwardRef((t,e)=>{const n=O$(wv,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=qo(wv,t.__scopeDialog);return o.modal?P.jsx(ji,{present:r||o.open,children:P.jsx(q_e,{...i,ref:e})}):null});B$.displayName=wv;var q_e=k.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=qo(wv,n);return P.jsx(wm,{as:fa,allowPinchZoom:!0,shards:[i.contentRef],children:P.jsx(He.div,{"data-state":LA(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),mu="DialogContent",V$=k.forwardRef((t,e)=>{const n=O$(mu,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,o=qo(mu,t.__scopeDialog);return P.jsx(ji,{present:r||o.open,children:o.modal?P.jsx(K_e,{...i,ref:e}):P.jsx(G_e,{...i,ref:e})})});V$.displayName=mu;var K_e=k.forwardRef((t,e)=>{const n=qo(mu,t.__scopeDialog),r=k.useRef(null),i=St(e,n.contentRef,r);return k.useEffect(()=>{const o=r.current;if(o)return Uy(o)},[]),P.jsx(z$,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:_e(t.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=n.triggerRef.current)==null||s.focus()}),onPointerDownOutside:_e(t.onPointerDownOutside,o=>{const s=o.detail.originalEvent,a=s.button===0&&s.ctrlKey===!0;(s.button===2||a)&&o.preventDefault()}),onFocusOutside:_e(t.onFocusOutside,o=>o.preventDefault())})}),G_e=k.forwardRef((t,e)=>{const n=qo(mu,t.__scopeDialog),r=k.useRef(!1),i=k.useRef(!1);return P.jsx(z$,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s,a;(s=t.onCloseAutoFocus)==null||s.call(t,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:o=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const s=o.target;((c=n.triggerRef.current)==null?void 0:c.contains(s))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),z$=k.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...s}=t,a=qo(mu,n),l=k.useRef(null),c=St(e,l);return jy(),P.jsxs(P.Fragment,{children:[P.jsx(_m,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o,children:P.jsx(Pu,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":LA(a.open),...s,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),P.jsxs(P.Fragment,{children:[P.jsx(J_e,{titleId:a.titleId}),P.jsx(Y_e,{contentRef:l,descriptionId:a.descriptionId})]})]})}),NA="DialogTitle",j$=k.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=qo(NA,n);return P.jsx(He.h2,{id:i.titleId,...r,ref:e})});j$.displayName=NA;var $$="DialogDescription",H$=k.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=qo($$,n);return P.jsx(He.p,{id:i.descriptionId,...r,ref:e})});H$.displayName=$$;var U$="DialogClose",W$=k.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=qo(U$,n);return P.jsx(He.button,{type:"button",...r,ref:e,onClick:_e(t.onClick,()=>i.onOpenChange(!1))})});W$.displayName=U$;function LA(t){return t?"open":"closed"}var q$="DialogTitleWarning",[YAe,K$]=lae(q$,{contentName:mu,titleName:NA,docsSlug:"dialog"}),J_e=({titleId:t})=>{const e=K$(q$),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return k.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Q_e="DialogDescriptionWarning",Y_e=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${K$(Q_e).contentName}}.`;return k.useEffect(()=>{var o;const i=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},X_e=M$,Z_e=L$,ewe=F$,G$=B$,J$=V$,Q$=j$,Y$=H$,twe=W$;const nwe={testNode:"blockquote",visitNode({actions:t}){t.addAndStepInto(d_())}},rwe={testLexicalNode:yde,visitLexicalNode:({lexicalNode:t,mdastParent:e,actions:n})=>{const r={type:"paragraph",children:[]};n.appendToParent(e,{type:"blockquote",children:[r]}),n.visitChildren(t,r)}},iwe=Sa({init(t){t.pubIn({[__]:"quote",[Jl]:nwe,[Bu]:Dm,[Vu]:rwe})}});function owe(){let t=qc;return{publish:()=>{t()},subscribe:e=>{t=e}}}var swe=Object.defineProperty,awe=(t,e,n)=>e in t?swe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ua=(t,e,n)=>(awe(t,typeof e!="symbol"?e+"":e,n),n);class Vm extends Rm{constructor(e,n,r,i){super(i),Ua(this,"__code"),Ua(this,"__meta"),Ua(this,"__language"),Ua(this,"__focusEmitter",owe()),Ua(this,"setCode",o=>{o!==this.__code&&(this.getWritable().__code=o)}),Ua(this,"setMeta",o=>{o!==this.__meta&&(this.getWritable().__meta=o)}),Ua(this,"setLanguage",o=>{o!==this.__language&&(this.getWritable().__language=o)}),Ua(this,"select",()=>{this.__focusEmitter.publish()}),this.__code=e,this.__meta=r,this.__language=n}static getType(){return"codeblock"}static clone(e){return new Vm(e.__code,e.__language,e.__meta,e.__key)}static importJSON(e){const{code:n,meta:r,language:i}=e;return OA({code:n,language:i,meta:r})}exportJSON(){return{code:this.getCode(),language:this.getLanguage(),meta:this.getMeta(),type:"codeblock",version:1}}createDOM(e){return document.createElement("div")}updateDOM(){return!1}getCode(){return this.__code}getMeta(){return this.__meta}getLanguage(){return this.__language}decorate(e){return F.createElement(cwe,{parentEditor:e,code:this.getCode(),meta:this.getMeta(),language:this.getLanguage(),codeBlockNode:this,nodeKey:this.getKey(),focusEmitter:this.__focusEmitter})}isInline(){return!1}}const X$=F.createContext(null),lwe=({parentEditor:t,lexicalNode:e,children:n})=>{const r=F.useMemo(()=>({lexicalNode:e,parentEditor:t,setCode:i=>{t.update(()=>{e.setCode(i),setTimeout(()=>{t.dispatchCommand(k0,void 0)},0)})},setLanguage:i=>{t.update(()=>{e.setLanguage(i)})},setMeta:i=>{t.update(()=>{e.setMeta(i)})}}),[e,t]);return F.createElement(X$.Provider,{value:r},n)};function $E(){const t=F.useContext(X$);if(!t)throw new Error("useCodeBlockEditor must be used within a CodeBlockEditor");return t}const cwe=t=>{const e=qr(Lm),n=qr(FA);let r=e.sort((l,c)=>c.priority-l.priority).find(l=>l.match(t.language||"",t.meta||""));if(r||(r=e.find(l=>l.match(n||"",t.meta||""))),!r)throw new Error(`No CodeBlockEditor registered for language=${t.language} meta=${t.meta}`);const i=r.Editor,{codeBlockNode:o,parentEditor:s,...a}=t;return F.createElement(lwe,{parentEditor:t.parentEditor,lexicalNode:t.codeBlockNode},F.createElement(i,{...a}))};function OA(t){const{code:e="",language:n="",meta:r=""}=t;return new Vm(e,n,r)}function uwe(t){return t instanceof Vm}const hwe={testLexicalNode:uwe,visitLexicalNode:({lexicalNode:t,actions:e})=>{e.addAndStepInto("code",{value:t.getCode(),lang:t.getLanguage(),meta:t.getMeta()})}},fwe={testNode:(t,{codeBlockEditorDescriptors:e})=>t.type==="code"?e.find(r=>r.match(t.lang,t.meta))!==void 0:!1,visitNode({mdastNode:t,actions:e}){e.addAndStepInto(OA({code:t.value,language:t.lang,meta:t.meta}))}},FA=Ge(""),BA=ni(t=>{t.link(t.pipe(BA,vi(FA),Qy(([e,n])=>()=>OA({language:n,...e}))),vA)}),dwe=yi(Lm),pwe=Sa({update(t,e){t.pub(FA,(e==null?void 0:e.defaultCodeBlockLanguage)??"")},init(t,e){t.pubIn({[__]:"codeblock",[Lm]:(e==null?void 0:e.codeBlockEditorDescriptors)??[],[Jl]:fwe,[Bu]:Vm,[Vu]:hwe})}}),mwe="modulepreload",gwe=function(t){return"/audio-notes-app-web/"+t},hP={},ne=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(a=>{if(a=gwe(a),a in hP)return;hP[a]=!0;const l=a.endsWith(".css"),c=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const u=document.createElement("link");if(u.rel=l?"stylesheet":mwe,l||(u.as="script"),u.crossOrigin="",u.href=a,s&&u.setAttribute("nonce",s),document.head.appendChild(u),l)return new Promise((h,f)=>{u.addEventListener("load",h),u.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${a}`)))})}))}return i.then(o=>{for(const s of o||[]){if(s.status!=="rejected")continue;const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s.reason,window.dispatchEvent(a),!a.defaultPrevented)throw s.reason}return e()})};let Rt=class Z${lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,r){[e,n]=Sf(this,e,n);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(n,this.length,i,1),as.from(i,this.length-(n-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){[e,n]=Sf(this,e,n);let r=[];return this.decompose(e,n,r,0),as.from(r,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new Dp(this),o=new Dp(e);for(let s=n,a=n;;){if(i.next(s),o.next(s),s=0,i.lineBreak!=o.lineBreak||i.done!=o.done||i.value!=o.value)return!1;if(a+=i.value.length,i.done||a>=r)return!0}}iter(e=1){return new Dp(this,e)}iterRange(e,n=this.length){return new eH(this,e,n)}iterLines(e,n){let r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new tH(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Z$.empty:e.length<=32?new bn(e):as.from(bn.split(e,[]))}};class bn extends Rt{constructor(e,n=xwe(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,r,i){for(let o=0;;o++){let s=this.text[o],a=i+s.length;if((n?r:a)>=e)return new vwe(i,a,r,s);i=a+1,r++}}decompose(e,n,r,i){let o=e<=0&&n>=this.length?this:new bn(fP(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(i&1){let s=r.pop(),a=q1(o.text,s.text.slice(),0,o.length);if(a.length<=32)r.push(new bn(a,s.length+o.length));else{let l=a.length>>1;r.push(new bn(a.slice(0,l)),new bn(a.slice(l)))}}else r.push(o)}replace(e,n,r){if(!(r instanceof bn))return super.replace(e,n,r);[e,n]=Sf(this,e,n);let i=q1(this.text,q1(r.text,fP(this.text,0,e)),n),o=this.length+r.length-(n-e);return i.length<=32?new bn(i,o):as.from(bn.split(i,[]),o)}sliceString(e,n=this.length,r=`
`){[e,n]=Sf(this,e,n);let i="";for(let o=0,s=0;o<=n&&s<this.text.length;s++){let a=this.text[s],l=o+a.length;o>e&&s&&(i+=r),e<l&&n>o&&(i+=a.slice(Math.max(0,e-o),n-o)),o=l+1}return i}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let r=[],i=-1;for(let o of e)r.push(o),i+=o.length+1,r.length==32&&(n.push(new bn(r,i)),r=[],i=-1);return i>-1&&n.push(new bn(r,i)),n}}class as extends Rt{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,n,r,i){for(let o=0;;o++){let s=this.children[o],a=i+s.length,l=r+s.lines-1;if((n?l:a)>=e)return s.lineInner(e,n,r,i);i=a+1,r=l+1}}decompose(e,n,r,i){for(let o=0,s=0;s<=n&&o<this.children.length;o++){let a=this.children[o],l=s+a.length;if(e<=l&&n>=s){let c=i&((s<=e?1:0)|(l>=n?2:0));s>=e&&l<=n&&!c?r.push(a):a.decompose(e-s,n-s,r,c)}s=l+1}}replace(e,n,r){if([e,n]=Sf(this,e,n),r.lines<this.lines)for(let i=0,o=0;i<this.children.length;i++){let s=this.children[i],a=o+s.length;if(e>=o&&n<=a){let l=s.replace(e-o,n-o,r),c=this.lines-s.lines+l.lines;if(l.lines<c>>4&&l.lines>c>>6){let u=this.children.slice();return u[i]=l,new as(u,this.length-(n-e)+r.length)}return super.replace(o,a,l)}o=a+1}return super.replace(e,n,r)}sliceString(e,n=this.length,r=`
`){[e,n]=Sf(this,e,n);let i="";for(let o=0,s=0;o<this.children.length&&s<=n;o++){let a=this.children[o],l=s+a.length;s>e&&o&&(i+=r),e<l&&n>s&&(i+=a.sliceString(e-s,n-s,r)),s=l+1}return i}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof as))return 0;let r=0,[i,o,s,a]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=n,o+=n){if(i==s||o==a)return r;let l=this.children[i],c=e.children[o];if(l!=c)return r+l.scanIdentical(c,n);r+=l.length+1}}static from(e,n=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let d of e)r+=d.lines;if(r<32){let d=[];for(let p of e)p.flatten(d);return new bn(d,n)}let i=Math.max(32,r>>5),o=i<<1,s=i>>1,a=[],l=0,c=-1,u=[];function h(d){let p;if(d.lines>o&&d instanceof as)for(let m of d.children)h(m);else d.lines>s&&(l>s||!l)?(f(),a.push(d)):d instanceof bn&&l&&(p=u[u.length-1])instanceof bn&&d.lines+p.lines<=32?(l+=d.lines,c+=d.length+1,u[u.length-1]=new bn(p.text.concat(d.text),p.length+1+d.length)):(l+d.lines>i&&f(),l+=d.lines,c+=d.length+1,u.push(d))}function f(){l!=0&&(a.push(u.length==1?u[0]:as.from(u,c)),c=-1,l=u.length=0)}for(let d of e)h(d);return f(),a.length==1?a[0]:new as(a,n)}}Rt.empty=new bn([""],0);function xwe(t){let e=-1;for(let n of t)e+=n.length+1;return e}function q1(t,e,n=0,r=1e9){for(let i=0,o=0,s=!0;o<t.length&&i<=r;o++){let a=t[o],l=i+a.length;l>=n&&(l>r&&(a=a.slice(0,r-i)),i<n&&(a=a.slice(n-i)),s?(e[e.length-1]+=a,s=!1):e.push(a)),i=l+1}return e}function fP(t,e,n){return q1(t,[""],e,n)}class Dp{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof bn?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],o=this.offsets[r],s=o>>1,a=i instanceof bn?i.text.length:i.children.length;if(s==(n>0?a:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((o&1)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof bn){let l=i.text[s+(n<0?-1:0)];if(this.offsets[r]+=n,l.length>Math.max(0,e))return this.value=e==0?l:n>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=i.children[s+(n<0?-1:0)];e>l.length?(e-=l.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(l),this.offsets.push(n>0?1:(l instanceof bn?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class eH{constructor(e,n,r){this.value="",this.done=!1,this.cursor=new Dp(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*n,this.value=i.length<=r?i:n<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class tH{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:r,value:i}=this.inner.next(e);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Rt.prototype[Symbol.iterator]=function(){return this.iter()},Dp.prototype[Symbol.iterator]=eH.prototype[Symbol.iterator]=tH.prototype[Symbol.iterator]=function(){return this});class vwe{constructor(e,n,r,i){this.from=e,this.to=n,this.number=r,this.text=i}get length(){return this.to-this.from}}function Sf(t,e,n){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,n))]}let Jh="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(t=>t?parseInt(t,36):1);for(let t=1;t<Jh.length;t++)Jh[t]+=Jh[t-1];function ywe(t){for(let e=1;e<Jh.length;e+=2)if(Jh[e]>t)return Jh[e-1]<=t;return!1}function dP(t){return t>=127462&&t<=127487}const pP=8205;function pr(t,e,n=!0,r=!0){return(n?nH:_we)(t,e,r)}function nH(t,e,n){if(e==t.length)return e;e&&rH(t.charCodeAt(e))&&iH(t.charCodeAt(e-1))&&e--;let r=lr(t,e);for(e+=Xi(r);e<t.length;){let i=lr(t,e);if(r==pP||i==pP||n&&ywe(i))e+=Xi(i),r=i;else if(dP(i)){let o=0,s=e-2;for(;s>=0&&dP(lr(t,s));)o++,s-=2;if(o%2==0)break;e+=2}else break}return e}function _we(t,e,n){for(;e>0;){let r=nH(t,e-2,n);if(r<e)return r;e--}return 0}function rH(t){return t>=56320&&t<57344}function iH(t){return t>=55296&&t<56320}function lr(t,e){let n=t.charCodeAt(e);if(!iH(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return rH(r)?(n-55296<<10)+(r-56320)+65536:n}function VA(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function Xi(t){return t<65536?1:2}const HE=/\r\n?|\n/;var hr=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(hr||(hr={}));class _s{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,r=0,i=0;n<this.sections.length;){let o=this.sections[n++],s=this.sections[n++];s<0?(e(r,i,o),i+=o):i+=s,r+=o}}iterChangedRanges(e,n=!1){UE(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];i<0?e.push(r,i):e.push(i,r)}return new _s(e)}composeDesc(e){return this.empty?e:e.empty?this:oH(this,e)}mapDesc(e,n=!1){return e.empty?this:WE(this,e,n)}mapPos(e,n=-1,r=hr.Simple){let i=0,o=0;for(let s=0;s<this.sections.length;){let a=this.sections[s++],l=this.sections[s++],c=i+a;if(l<0){if(c>e)return o+(e-i);o+=a}else{if(r!=hr.Simple&&c>=e&&(r==hr.TrackDel&&i<e&&c>e||r==hr.TrackBefore&&i<e||r==hr.TrackAfter&&c>e))return null;if(c>e||c==e&&n<0&&!a)return e==i||n<0?o:o+l;o+=l}i=c}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return o}touchesRange(e,n=e){for(let r=0,i=0;r<this.sections.length&&i<=n;){let o=this.sections[r++],s=this.sections[r++],a=i+o;if(s>=0&&i<=n&&a>=e)return i<e&&a>n?"cover":!0;i=a}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new _s(e)}static create(e){return new _s(e)}}class zn extends _s{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return UE(this,(n,r,i,o,s)=>e=e.replace(i,i+(r-n),s),!1),e}mapDesc(e,n=!1){return WE(this,e,n,!0)}invert(e){let n=this.sections.slice(),r=[];for(let i=0,o=0;i<n.length;i+=2){let s=n[i],a=n[i+1];if(a>=0){n[i]=a,n[i+1]=s;let l=i>>1;for(;r.length<l;)r.push(Rt.empty);r.push(s?e.slice(o,o+s):Rt.empty)}o+=s}return new zn(n,r)}compose(e){return this.empty?e:e.empty?this:oH(this,e,!0)}map(e,n=!1){return e.empty?this:WE(this,e,n,!0)}iterChanges(e,n=!1){UE(this,e,n)}get desc(){return _s.create(this.sections)}filter(e){let n=[],r=[],i=[],o=new A0(this);e:for(let s=0,a=0;;){let l=s==e.length?1e9:e[s++];for(;a<l||a==l&&o.len==0;){if(o.done)break e;let u=Math.min(o.len,l-a);Ar(i,u,-1);let h=o.ins==-1?-1:o.off==0?o.ins:0;Ar(n,u,h),h>0&&gl(r,n,o.text),o.forward(u),a+=u}let c=e[s++];for(;a<c;){if(o.done)break e;let u=Math.min(o.len,c-a);Ar(n,u,-1),Ar(i,u,o.ins==-1?-1:o.off==0?o.ins:0),o.forward(u),a+=u}}return{changes:new zn(n,r),filtered:_s.create(i)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],i=this.sections[n+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,r){let i=[],o=[],s=0,a=null;function l(u=!1){if(!u&&!i.length)return;s<n&&Ar(i,n-s,-1);let h=new zn(i,o);a=a?a.compose(h.map(a)):h,i=[],o=[],s=0}function c(u){if(Array.isArray(u))for(let h of u)c(h);else if(u instanceof zn){if(u.length!=n)throw new RangeError(`Mismatched change set length (got ${u.length}, expected ${n})`);l(),a=a?a.compose(u.map(a)):u}else{let{from:h,to:f=h,insert:d}=u;if(h>f||h<0||f>n)throw new RangeError(`Invalid change range ${h} to ${f} (in doc of length ${n})`);let p=d?typeof d=="string"?Rt.of(d.split(r||HE)):d:Rt.empty,m=p.length;if(h==f&&m==0)return;h<s&&l(),h>s&&Ar(i,h-s,-1),Ar(i,f-h,m),gl(o,i,p),s=f}}return c(e),l(!a),a}static empty(e){return new zn(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let i=0;i<e.length;i++){let o=e[i];if(typeof o=="number")n.push(o,-1);else{if(!Array.isArray(o)||typeof o[0]!="number"||o.some((s,a)=>a&&typeof s!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(o.length==1)n.push(o[0],0);else{for(;r.length<i;)r.push(Rt.empty);r[i]=Rt.of(o.slice(1)),n.push(o[0],r[i].length)}}}return new zn(n,r)}static createSet(e,n){return new zn(e,n)}}function Ar(t,e,n,r=!1){if(e==0&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:e==0&&t[i]==0?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function gl(t,e,n){if(n.length==0)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<r;)t.push(Rt.empty);t.push(n)}}function UE(t,e,n){let r=t.inserted;for(let i=0,o=0,s=0;s<t.sections.length;){let a=t.sections[s++],l=t.sections[s++];if(l<0)i+=a,o+=a;else{let c=i,u=o,h=Rt.empty;for(;c+=a,u+=l,l&&r&&(h=h.append(r[s-2>>1])),!(n||s==t.sections.length||t.sections[s+1]<0);)a=t.sections[s++],l=t.sections[s++];e(i,c,o,u,h),i=c,o=u}}}function WE(t,e,n,r=!1){let i=[],o=r?[]:null,s=new A0(t),a=new A0(e);for(let l=-1;;)if(s.ins==-1&&a.ins==-1){let c=Math.min(s.len,a.len);Ar(i,c,-1),s.forward(c),a.forward(c)}else if(a.ins>=0&&(s.ins<0||l==s.i||s.off==0&&(a.len<s.len||a.len==s.len&&!n))){let c=a.len;for(Ar(i,a.ins,-1);c;){let u=Math.min(s.len,c);s.ins>=0&&l<s.i&&s.len<=u&&(Ar(i,0,s.ins),o&&gl(o,i,s.text),l=s.i),s.forward(u),c-=u}a.next()}else if(s.ins>=0){let c=0,u=s.len;for(;u;)if(a.ins==-1){let h=Math.min(u,a.len);c+=h,u-=h,a.forward(h)}else if(a.ins==0&&a.len<u)u-=a.len,a.next();else break;Ar(i,c,l<s.i?s.ins:0),o&&l<s.i&&gl(o,i,s.text),l=s.i,s.forward(s.len-u)}else{if(s.done&&a.done)return o?zn.createSet(i,o):_s.create(i);throw new Error("Mismatched change set lengths")}}function oH(t,e,n=!1){let r=[],i=n?[]:null,o=new A0(t),s=new A0(e);for(let a=!1;;){if(o.done&&s.done)return i?zn.createSet(r,i):_s.create(r);if(o.ins==0)Ar(r,o.len,0,a),o.next();else if(s.len==0&&!s.done)Ar(r,0,s.ins,a),i&&gl(i,r,s.text),s.next();else{if(o.done||s.done)throw new Error("Mismatched change set lengths");{let l=Math.min(o.len2,s.len),c=r.length;if(o.ins==-1){let u=s.ins==-1?-1:s.off?0:s.ins;Ar(r,l,u,a),i&&u&&gl(i,r,s.text)}else s.ins==-1?(Ar(r,o.off?0:o.len,l,a),i&&gl(i,r,o.textBit(l))):(Ar(r,o.off?0:o.len,s.off?0:s.ins,a),i&&!s.off&&gl(i,r,s.text));a=(o.ins>l||s.ins>=0&&s.len>l)&&(a||r.length>c),o.forward2(l),s.forward(l)}}}}class A0{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?Rt.empty:e[n]}textBit(e){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!e?Rt.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class zc{constructor(e,n,r){this.from=e,this.to=n,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,n=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,n):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new zc(r,i,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return se.range(e,n);let r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return se.range(this.anchor,r)}eq(e,n=!1){return this.anchor==e.anchor&&this.head==e.head&&(!n||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return se.range(e.anchor,e.head)}static create(e,n,r){return new zc(e,n,r)}}class se{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:se.create(this.ranges.map(r=>r.map(e,n)),this.mainIndex)}eq(e,n=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new se([this.main],0)}addRange(e,n=!0){return se.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let r=this.ranges.slice();return r[n]=e,se.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new se(e.ranges.map(n=>zc.fromJSON(n)),e.main)}static single(e,n=e){return new se([se.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let o=e[i];if(o.empty?o.from<=r:o.from<r)return se.normalized(e.slice(),n);r=o.to}return new se(e,n)}static cursor(e,n=0,r,i){return zc.create(e,e,(n==0?0:n<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(e,n,r,i){let o=(r??16777215)<<6|(i==null?7:Math.min(6,i));return n<e?zc.create(n,e,48|o):zc.create(e,n,(n>e?8:0)|o)}static normalized(e,n=0){let r=e[n];e.sort((i,o)=>i.from-o.from),n=e.indexOf(r);for(let i=1;i<e.length;i++){let o=e[i],s=e[i-1];if(o.empty?o.from<=s.to:o.from<s.to){let a=s.from,l=Math.max(o.to,s.to);i<=n&&n--,e.splice(--i,2,o.anchor>o.head?se.range(l,a):se.range(a,l))}}return new se(e,n)}}function sH(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let zA=0;class ke{constructor(e,n,r,i,o){this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=i,this.id=zA++,this.default=e([]),this.extensions=typeof o=="function"?o(this):o}get reader(){return this}static define(e={}){return new ke(e.combine||(n=>n),e.compareInput||((n,r)=>n===r),e.compare||(e.combine?(n,r)=>n===r:jA),!!e.static,e.enables)}of(e){return new K1([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new K1(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new K1(e,this,2,n)}from(e,n){return n||(n=r=>r),this.compute([e],r=>n(r.field(e)))}}function jA(t,e){return t==e||t.length==e.length&&t.every((n,r)=>n===e[r])}class K1{constructor(e,n,r,i){this.dependencies=e,this.facet=n,this.type=r,this.value=i,this.id=zA++}dynamicSlot(e){var n;let r=this.value,i=this.facet.compareInput,o=this.id,s=e[o]>>1,a=this.type==2,l=!1,c=!1,u=[];for(let h of this.dependencies)h=="doc"?l=!0:h=="selection"?c=!0:((n=e[h.id])!==null&&n!==void 0?n:1)&1||u.push(e[h.id]);return{create(h){return h.values[s]=r(h),1},update(h,f){if(l&&f.docChanged||c&&(f.docChanged||f.selection)||qE(h,u)){let d=r(h);if(a?!mP(d,h.values[s],i):!i(d,h.values[s]))return h.values[s]=d,1}return 0},reconfigure:(h,f)=>{let d,p=f.config.address[o];if(p!=null){let m=bv(f,p);if(this.dependencies.every(v=>v instanceof ke?f.facet(v)===h.facet(v):v instanceof tr?f.field(v,!1)==h.field(v,!1):!0)||(a?mP(d=r(h),m,i):i(d=r(h),m)))return h.values[s]=m,0}else d=r(h);return h.values[s]=d,1}}}}function mP(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function qE(t,e){let n=!1;for(let r of e)Mp(t,r)&1&&(n=!0);return n}function wwe(t,e,n){let r=n.map(l=>t[l.id]),i=n.map(l=>l.type),o=r.filter(l=>!(l&1)),s=t[e.id]>>1;function a(l){let c=[];for(let u=0;u<r.length;u++){let h=bv(l,r[u]);if(i[u]==2)for(let f of h)c.push(f);else c.push(h)}return e.combine(c)}return{create(l){for(let c of r)Mp(l,c);return l.values[s]=a(l),1},update(l,c){if(!qE(l,o))return 0;let u=a(l);return e.compare(u,l.values[s])?0:(l.values[s]=u,1)},reconfigure(l,c){let u=qE(l,r),h=c.config.facets[e.id],f=c.facet(e);if(h&&!u&&jA(n,h))return l.values[s]=f,0;let d=a(l);return e.compare(d,f)?(l.values[s]=f,0):(l.values[s]=d,1)}}}const gP=ke.define({static:!0});class tr{constructor(e,n,r,i,o){this.id=e,this.createF=n,this.updateF=r,this.compareF=i,this.spec=o,this.provides=void 0}static define(e){let n=new tr(zA++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(gP).find(r=>r.field==this);return((n==null?void 0:n.create)||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,i)=>{let o=r.values[n],s=this.updateF(o,i);return this.compareF(o,s)?0:(r.values[n]=s,1)},reconfigure:(r,i)=>i.config.address[this.id]!=null?(r.values[n]=i.field(this),0):(r.values[n]=this.create(r),1)}}init(e){return[this,gP.of({field:this,create:e})]}get extension(){return this}}const Dc={lowest:4,low:3,default:2,high:1,highest:0};function Dd(t){return e=>new aH(e,t)}const pc={highest:Dd(Dc.highest),high:Dd(Dc.high),default:Dd(Dc.default),low:Dd(Dc.low),lowest:Dd(Dc.lowest)};class aH{constructor(e,n){this.inner=e,this.prec=n}}class b_{of(e){return new KE(this,e)}reconfigure(e){return b_.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class KE{constructor(e,n){this.compartment=e,this.inner=n}}class Cv{constructor(e,n,r,i,o,s){for(this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=o,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,r){let i=[],o=Object.create(null),s=new Map;for(let f of Cwe(e,n,s))f instanceof tr?i.push(f):(o[f.facet.id]||(o[f.facet.id]=[])).push(f);let a=Object.create(null),l=[],c=[];for(let f of i)a[f.id]=c.length<<1,c.push(d=>f.slot(d));let u=r==null?void 0:r.config.facets;for(let f in o){let d=o[f],p=d[0].facet,m=u&&u[f]||[];if(d.every(v=>v.type==0))if(a[p.id]=l.length<<1|1,jA(m,d))l.push(r.facet(p));else{let v=p.combine(d.map(x=>x.value));l.push(r&&p.compare(v,r.facet(p))?r.facet(p):v)}else{for(let v of d)v.type==0?(a[v.id]=l.length<<1|1,l.push(v.value)):(a[v.id]=c.length<<1,c.push(x=>v.dynamicSlot(x)));a[p.id]=c.length<<1,c.push(v=>wwe(v,p,d))}}let h=c.map(f=>f(a));return new Cv(e,s,h,a,l,o)}}function Cwe(t,e,n){let r=[[],[],[],[],[]],i=new Map;function o(s,a){let l=i.get(s);if(l!=null){if(l<=a)return;let c=r[l].indexOf(s);c>-1&&r[l].splice(c,1),s instanceof KE&&n.delete(s.compartment)}if(i.set(s,a),Array.isArray(s))for(let c of s)o(c,a);else if(s instanceof KE){if(n.has(s.compartment))throw new RangeError("Duplicate use of compartment in extensions");let c=e.get(s.compartment)||s.inner;n.set(s.compartment,c),o(c,a)}else if(s instanceof aH)o(s.inner,s.prec);else if(s instanceof tr)r[a].push(s),s.provides&&o(s.provides,a);else if(s instanceof K1)r[a].push(s),s.facet.extensions&&o(s.facet.extensions,Dc.default);else{let c=s.extension;if(!c)throw new Error(`Unrecognized extension value in extension set (${s}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(c,a)}}return o(t,Dc.default),r.reduce((s,a)=>s.concat(a))}function Mp(t,e){if(e&1)return 2;let n=e>>1,r=t.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;t.status[n]=4;let i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function bv(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const lH=ke.define(),GE=ke.define({combine:t=>t.some(e=>e),static:!0}),cH=ke.define({combine:t=>t.length?t[0]:void 0,static:!0}),uH=ke.define(),hH=ke.define(),fH=ke.define(),dH=ke.define({combine:t=>t.length?t[0]:!1});class Ia{constructor(e,n){this.type=e,this.value=n}static define(){return new bwe}}class bwe{of(e){return new Ia(this,e)}}class Ewe{constructor(e){this.map=e}of(e){return new et(this,e)}}class et{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new et(this.type,n)}is(e){return this.type==e}static define(e={}){return new Ewe(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let r=[];for(let i of e){let o=i.map(n);o&&r.push(o)}return r}}et.reconfigure=et.define();et.appendConfig=et.define();class Mn{constructor(e,n,r,i,o,s){this.startState=e,this.changes=n,this.selection=r,this.effects=i,this.annotations=o,this.scrollIntoView=s,this._doc=null,this._state=null,r&&sH(r,n.newLength),o.some(a=>a.type==Mn.time)||(this.annotations=o.concat(Mn.time.of(Date.now())))}static create(e,n,r,i,o,s){return new Mn(e,n,r,i,o,s)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(Mn.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}Mn.time=Ia.define();Mn.userEvent=Ia.define();Mn.addToHistory=Ia.define();Mn.remote=Ia.define();function Swe(t,e){let n=[];for(let r=0,i=0;;){let o,s;if(r<t.length&&(i==e.length||e[i]>=t[r]))o=t[r++],s=t[r++];else if(i<e.length)o=e[i++],s=e[i++];else return n;!n.length||n[n.length-1]<o?n.push(o,s):n[n.length-1]<s&&(n[n.length-1]=s)}}function pH(t,e,n){var r;let i,o,s;return n?(i=e.changes,o=zn.empty(e.changes.length),s=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),o=t.changes.mapDesc(e.changes,!0),s=t.changes.compose(i)),{changes:s,selection:e.selection?e.selection.map(o):(r=t.selection)===null||r===void 0?void 0:r.map(i),effects:et.mapEffects(t.effects,i).concat(et.mapEffects(e.effects,o)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function JE(t,e,n){let r=e.selection,i=Qh(e.annotations);return e.userEvent&&(i=i.concat(Mn.userEvent.of(e.userEvent))),{changes:e.changes instanceof zn?e.changes:zn.of(e.changes||[],n,t.facet(cH)),selection:r&&(r instanceof se?r:se.single(r.anchor,r.head)),effects:Qh(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function mH(t,e,n){let r=JE(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let o=1;o<e.length;o++){e[o].filter===!1&&(n=!1);let s=!!e[o].sequential;r=pH(r,JE(t,e[o],s?r.changes.newLength:t.doc.length),s)}let i=Mn.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return Twe(n?kwe(i):i)}function kwe(t){let e=t.startState,n=!0;for(let i of e.facet(uH)){let o=i(t);if(o===!1){n=!1;break}Array.isArray(o)&&(n=n===!0?o:Swe(n,o))}if(n!==!0){let i,o;if(n===!1)o=t.changes.invertedDesc,i=zn.empty(e.doc.length);else{let s=t.changes.filter(n);i=s.changes,o=s.filtered.mapDesc(s.changes).invertedDesc}t=Mn.create(e,i,t.selection&&t.selection.map(o),et.mapEffects(t.effects,o),t.annotations,t.scrollIntoView)}let r=e.facet(hH);for(let i=r.length-1;i>=0;i--){let o=r[i](t);o instanceof Mn?t=o:Array.isArray(o)&&o.length==1&&o[0]instanceof Mn?t=o[0]:t=mH(e,Qh(o),!1)}return t}function Twe(t){let e=t.startState,n=e.facet(fH),r=t;for(let i=n.length-1;i>=0;i--){let o=n[i](t);o&&Object.keys(o).length&&(r=pH(r,JE(e,o,t.changes.newLength),!0))}return r==t?t:Mn.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}const Awe=[];function Qh(t){return t==null?Awe:Array.isArray(t)?t:[t]}var rn=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(rn||(rn={}));const Iwe=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let QE;try{QE=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function Rwe(t){if(QE)return QE.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||Iwe.test(n)))return!0}return!1}function Pwe(t){return e=>{if(!/\S/.test(e))return rn.Space;if(Rwe(e))return rn.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return rn.Word;return rn.Other}}class _t{constructor(e,n,r,i,o,s){this.config=e,this.doc=n,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=o,s&&(s._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)Mp(this,a<<1);this.computeSlot=null}field(e,n=!0){let r=this.config.address[e.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return Mp(this,r),bv(this,r)}update(...e){return mH(this,e,!0)}applyTransaction(e){let n=this.config,{base:r,compartments:i}=n;for(let a of e.effects)a.is(b_.reconfigure)?(n&&(i=new Map,n.compartments.forEach((l,c)=>i.set(c,l)),n=null),i.set(a.value.compartment,a.value.extension)):a.is(et.reconfigure)?(n=null,r=a.value):a.is(et.appendConfig)&&(n=null,r=Qh(r).concat(a.value));let o;n?o=e.startState.values.slice():(n=Cv.resolve(r,i,this),o=new _t(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(l,c)=>c.reconfigure(l,this),null).values);let s=e.startState.facet(GE)?e.newSelection:e.newSelection.asSingle();new _t(n,e.newDoc,s,o,(a,l)=>l.update(a,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:se.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,r=e(n.ranges[0]),i=this.changes(r.changes),o=[r.range],s=Qh(r.effects);for(let a=1;a<n.ranges.length;a++){let l=e(n.ranges[a]),c=this.changes(l.changes),u=c.map(i);for(let f=0;f<a;f++)o[f]=o[f].map(u);let h=i.mapDesc(c,!0);o.push(l.range.map(h)),i=i.compose(u),s=et.mapEffects(s,u).concat(et.mapEffects(Qh(l.effects),h))}return{changes:i,selection:se.create(o,n.mainIndex),effects:s}}changes(e=[]){return e instanceof zn?e:zn.of(e,this.doc.length,this.facet(_t.lineSeparator))}toText(e){return Rt.of(e.split(this.facet(_t.lineSeparator)||HE))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(Mp(this,n),bv(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof tr&&this.config.address[i.id]!=null&&(n[r]=i.spec.toJSON(this.field(e[r]),this))}return n}static fromJSON(e,n={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let o in r)if(Object.prototype.hasOwnProperty.call(e,o)){let s=r[o],a=e[o];i.push(s.init(l=>s.spec.fromJSON(a,l)))}}return _t.create({doc:e.doc,selection:se.fromJSON(e.selection),extensions:n.extensions?i.concat([n.extensions]):i})}static create(e={}){let n=Cv.resolve(e.extensions||[],new Map),r=e.doc instanceof Rt?e.doc:Rt.of((e.doc||"").split(n.staticFacet(_t.lineSeparator)||HE)),i=e.selection?e.selection instanceof se?e.selection:se.single(e.selection.anchor,e.selection.head):se.single(0);return sH(i,r.length),n.staticFacet(GE)||(i=i.asSingle()),new _t(n,r,i,n.dynamicSlots.map(()=>null),(o,s)=>s.create(o),null)}get tabSize(){return this.facet(_t.tabSize)}get lineBreak(){return this.facet(_t.lineSeparator)||`
`}get readOnly(){return this.facet(dH)}phrase(e,...n){for(let r of this.facet(_t.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let o=+(i||1);return!o||o>n.length?r:n[o-1]})),e}languageDataAt(e,n,r=-1){let i=[];for(let o of this.facet(lH))for(let s of o(this,n,r))Object.prototype.hasOwnProperty.call(s,e)&&i.push(s[e]);return i}charCategorizer(e){return Pwe(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:n,from:r,length:i}=this.doc.lineAt(e),o=this.charCategorizer(e),s=e-r,a=e-r;for(;s>0;){let l=pr(n,s,!1);if(o(n.slice(l,s))!=rn.Word)break;s=l}for(;a<i;){let l=pr(n,a);if(o(n.slice(a,l))!=rn.Word)break;a=l}return s==a?null:se.range(s+r,a+r)}}_t.allowMultipleSelections=GE;_t.tabSize=ke.define({combine:t=>t.length?t[0]:4});_t.lineSeparator=cH;_t.readOnly=dH;_t.phrases=ke.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every(i=>t[i]==e[i])}});_t.languageData=lH;_t.changeFilter=uH;_t.transactionFilter=hH;_t.transactionExtender=fH;b_.reconfigure=et.define();function Rs(t,e,n={}){let r={};for(let i of t)for(let o of Object.keys(i)){let s=i[o],a=r[o];if(a===void 0)r[o]=s;else if(!(a===s||s===void 0))if(Object.hasOwnProperty.call(n,o))r[o]=n[o](a,s);else throw new Error("Config merge conflict for field "+o)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class gu{eq(e){return this==e}range(e,n=e){return YE.create(e,n,this)}}gu.prototype.startSide=gu.prototype.endSide=0;gu.prototype.point=!1;gu.prototype.mapMode=hr.TrackDel;let YE=class gH{constructor(e,n,r){this.from=e,this.to=n,this.value=r}static create(e,n,r){return new gH(e,n,r)}};function XE(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class $A{constructor(e,n,r,i){this.from=e,this.to=n,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,n,r,i=0){let o=r?this.to:this.from;for(let s=i,a=o.length;;){if(s==a)return s;let l=s+a>>1,c=o[l]-e||(r?this.value[l].endSide:this.value[l].startSide)-n;if(l==s)return c>=0?s:a;c>=0?a=l:s=l+1}}between(e,n,r,i){for(let o=this.findIndex(n,-1e9,!0),s=this.findIndex(r,1e9,!1,o);o<s;o++)if(i(this.from[o]+e,this.to[o]+e,this.value[o])===!1)return!1}map(e,n){let r=[],i=[],o=[],s=-1,a=-1;for(let l=0;l<this.value.length;l++){let c=this.value[l],u=this.from[l]+e,h=this.to[l]+e,f,d;if(u==h){let p=n.mapPos(u,c.startSide,c.mapMode);if(p==null||(f=d=p,c.startSide!=c.endSide&&(d=n.mapPos(u,c.endSide),d<f)))continue}else if(f=n.mapPos(u,c.startSide),d=n.mapPos(h,c.endSide),f>d||f==d&&c.startSide>0&&c.endSide<=0)continue;(d-f||c.endSide-c.startSide)<0||(s<0&&(s=f),c.point&&(a=Math.max(a,d-f)),r.push(c),i.push(f-s),o.push(d-s))}return{mapped:r.length?new $A(i,o,r,a):null,pos:s}}}class bt{constructor(e,n,r,i){this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=i}static create(e,n,r,i){return new bt(e,n,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:r=!1,filterFrom:i=0,filterTo:o=this.length}=e,s=e.filter;if(n.length==0&&!s)return this;if(r&&(n=n.slice().sort(XE)),this.isEmpty)return n.length?bt.of(n):this;let a=new xH(this,null,-1).goto(0),l=0,c=[],u=new Ql;for(;a.value||l<n.length;)if(l<n.length&&(a.from-n[l].from||a.startSide-n[l].value.startSide)>=0){let h=n[l++];u.addInner(h.from,h.to,h.value)||c.push(h)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==n.length||this.chunkEnd(a.chunkIndex)<n[l].from)&&(!s||i>this.chunkEnd(a.chunkIndex)||o<this.chunkPos[a.chunkIndex])&&u.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!s||i>a.to||o<a.from||s(a.from,a.to,a.value))&&(u.addInner(a.from,a.to,a.value)||c.push(YE.create(a.from,a.to,a.value))),a.next());return u.finishInner(this.nextLayer.isEmpty&&!c.length?bt.empty:this.nextLayer.update({add:c,filter:s,filterFrom:i,filterTo:o}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],r=[],i=-1;for(let s=0;s<this.chunk.length;s++){let a=this.chunkPos[s],l=this.chunk[s],c=e.touchesRange(a,a+l.length);if(c===!1)i=Math.max(i,l.maxPoint),n.push(l),r.push(e.mapPos(a));else if(c===!0){let{mapped:u,pos:h}=l.map(a,e);u&&(i=Math.max(i,u.maxPoint),n.push(u),r.push(h))}}let o=this.nextLayer.map(e);return n.length==0?o:new bt(r,n,o||bt.empty,i)}between(e,n,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let o=this.chunkPos[i],s=this.chunk[i];if(n>=o&&e<=o+s.length&&s.between(o,e-o,n-o,r)===!1)return}this.nextLayer.between(e,n,r)}}iter(e=0){return I0.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return I0.from(e).goto(n)}static compare(e,n,r,i,o=-1){let s=e.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=o),a=n.filter(h=>h.maxPoint>0||!h.isEmpty&&h.maxPoint>=o),l=xP(s,a,r),c=new Md(s,l,o),u=new Md(a,l,o);r.iterGaps((h,f,d)=>vP(c,h,u,f,d,i)),r.empty&&r.length==0&&vP(c,0,u,0,0,i)}static eq(e,n,r=0,i){i==null&&(i=999999999);let o=e.filter(u=>!u.isEmpty&&n.indexOf(u)<0),s=n.filter(u=>!u.isEmpty&&e.indexOf(u)<0);if(o.length!=s.length)return!1;if(!o.length)return!0;let a=xP(o,s),l=new Md(o,a,0).goto(r),c=new Md(s,a,0).goto(r);for(;;){if(l.to!=c.to||!ZE(l.active,c.active)||l.point&&(!c.point||!l.point.eq(c.point)))return!1;if(l.to>i)return!0;l.next(),c.next()}}static spans(e,n,r,i,o=-1){let s=new Md(e,null,o).goto(n),a=n,l=s.openStart;for(;;){let c=Math.min(s.to,r);if(s.point){let u=s.activeForPoint(s.to),h=s.pointFrom<n?u.length+1:s.point.startSide<0?u.length:Math.min(u.length,l);i.point(a,c,s.point,u,h,s.pointRank),l=Math.min(s.openEnd(c),u.length)}else c>a&&(i.span(a,c,s.active,l),l=s.openEnd(c));if(s.to>r)return l+(s.point&&s.to>r?1:0);a=s.to,s.next()}}static of(e,n=!1){let r=new Ql;for(let i of e instanceof YE?[e]:n?Dwe(e):e)r.add(i.from,i.to,i.value);return r.finish()}static join(e){if(!e.length)return bt.empty;let n=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let i=e[r];i!=bt.empty;i=i.nextLayer)n=new bt(i.chunkPos,i.chunk,n,Math.max(i.maxPoint,n.maxPoint));return n}}bt.empty=new bt([],[],null,-1);function Dwe(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(XE(e,r)>0)return t.slice().sort(XE);e=r}return t}bt.empty.nextLayer=bt.empty;class Ql{finishChunk(e){this.chunks.push(new $A(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new Ql)).add(e,n,r)}addInner(e,n,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}finish(){return this.finishInner(bt.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=bt.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function xP(t,e,n){let r=new Map;for(let o of t)for(let s=0;s<o.chunk.length;s++)o.chunk[s].maxPoint<=0&&r.set(o.chunk[s],o.chunkPos[s]);let i=new Set;for(let o of e)for(let s=0;s<o.chunk.length;s++){let a=r.get(o.chunk[s]);a!=null&&(n?n.mapPos(a):a)==o.chunkPos[s]&&!(n!=null&&n.touchesRange(a,a+o.chunk[s].length))&&i.add(o.chunk[s])}return i}class xH{constructor(e,n,r,i=0){this.layer=e,this.skip=n,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class I0{constructor(e){this.heap=e}static from(e,n=null,r=-1){let i=[];for(let o=0;o<e.length;o++)for(let s=e[o];!s.isEmpty;s=s.nextLayer)s.maxPoint>=r&&i.push(new xH(s,n,r,o));return i.length==1?i[0]:new I0(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let r of this.heap)r.goto(e,n);for(let r=this.heap.length>>1;r>=0;r--)K2(this.heap,r);return this.next(),this}forward(e,n){for(let r of this.heap)r.forward(e,n);for(let r=this.heap.length>>1;r>=0;r--)K2(this.heap,r);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),K2(this.heap,0)}}}function K2(t,e){for(let n=t[e];;){let r=(e<<1)+1;if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}class Md{constructor(e,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=I0.from(e,n,r)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){Wg(this.active,e),Wg(this.activeTo,e),Wg(this.activeRank,e),this.minActive=yP(this.active,this.activeTo)}addActive(e){let n=0,{value:r,to:i,rank:o}=this.cursor;for(;n<this.activeRank.length&&(o-this.activeRank[n]||i-this.activeTo[n])>0;)n++;qg(this.active,n,r),qg(this.activeTo,n,i),qg(this.activeRank,n,o),e&&qg(e,n,this.cursor.from),this.minActive=yP(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&Wg(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let o=this.cursor.value;if(!o.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(e){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}}function vP(t,e,n,r,i,o){t.goto(e),n.goto(r);let s=r+i,a=r,l=r-e;for(;;){let c=t.to+l-n.to||t.endSide-n.endSide,u=c<0?t.to+l:n.to,h=Math.min(u,s);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&ZE(t.activeForPoint(t.to),n.activeForPoint(n.to))||o.comparePoint(a,h,t.point,n.point):h>a&&!ZE(t.active,n.active)&&o.compareRange(a,h,t.active,n.active),u>s)break;a=u,c<=0&&t.next(),c>=0&&n.next()}}function ZE(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function Wg(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function qg(t,e,n){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function yP(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}function ed(t,e,n=t.length){let r=0;for(let i=0;i<n;)t.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=pr(t,i));return r}function eS(t,e,n,r){for(let i=0,o=0;;){if(o>=e)return i;if(i==t.length)break;o+=t.charCodeAt(i)==9?n-o%n:1,i=pr(t,i)}return r===!0?-1:t.length}const tS="",_P=typeof Symbol>"u"?"__"+tS:Symbol.for(tS),nS=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),wP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class Yl{constructor(e,n){this.rules=[];let{finish:r}=n||{};function i(s){return/^@/.test(s)?[s]:s.split(/,\s*/)}function o(s,a,l,c){let u=[],h=/^@(\w+)\b/.exec(s[0]),f=h&&h[1]=="keyframes";if(h&&a==null)return l.push(s[0]+";");for(let d in a){let p=a[d];if(/&/.test(d))o(d.split(/,\s*/).map(m=>s.map(v=>m.replace(/&/,v))).reduce((m,v)=>m.concat(v)),p,l);else if(p&&typeof p=="object"){if(!h)throw new RangeError("The value of a property ("+d+") should be a primitive value.");o(i(d),p,u,f)}else p!=null&&u.push(d.replace(/_.*/,"").replace(/[A-Z]/g,m=>"-"+m.toLowerCase())+": "+p+";")}(u.length||f)&&l.push((r&&!h&&!c?s.map(r):s).join(", ")+" {"+u.join(" ")+"}")}for(let s in e)o(i(s),e[s],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=wP[_P]||1;return wP[_P]=e+1,tS+e.toString(36)}static mount(e,n,r){let i=e[nS],o=r&&r.nonce;i?o&&i.setNonce(o):i=new Mwe(e,o),i.mount(Array.isArray(n)?n:[n],e)}}let CP=new Map;class Mwe{constructor(e,n){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let o=CP.get(r);if(o)return e[nS]=o;this.sheet=new i.CSSStyleSheet,CP.set(r,this)}else this.styleTag=r.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);this.modules=[],e[nS]=this}mount(e,n){let r=this.sheet,i=0,o=0;for(let s=0;s<e.length;s++){let a=e[s],l=this.modules.indexOf(a);if(l<o&&l>-1&&(this.modules.splice(l,1),o--,l=-1),l==-1){if(this.modules.splice(o++,0,a),r)for(let c=0;c<a.rules.length;c++)r.insertRule(a.rules[c],i++)}else{for(;o<l;)i+=this.modules[o++].rules.length;i+=a.rules.length,o++}}if(r)n.adoptedStyleSheets.indexOf(this.sheet)<0&&(n.adoptedStyleSheets=[this.sheet,...n.adoptedStyleSheets]);else{let s="";for(let l=0;l<this.modules.length;l++)s+=this.modules[l].getRules()+`
`;this.styleTag.textContent=s;let a=n.head||n;this.styleTag.parentNode!=a&&a.insertBefore(this.styleTag,a.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var Xl={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},R0={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Nwe=typeof navigator<"u"&&/Mac/.test(navigator.platform),Lwe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var cr=0;cr<10;cr++)Xl[48+cr]=Xl[96+cr]=String(cr);for(var cr=1;cr<=24;cr++)Xl[cr+111]="F"+cr;for(var cr=65;cr<=90;cr++)Xl[cr]=String.fromCharCode(cr+32),R0[cr]=String.fromCharCode(cr);for(var G2 in Xl)R0.hasOwnProperty(G2)||(R0[G2]=Xl[G2]);function Owe(t){var e=Nwe&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||Lwe&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?R0:Xl)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function P0(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function rS(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function Fwe(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function G1(t,e){if(!e.anchorNode)return!1;try{return rS(t,e.anchorNode)}catch{return!1}}function D0(t){return t.nodeType==3?vu(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function Np(t,e,n,r){return n?bP(t,e,n,r,-1)||bP(t,e,n,r,1):!1}function xu(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function Ev(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function bP(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:xa(t))){if(t.nodeName=="DIV")return!1;let o=t.parentNode;if(!o||o.nodeType!=1)return!1;e=xu(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=i<0?xa(t):0}else return!1}}function xa(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function E_(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function Bwe(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function vH(t,e){let n=e.width/t.offsetWidth,r=e.height/t.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-t.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-t.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}function Vwe(t,e,n,r,i,o,s,a){let l=t.ownerDocument,c=l.defaultView||window;for(let u=t,h=!1;u&&!h;)if(u.nodeType==1){let f,d=u==l.body,p=1,m=1;if(d)f=Bwe(c);else{if(/^(fixed|sticky)$/.test(getComputedStyle(u).position)&&(h=!0),u.scrollHeight<=u.clientHeight&&u.scrollWidth<=u.clientWidth){u=u.assignedSlot||u.parentNode;continue}let y=u.getBoundingClientRect();({scaleX:p,scaleY:m}=vH(u,y)),f={left:y.left,right:y.left+u.clientWidth*p,top:y.top,bottom:y.top+u.clientHeight*m}}let v=0,x=0;if(i=="nearest")e.top<f.top?(x=-(f.top-e.top+s),n>0&&e.bottom>f.bottom+x&&(x=e.bottom-f.bottom+x+s)):e.bottom>f.bottom&&(x=e.bottom-f.bottom+s,n<0&&e.top-x<f.top&&(x=-(f.top+x-e.top+s)));else{let y=e.bottom-e.top,_=f.bottom-f.top;x=(i=="center"&&y<=_?e.top+y/2-_/2:i=="start"||i=="center"&&n<0?e.top-s:e.bottom-_+s)-f.top}if(r=="nearest"?e.left<f.left?(v=-(f.left-e.left+o),n>0&&e.right>f.right+v&&(v=e.right-f.right+v+o)):e.right>f.right&&(v=e.right-f.right+o,n<0&&e.left<f.left+v&&(v=-(f.left+v-e.left+o))):v=(r=="center"?e.left+(e.right-e.left)/2-(f.right-f.left)/2:r=="start"==a?e.left-o:e.right-(f.right-f.left)+o)-f.left,v||x)if(d)c.scrollBy(v,x);else{let y=0,_=0;if(x){let C=u.scrollTop;u.scrollTop+=x/m,_=(u.scrollTop-C)*m}if(v){let C=u.scrollLeft;u.scrollLeft+=v/p,y=(u.scrollLeft-C)*p}e={left:e.left-y,top:e.top-_,right:e.right-y,bottom:e.bottom-_},y&&Math.abs(y-v)<1&&(r="nearest"),_&&Math.abs(_-x)<1&&(i="nearest")}if(d)break;u=u.assignedSlot||u.parentNode}else if(u.nodeType==11)u=u.host;else break}function zwe(t){let e=t.ownerDocument,n,r;for(let i=t.parentNode;i&&!(i==e.body||n&&r);)if(i.nodeType==1)!r&&i.scrollHeight>i.clientHeight&&(r=i),!n&&i.scrollWidth>i.clientWidth&&(n=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:n,y:r}}class jwe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:n,focusNode:r}=e;this.set(n,Math.min(e.anchorOffset,n?xa(n):0),r,Math.min(e.focusOffset,r?xa(r):0))}set(e,n,r,i){this.anchorNode=e,this.anchorOffset=n,this.focusNode=r,this.focusOffset=i}}let th=null;function yH(t){if(t.setActive)return t.setActive();if(th)return t.focus(th);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(th==null?{get preventScroll(){return th={preventScroll:!0},!0}}:void 0),!th){th=!1;for(let n=0;n<e.length;){let r=e[n++],i=e[n++],o=e[n++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=o&&(r.scrollLeft=o)}}}let EP;function vu(t,e,n=e){let r=EP||(EP=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function Yh(t,e,n,r){let i={key:e,code:e,keyCode:n,which:n,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let o=new KeyboardEvent("keydown",i);o.synthetic=!0,t.dispatchEvent(o);let s=new KeyboardEvent("keyup",i);return s.synthetic=!0,t.dispatchEvent(s),o.defaultPrevented||s.defaultPrevented}function $we(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function _H(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function Hwe(t,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(r=Math.min(r,xa(n));;)if(r){if(n.nodeType!=1)return!1;let i=n.childNodes[r-1];i.contentEditable=="false"?r--:(n=i,r=xa(n))}else{if(n==t)return!0;r=xu(n),n=n.parentNode}}function wH(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function CH(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r>0)return{node:n,offset:r};if(n.nodeType==1&&r>0){if(n.contentEditable=="false")return null;n=n.childNodes[r-1],r=xa(n)}else if(n.parentNode&&!Ev(n))r=xu(n),n=n.parentNode;else return null}}function bH(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r<n.nodeValue.length)return{node:n,offset:r};if(n.nodeType==1&&r<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[r],r=0}else if(n.parentNode&&!Ev(n))r=xu(n)+1,n=n.parentNode;else return null}}class Pr{constructor(e,n,r=!0){this.node=e,this.offset=n,this.precise=r}static before(e,n){return new Pr(e.parentNode,xu(e),n)}static after(e,n){return new Pr(e.parentNode,xu(e)+1,n)}}const HA=[];class Bt{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let n=this.posAtStart;for(let r of this.children){if(r==e)return n;n+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,n){if(this.flags&2){let r=this.dom,i=null,o;for(let s of this.children){if(s.flags&7){if(!s.dom&&(o=i?i.nextSibling:r.firstChild)){let a=Bt.get(o);(!a||!a.parent&&a.canReuseDOM(s))&&s.reuseDOM(o)}s.sync(e,n),s.flags&=-8}if(o=i?i.nextSibling:r.firstChild,n&&!n.written&&n.node==r&&o!=s.dom&&(n.written=!0),s.dom.parentNode==r)for(;o&&o!=s.dom;)o=SP(o);else r.insertBefore(s.dom,o);i=s.dom}for(o=i?i.nextSibling:r.firstChild,o&&n&&n.node==r&&(n.written=!0);o;)o=SP(o)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(e,n),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,n){let r;if(e==this.dom)r=this.dom.childNodes[n];else{let i=xa(e)==0?0:n==0?-1:1;for(;;){let o=e.parentNode;if(o==this.dom)break;i==0&&o.firstChild!=o.lastChild&&(e==o.firstChild?i=-1:i=1),e=o}i<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!Bt.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,o=0;;i++){let s=this.children[i];if(s.dom==r)return o;o+=s.length+s.breakAfter}}domBoundsAround(e,n,r=0){let i=-1,o=-1,s=-1,a=-1;for(let l=0,c=r,u=r;l<this.children.length;l++){let h=this.children[l],f=c+h.length;if(c<e&&f>n)return h.domBoundsAround(e,n,c);if(f>=e&&i==-1&&(i=l,o=c),c>n&&h.dom.parentNode==this.dom){s=l,a=u;break}u=f,c=f+h.breakAfter}return{from:o,to:a<0?r+this.length:a,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:s<this.children.length&&s>=0?this.children[s].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let n=this.parent;n;n=n.parent){if(e&&(n.flags|=2),n.flags&1)return;n.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let n=e.parent;if(!n)return e;e=n}}replaceChildren(e,n,r=HA){this.markDirty();for(let i=e;i<n;i++){let o=this.children[i];o.parent==this&&r.indexOf(o)<0&&o.destroy()}this.children.splice(e,n-e,...r);for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new EH(this.children,e,this.children.length)}childPos(e,n=1){return this.childCursor().findPos(e,n)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,n,r,i,o,s){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}Bt.prototype.breakAfter=0;function SP(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class EH{constructor(e,n,r){this.children=e,this.pos=n,this.i=r,this.off=0}findPos(e,n=1){for(;;){if(e>this.pos||e==this.pos&&(n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function SH(t,e,n,r,i,o,s,a,l){let{children:c}=t,u=c.length?c[e]:null,h=o.length?o[o.length-1]:null,f=h?h.breakAfter:s;if(!(e==r&&u&&!s&&!f&&o.length<2&&u.merge(n,i,o.length?h:null,n==0,a,l))){if(r<c.length){let d=c[r];d&&(i<d.length||d.breakAfter&&(h!=null&&h.breakAfter))?(e==r&&(d=d.split(i),i=0),!f&&h&&d.merge(0,i,h,!0,0,l)?o[o.length-1]=d:((i||d.children.length&&!d.children[0].length)&&d.merge(0,i,null,!1,0,l),o.push(d))):d!=null&&d.breakAfter&&(h?h.breakAfter=1:s=1),r++}for(u&&(u.breakAfter=s,n>0&&(!s&&o.length&&u.merge(n,u.length,o[0],!1,a,0)?u.breakAfter=o.shift().breakAfter:(n<u.length||u.children.length&&u.children[u.children.length-1].length==0)&&u.merge(n,u.length,null,!1,a,0),e++));e<r&&o.length;)if(c[r-1].become(o[o.length-1]))r--,o.pop(),l=o.length?0:a;else if(c[e].become(o[0]))e++,o.shift(),a=o.length?0:l;else break;!o.length&&e&&r<c.length&&!c[e-1].breakAfter&&c[r].merge(0,0,c[e-1],!1,a,l)&&e--,(e<r||o.length)&&t.replaceChildren(e,r,o)}}function kH(t,e,n,r,i,o){let s=t.childCursor(),{i:a,off:l}=s.findPos(n,1),{i:c,off:u}=s.findPos(e,-1),h=e-n;for(let f of r)h+=f.length;t.length+=h,SH(t,c,u,a,l,r,0,i,o)}let li=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},iS=typeof document<"u"?document:{documentElement:{style:{}}};const oS=/Edge\/(\d+)/.exec(li.userAgent),TH=/MSIE \d/.test(li.userAgent),sS=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(li.userAgent),S_=!!(TH||sS||oS),kP=!S_&&/gecko\/(\d+)/i.test(li.userAgent),J2=!S_&&/Chrome\/(\d+)/.exec(li.userAgent),TP="webkitFontSmoothing"in iS.documentElement.style,AH=!S_&&/Apple Computer/.test(li.vendor),AP=AH&&(/Mobile\/\w+/.test(li.userAgent)||li.maxTouchPoints>2);var Ae={mac:AP||/Mac/.test(li.platform),windows:/Win/.test(li.platform),linux:/Linux|X11/.test(li.platform),ie:S_,ie_version:TH?iS.documentMode||6:sS?+sS[1]:oS?+oS[1]:0,gecko:kP,gecko_version:kP?+(/Firefox\/(\d+)/.exec(li.userAgent)||[0,0])[1]:0,chrome:!!J2,chrome_version:J2?+J2[1]:0,ios:AP,android:/Android\b/.test(li.userAgent),webkit:TP,safari:AH,webkit_version:TP?+(/\bAppleWebKit\/(\d+)/.exec(li.userAgent)||[0,0])[1]:0,tabSize:iS.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const Uwe=256;class jo extends Bt{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,n){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(n&&n.node==this.dom&&(n.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,n,r){return this.flags&8||r&&(!(r instanceof jo)||this.length-(n-e)+r.length>Uwe||r.flags&8)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(n),this.markDirty(),!0)}split(e){let n=new jo(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),n.flags|=this.flags&8,n}localPosFromDOM(e,n){return e==this.dom?n:n?this.text.length:0}domAtPos(e){return new Pr(this.dom,e)}domBoundsAround(e,n,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,n){return Wwe(this.dom,e,n)}}class va extends Bt{constructor(e,n=[],r=0){super(),this.mark=e,this.children=n,this.length=r;for(let i of n)i.setParent(this)}setAttrs(e){if(_H(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let n in this.mark.attrs)e.setAttribute(n,this.mark.attrs[n]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,n){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,n)}merge(e,n,r,i,o,s){return r&&(!(r instanceof va&&r.mark.eq(this.mark))||e&&o<=0||n<this.length&&s<=0)?!1:(kH(this,e,n,r?r.children.slice():[],o-1,s-1),this.markDirty(),!0)}split(e){let n=[],r=0,i=-1,o=0;for(let a of this.children){let l=r+a.length;l>e&&n.push(r<e?a.split(e-r):a),i<0&&r>=e&&(i=o),r=l,o++}let s=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new va(this.mark,n,s)}domAtPos(e){return IH(this,e)}coordsAt(e,n){return PH(this,e,n)}}function Wwe(t,e,n){let r=t.nodeValue.length;e>r&&(e=r);let i=e,o=e,s=0;e==0&&n<0||e==r&&n>=0?Ae.chrome||Ae.gecko||(e?(i--,s=1):o<r&&(o++,s=-1)):n<0?i--:o<r&&o++;let a=vu(t,i,o).getClientRects();if(!a.length)return null;let l=a[(s?s<0:n>=0)?0:a.length-1];return Ae.safari&&!s&&l.width==0&&(l=Array.prototype.find.call(a,c=>c.width)||l),s?E_(l,s<0):l||null}class xl extends Bt{static create(e,n,r){return new xl(e,n,r)}constructor(e,n,r){super(),this.widget=e,this.length=n,this.side=r,this.prevWidget=null}split(e){let n=xl.create(this.widget,this.length-e,this.side);return this.length-=e,n}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,n,r,i,o,s){return r&&(!(r instanceof xl)||!this.widget.compare(r.widget)||e>0&&o<=0||n<this.length&&s<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}become(e){return e instanceof xl&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Rt.empty;let e=this;for(;e.parent;)e=e.parent;let{view:n}=e,r=n&&n.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):Rt.empty}domAtPos(e){return(this.length?e==0:this.side>0)?Pr.before(this.dom):Pr.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);if(r)return r;let i=this.dom.getClientRects(),o=null;if(!i.length)return null;let s=this.side?this.side<0:e>0;for(let a=s?i.length-1:0;o=i[a],!(e>0?a==0:a==i.length-1||o.top<o.bottom);a+=s?-1:1);return E_(o,!s)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class kf extends Bt{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof kf&&e.side==this.side}split(){return new kf(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?Pr.before(this.dom):Pr.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Rt.empty}get isHidden(){return!0}}jo.prototype.children=xl.prototype.children=kf.prototype.children=HA;function IH(t,e){let n=t.dom,{children:r}=t,i=0;for(let o=0;i<r.length;i++){let s=r[i],a=o+s.length;if(!(a==o&&s.getSide()<=0)){if(e>o&&e<a&&s.dom.parentNode==n)return s.domAtPos(e-o);if(e<=o)break;o=a}}for(let o=i;o>0;o--){let s=r[o-1];if(s.dom.parentNode==n)return s.domAtPos(s.length)}for(let o=i;o<r.length;o++){let s=r[o];if(s.dom.parentNode==n)return s.domAtPos(0)}return new Pr(n,0)}function RH(t,e,n){let r,{children:i}=t;n>0&&e instanceof va&&i.length&&(r=i[i.length-1])instanceof va&&r.mark.eq(e.mark)?RH(r,e.children[0],n-1):(i.push(e),e.setParent(t)),t.length+=e.length}function PH(t,e,n){let r=null,i=-1,o=null,s=-1;function a(c,u){for(let h=0,f=0;h<c.children.length&&f<=u;h++){let d=c.children[h],p=f+d.length;p>=u&&(d.children.length?a(d,u-f):(!o||o.isHidden&&n>0)&&(p>u||f==p&&d.getSide()>0)?(o=d,s=u-f):(f<u||f==p&&d.getSide()<0&&!d.isHidden)&&(r=d,i=u-f)),f=p}}a(t,e);let l=(n<0?r:o)||r||o;return l?l.coordsAt(Math.max(0,l==r?i:s),n):qwe(t)}function qwe(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=D0(e);return n[n.length-1]||null}function aS(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}const IP=Object.create(null);function Sv(t,e,n){if(t==e)return!0;t||(t=IP),e||(e=IP);let r=Object.keys(t),i=Object.keys(e);if(r.length-(n&&r.indexOf(n)>-1?1:0)!=i.length-(n&&i.indexOf(n)>-1?1:0))return!1;for(let o of r)if(o!=n&&(i.indexOf(o)==-1||t[o]!==e[o]))return!1;return!0}function lS(t,e,n){let r=!1;if(e)for(let i in e)n&&i in n||(r=!0,i=="style"?t.style.cssText="":t.removeAttribute(i));if(n)for(let i in n)e&&e[i]==n[i]||(r=!0,i=="style"?t.style.cssText=n[i]:t.setAttribute(i,n[i]));return r}function Kwe(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let r=t.attributes[n];e[r.name]=r.value}return e}class Ra{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,n,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var Jr=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(Jr||(Jr={}));class Fe extends gu{constructor(e,n,r,i){super(),this.startSide=e,this.endSide=n,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new zm(e)}static widget(e){let n=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return n+=r&&!e.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new Zl(e,n,n,r,e.widget||null,!1)}static replace(e){let n=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:o,end:s}=DH(e,n);r=(o?n?-3e8:-1:5e8)-1,i=(s?n?2e8:1:-6e8)+1}return new Zl(e,r,i,n,e.widget||null,!0)}static line(e){return new jm(e)}static set(e,n=!1){return bt.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Fe.none=bt.empty;class zm extends Fe{constructor(e){let{start:n,end:r}=DH(e);super(n?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var n,r;return this==e||e instanceof zm&&this.tagName==e.tagName&&(this.class||((n=this.attrs)===null||n===void 0?void 0:n.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&Sv(this.attrs,e.attrs,"class")}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}zm.prototype.point=!1;class jm extends Fe{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof jm&&this.spec.class==e.spec.class&&Sv(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}jm.prototype.mapMode=hr.TrackBefore;jm.prototype.point=!0;class Zl extends Fe{constructor(e,n,r,i,o,s){super(n,r,o,e),this.block=i,this.isReplace=s,this.mapMode=i?n<=0?hr.TrackBefore:hr.TrackAfter:hr.TrackDel}get type(){return this.startSide!=this.endSide?Jr.WidgetRange:this.startSide<=0?Jr.WidgetBefore:Jr.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Zl&&Gwe(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}Zl.prototype.point=!0;function DH(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return n==null&&(n=t.inclusive),r==null&&(r=t.inclusive),{start:n??e,end:r??e}}function Gwe(t,e){return t==e||!!(t&&e&&t.compare(e))}function cS(t,e,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=t?n[i]=Math.max(n[i],e):n.push(t,e)}class Pn extends Bt{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,n,r,i,o,s){if(r){if(!(r instanceof Pn))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),kH(this,e,n,r?r.children.slice():[],o,s),!0}split(e){let n=new Pn;if(n.breakAfter=this.breakAfter,this.length==0)return n;let{i:r,off:i}=this.childPos(e);i&&(n.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let o=r;o<this.children.length;o++)n.append(this.children[o],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,n}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Sv(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,n){RH(this,e,n)}addLineDeco(e){let n=e.spec.attributes,r=e.spec.class;n&&(this.attrs=aS(n,this.attrs||{})),r&&(this.attrs=aS({class:r},this.attrs||{}))}domAtPos(e){return IH(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,n){var r;this.dom?this.flags&4&&(_H(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(lS(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,n);let i=this.dom.lastChild;for(;i&&Bt.get(i)instanceof va;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((r=Bt.get(i))===null||r===void 0?void 0:r.isEditable)==!1&&(!Ae.ios||!this.children.some(o=>o instanceof jo))){let o=document.createElement("BR");o.cmIgnore=!0,this.dom.appendChild(o)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,n;for(let r of this.children){if(!(r instanceof jo)||/[^ -~]/.test(r.text))return null;let i=D0(r.dom);if(i.length!=1)return null;e+=i[0].width,n=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:n}:null}coordsAt(e,n){let r=PH(this,e,n);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,o=r.bottom-r.top;if(Math.abs(o-i.lineHeight)<2&&i.textHeight<o){let s=(o-i.textHeight)/2;return{top:r.top+s,bottom:r.bottom-s,left:r.left,right:r.left}}}return r}become(e){return e instanceof Pn&&this.children.length==0&&e.children.length==0&&Sv(this.attrs,e.attrs)&&this.breakAfter==e.breakAfter}covers(){return!0}static find(e,n){for(let r=0,i=0;r<e.children.length;r++){let o=e.children[r],s=i+o.length;if(s>=n){if(o instanceof Pn)return o;if(s>n)break}i=s+o.breakAfter}return null}}class na extends Bt{constructor(e,n,r){super(),this.widget=e,this.length=n,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(e,n,r,i,o,s){return r&&(!(r instanceof na)||!this.widget.compare(r.widget)||e>0&&o<=0||n<this.length&&s<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}domAtPos(e){return e==0?Pr.before(this.dom):Pr.after(this.dom,e==this.length)}split(e){let n=this.length-e;this.length=e;let r=new na(this.widget,n,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return HA}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Rt.empty}domBoundsAround(){return null}become(e){return e instanceof na&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);return r||(this.widget instanceof uS?null:E_(this.dom.getBoundingClientRect(),this.length?e==0:n<=0))}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:n,endSide:r}=this.deco;return n==r?!1:e<0?n<0:r>0}}class uS extends Ra{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}class Lp{constructor(e,n,r,i){this.doc=e,this.pos=n,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=n}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof na&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Pn),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Kg(new kf(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof na)&&this.getLine()}buildText(e,n,r){for(;e>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:s,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(s){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=o,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(n.slice(n.length-r)),this.getLine().append(Kg(new jo(this.text.slice(this.textOff,this.textOff+i)),n),r),this.atCursorPos=!0,this.textOff+=i,e-=i,r=0}}span(e,n,r,i){this.buildText(n-e,r,i),this.pos=n,this.openStart<0&&(this.openStart=i)}point(e,n,r,i,o,s){if(this.disallowBlockEffectsFor[s]&&r instanceof Zl){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=n-e;if(r instanceof Zl)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new na(r.widget||Tf.block,a,r));else{let l=xl.create(r.widget||Tf.inline,a,a?0:r.startSide),c=this.atCursorPos&&!l.isEditable&&o<=i.length&&(e<n||r.startSide>0),u=!l.isEditable&&(e<n||o>i.length||r.startSide<=0),h=this.getLine();this.pendingBuffer==2&&!c&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),c&&(h.append(Kg(new kf(1),i),o),o=i.length+Math.max(0,o-i.length)),h.append(Kg(l,i),o),this.atCursorPos=u,this.pendingBuffer=u?e<n||o>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=o)}static build(e,n,r,i,o){let s=new Lp(e,n,r,o);return s.openEnd=bt.spans(i,n,r,s),s.openStart<0&&(s.openStart=s.openEnd),s.finish(s.openEnd),s}}function Kg(t,e){for(let n of e)t=new va(n,[t],t.length);return t}class Tf extends Ra{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Tf.inline=new Tf("span");Tf.block=new Tf("div");var Xt=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(Xt||(Xt={}));const yu=Xt.LTR,UA=Xt.RTL;function MH(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const Jwe=MH("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Qwe=MH("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),hS=Object.create(null),Qo=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);hS[e]=n,hS[n]=-e}function NH(t){return t<=247?Jwe[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?Qwe[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const Ywe=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class vl{get dir(){return this.level%2?UA:yu}constructor(e,n,r){this.from=e,this.to=n,this.level=r}side(e,n){return this.dir==n==e?this.to:this.from}forward(e,n){return e==(this.dir==n)}static find(e,n,r,i){let o=-1;for(let s=0;s<e.length;s++){let a=e[s];if(a.from<=n&&a.to>=n){if(a.level==r)return s;(o<0||(i!=0?i<0?a.from<n:a.to>n:e[o].level>a.level))&&(o=s)}}if(o<0)throw new RangeError("Index out of range");return o}}function LH(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!LH(r.inner,i.inner))return!1}return!0}const Ft=[];function Xwe(t,e,n,r,i){for(let o=0;o<=r.length;o++){let s=o?r[o-1].to:e,a=o<r.length?r[o].from:n,l=o?256:i;for(let c=s,u=l,h=l;c<a;c++){let f=NH(t.charCodeAt(c));f==512?f=u:f==8&&h==4&&(f=16),Ft[c]=f==4?2:f,f&7&&(h=f),u=f}for(let c=s,u=l,h=l;c<a;c++){let f=Ft[c];if(f==128)c<a-1&&u==Ft[c+1]&&u&24?f=Ft[c]=u:Ft[c]=256;else if(f==64){let d=c+1;for(;d<a&&Ft[d]==64;)d++;let p=c&&u==8||d<n&&Ft[d]==8?h==1?1:8:256;for(let m=c;m<d;m++)Ft[m]=p;c=d-1}else f==8&&h==1&&(Ft[c]=1);u=f,f&7&&(h=f)}}}function Zwe(t,e,n,r,i){let o=i==1?2:1;for(let s=0,a=0,l=0;s<=r.length;s++){let c=s?r[s-1].to:e,u=s<r.length?r[s].from:n;for(let h=c,f,d,p;h<u;h++)if(d=hS[f=t.charCodeAt(h)])if(d<0){for(let m=a-3;m>=0;m-=3)if(Qo[m+1]==-d){let v=Qo[m+2],x=v&2?i:v&4?v&1?o:i:0;x&&(Ft[h]=Ft[Qo[m]]=x),a=m;break}}else{if(Qo.length==189)break;Qo[a++]=h,Qo[a++]=f,Qo[a++]=l}else if((p=Ft[h])==2||p==1){let m=p==i;l=m?0:1;for(let v=a-3;v>=0;v-=3){let x=Qo[v+2];if(x&2)break;if(m)Qo[v+2]|=2;else{if(x&4)break;Qo[v+2]|=4}}}}}function e2e(t,e,n,r){for(let i=0,o=r;i<=n.length;i++){let s=i?n[i-1].to:t,a=i<n.length?n[i].from:e;for(let l=s;l<a;){let c=Ft[l];if(c==256){let u=l+1;for(;;)if(u==a){if(i==n.length)break;u=n[i++].to,a=i<n.length?n[i].from:e}else if(Ft[u]==256)u++;else break;let h=o==1,f=(u<e?Ft[u]:r)==1,d=h==f?h?1:2:r;for(let p=u,m=i,v=m?n[m-1].to:t;p>l;)p==v&&(p=n[--m].from,v=m?n[m-1].to:t),Ft[--p]=d;l=u}else o=c,l++}}}function fS(t,e,n,r,i,o,s){let a=r%2?2:1;if(r%2==i%2)for(let l=e,c=0;l<n;){let u=!0,h=!1;if(c==o.length||l<o[c].from){let m=Ft[l];m!=a&&(u=!1,h=m==16)}let f=!u&&a==1?[]:null,d=u?r:r+1,p=l;e:for(;;)if(c<o.length&&p==o[c].from){if(h)break e;let m=o[c];if(!u)for(let v=m.to,x=c+1;;){if(v==n)break e;if(x<o.length&&o[x].from==v)v=o[x++].to;else{if(Ft[v]==a)break e;break}}if(c++,f)f.push(m);else{m.from>l&&s.push(new vl(l,m.from,d));let v=m.direction==yu!=!(d%2);dS(t,v?r+1:r,i,m.inner,m.from,m.to,s),l=m.to}p=m.to}else{if(p==n||(u?Ft[p]!=a:Ft[p]==a))break;p++}f?fS(t,l,p,r+1,i,f,s):l<p&&s.push(new vl(l,p,d)),l=p}else for(let l=n,c=o.length;l>e;){let u=!0,h=!1;if(!c||l>o[c-1].to){let m=Ft[l-1];m!=a&&(u=!1,h=m==16)}let f=!u&&a==1?[]:null,d=u?r:r+1,p=l;e:for(;;)if(c&&p==o[c-1].to){if(h)break e;let m=o[--c];if(!u)for(let v=m.from,x=c;;){if(v==e)break e;if(x&&o[x-1].to==v)v=o[--x].from;else{if(Ft[v-1]==a)break e;break}}if(f)f.push(m);else{m.to<l&&s.push(new vl(m.to,l,d));let v=m.direction==yu!=!(d%2);dS(t,v?r+1:r,i,m.inner,m.from,m.to,s),l=m.from}p=m.from}else{if(p==e||(u?Ft[p-1]!=a:Ft[p-1]==a))break;p--}f?fS(t,p,l,r+1,i,f,s):p<l&&s.push(new vl(p,l,d)),l=p}}function dS(t,e,n,r,i,o,s){let a=e%2?2:1;Xwe(t,i,o,r,a),Zwe(t,i,o,r,a),e2e(i,o,r,a),fS(t,i,o,e,n,r,s)}function t2e(t,e,n){if(!t)return[new vl(0,0,e==UA?1:0)];if(e==yu&&!n.length&&!Ywe.test(t))return OH(t.length);if(n.length)for(;t.length>Ft.length;)Ft[Ft.length]=256;let r=[],i=e==yu?0:1;return dS(t,i,i,n,0,t.length,r),r}function OH(t){return[new vl(0,t,0)]}let FH="";function n2e(t,e,n,r,i){var o;let s=r.head-t.from,a=vl.find(e,s,(o=r.bidiLevel)!==null&&o!==void 0?o:-1,r.assoc),l=e[a],c=l.side(i,n);if(s==c){let f=a+=i?1:-1;if(f<0||f>=e.length)return null;l=e[a=f],s=l.side(!i,n),c=l.side(i,n)}let u=pr(t.text,s,l.forward(i,n));(u<l.from||u>l.to)&&(u=c),FH=t.text.slice(Math.min(s,u),Math.max(s,u));let h=a==(i?e.length-1:0)?null:e[a+(i?1:-1)];return h&&u==c&&h.level+(i?0:1)<l.level?se.cursor(h.side(!i,n)+t.from,h.forward(i,n)?1:-1,h.level):se.cursor(u+t.from,l.forward(i,n)?-1:1,l.level)}function r2e(t,e,n){for(let r=e;r<n;r++){let i=NH(t.charCodeAt(r));if(i==1)return yu;if(i==2||i==4)return UA}return yu}const BH=ke.define(),VH=ke.define(),zH=ke.define(),jH=ke.define(),pS=ke.define(),$H=ke.define(),HH=ke.define(),WA=ke.define(),qA=ke.define(),UH=ke.define({combine:t=>t.some(e=>e)}),WH=ke.define({combine:t=>t.some(e=>e)}),qH=ke.define();class Xh{constructor(e,n="nearest",r="nearest",i=5,o=5,s=!1){this.range=e,this.y=n,this.x=r,this.yMargin=i,this.xMargin=o,this.isSnapshot=s}map(e){return e.empty?this:new Xh(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new Xh(se.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Gg=et.define({map:(t,e)=>t.map(e)}),KH=et.define();function hi(t,e,n){let r=t.facet(jH);r.length?r[0](e):window.onerror?window.onerror(String(e),n,void 0,void 0,e):n?console.error(n+":",e):console.error(e)}const al=ke.define({combine:t=>t.length?t[0]:!0});let i2e=0;const ep=ke.define();class Nn{constructor(e,n,r,i,o){this.id=e,this.create=n,this.domEventHandlers=r,this.domEventObservers=i,this.extension=o(this)}static define(e,n){const{eventHandlers:r,eventObservers:i,provide:o,decorations:s}=n||{};return new Nn(i2e++,e,r,i,a=>{let l=[ep.of(a)];return s&&l.push(M0.of(c=>{let u=c.plugin(a);return u?s(u):Fe.none})),o&&l.push(o(a)),l})}static fromClass(e,n){return Nn.define(r=>new e(r),n)}}class Q2{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(hi(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(n){hi(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){hi(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const GH=ke.define(),KA=ke.define(),M0=ke.define(),JH=ke.define(),GA=ke.define(),QH=ke.define();function RP(t,e){let n=t.state.facet(QH);if(!n.length)return n;let r=n.map(o=>o instanceof Function?o(t):o),i=[];return bt.spans(r,e.from,e.to,{point(){},span(o,s,a,l){let c=o-e.from,u=s-e.from,h=i;for(let f=a.length-1;f>=0;f--,l--){let d=a[f].spec.bidiIsolate,p;if(d==null&&(d=r2e(e.text,c,u)),l>0&&h.length&&(p=h[h.length-1]).to==c&&p.direction==d)p.to=u,h=p.inner;else{let m={from:c,to:u,direction:d,inner:[]};h.push(m),h=m.inner}}}}),i}const YH=ke.define();function XH(t){let e=0,n=0,r=0,i=0;for(let o of t.state.facet(YH)){let s=o(t);s&&(s.left!=null&&(e=Math.max(e,s.left)),s.right!=null&&(n=Math.max(n,s.right)),s.top!=null&&(r=Math.max(r,s.top)),s.bottom!=null&&(i=Math.max(i,s.bottom)))}return{left:e,right:n,top:r,bottom:i}}const tp=ke.define();class so{constructor(e,n,r,i){this.fromA=e,this.toA=n,this.fromB=r,this.toB=i}join(e){return new so(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,r=this;for(;n>0;n--){let i=e[n-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(n-1,1)}}return e.splice(n,0,r),e}static extendWithRanges(e,n){if(n.length==0)return e;let r=[];for(let i=0,o=0,s=0,a=0;;i++){let l=i==e.length?null:e[i],c=s-a,u=l?l.fromB:1e9;for(;o<n.length&&n[o]<u;){let h=n[o],f=n[o+1],d=Math.max(a,h),p=Math.min(u,f);if(d<=p&&new so(d+c,p+c,d,p).addToSet(r),f>u)break;o+=2}if(!l)return r;new so(l.fromA,l.toA,l.fromB,l.toB).addToSet(r),s=l.toA,a=l.toB}}}class kv{constructor(e,n,r){this.view=e,this.state=n,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=zn.empty(this.startState.doc.length);for(let o of r)this.changes=this.changes.compose(o.changes);let i=[];this.changes.iterChangedRanges((o,s,a,l)=>i.push(new so(o,s,a,l))),this.changedRanges=i}static create(e,n,r){return new kv(e,n,r)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class PP extends Bt{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.editContextFormatting=Fe.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Pn],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new so(0,0,0,e.state.doc.length)],0,null)}update(e){var n;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:c,toA:u})=>u<this.minWidthFrom||c>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((n=this.domChanged)===null||n===void 0)&&n.newSel?i=this.domChanged.newSel.head:!h2e(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let o=i>-1?s2e(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:c,to:u}=this.hasComposition;r=new so(c,u,e.changes.mapPos(c,-1),e.changes.mapPos(u,1)).addToSet(r.slice())}this.hasComposition=o?{from:o.range.fromB,to:o.range.toB}:null,(Ae.ie||Ae.chrome)&&!o&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let s=this.decorations,a=this.updateDeco(),l=c2e(s,a,e.changes);return r=so.extendWithRanges(r,l),!(this.flags&7)&&r.length==0?!1:(this.updateInner(r,e.startState.doc.length,o),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,n,r);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=Ae.chrome||Ae.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,s),this.flags&=-8,s&&(s.written||i.selectionRange.focusNode!=s.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(s=>s.flags&=-9);let o=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.children)s instanceof na&&s.widget instanceof uS&&o.push(s.dom);i.updateGaps(o)}updateChildren(e,n,r){let i=r?r.range.addToSet(e.slice()):e,o=this.childCursor(n);for(let s=i.length-1;;s--){let a=s>=0?i[s]:null;if(!a)break;let{fromA:l,toA:c,fromB:u,toB:h}=a,f,d,p,m;if(r&&r.range.fromB<h&&r.range.toB>u){let C=Lp.build(this.view.state.doc,u,r.range.fromB,this.decorations,this.dynamicDecorationMap),S=Lp.build(this.view.state.doc,r.range.toB,h,this.decorations,this.dynamicDecorationMap);d=C.breakAtStart,p=C.openStart,m=S.openEnd;let T=this.compositionView(r);S.breakAtStart?T.breakAfter=1:S.content.length&&T.merge(T.length,T.length,S.content[0],!1,S.openStart,0)&&(T.breakAfter=S.content[0].breakAfter,S.content.shift()),C.content.length&&T.merge(0,0,C.content[C.content.length-1],!0,0,C.openEnd)&&C.content.pop(),f=C.content.concat(T).concat(S.content)}else({content:f,breakAtStart:d,openStart:p,openEnd:m}=Lp.build(this.view.state.doc,u,h,this.decorations,this.dynamicDecorationMap));let{i:v,off:x}=o.findPos(c,1),{i:y,off:_}=o.findPos(l,-1);SH(this,y,_,v,x,f,d,p,m)}r&&this.fixCompositionDOM(r)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let n of e.transactions)for(let r of n.effects)r.is(KH)&&(this.editContextFormatting=r.value)}compositionView(e){let n=new jo(e.text.nodeValue);n.flags|=8;for(let{deco:i}of e.marks)n=new va(i,[n],n.length);let r=new Pn;return r.append(n,0),r}fixCompositionDOM(e){let n=(o,s)=>{s.flags|=8|(s.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(s);let a=Bt.get(o);a&&a!=s&&(a.dom=null),s.setDOM(o)},r=this.childPos(e.range.fromB,1),i=this.children[r.i];n(e.line,i);for(let o=e.marks.length-1;o>=-1;o--)r=i.childPos(r.off,1),i=i.children[r.i],n(o>=0?e.marks[o].node:e.text,i)}updateSelection(e=!1,n=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,i=r==this.dom,o=!i&&G1(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(i||n||o))return;let s=this.forceSelection;this.forceSelection=!1;let a=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(a.anchor)),c=a.empty?l:this.moveToLine(this.domAtPos(a.head));if(Ae.gecko&&a.empty&&!this.hasComposition&&o2e(l)){let h=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(h,l.node.childNodes[l.offset]||null)),l=c=new Pr(h,0),s=!0}let u=this.view.observer.selectionRange;(s||!u.focusNode||(!Np(l.node,l.offset,u.anchorNode,u.anchorOffset)||!Np(c.node,c.offset,u.focusNode,u.focusOffset))&&!this.suppressWidgetCursorChange(u,a))&&(this.view.observer.ignore(()=>{Ae.android&&Ae.chrome&&this.dom.contains(u.focusNode)&&u2e(u.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let h=P0(this.view.root);if(h)if(a.empty){if(Ae.gecko){let f=a2e(l.node,l.offset);if(f&&f!=3){let d=(f==1?CH:bH)(l.node,l.offset);d&&(l=new Pr(d.node,d.offset))}}h.collapse(l.node,l.offset),a.bidiLevel!=null&&h.caretBidiLevel!==void 0&&(h.caretBidiLevel=a.bidiLevel)}else if(h.extend){h.collapse(l.node,l.offset);try{h.extend(c.node,c.offset)}catch{}}else{let f=document.createRange();a.anchor>a.head&&([l,c]=[c,l]),f.setEnd(c.node,c.offset),f.setStart(l.node,l.offset),h.removeAllRanges(),h.addRange(f)}o&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(l,c)),this.impreciseAnchor=l.precise?null:new Pr(u.anchorNode,u.anchorOffset),this.impreciseHead=c.precise?null:new Pr(u.focusNode,u.focusOffset)}suppressWidgetCursorChange(e,n){return this.hasComposition&&n.empty&&Np(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==n.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,n=e.state.selection.main,r=P0(e.root),{anchorNode:i,anchorOffset:o}=e.observer.selectionRange;if(!r||!n.empty||!n.assoc||!r.modify)return;let s=Pn.find(this,n.head);if(!s)return;let a=s.posAtStart;if(n.head==a||n.head==a+s.length)return;let l=this.coordsAt(n.head,-1),c=this.coordsAt(n.head,1);if(!l||!c||l.bottom>c.top)return;let u=this.domAtPos(n.head+n.assoc);r.collapse(u.node,u.offset),r.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let h=e.observer.selectionRange;e.docView.posFromDOM(h.anchorNode,h.anchorOffset)!=n.from&&r.collapse(i,o)}moveToLine(e){let n=this.dom,r;if(e.node!=n)return e;for(let i=e.offset;!r&&i<n.childNodes.length;i++){let o=Bt.get(n.childNodes[i]);o instanceof Pn&&(r=o.domAtPos(0))}for(let i=e.offset-1;!r&&i>=0;i--){let o=Bt.get(n.childNodes[i]);o instanceof Pn&&(r=o.domAtPos(o.length))}return r?new Pr(r.node,r.offset,!0):e}nearest(e){for(let n=e;n;){let r=Bt.get(n);if(r&&r.rootView==this)return r;n=n.parentNode}return null}posFromDOM(e,n){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,n)+r.posAtStart}domAtPos(e){let{i:n,off:r}=this.childCursor().findPos(e,-1);for(;n<this.children.length-1;){let i=this.children[n];if(r<i.length||i instanceof Pn)break;n++,r=0}return this.children[n].domAtPos(r)}coordsAt(e,n){let r=null,i=0;for(let o=this.length,s=this.children.length-1;s>=0;s--){let a=this.children[s],l=o-a.breakAfter,c=l-a.length;if(l<e)break;if(c<=e&&(c<e||a.covers(-1))&&(l>e||a.covers(1))&&(!r||a instanceof Pn&&!(r instanceof Pn&&n>=0)))r=a,i=c;else if(r&&c==e&&l==e&&a instanceof na&&Math.abs(n)<2){if(a.deco.startSide<0)break;s&&(r=null)}o=c}return r?r.coordsAt(e-i,n):null}coordsForChar(e){let{i:n,off:r}=this.childPos(e,1),i=this.children[n];if(!(i instanceof Pn))return null;for(;i.children.length;){let{i:a,off:l}=i.childPos(r,1);for(;;a++){if(a==i.children.length)return null;if((i=i.children[a]).length)break}r=l}if(!(i instanceof jo))return null;let o=pr(i.text,r);if(o==r)return null;let s=vu(i.dom,r,o).getClientRects();for(let a=0;a<s.length;a++){let l=s[a];if(a==s.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let n=[],{from:r,to:i}=e,o=this.view.contentDOM.clientWidth,s=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==Xt.LTR;for(let c=0,u=0;u<this.children.length;u++){let h=this.children[u],f=c+h.length;if(f>i)break;if(c>=r){let d=h.dom.getBoundingClientRect();if(n.push(d.height),s){let p=h.dom.lastChild,m=p?D0(p):[];if(m.length){let v=m[m.length-1],x=l?v.right-d.left:d.right-v.left;x>a&&(a=x,this.minWidth=o,this.minWidthFrom=c,this.minWidthTo=f)}}}c=f+h.breakAfter}return n}textDirectionAt(e){let{i:n}=this.childPos(e,1);return getComputedStyle(this.children[n].dom).direction=="rtl"?Xt.RTL:Xt.LTR}measureTextSize(){for(let o of this.children)if(o instanceof Pn){let s=o.measureTextSize();if(s)return s}let e=document.createElement("div"),n,r,i;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let o=D0(e.firstChild)[0];n=e.getBoundingClientRect().height,r=o?o.width/27:7,i=o?o.height:n,e.remove()}),{lineHeight:n,charWidth:r,textHeight:i}}childCursor(e=this.length){let n=this.children.length;return n&&(e-=this.children[--n].length),new EH(this.children,e,n)}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let r=0,i=0;;i++){let o=i==n.viewports.length?null:n.viewports[i],s=o?o.from-1:this.length;if(s>r){let a=(n.lineBlockAt(s).bottom-n.lineBlockAt(r).top)/this.view.scaleY;e.push(Fe.replace({widget:new uS(a),block:!0,inclusive:!0,isBlockGap:!0}).range(r,s))}if(!o)break;r=o.to+1}return Fe.set(e)}updateDeco(){let e=1,n=this.view.state.facet(M0).map(o=>(this.dynamicDecorationMap[e++]=typeof o=="function")?o(this.view):o),r=!1,i=this.view.state.facet(JH).map((o,s)=>{let a=typeof o=="function";return a&&(r=!0),a?o(this.view):o});for(i.length&&(this.dynamicDecorationMap[e++]=r,n.push(bt.join(i))),this.decorations=[this.editContextFormatting,...n,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;return this.decorations}scrollIntoView(e){if(e.isSnapshot){let c=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=c.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let c of this.view.state.facet(qH))try{if(c(this.view,e.range,e))return!0}catch(u){hi(this.view.state,u,"scroll handler")}let{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),i;if(!r)return;!n.empty&&(i=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let o=XH(this.view),s={left:r.left-o.left,top:r.top-o.top,right:r.right+o.right,bottom:r.bottom+o.bottom},{offsetWidth:a,offsetHeight:l}=this.view.scrollDOM;Vwe(this.view.scrollDOM,s,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,a),-a),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==Xt.LTR)}}function o2e(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}function ZH(t,e){let n=t.observer.selectionRange;if(!n.focusNode)return null;let r=CH(n.focusNode,n.focusOffset),i=bH(n.focusNode,n.focusOffset),o=r||i;if(i&&r&&i.node!=r.node){let a=Bt.get(i.node);if(!a||a instanceof jo&&a.text!=i.node.nodeValue)o=i;else if(t.docView.lastCompositionAfterCursor){let l=Bt.get(r.node);!l||l instanceof jo&&l.text!=r.node.nodeValue||(o=i)}}if(t.docView.lastCompositionAfterCursor=o!=r,!o)return null;let s=e-o.offset;return{from:s,to:s+o.node.nodeValue.length,node:o.node}}function s2e(t,e,n){let r=ZH(t,n);if(!r)return null;let{node:i,from:o,to:s}=r,a=i.nodeValue;if(/[\n\r]/.test(a)||t.state.doc.sliceString(r.from,r.to)!=a)return null;let l=e.invertedDesc,c=new so(l.mapPos(o),l.mapPos(s),o,s),u=[];for(let h=i.parentNode;;h=h.parentNode){let f=Bt.get(h);if(f instanceof va)u.push({node:h,deco:f.mark});else{if(f instanceof Pn||h.nodeName=="DIV"&&h.parentNode==t.contentDOM)return{range:c,text:i,marks:u,line:h};if(h!=t.contentDOM)u.push({node:h,deco:new zm({inclusive:!0,attributes:Kwe(h),tagName:h.tagName.toLowerCase()})});else return null}}}function a2e(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let l2e=class{constructor(){this.changes=[]}compareRange(e,n){cS(e,n,this.changes)}comparePoint(e,n){cS(e,n,this.changes)}};function c2e(t,e,n){let r=new l2e;return bt.compare(t,e,n,r),r.changes}function u2e(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function h2e(t,e){let n=!1;return e&&t.iterChangedRanges((r,i)=>{r<e.to&&i>e.from&&(n=!0)}),n}function f2e(t,e,n=1){let r=t.charCategorizer(e),i=t.doc.lineAt(e),o=e-i.from;if(i.length==0)return se.cursor(e);o==0?n=1:o==i.length&&(n=-1);let s=o,a=o;n<0?s=pr(i.text,o,!1):a=pr(i.text,o);let l=r(i.text.slice(s,a));for(;s>0;){let c=pr(i.text,s,!1);if(r(i.text.slice(c,s))!=l)break;s=c}for(;a<i.length;){let c=pr(i.text,a);if(r(i.text.slice(a,c))!=l)break;a=c}return se.range(s+i.from,a+i.from)}function d2e(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function p2e(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function Y2(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function DP(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function MP(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function mS(t,e,n){let r,i,o,s,a=!1,l,c,u,h;for(let p=t.firstChild;p;p=p.nextSibling){let m=D0(p);for(let v=0;v<m.length;v++){let x=m[v];i&&Y2(i,x)&&(x=DP(MP(x,i.bottom),i.top));let y=d2e(e,x),_=p2e(n,x);if(y==0&&_==0)return p.nodeType==3?NP(p,e,n):mS(p,e,n);if(!r||s>_||s==_&&o>y){r=p,i=x,o=y,s=_;let C=_?n<x.top?-1:1:y?e<x.left?-1:1:0;a=!C||(C>0?v<m.length-1:v>0)}y==0?n>x.bottom&&(!u||u.bottom<x.bottom)?(l=p,u=x):n<x.top&&(!h||h.top>x.top)&&(c=p,h=x):u&&Y2(u,x)?u=MP(u,x.bottom):h&&Y2(h,x)&&(h=DP(h,x.top))}}if(u&&u.bottom>=n?(r=l,i=u):h&&h.top<=n&&(r=c,i=h),!r)return{node:t,offset:0};let f=Math.max(i.left,Math.min(i.right,e));if(r.nodeType==3)return NP(r,f,n);if(a&&r.contentEditable!="false")return mS(r,f,n);let d=Array.prototype.indexOf.call(t.childNodes,r)+(e>=(i.left+i.right)/2?1:0);return{node:t,offset:d}}function NP(t,e,n){let r=t.nodeValue.length,i=-1,o=1e9,s=0;for(let a=0;a<r;a++){let l=vu(t,a,a+1).getClientRects();for(let c=0;c<l.length;c++){let u=l[c];if(u.top==u.bottom)continue;s||(s=e-u.left);let h=(u.top>n?u.top-n:n-u.bottom)-1;if(u.left-1<=e&&u.right+1>=e&&h<o){let f=e>=(u.left+u.right)/2,d=f;if((Ae.chrome||Ae.gecko)&&vu(t,a).getBoundingClientRect().left==u.right&&(d=!f),h<=0)return{node:t,offset:a+(d?1:0)};i=a+(d?1:0),o=h}}}return{node:t,offset:i>-1?i:s>0?t.nodeValue.length:0}}function eU(t,e,n,r=-1){var i,o;let s=t.contentDOM.getBoundingClientRect(),a=s.top+t.viewState.paddingTop,l,{docHeight:c}=t.viewState,{x:u,y:h}=e,f=h-a;if(f<0)return 0;if(f>c)return t.state.doc.length;for(let C=t.viewState.heightOracle.textHeight/2,S=!1;l=t.elementAtHeight(f),l.type!=Jr.Text;)for(;f=r>0?l.bottom+C:l.top-C,!(f>=0&&f<=c);){if(S)return n?null:0;S=!0,r=-r}h=a+f;let d=l.from;if(d<t.viewport.from)return t.viewport.from==0?0:n?null:LP(t,s,l,u,h);if(d>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:LP(t,s,l,u,h);let p=t.dom.ownerDocument,m=t.root.elementFromPoint?t.root:p,v=m.elementFromPoint(u,h);v&&!t.contentDOM.contains(v)&&(v=null),v||(u=Math.max(s.left+1,Math.min(s.right-1,u)),v=m.elementFromPoint(u,h),v&&!t.contentDOM.contains(v)&&(v=null));let x,y=-1;if(v&&((i=t.docView.nearest(v))===null||i===void 0?void 0:i.isEditable)!=!1){if(p.caretPositionFromPoint){let C=p.caretPositionFromPoint(u,h);C&&({offsetNode:x,offset:y}=C)}else if(p.caretRangeFromPoint){let C=p.caretRangeFromPoint(u,h);C&&({startContainer:x,startOffset:y}=C,(!t.contentDOM.contains(x)||Ae.safari&&m2e(x,y,u)||Ae.chrome&&g2e(x,y,u))&&(x=void 0))}}if(!x||!t.docView.dom.contains(x)){let C=Pn.find(t.docView,d);if(!C)return f>l.top+l.height/2?l.to:l.from;({node:x,offset:y}=mS(C.dom,u,h))}let _=t.docView.nearest(x);if(!_)return null;if(_.isWidget&&((o=_.dom)===null||o===void 0?void 0:o.nodeType)==1){let C=_.dom.getBoundingClientRect();return e.y<C.top||e.y<=C.bottom&&e.x<=(C.left+C.right)/2?_.posAtStart:_.posAtEnd}else return _.localPosFromDOM(x,y)+_.posAtStart}function LP(t,e,n,r,i){let o=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let a=t.viewState.heightOracle.textHeight,l=Math.floor((i-n.top-(t.defaultLineHeight-a)*.5)/a);o+=l*t.viewState.heightOracle.lineLength}let s=t.state.sliceDoc(n.from,n.to);return n.from+eS(s,o,t.state.tabSize)}function m2e(t,e,n){let r;if(t.nodeType!=3||e!=(r=t.nodeValue.length))return!1;for(let i=t.nextSibling;i;i=i.nextSibling)if(i.nodeType!=1||i.nodeName!="BR")return!1;return vu(t,r-1,r).getBoundingClientRect().left>n}function g2e(t,e,n){if(e!=0)return!1;for(let i=t;;){let o=i.parentNode;if(!o||o.nodeType!=1||o.firstChild!=i)return!1;if(o.classList.contains("cm-line"))break;i=o}let r=t.nodeType==1?t.getBoundingClientRect():vu(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return n-r.left>5}function gS(t,e){let n=t.lineBlockAt(e);if(Array.isArray(n.type)){for(let r of n.type)if(r.to>e||r.to==e&&(r.to==n.to||r.type==Jr.Text))return r}return n}function x2e(t,e,n,r){let i=gS(t,e.head),o=!r||i.type!=Jr.Text||!(t.lineWrapping||i.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(o){let s=t.dom.getBoundingClientRect(),a=t.textDirectionAt(i.from),l=t.posAtCoords({x:n==(a==Xt.LTR)?s.right-1:s.left+1,y:(o.top+o.bottom)/2});if(l!=null)return se.cursor(l,n?-1:1)}return se.cursor(n?i.to:i.from,n?-1:1)}function OP(t,e,n,r){let i=t.state.doc.lineAt(e.head),o=t.bidiSpans(i),s=t.textDirectionAt(i.from);for(let a=e,l=null;;){let c=n2e(i,o,s,a,n),u=FH;if(!c){if(i.number==(n?t.state.doc.lines:1))return a;u=`
`,i=t.state.doc.line(i.number+(n?1:-1)),o=t.bidiSpans(i),c=t.visualLineSide(i,!n)}if(l){if(!l(u))return a}else{if(!r)return c;l=r(u)}a=c}}function v2e(t,e,n){let r=t.state.charCategorizer(e),i=r(n);return o=>{let s=r(o);return i==rn.Space&&(i=s),i==s}}function y2e(t,e,n,r){let i=e.head,o=n?1:-1;if(i==(n?t.state.doc.length:0))return se.cursor(i,e.assoc);let s=e.goalColumn,a,l=t.contentDOM.getBoundingClientRect(),c=t.coordsAtPos(i,e.assoc||-1),u=t.documentTop;if(c)s==null&&(s=c.left-l.left),a=o<0?c.top:c.bottom;else{let d=t.viewState.lineBlockAt(i);s==null&&(s=Math.min(l.right-l.left,t.defaultCharacterWidth*(i-d.from))),a=(o<0?d.top:d.bottom)+u}let h=l.left+s,f=r??t.viewState.heightOracle.textHeight>>1;for(let d=0;;d+=10){let p=a+(f+d)*o,m=eU(t,{x:h,y:p},!1,o);if(p<l.top||p>l.bottom||(o<0?m<i:m>i)){let v=t.docView.coordsForChar(m),x=!v||p<v.top?-1:1;return se.cursor(m,x,void 0,s)}}}function J1(t,e,n){for(;;){let r=0;for(let i of t)i.between(e-1,e+1,(o,s,a)=>{if(e>o&&e<s){let l=r||n||(e-o<s-e?-1:1);e=l<0?o:s,r=l}});if(!r)return e}}function X2(t,e,n){let r=J1(t.state.facet(GA).map(i=>i(t)),n.from,e.head>n.from?-1:1);return r==n.from?n:se.cursor(r,r<n.from?1:-1)}const np="";class _2e{constructor(e,n){this.points=e,this.text="",this.lineSeparator=n.facet(_t.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=np}readRange(e,n){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let o=this.text.length;this.readNode(i);let s=i.nextSibling;if(s==n)break;let a=Bt.get(i),l=Bt.get(s);(a&&l?a.breakAfter:(a?a.breakAfter:Ev(i))||Ev(s)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>o)&&this.lineBreak(),i=s}return this.findPointBefore(r,n),this}readTextNode(e){let n=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let o=-1,s=1,a;if(this.lineSeparator?(o=n.indexOf(this.lineSeparator,r),s=this.lineSeparator.length):(a=i.exec(n))&&(o=a.index,s=a[0].length),this.append(n.slice(r,o<0?n.length:o)),o<0)break;if(this.lineBreak(),s>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=s-1);r=o+s}}readNode(e){if(e.cmIgnore)return;let n=Bt.get(e),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(e,n){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(w2e(e,r.node,r.offset)?n:0))}}function w2e(t,e,n){for(;;){if(!e||n<xa(e))return!1;if(e==t)return!0;n=xu(e)+1,e=e.parentNode}}class FP{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class C2e{constructor(e,n,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=n>-1;let{impreciseHead:o,impreciseAnchor:s}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=e.docView.domBoundsAround(n,r,0))){let a=o||s?[]:S2e(e),l=new _2e(a,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=k2e(a,this.bounds.from)}else{let a=e.observer.selectionRange,l=o&&o.node==a.focusNode&&o.offset==a.focusOffset||!rS(e.contentDOM,a.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(a.focusNode,a.focusOffset),c=s&&s.node==a.anchorNode&&s.offset==a.anchorOffset||!rS(e.contentDOM,a.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(a.anchorNode,a.anchorOffset),u=e.viewport;if((Ae.ios||Ae.chrome)&&e.state.selection.main.empty&&l!=c&&(u.from>0||u.to<e.state.doc.length)){let h=Math.min(l,c),f=Math.max(l,c),d=u.from-h,p=u.to-f;(d==0||d==1||h==0)&&(p==0||p==-1||f==e.state.doc.length)&&(l=0,c=e.state.doc.length)}this.newSel=se.single(c,l)}}}function tU(t,e){let n,{newSel:r}=e,i=t.state.selection.main,o=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:s,to:a}=e.bounds,l=i.from,c=null;(o===8||Ae.android&&e.text.length<a-s)&&(l=i.to,c="end");let u=E2e(t.state.doc.sliceString(s,a,np),e.text,l-s,c);u&&(Ae.chrome&&o==13&&u.toB==u.from+2&&e.text.slice(u.from,u.toB)==np+np&&u.toB--,n={from:s+u.from,to:s+u.toA,insert:Rt.of(e.text.slice(u.from,u.toB).split(np))})}else r&&(!t.hasFocus&&t.state.facet(al)||r.main.eq(i))&&(r=null);if(!n&&!r)return!1;if(!n&&e.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,i.to)}:n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,i.to))}:(Ae.mac||Ae.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=se.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:Rt.of([" "])}):Ae.chrome&&n&&n.from==n.to&&n.from==i.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(r&&(r=se.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:Rt.of([" "])}),n)return JA(t,n,r,o);if(r&&!r.main.eq(i)){let s=!1,a="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(s=!0),a=t.inputState.lastSelectionOrigin),t.dispatch({selection:r,scrollIntoView:s,userEvent:a}),!0}else return!1}function JA(t,e,n,r=-1){if(Ae.ios&&t.inputState.flushIOSKey(e))return!0;let i=t.state.selection.main;if(Ae.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&t.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&Yh(t.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&Yh(t.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&Yh(t.contentDOM,"Delete",46)))return!0;let o=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let s,a=()=>s||(s=b2e(t,e,n));return t.state.facet($H).some(l=>l(t,e.from,e.to,o,a))||t.dispatch(a()),!0}function b2e(t,e,n){let r,i=t.state,o=i.selection.main;if(e.from>=o.from&&e.to<=o.to&&e.to-e.from>=(o.to-o.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let a=o.from<e.from?i.sliceDoc(o.from,e.from):"",l=o.to>e.to?i.sliceDoc(e.to,o.to):"";r=i.replaceSelection(t.state.toText(a+e.insert.sliceString(0,void 0,t.state.lineBreak)+l))}else{let a=i.changes(e),l=n&&n.main.to<=a.newLength?n.main:void 0;if(i.selection.ranges.length>1&&t.inputState.composing>=0&&e.to<=o.to&&e.to>=o.to-10){let c=t.state.sliceDoc(e.from,e.to),u,h=n&&ZH(t,n.main.head);if(h){let p=e.insert.length-(e.to-e.from);u={from:h.from,to:h.to-p}}else u=t.state.doc.lineAt(o.head);let f=o.to-e.to,d=o.to-o.from;r=i.changeByRange(p=>{if(p.from==o.from&&p.to==o.to)return{changes:a,range:l||p.map(a)};let m=p.to-f,v=m-c.length;if(p.to-p.from!=d||t.state.sliceDoc(v,m)!=c||p.to>=u.from&&p.from<=u.to)return{range:p};let x=i.changes({from:v,to:m,insert:e.insert}),y=p.to-o.to;return{changes:x,range:l?se.range(Math.max(0,l.anchor+y),Math.max(0,l.head+y)):p.map(x)}})}else r={changes:a,selection:l&&i.selection.replaceRange(l)}}let s="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,s+=".compose",t.inputState.compositionFirstChange&&(s+=".start",t.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:s,scrollIntoView:!0})}function E2e(t,e,n,r){let i=Math.min(t.length,e.length),o=0;for(;o<i&&t.charCodeAt(o)==e.charCodeAt(o);)o++;if(o==i&&t.length==e.length)return null;let s=t.length,a=e.length;for(;s>0&&a>0&&t.charCodeAt(s-1)==e.charCodeAt(a-1);)s--,a--;if(r=="end"){let l=Math.max(0,o-Math.min(s,a));n-=s+l-o}if(s<o&&t.length<e.length){let l=n<=o&&n>=s?o-n:0;o-=l,a=o+(a-s),s=o}else if(a<o){let l=n<=o&&n>=a?o-n:0;o-=l,s=o+(s-a),a=o}return{from:o,toA:s,toB:a}}function S2e(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}=t.observer.selectionRange;return n&&(e.push(new FP(n,r)),(i!=n||o!=r)&&e.push(new FP(i,o))),e}function k2e(t,e){if(t.length==0)return null;let n=t[0].pos,r=t.length==2?t[1].pos:n;return n>-1&&r>-1?se.single(n+e,r+e):null}class T2e{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,Ae.safari&&e.contentDOM.addEventListener("input",()=>null),Ae.gecko&&H2e(e.contentDOM.ownerDocument)}handleEvent(e){!L2e(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||this.runHandlers(e.type,e)}runHandlers(e,n){let r=this.handlers[e];if(r){for(let i of r.observers)i(this.view,n);for(let i of r.handlers){if(n.defaultPrevented)break;if(i(this.view,n)){n.preventDefault();break}}}}ensureHandlers(e){let n=A2e(e),r=this.handlers,i=this.view.contentDOM;for(let o in n)if(o!="scroll"){let s=!n[o].handlers.length,a=r[o];a&&s!=!a.handlers.length&&(i.removeEventListener(o,this.handleEvent),a=null),a||i.addEventListener(o,this.handleEvent,{passive:s})}for(let o in r)o!="scroll"&&!n[o]&&i.removeEventListener(o,this.handleEvent);this.handlers=n}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&rU.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),Ae.android&&Ae.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let n;return Ae.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((n=nU.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||I2e.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=n||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let n=this.pendingIOSKey;return!n||n.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,Yh(this.view.contentDOM,n.key,n.keyCode,n instanceof KeyboardEvent?n:void 0))}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:Ae.safari&&!Ae.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function BP(t,e){return(n,r)=>{try{return e.call(t,r,n)}catch(i){hi(n.state,i)}}}function A2e(t){let e=Object.create(null);function n(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of t){let i=r.spec;if(i&&i.domEventHandlers)for(let o in i.domEventHandlers){let s=i.domEventHandlers[o];s&&n(o).handlers.push(BP(r.value,s))}if(i&&i.domEventObservers)for(let o in i.domEventObservers){let s=i.domEventObservers[o];s&&n(o).observers.push(BP(r.value,s))}}for(let r in $o)n(r).handlers.push($o[r]);for(let r in uo)n(r).observers.push(uo[r]);return e}const nU=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],I2e="dthko",rU=[16,17,18,20,91,92,224,225],Jg=6;function Qg(t){return Math.max(0,t)*.7+8}function R2e(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class P2e{constructor(e,n,r,i){this.view=e,this.startEvent=n,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParents=zwe(e.contentDOM),this.atoms=e.state.facet(GA).map(s=>s(e));let o=e.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(_t.allowMultipleSelections)&&D2e(e,n),this.dragging=N2e(e,n)&&sU(n)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&R2e(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let n=0,r=0,i=0,o=0,s=this.view.win.innerWidth,a=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:s}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:o,bottom:a}=this.scrollParents.y.getBoundingClientRect());let l=XH(this.view);e.clientX-l.left<=i+Jg?n=-Qg(i-e.clientX):e.clientX+l.right>=s-Jg&&(n=Qg(e.clientX-s)),e.clientY-l.top<=o+Jg?r=-Qg(o-e.clientY):e.clientY+l.bottom>=a-Jg&&(r=Qg(e.clientY-a)),this.setScrollSpeed(n,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:n}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),n&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=n,n=0),(e||n)&&this.view.win.scrollBy(e,n),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let n=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],o=null;if(i.empty){let s=J1(this.atoms,i.from,0);s!=i.from&&(o=se.cursor(s,-1))}else{let s=J1(this.atoms,i.from,-1),a=J1(this.atoms,i.to,1);(s!=i.from||a!=i.to)&&(o=se.range(i.from==i.anchor?s:a,i.from==i.head?s:a))}o&&(n||(n=e.ranges.slice()),n[r]=o)}return n?se.create(n,e.mainIndex):e}select(e){let{view:n}=this,r=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(n.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(n=>n.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function D2e(t,e){let n=t.state.facet(BH);return n.length?n[0](e):Ae.mac?e.metaKey:e.ctrlKey}function M2e(t,e){let n=t.state.facet(VH);return n.length?n[0](e):Ae.mac?!e.altKey:!e.ctrlKey}function N2e(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=P0(t.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let o=0;o<i.length;o++){let s=i[o];if(s.left<=e.clientX&&s.right>=e.clientX&&s.top<=e.clientY&&s.bottom>=e.clientY)return!0}return!1}function L2e(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,r;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=Bt.get(n))&&r.ignoreEvent(e))return!1;return!0}const $o=Object.create(null),uo=Object.create(null),iU=Ae.ie&&Ae.ie_version<15||Ae.ios&&Ae.webkit_version<604;function O2e(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),oU(t,n.value)},50)}function k_(t,e,n){for(let r of t.facet(e))n=r(n,t);return n}function oU(t,e){e=k_(t.state,WA,e);let{state:n}=t,r,i=1,o=n.toText(e),s=o.lines==n.selection.ranges.length;if(xS!=null&&n.selection.ranges.every(l=>l.empty)&&xS==o.toString()){let l=-1;r=n.changeByRange(c=>{let u=n.doc.lineAt(c.from);if(u.from==l)return{range:c};l=u.from;let h=n.toText((s?o.line(i++).text:e)+n.lineBreak);return{changes:{from:u.from,insert:h},range:se.cursor(c.from+h.length)}})}else s?r=n.changeByRange(l=>{let c=o.line(i++);return{changes:{from:l.from,to:l.to,insert:c.text},range:se.cursor(l.from+c.length)}}):r=n.replaceSelection(o);t.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}uo.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};$o.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&t.inputState.tabFocusMode!=0&&(t.inputState.tabFocusMode=Date.now()+2e3),!1);uo.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};uo.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};$o.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of t.state.facet(zH))if(n=r(t,e),n)break;if(!n&&e.button==0&&(n=V2e(t,e)),n){let r=!t.hasFocus;t.inputState.startMouseSelection(new P2e(t,e,n,r)),r&&t.observer.ignore(()=>{yH(t.contentDOM);let o=t.root.activeElement;o&&!o.contains(t.contentDOM)&&o.blur()});let i=t.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}return!1};function VP(t,e,n,r){if(r==1)return se.cursor(e,n);if(r==2)return f2e(t.state,e,n);{let i=Pn.find(t.docView,e),o=t.state.doc.lineAt(i?i.posAtEnd:e),s=i?i.posAtStart:o.from,a=i?i.posAtEnd:o.to;return a<t.state.doc.length&&a==o.to&&a++,se.range(s,a)}}let zP=(t,e,n)=>e>=n.top&&e<=n.bottom&&t>=n.left&&t<=n.right;function F2e(t,e,n,r){let i=Pn.find(t.docView,e);if(!i)return 1;let o=e-i.posAtStart;if(o==0)return 1;if(o==i.length)return-1;let s=i.coordsAt(o,-1);if(s&&zP(n,r,s))return-1;let a=i.coordsAt(o,1);return a&&zP(n,r,a)?1:s&&s.bottom>=r?-1:1}function jP(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:F2e(t,n,e.clientX,e.clientY)}}const B2e=Ae.ie&&Ae.ie_version<=11;let $P=null,HP=0,UP=0;function sU(t){if(!B2e)return t.detail;let e=$P,n=UP;return $P=t,UP=Date.now(),HP=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(HP+1)%3:1}function V2e(t,e){let n=jP(t,e),r=sU(e),i=t.state.selection;return{update(o){o.docChanged&&(n.pos=o.changes.mapPos(n.pos),i=i.map(o.changes))},get(o,s,a){let l=jP(t,o),c,u=VP(t,l.pos,l.bias,r);if(n.pos!=l.pos&&!s){let h=VP(t,n.pos,n.bias,r),f=Math.min(h.from,u.from),d=Math.max(h.to,u.to);u=f<u.from?se.range(f,d):se.range(d,f)}return s?i.replaceRange(i.main.extend(u.from,u.to)):a&&r==1&&i.ranges.length>1&&(c=z2e(i,l.pos))?c:a?i.addRange(u):se.create([u])}}}function z2e(t,e){for(let n=0;n<t.ranges.length;n++){let{from:r,to:i}=t.ranges[n];if(r<=e&&i>=e)return se.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}$o.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let i=t.docView.nearest(e.target);if(i&&i.isWidget){let o=i.posAtStart,s=o+i.length;(o>=n.to||s<=n.from)&&(n=se.range(o,s))}}let{inputState:r}=t;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",k_(t.state,qA,t.state.sliceDoc(n.from,n.to))),e.dataTransfer.effectAllowed="copyMove"),!1};$o.dragend=t=>(t.inputState.draggedContent=null,!1);function WP(t,e,n,r){if(n=k_(t.state,WA,n),!n)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:o}=t.inputState,s=r&&o&&M2e(t,e)?{from:o.from,to:o.to}:null,a={from:i,insert:n},l=t.state.changes(s?[s,a]:a);t.focus(),t.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:s?"move.drop":"input.drop"}),t.inputState.draggedContent=null}$o.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let r=Array(n.length),i=0,o=()=>{++i==n.length&&WP(t,e,r.filter(s=>s!=null).join(t.state.lineBreak),!1)};for(let s=0;s<n.length;s++){let a=new FileReader;a.onerror=o,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(r[s]=a.result),o()},a.readAsText(n[s])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return WP(t,e,r,!0),!0}return!1};$o.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=iU?null:e.clipboardData;return n?(oU(t,n.getData("text/plain")||n.getData("text/uri-list")),!0):(O2e(t),!1)};function j2e(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),t.focus()},50)}function $2e(t){let e=[],n=[],r=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),n.push(i));if(!e.length){let i=-1;for(let{from:o}of t.selection.ranges){let s=t.doc.lineAt(o);s.number>i&&(e.push(s.text),n.push({from:s.from,to:Math.min(t.doc.length,s.to+1)})),i=s.number}r=!0}return{text:k_(t,qA,e.join(t.lineBreak)),ranges:n,linewise:r}}let xS=null;$o.copy=$o.cut=(t,e)=>{let{text:n,ranges:r,linewise:i}=$2e(t.state);if(!n&&!i)return!1;xS=i?n:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let o=iU?null:e.clipboardData;return o?(o.clearData(),o.setData("text/plain",n),!0):(j2e(t,n),!1)};const aU=Ia.define();function lU(t,e){let n=[];for(let r of t.facet(HH)){let i=r(t,e);i&&n.push(i)}return n?t.update({effects:n,annotations:aU.of(!0)}):null}function cU(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=lU(t.state,e);n?t.dispatch(n):t.update([])}},10)}uo.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),cU(t)};uo.blur=t=>{t.observer.clearSelectionRange(),cU(t)};uo.compositionstart=uo.compositionupdate=t=>{t.observer.editContext||(t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))};uo.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,Ae.chrome&&Ae.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50))};uo.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};$o.beforeinput=(t,e)=>{var n,r;if(e.inputType=="insertReplacementText"&&t.observer.editContext){let o=(n=e.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain"),s=e.getTargetRanges();if(o&&s.length){let a=s[0],l=t.posAtDOM(a.startContainer,a.startOffset),c=t.posAtDOM(a.endContainer,a.endOffset);return JA(t,{from:l,to:c,insert:t.state.toText(o)},null),!0}}let i;if(Ae.chrome&&Ae.android&&(i=nU.find(o=>o.inputType==e.inputType))&&(t.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let o=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>o+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return Ae.ios&&e.inputType=="deleteContentForward"&&t.observer.flushSoon(),Ae.safari&&e.inputType=="insertText"&&t.inputState.composing>=0&&setTimeout(()=>uo.compositionend(t,e),20),!1};const qP=new Set;function H2e(t){qP.has(t)||(qP.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const KP=["pre-wrap","normal","pre-line","break-spaces"];let Af=!1;function GP(){Af=!1}class U2e{constructor(e){this.lineWrapping=e,this.doc=Rt.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return KP.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(n=!0,this.heightSamples[Math.floor(i*10)]=!0)}return n}refresh(e,n,r,i,o,s){let a=KP.indexOf(e)>-1,l=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=a;if(this.lineWrapping=a,this.lineHeight=n,this.charWidth=r,this.textHeight=i,this.lineLength=o,l){this.heightSamples={};for(let c=0;c<s.length;c++){let u=s[c];u<0?c++:this.heightSamples[Math.floor(u*10)]=!0}}return l}}class W2e{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class ls{constructor(e,n,r,i,o){this.from=e,this.length=n,this.top=r,this.height=i,this._content=o}get type(){return typeof this._content=="number"?Jr.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Zl?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new ls(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var Qt=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(Qt||(Qt={}));const Q1=.001;class Qr{constructor(e,n,r=2){this.length=e,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>Q1&&(Af=!0),this.height=e)}replace(e,n,r){return Qr.of(r)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,r,i){let o=this,s=r.doc;for(let a=i.length-1;a>=0;a--){let{fromA:l,toA:c,fromB:u,toB:h}=i[a],f=o.lineAt(l,Qt.ByPosNoHeight,r.setDoc(n),0,0),d=f.to>=c?f:o.lineAt(c,Qt.ByPosNoHeight,r,0,0);for(h+=d.to-c,c=d.to;a>0&&f.from<=i[a-1].toA;)l=i[a-1].fromA,u=i[a-1].fromB,a--,l<f.from&&(f=o.lineAt(l,Qt.ByPosNoHeight,r,0,0));u+=f.from-l,l=f.from;let p=QA.build(r.setDoc(s),e,u,h);o=Tv(o,o.replace(l,c,p))}return o.updateHeight(r,0)}static empty(){return new ki(0,0)}static of(e){if(e.length==1)return e[0];let n=0,r=e.length,i=0,o=0;for(;;)if(n==r)if(i>o*2){let a=e[n-1];a.break?e.splice(--n,1,a.left,null,a.right):e.splice(--n,1,a.left,a.right),r+=1+a.break,i-=a.size}else if(o>i*2){let a=e[r];a.break?e.splice(r,1,a.left,null,a.right):e.splice(r,1,a.left,a.right),r+=2+a.break,o-=a.size}else break;else if(i<o){let a=e[n++];a&&(i+=a.size)}else{let a=e[--r];a&&(o+=a.size)}let s=0;return e[n-1]==null?(s=1,n--):e[n]==null&&(s=1,r++),new q2e(Qr.of(e.slice(0,n)),s,Qr.of(e.slice(r)))}}function Tv(t,e){return t==e?t:(t.constructor!=e.constructor&&(Af=!0),e)}Qr.prototype.size=1;class uU extends Qr{constructor(e,n,r){super(e,n),this.deco=r}blockAt(e,n,r,i){return new ls(i,this.length,r,this.height,this.deco||0)}lineAt(e,n,r,i,o){return this.blockAt(0,r,i,o)}forEachLine(e,n,r,i,o,s){e<=o+this.length&&n>=o&&s(this.blockAt(0,r,i,o))}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more&&this.setHeight(i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class ki extends uU{constructor(e,n){super(e,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,n,r,i){return new ls(i,this.length,r,this.height,this.breaks)}replace(e,n,r){let i=r[0];return r.length==1&&(i instanceof ki||i instanceof or&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof or?i=new ki(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):Qr.of(r)}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more?this.setHeight(i.heights[i.index++]):(r||this.outdated)&&this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class or extends Qr{constructor(e){super(e,0)}heightMetrics(e,n){let r=e.doc.lineAt(n).number,i=e.doc.lineAt(n+this.length).number,o=i-r+1,s,a=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*o);s=l/o,this.length>o+1&&(a=(this.height-l)/(this.length-o-1))}else s=this.height/o;return{firstLine:r,lastLine:i,perLine:s,perChar:a}}blockAt(e,n,r,i){let{firstLine:o,lastLine:s,perLine:a,perChar:l}=this.heightMetrics(n,i);if(n.lineWrapping){let c=i+(e<n.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),u=n.doc.lineAt(c),h=a+u.length*l,f=Math.max(r,e-h/2);return new ls(u.from,u.length,f,h,0)}else{let c=Math.max(0,Math.min(s-o,Math.floor((e-r)/a))),{from:u,length:h}=n.doc.line(o+c);return new ls(u,h,r+a*c,a,0)}}lineAt(e,n,r,i,o){if(n==Qt.ByHeight)return this.blockAt(e,r,i,o);if(n==Qt.ByPosNoHeight){let{from:d,to:p}=r.doc.lineAt(e);return new ls(d,p-d,0,0,0)}let{firstLine:s,perLine:a,perChar:l}=this.heightMetrics(r,o),c=r.doc.lineAt(e),u=a+c.length*l,h=c.number-s,f=i+a*h+l*(c.from-o-h);return new ls(c.from,c.length,Math.max(i,Math.min(f,i+this.height-u)),u,0)}forEachLine(e,n,r,i,o,s){e=Math.max(e,o),n=Math.min(n,o+this.length);let{firstLine:a,perLine:l,perChar:c}=this.heightMetrics(r,o);for(let u=e,h=i;u<=n;){let f=r.doc.lineAt(u);if(u==e){let p=f.number-a;h+=l*p+c*(e-o-p)}let d=l+c*f.length;s(new ls(f.from,f.length,h,d,0)),h+=d,u=f.to+1}}replace(e,n,r){let i=this.length-n;if(i>0){let o=r[r.length-1];o instanceof or?r[r.length-1]=new or(o.length+i):r.push(null,new or(i-1))}if(e>0){let o=r[0];o instanceof or?r[0]=new or(e+o.length):r.unshift(new or(e-1),null)}return Qr.of(r)}decomposeLeft(e,n){n.push(new or(e-1),null)}decomposeRight(e,n){n.push(null,new or(this.length-e-1))}updateHeight(e,n=0,r=!1,i){let o=n+this.length;if(i&&i.from<=n+this.length&&i.more){let s=[],a=Math.max(n,i.from),l=-1;for(i.from>n&&s.push(new or(i.from-n-1).updateHeight(e,n));a<=o&&i.more;){let u=e.doc.lineAt(a).length;s.length&&s.push(null);let h=i.heights[i.index++];l==-1?l=h:Math.abs(h-l)>=Q1&&(l=-2);let f=new ki(u,h);f.outdated=!1,s.push(f),a+=u+1}a<=o&&s.push(null,new or(o-a).updateHeight(e,a));let c=Qr.of(s);return(l<0||Math.abs(c.height-this.height)>=Q1||Math.abs(l-this.heightMetrics(e,n).perLine)>=Q1)&&(Af=!0),Tv(this,c)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class q2e extends Qr{constructor(e,n,r){super(e.length+n+r.length,e.height+r.height,n|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,n,r,i){let o=r+this.left.height;return e<o?this.left.blockAt(e,n,r,i):this.right.blockAt(e,n,o,i+this.left.length+this.break)}lineAt(e,n,r,i,o){let s=i+this.left.height,a=o+this.left.length+this.break,l=n==Qt.ByHeight?e<s:e<a,c=l?this.left.lineAt(e,n,r,i,o):this.right.lineAt(e,n,r,s,a);if(this.break||(l?c.to<a:c.from>a))return c;let u=n==Qt.ByPosNoHeight?Qt.ByPosNoHeight:Qt.ByPos;return l?c.join(this.right.lineAt(a,u,r,s,a)):this.left.lineAt(a,u,r,i,o).join(c)}forEachLine(e,n,r,i,o,s){let a=i+this.left.height,l=o+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,n,r,i,o,s),n>=l&&this.right.forEachLine(e,n,r,a,l,s);else{let c=this.lineAt(l,Qt.ByPos,r,i,o);e<c.from&&this.left.forEachLine(e,c.from-1,r,i,o,s),c.to>=e&&c.from<=n&&s(c),n>c.to&&this.right.forEachLine(c.to+1,n,r,a,l,s)}}replace(e,n,r){let i=this.left.length+this.break;if(n<i)return this.balanced(this.left.replace(e,n,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,n-i,r));let o=[];e>0&&this.decomposeLeft(e,o);let s=o.length;for(let a of r)o.push(a);if(e>0&&JP(o,s-1),n<this.length){let a=o.length;this.decomposeRight(n,o),JP(o,a)}return Qr.of(o)}decomposeLeft(e,n){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(r++,e>=r&&n.push(null)),e>r&&this.right.decomposeLeft(e-r,n)}decomposeRight(e,n){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,n);e<r&&this.left.decomposeRight(e,n),this.break&&e<i&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?Qr.of(this.break?[e,null,n]:[e,n]):(this.left=Tv(this.left,e),this.right=Tv(this.right,n),this.setHeight(e.height+n.height),this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,r=!1,i){let{left:o,right:s}=this,a=n+o.length+this.break,l=null;return i&&i.from<=n+o.length&&i.more?l=o=o.updateHeight(e,n,r,i):o.updateHeight(e,n,r),i&&i.from<=a+s.length&&i.more?l=s=s.updateHeight(e,a,r,i):s.updateHeight(e,a,r),l?this.balanced(o,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function JP(t,e){let n,r;t[e]==null&&(n=t[e-1])instanceof or&&(r=t[e+1])instanceof or&&t.splice(e-1,3,new or(n.length+1+r.length))}const K2e=5;class QA{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof ki?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new ki(r-this.pos,-1)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,r){if(e<n||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,o=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let s=n-e;r.block?this.addBlock(new uU(s,i,r)):(s||o||i>=K2e)&&this.addLineDeco(i,o,s)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new ki(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,n){let r=new or(n-e);return this.oracle.doc.lineAt(e).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof ki)return e;let n=new ki(0,-1);return this.nodes.push(n),n}addBlock(e){this.enterLine();let n=e.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,n&&n.endSide>0&&(this.covering=e)}addLineDeco(e,n,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=n,this.writtenTo=this.pos=this.pos+r}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof ki)&&!this.isCovered?this.nodes.push(new ki(0,-1)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof ki&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,n,r,i){let o=new QA(r,e);return bt.spans(n,r,i,o,0),o.finish(r)}}function G2e(t,e,n){let r=new J2e;return bt.compare(t,e,n,r,0),r.changes}class J2e{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,r,i){(e<n||r&&r.heightRelevant||i&&i.heightRelevant)&&cS(e,n,this.changes,5)}}function Q2e(t,e){let n=t.getBoundingClientRect(),r=t.ownerDocument,i=r.defaultView||window,o=Math.max(0,n.left),s=Math.min(i.innerWidth,n.right),a=Math.max(0,n.top),l=Math.min(i.innerHeight,n.bottom);for(let c=t.parentNode;c&&c!=r.body;)if(c.nodeType==1){let u=c,h=window.getComputedStyle(u);if((u.scrollHeight>u.clientHeight||u.scrollWidth>u.clientWidth)&&h.overflow!="visible"){let f=u.getBoundingClientRect();o=Math.max(o,f.left),s=Math.min(s,f.right),a=Math.max(a,f.top),l=Math.min(c==t.parentNode?i.innerHeight:l,f.bottom)}c=h.position=="absolute"||h.position=="fixed"?u.offsetParent:u.parentNode}else if(c.nodeType==11)c=c.host;else break;return{left:o-n.left,right:Math.max(o,s)-n.left,top:a-(n.top+e),bottom:Math.max(a,l)-(n.top+e)}}function Y2e(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class Z2{constructor(e,n,r){this.from=e,this.to=n,this.size=r}static same(e,n){if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=n[r];if(i.from!=o.from||i.to!=o.to||i.size!=o.size)return!1}return!0}draw(e,n){return Fe.replace({widget:new X2e(this.size*(n?e.scaleY:e.scaleX),n)}).range(this.from,this.to)}}class X2e extends Ra{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class QP{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=YP,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Xt.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(KA).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new U2e(n),this.stateDeco=e.facet(M0).filter(r=>typeof r!="function"),this.heightMap=Qr.empty().applyChanges(this.stateDeco,Rt.empty,this.heightOracle.setDoc(e.doc),[new so(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Fe.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let i=r?n.head:n.anchor;if(!e.some(({from:o,to:s})=>i>=o&&i<=s)){let{from:o,to:s}=this.lineBlockAt(i);e.push(new Yg(o,s))}}return this.viewports=e.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?YP:new YA(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(rp(e,this.scaler))})}update(e,n=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(M0).filter(u=>typeof u!="function");let i=e.changedRanges,o=so.extendWithRanges(i,G2e(r,this.stateDeco,e?e.changes:zn.empty(this.state.doc.length))),s=this.heightMap.height,a=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);GP(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),o),(this.heightMap.height!=s||Af)&&(e.flags|=2),a?(this.scrollAnchorPos=e.changes.mapPos(a.from,-1),this.scrollAnchorHeight=a.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<l.from||n.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,n));let c=l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,e.flags|=this.updateForViewport(),(c||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(WH)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,r=window.getComputedStyle(n),i=this.heightOracle,o=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?Xt.RTL:Xt.LTR;let s=this.heightOracle.mustRefreshForWrapping(o),a=n.getBoundingClientRect(),l=s||this.mustMeasureContent||this.contentDOMHeight!=a.height;this.contentDOMHeight=a.height,this.mustMeasureContent=!1;let c=0,u=0;if(a.width&&a.height){let{scaleX:C,scaleY:S}=vH(n,a);(C>.005&&Math.abs(this.scaleX-C)>.005||S>.005&&Math.abs(this.scaleY-S)>.005)&&(this.scaleX=C,this.scaleY=S,c|=8,s=l=!0)}let h=(parseInt(r.paddingTop)||0)*this.scaleY,f=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=h||this.paddingBottom!=f)&&(this.paddingTop=h,this.paddingBottom=f,c|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,c|=8);let d=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=d&&(this.scrollAnchorHeight=-1,this.scrollTop=d),this.scrolledToBottom=wH(e.scrollDOM);let p=(this.printing?Y2e:Q2e)(n,this.paddingTop),m=p.top-this.pixelViewport.top,v=p.bottom-this.pixelViewport.bottom;this.pixelViewport=p;let x=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(x!=this.inView&&(this.inView=x,x&&(l=!0)),!this.inView&&!this.scrollTarget)return 0;let y=a.width;if((this.contentDOMWidth!=y||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=a.width,this.editorHeight=e.scrollDOM.clientHeight,c|=8),l){let C=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(C)&&(s=!0),s||i.lineWrapping&&Math.abs(y-this.contentDOMWidth)>i.charWidth){let{lineHeight:S,charWidth:T,textHeight:b}=e.docView.measureTextSize();s=S>0&&i.refresh(o,S,T,b,y/T,C),s&&(e.docView.minWidth=0,c|=8)}m>0&&v>0?u=Math.max(m,v):m<0&&v<0&&(u=Math.min(m,v)),GP();for(let S of this.viewports){let T=S.from==this.viewport.from?C:e.docView.measureVisibleLineHeights(S);this.heightMap=(s?Qr.empty().applyChanges(this.stateDeco,Rt.empty,this.heightOracle,[new so(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,s,new W2e(S.from,T))}Af&&(c|=2)}let _=!this.viewportIsAppropriate(this.viewport,u)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return _&&(c&2&&(c|=this.updateScaler()),this.viewport=this.getViewport(u,this.scrollTarget),c|=this.updateForViewport()),(c&2||_)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(s?[]:this.lineGaps,e)),c|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),c}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,o=this.heightOracle,{visibleTop:s,visibleBottom:a}=this,l=new Yg(i.lineAt(s-r*1e3,Qt.ByHeight,o,0,0).from,i.lineAt(a+(1-r)*1e3,Qt.ByHeight,o,0,0).to);if(n){let{head:c}=n.range;if(c<l.from||c>l.to){let u=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),h=i.lineAt(c,Qt.ByPos,o,0,0),f;n.y=="center"?f=(h.top+h.bottom)/2-u/2:n.y=="start"||n.y=="nearest"&&c<l.from?f=h.top:f=h.bottom-u,l=new Yg(i.lineAt(f-1e3/2,Qt.ByHeight,o,0,0).from,i.lineAt(f+u+1e3/2,Qt.ByHeight,o,0,0).to)}}return l}mapViewport(e,n){let r=n.mapPos(e.from,-1),i=n.mapPos(e.to,1);return new Yg(this.heightMap.lineAt(r,Qt.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,Qt.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,Qt.ByPos,this.heightOracle,0,0),{bottom:o}=this.heightMap.lineAt(n,Qt.ByPos,this.heightOracle,0,0),{visibleTop:s,visibleBottom:a}=this;return(e==0||i<=s-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||o>=a+Math.max(10,Math.min(r,250)))&&i>s-2*1e3&&o<a+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let r=[];for(let i of e)n.touchesRange(i.from,i.to)||r.push(new Z2(n.mapPos(i.from),n.mapPos(i.to),i.size));return r}ensureLineGaps(e,n){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,o=i>>1,s=i<<1;if(this.defaultTextDirection!=Xt.LTR&&!r)return[];let a=[],l=(u,h,f,d)=>{if(h-u<o)return;let p=this.state.selection.main,m=[p.from];p.empty||m.push(p.to);for(let x of m)if(x>u&&x<h){l(u,x-10,f,d),l(x+10,h,f,d);return}let v=eCe(e,x=>x.from>=f.from&&x.to<=f.to&&Math.abs(x.from-u)<o&&Math.abs(x.to-h)<o&&!m.some(y=>x.from<y&&x.to>y));if(!v){if(h<f.to&&n&&r&&n.visibleRanges.some(x=>x.from<=h&&x.to>=h)){let x=n.moveToLineBoundary(se.cursor(h),!1,!0).head;x>u&&(h=x)}v=new Z2(u,h,this.gapSize(f,u,h,d))}a.push(v)},c=u=>{if(u.length<s||u.type!=Jr.Text)return;let h=Z2e(u.from,u.to,this.stateDeco);if(h.total<s)return;let f=this.scrollTarget?this.scrollTarget.range.head:null,d,p;if(r){let m=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,v,x;if(f!=null){let y=Zg(h,f),_=((this.visibleBottom-this.visibleTop)/2+m)/u.height;v=y-_,x=y+_}else v=(this.visibleTop-u.top-m)/u.height,x=(this.visibleBottom-u.top+m)/u.height;d=Xg(h,v),p=Xg(h,x)}else{let m=h.total*this.heightOracle.charWidth,v=i*this.heightOracle.charWidth,x,y;if(f!=null){let _=Zg(h,f),C=((this.pixelViewport.right-this.pixelViewport.left)/2+v)/m;x=_-C,y=_+C}else x=(this.pixelViewport.left-v)/m,y=(this.pixelViewport.right+v)/m;d=Xg(h,x),p=Xg(h,y)}d>u.from&&l(u.from,d,u,h),p<u.to&&l(p,u.to,u,h)};for(let u of this.viewportLines)Array.isArray(u.type)?u.type.forEach(c):c(u);return a}gapSize(e,n,r,i){let o=Zg(i,r)-Zg(i,n);return this.heightOracle.lineWrapping?e.height*o:i.total*this.heightOracle.charWidth*o}updateLineGaps(e){Z2.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Fe.set(e.map(n=>n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let n=[];bt.spans(e,this.viewport.from,this.viewport.to,{span(i,o){n.push({from:i,to:o})},point(){}},20);let r=n.length!=this.visibleRanges.length||this.visibleRanges.some((i,o)=>i.from!=n[o].from||i.to!=n[o].to);return this.visibleRanges=n,r?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||rp(this.heightMap.lineAt(e,Qt.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(n=>n.top<=e&&n.bottom>=e)||rp(this.heightMap.lineAt(this.scaler.fromDOM(e),Qt.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let n=this.lineBlockAtHeight(e+8);return n.from>=this.viewport.from||this.viewportLines[0].top-e>200?n:this.viewportLines[0]}elementAtHeight(e){return rp(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}let Yg=class{constructor(e,n){this.from=e,this.to=n}};function Z2e(t,e,n){let r=[],i=t,o=0;return bt.spans(n,t,e,{span(){},point(s,a){s>i&&(r.push({from:i,to:s}),o+=s-i),i=a}},20),i<e&&(r.push({from:i,to:e}),o+=e-i),{total:o,ranges:r}}function Xg({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let i=0;;i++){let{from:o,to:s}=e[i],a=s-o;if(r<=a)return o+r;r-=a}}function Zg(t,e){let n=0;for(let{from:r,to:i}of t.ranges){if(e<=i){n+=e-r;break}n+=i-r}return n/t.total}function eCe(t,e){for(let n of t)if(e(n))return n}const YP={toDOM(t){return t},fromDOM(t){return t},scale:1,eq(t){return t==this}};class YA{constructor(e,n,r){let i=0,o=0,s=0;this.viewports=r.map(({from:a,to:l})=>{let c=n.lineAt(a,Qt.ByPos,e,0,0).top,u=n.lineAt(l,Qt.ByPos,e,0,0).bottom;return i+=u-c,{from:a,to:l,top:c,bottom:u,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(n.height-i);for(let a of this.viewports)a.domTop=s+(a.top-o)*this.scale,s=a.domBottom=a.domTop+(a.bottom-a.top),o=a.bottom}toDOM(e){for(let n=0,r=0,i=0;;n++){let o=n<this.viewports.length?this.viewports[n]:null;if(!o||e<o.top)return i+(e-r)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);r=o.bottom,i=o.domBottom}}fromDOM(e){for(let n=0,r=0,i=0;;n++){let o=n<this.viewports.length?this.viewports[n]:null;if(!o||e<o.domTop)return r+(e-i)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);r=o.bottom,i=o.domBottom}}eq(e){return e instanceof YA?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((n,r)=>n.from==e.viewports[r].from&&n.to==e.viewports[r].to):!1}}function rp(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new ls(t.from,t.length,n,r-n,Array.isArray(t._content)?t._content.map(i=>rp(i,e)):t._content)}const e1=ke.define({combine:t=>t.join(" ")}),vS=ke.define({combine:t=>t.indexOf(!0)>-1}),yS=Yl.newName(),hU=Yl.newName(),fU=Yl.newName(),dU={"&light":"."+hU,"&dark":"."+fU};function _S(t,e,n){return new Yl(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return t;if(!n||!n[i])throw new RangeError(`Unsupported selector: ${i}`);return n[i]}):t+" "+r}})}const tCe=_S("."+yS,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},dU),nCe={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},eC=Ae.ie&&Ae.ie_version<=11;class rCe{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new jwe,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let r of n)this.queue.push(r);(Ae.ie&&Ae.ie_version<=11||Ae.ios&&e.composing)&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&e.constructor.EDIT_CONTEXT!==!1&&!(Ae.chrome&&Ae.chrome_version<126)&&(this.editContext=new oCe(e),e.state.facet(al)&&(e.contentDOM.editContext=this.editContext.editContext)),eC&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,r)=>n!=e[r]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(al)?r.root.activeElement!=this.dom:!G1(r.dom,i))return;let o=i.anchorNode&&r.docView.nearest(i.anchorNode);if(o&&o.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(Ae.ie&&Ae.ie_version<=11||Ae.android&&Ae.chrome)&&!r.state.selection.main.empty&&i.focusNode&&Np(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=P0(e.root);if(!n)return!1;let r=Ae.safari&&e.root.nodeType==11&&Fwe(this.dom.ownerDocument)==this.dom&&iCe(this.view,n)||n;if(!r||this.selectionRange.eq(r))return!1;let i=G1(this.dom,r);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&Hwe(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,nCe),eC&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),eC&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var r;if(!this.delayedAndroidKey){let i=()=>{let o=this.delayedAndroidKey;o&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=o.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&o.force&&Yh(this.dom,o.key,o.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let n=-1,r=-1,i=!1;for(let o of e){let s=this.readMutation(o);s&&(s.typeOver&&(i=!0),n==-1?{from:n,to:r}=s:(n=Math.min(s.from,n),r=Math.max(s.to,r)))}return{from:n,to:r,typeOver:i}}readChange(){let{from:e,to:n,typeOver:r}=this.processRecords(),i=this.selectionChanged&&G1(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let o=new C2e(this.view,e,n,r);return this.view.docView.domChanged={newSel:o.newSel?o.newSel.main:null},o}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return this.view.requestMeasure(),!1;let r=this.view.state,i=tU(this.view,n);return this.view.state==r&&(n.domChanged||n.newSel&&!n.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),i}readMutation(e){let n=this.view.docView.nearest(e.target);if(!n||n.ignoreMutation(e))return null;if(n.markDirty(e.type=="attributes"),e.type=="attributes"&&(n.flags|=4),e.type=="childList"){let r=XP(n,e.previousSibling||e.target.previousSibling,-1),i=XP(n,e.nextSibling||e.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:i?n.posBefore(i):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(al)!=e.state.facet(al)&&(e.view.contentDOM.editContext=e.state.facet(al)?this.editContext.editContext:null))}destroy(){var e,n,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function XP(t,e,n){for(;e;){let r=Bt.get(e);if(r&&r.parent==t)return r;let i=e.parentNode;e=i!=t.dom?i:n>0?e.nextSibling:e.previousSibling}return null}function ZP(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,o=e.endOffset,s=t.docView.domAtPos(t.state.selection.main.anchor);return Np(s.node,s.offset,i,o)&&([n,r,i,o]=[i,o,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}}function iCe(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return ZP(t,i)}let n=null;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",r,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",r,!0),n?ZP(t,n):null}class oCe{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.resetRange(e.state);let n=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let{anchor:i}=e.state.selection.main,o={from:this.toEditorPos(r.updateRangeStart),to:this.toEditorPos(r.updateRangeEnd),insert:Rt.of(r.text.split(`
`))};o.from==this.from&&i<this.from?o.from=i:o.to==this.to&&i>this.to&&(o.to=i),!(o.from==o.to&&!o.insert.length)&&(this.pendingContextChange=o,e.state.readOnly||JA(e,o,se.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd))),this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)))},this.handlers.characterboundsupdate=r=>{let i=[],o=null;for(let s=this.toEditorPos(r.rangeStart),a=this.toEditorPos(r.rangeEnd);s<a;s++){let l=e.coordsForChar(s);o=l&&new DOMRect(l.left,l.top,l.right-l.left,l.bottom-l.top)||o||new DOMRect,i.push(o)}n.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let o of r.getTextFormats()){let s=o.underlineStyle,a=o.underlineThickness;if(s!="None"&&a!="None"){let l=`text-decoration: underline ${s=="Dashed"?"dashed ":s=="Squiggle"?"wavy ":""}${a=="Thin"?1:2}px`;i.push(Fe.mark({attributes:{style:l}}).range(this.toEditorPos(o.rangeStart),this.toEditorPos(o.rangeEnd)))}}e.dispatch({effects:KH.of(Fe.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{e.inputState.composing=-1,e.inputState.compositionFirstChange=null};for(let r in this.handlers)n.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=P0(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let n=0,r=!1,i=this.pendingContextChange;return e.changes.iterChanges((o,s,a,l,c)=>{if(r)return;let u=c.length-(s-o);if(i&&s>=i.to)if(i.from==o&&i.to==s&&i.insert.eq(c)){i=this.pendingContextChange=null,n+=u,this.to+=u;return}else i=null,this.revertPending(e.state);if(o+=n,s+=n,s<=this.from)this.from+=u,this.to+=u;else if(o<this.to){if(o<this.from||s>this.to||this.to-this.from+c.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(o),this.toContextPos(s),c.toString()),this.to+=u}n+=u}),i&&!r&&this.revertPending(e.state),!r}update(e){let n=this.pendingContextChange;!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.resetRange(e.state),this.editContext.updateText(0,this.editContext.text.length,e.state.doc.sliceString(this.from,this.to)),this.setSelection(e.state)):(e.docChanged||e.selectionSet||n)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:n}=e.selection.main;this.from=Math.max(0,n-1e4),this.to=Math.min(e.doc.length,n+1e4)}revertPending(e){let n=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(n.from),this.toContextPos(n.from+n.insert.length),e.doc.sliceString(n.from,n.to))}setSelection(e){let{main:n}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,n.anchor))),i=this.toContextPos(n.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(r,i)}rangeIsValid(e){let{head:n}=e.selection.main;return!(this.from>0&&n-this.from<500||this.to<e.doc.length&&this.to-n<500||this.to-this.from>1e4*3)}toEditorPos(e){return e+this.from}toContextPos(e){return e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class be{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var n;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(i=>i.forEach(o=>r(o,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||$we(e.parent)||document,this.viewState=new QP(e.state||_t.create(e)),e.scrollTo&&e.scrollTo.is(Gg)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(ep).map(i=>new Q2(i));for(let i of this.plugins)i.update(this);this.observer=new rCe(this),this.inputState=new T2e(this),this.inputState.ensureHandlers(this.plugins),this.docView=new PP(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((n=document.fonts)===null||n===void 0)&&n.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...e){let n=e.length==1&&e[0]instanceof Mn?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(n,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r=!1,i,o=this.state;for(let f of e){if(f.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=f.state}if(this.destroyed){this.viewState.state=o;return}let s=this.hasFocus,a=0,l=null;e.some(f=>f.annotation(aU))?(this.inputState.notifiedFocused=s,a=1):s!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=s,l=lU(o,s),l||(a=1));let c=this.observer.delayedAndroidKey,u=null;if(c?(this.observer.clearDelayedAndroidKey(),u=this.observer.readChange(),(u&&!this.state.doc.eq(o.doc)||!this.state.selection.eq(o.selection))&&(u=null)):this.observer.clear(),o.facet(_t.phrases)!=this.state.facet(_t.phrases))return this.setState(o);i=kv.create(this,o,e),i.flags|=a;let h=this.viewState.scrollTarget;try{this.updateState=2;for(let f of e){if(h&&(h=h.map(f.changes)),f.scrollIntoView){let{main:d}=f.state.selection;h=new Xh(d.empty?d:se.cursor(d.head,d.head>d.anchor?-1:1))}for(let d of f.effects)d.is(Gg)&&(h=d.value.clip(this.state))}this.viewState.update(i,h),this.bidiCache=Av.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),n=this.docView.update(i),this.state.facet(tp)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(f=>f.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(e1)!=i.state.facet(e1)&&(this.viewState.mustMeasureContent=!0),(n||r||h||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!i.empty)for(let f of this.state.facet(pS))try{f(i)}catch(d){hi(this.state,d,"update listener")}(l||u)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),u&&!tU(this,u)&&c.force&&Yh(this.contentDOM,c.key,c.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new QP(e),this.plugins=e.facet(ep).map(r=>new Q2(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new PP(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(ep),r=e.state.facet(ep);if(n!=r){let i=[];for(let o of r){let s=n.indexOf(o);if(s<0)i.push(new Q2(o));else{let a=this.plugins[s];a.mustUpdate=e,i.push(a)}}for(let o of this.plugins)o.mustUpdate!=e&&o.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);n!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let n=e.value;if(n&&n.docViewUpdate)try{n.docViewUpdate(this)}catch(r){hi(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:o,scrollAnchorHeight:s}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(s=-1),this.viewState.scrollAnchorHeight=-1;try{for(let a=0;;a++){if(s<0)if(wH(r))o=-1,s=this.viewState.heightMap.height;else{let d=this.viewState.scrollAnchorAt(i);o=d.from,s=d.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(a>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let c=[];l&4||([this.measureRequests,c]=[c,this.measureRequests]);let u=c.map(d=>{try{return d.read(this)}catch(p){return hi(this.state,p),eD}}),h=kv.create(this,this.state,[]),f=!1;h.flags|=l,n?n.flags|=l:n=h,this.updateState=2,h.empty||(this.updatePlugins(h),this.inputState.update(h),this.updateAttrs(),f=this.docView.update(h),f&&this.docViewUpdate());for(let d=0;d<c.length;d++)if(u[d]!=eD)try{let p=c[d];p.write&&p.write(u[d],this)}catch(p){hi(this.state,p)}if(f&&this.docView.updateSelection(!0),!h.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,s=-1;continue}else{let p=(o<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(o).top)-s;if(p>1||p<-1){i=i+p,r.scrollTop=i/this.scaleY,s=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let a of this.state.facet(pS))a(n)}get themeClasses(){return yS+" "+(this.state.facet(vS)?fU:hU)+" "+this.state.facet(e1)}updateAttrs(){let e=tD(this,GH,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(al)?"true":"false",class:"cm-content",style:`${Ae.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),tD(this,KA,n);let r=this.observer.ignore(()=>{let i=lS(this.contentDOM,this.contentAttrs,n),o=lS(this.dom,this.editorAttrs,e);return i||o});return this.editorAttrs=e,this.contentAttrs=n,r}showAnnouncements(e){let n=!0;for(let r of e)for(let i of r.effects)if(i.is(be.announce)){n&&(this.announceDOM.textContent=""),n=!1;let o=this.announceDOM.appendChild(document.createElement("div"));o.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(tp);let e=this.state.facet(be.cspNonce);Yl.mount(this.root,this.styleModules.concat(tCe).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.spec!=e)&&this.pluginMap.set(e,n=this.plugins.find(r=>r.spec==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,r){return X2(this,e,OP(this,e,n,r))}moveByGroup(e,n){return X2(this,e,OP(this,e,n,r=>v2e(this,e.head,r)))}visualLineSide(e,n){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),o=r[n?r.length-1:0];return se.cursor(o.side(n,i)+e.from,o.forward(!n,i)?1:-1)}moveToLineBoundary(e,n,r=!0){return x2e(this,e,n,r)}moveVertically(e,n,r){return X2(this,e,y2e(this,e,n,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){return this.readMeasured(),eU(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),o=this.bidiSpans(i),s=o[vl.find(o,e-i.from,-1,n)];return E_(r,s.dir==Xt.LTR==n>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(UH)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>sCe)return OH(e.length);let n=this.textDirectionAt(e.from),r;for(let o of this.bidiCache)if(o.from==e.from&&o.dir==n&&(o.fresh||LH(o.isolates,r=RP(this,e))))return o.order;r||(r=RP(this,e));let i=t2e(e.text,n,r);return this.bidiCache.push(new Av(e.from,e.to,n,r,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||Ae.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{yH(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return Gg.of(new Xh(typeof e=="number"?se.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:n}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return Gg.of(new Xh(se.cursor(r.from),"start","start",r.top-e,n,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return Nn.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Nn.define(()=>({}),{eventObservers:e})}static theme(e,n){let r=Yl.newName(),i=[e1.of(r),tp.of(_S(`.${r}`,e))];return n&&n.dark&&i.push(vS.of(!0)),i}static baseTheme(e){return pc.lowest(tp.of(_S("."+yS,e,dU)))}static findFromDOM(e){var n;let r=e.querySelector(".cm-content"),i=r&&Bt.get(r)||Bt.get(e);return((n=i==null?void 0:i.rootView)===null||n===void 0?void 0:n.view)||null}}be.styleModule=tp;be.inputHandler=$H;be.clipboardInputFilter=WA;be.clipboardOutputFilter=qA;be.scrollHandler=qH;be.focusChangeEffect=HH;be.perLineTextDirection=UH;be.exceptionSink=jH;be.updateListener=pS;be.editable=al;be.mouseSelectionStyle=zH;be.dragMovesSelection=VH;be.clickAddsSelectionRange=BH;be.decorations=M0;be.outerDecorations=JH;be.atomicRanges=GA;be.bidiIsolatedRanges=QH;be.scrollMargins=YH;be.darkTheme=vS;be.cspNonce=ke.define({combine:t=>t.length?t[0]:""});be.contentAttributes=KA;be.editorAttributes=GH;be.lineWrapping=be.contentAttributes.of({class:"cm-lineWrapping"});be.announce=et.define();const sCe=4096,eD={};class Av{constructor(e,n,r,i,o,s){this.from=e,this.to=n,this.dir=r,this.isolates=i,this.fresh=o,this.order=s}static update(e,n){if(n.empty&&!e.some(o=>o.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:Xt.LTR;for(let o=Math.max(0,e.length-10);o<e.length;o++){let s=e[o];s.dir==i&&!n.touchesRange(s.from,s.to)&&r.push(new Av(n.mapPos(s.from,1),n.mapPos(s.to,-1),s.dir,s.isolates,!1,s.order))}return r}}function tD(t,e,n){for(let r=t.state.facet(e),i=r.length-1;i>=0;i--){let o=r[i],s=typeof o=="function"?o(t):o;s&&aS(s,n)}return n}const aCe=Ae.mac?"mac":Ae.windows?"win":Ae.linux?"linux":"key";function lCe(t,e){const n=t.split(/-(?!$)/);let r=n[n.length-1];r=="Space"&&(r=" ");let i,o,s,a;for(let l=0;l<n.length-1;++l){const c=n[l];if(/^(cmd|meta|m)$/i.test(c))a=!0;else if(/^a(lt)?$/i.test(c))i=!0;else if(/^(c|ctrl|control)$/i.test(c))o=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))e=="mac"?a=!0:o=!0;else throw new Error("Unrecognized modifier name: "+c)}return i&&(r="Alt-"+r),o&&(r="Ctrl-"+r),a&&(r="Meta-"+r),s&&(r="Shift-"+r),r}function t1(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const cCe=pc.default(be.domEventHandlers({keydown(t,e){return mU(pU(e.state),t,e,"editor")}})),T_=ke.define({enables:cCe}),nD=new WeakMap;function pU(t){let e=t.facet(T_),n=nD.get(e);return n||nD.set(e,n=fCe(e.reduce((r,i)=>r.concat(i),[]))),n}function uCe(t,e,n){return mU(pU(t.state),e,t,n)}let ll=null;const hCe=4e3;function fCe(t,e=aCe){let n=Object.create(null),r=Object.create(null),i=(s,a)=>{let l=r[s];if(l==null)r[s]=a;else if(l!=a)throw new Error("Key binding "+s+" is used both as a regular binding and as a multi-stroke prefix")},o=(s,a,l,c,u)=>{var h,f;let d=n[s]||(n[s]=Object.create(null)),p=a.split(/ (?!$)/).map(x=>lCe(x,e));for(let x=1;x<p.length;x++){let y=p.slice(0,x).join(" ");i(y,!0),d[y]||(d[y]={preventDefault:!0,stopPropagation:!1,run:[_=>{let C=ll={view:_,prefix:y,scope:s};return setTimeout(()=>{ll==C&&(ll=null)},hCe),!0}]})}let m=p.join(" ");i(m,!1);let v=d[m]||(d[m]={preventDefault:!1,stopPropagation:!1,run:((f=(h=d._any)===null||h===void 0?void 0:h.run)===null||f===void 0?void 0:f.slice())||[]});l&&v.run.push(l),c&&(v.preventDefault=!0),u&&(v.stopPropagation=!0)};for(let s of t){let a=s.scope?s.scope.split(" "):["editor"];if(s.any)for(let c of a){let u=n[c]||(n[c]=Object.create(null));u._any||(u._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:h}=s;for(let f in u)u[f].run.push(d=>h(d,wS))}let l=s[e]||s.key;if(l)for(let c of a)o(c,l,s.run,s.preventDefault,s.stopPropagation),s.shift&&o(c,"Shift-"+l,s.shift,s.preventDefault,s.stopPropagation)}return n}let wS=null;function mU(t,e,n,r){wS=e;let i=Owe(e),o=lr(i,0),s=Xi(o)==i.length&&i!=" ",a="",l=!1,c=!1,u=!1;ll&&ll.view==n&&ll.scope==r&&(a=ll.prefix+" ",rU.indexOf(e.keyCode)<0&&(c=!0,ll=null));let h=new Set,f=v=>{if(v){for(let x of v.run)if(!h.has(x)&&(h.add(x),x(n)))return v.stopPropagation&&(u=!0),!0;v.preventDefault&&(v.stopPropagation&&(u=!0),c=!0)}return!1},d=t[r],p,m;return d&&(f(d[a+t1(i,e,!s)])?l=!0:s&&(e.altKey||e.metaKey||e.ctrlKey)&&!(Ae.windows&&e.ctrlKey&&e.altKey)&&(p=Xl[e.keyCode])&&p!=i?(f(d[a+t1(p,e,!0)])||e.shiftKey&&(m=R0[e.keyCode])!=i&&m!=p&&f(d[a+t1(m,e,!1)]))&&(l=!0):s&&e.shiftKey&&f(d[a+t1(i,e,!0)])&&(l=!0),!l&&f(d._any)&&(l=!0)),c&&(l=!0),l&&u&&e.stopPropagation(),wS=null,l}class $m{constructor(e,n,r,i,o){this.className=e,this.left=n,this.top=r,this.width=i,this.height=o}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,n){return n.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,n,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let o=gU(e);return[new $m(n,i.left-o.left,i.top-o.top,null,i.bottom-i.top)]}else return dCe(e,n,r)}}function gU(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==Xt.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function rD(t,e,n,r){let i=t.coordsAtPos(e,n*2);if(!i)return r;let o=t.dom.getBoundingClientRect(),s=(i.top+i.bottom)/2,a=t.posAtCoords({x:o.left+1,y:s}),l=t.posAtCoords({x:o.right-1,y:s});return a==null||l==null?r:{from:Math.max(r.from,Math.min(a,l)),to:Math.min(r.to,Math.max(a,l))}}function dCe(t,e,n){if(n.to<=t.viewport.from||n.from>=t.viewport.to)return[];let r=Math.max(n.from,t.viewport.from),i=Math.min(n.to,t.viewport.to),o=t.textDirection==Xt.LTR,s=t.contentDOM,a=s.getBoundingClientRect(),l=gU(t),c=s.querySelector(".cm-line"),u=c&&window.getComputedStyle(c),h=a.left+(u?parseInt(u.paddingLeft)+Math.min(0,parseInt(u.textIndent)):0),f=a.right-(u?parseInt(u.paddingRight):0),d=gS(t,r),p=gS(t,i),m=d.type==Jr.Text?d:null,v=p.type==Jr.Text?p:null;if(m&&(t.lineWrapping||d.widgetLineBreaks)&&(m=rD(t,r,1,m)),v&&(t.lineWrapping||p.widgetLineBreaks)&&(v=rD(t,i,-1,v)),m&&v&&m.from==v.from&&m.to==v.to)return y(_(n.from,n.to,m));{let S=m?_(n.from,null,m):C(d,!1),T=v?_(null,n.to,v):C(p,!0),b=[];return(m||d).to<(v||p).from-(m&&v?1:0)||d.widgetLineBreaks>1&&S.bottom+t.defaultLineHeight/2<T.top?b.push(x(h,S.bottom,f,T.top)):S.bottom<T.top&&t.elementAtHeight((S.bottom+T.top)/2).type==Jr.Text&&(S.bottom=T.top=(S.bottom+T.top)/2),y(S).concat(b).concat(y(T))}function x(S,T,b,w){return new $m(e,S-l.left,T-l.top-.01,b-S,w-T+.01)}function y({top:S,bottom:T,horizontal:b}){let w=[];for(let I=0;I<b.length;I+=2)w.push(x(b[I],S,b[I+1],T));return w}function _(S,T,b){let w=1e9,I=-1e9,E=[];function R(z,$,Q,Y,q){let H=t.coordsAtPos(z,z==b.to?-2:2),O=t.coordsAtPos(Q,Q==b.from?2:-2);!H||!O||(w=Math.min(H.top,O.top,w),I=Math.max(H.bottom,O.bottom,I),q==Xt.LTR?E.push(o&&$?h:H.left,o&&Y?f:O.right):E.push(!o&&Y?h:O.left,!o&&$?f:H.right))}let D=S??b.from,N=T??b.to;for(let z of t.visibleRanges)if(z.to>D&&z.from<N)for(let $=Math.max(z.from,D),Q=Math.min(z.to,N);;){let Y=t.state.doc.lineAt($);for(let q of t.bidiSpans(Y)){let H=q.from+Y.from,O=q.to+Y.from;if(H>=Q)break;O>$&&R(Math.max(H,$),S==null&&H<=D,Math.min(O,Q),T==null&&O>=N,q.dir)}if($=Y.to+1,$>=Q)break}return E.length==0&&R(D,S==null,N,T==null,t.textDirection),{top:w,bottom:I,horizontal:E}}function C(S,T){let b=a.top+(T?S.top:S.bottom);return{top:b,bottom:b,horizontal:[]}}}function pCe(t,e){return t.constructor==e.constructor&&t.eq(e)}class mCe{constructor(e,n){this.view=e,this.layer=n,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,e)}update(e){e.startState.facet(Y1)!=e.state.facet(Y1)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let n=0,r=e.facet(Y1);for(;n<r.length&&r[n]!=this.layer;)n++;this.dom.style.zIndex=String((this.layer.above?150:-1)-n)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:n}=this.view;(e!=this.scaleX||n!=this.scaleY)&&(this.scaleX=e,this.scaleY=n,this.dom.style.transform=`scale(${1/e}, ${1/n})`)}draw(e){if(e.length!=this.drawn.length||e.some((n,r)=>!pCe(n,this.drawn[r]))){let n=this.dom.firstChild,r=0;for(let i of e)i.update&&n&&i.constructor&&this.drawn[r].constructor&&i.update(n,this.drawn[r])?(n=n.nextSibling,r++):this.dom.insertBefore(i.draw(),n);for(;n;){let i=n.nextSibling;n.remove(),n=i}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Y1=ke.define();function xU(t){return[Nn.define(e=>new mCe(e,t)),Y1.of(t)]}const vU=!Ae.ios,N0=ke.define({combine(t){return Rs(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,n)=>Math.min(e,n),drawRangeCursor:(e,n)=>e||n})}});function gCe(t={}){return[N0.of(t),xCe,vCe,yCe,WH.of(!0)]}function yU(t){return t.startState.facet(N0)!=t.state.facet(N0)}const xCe=xU({above:!0,markers(t){let{state:e}=t,n=e.facet(N0),r=[];for(let i of e.selection.ranges){let o=i==e.selection.main;if(i.empty?!o||vU:n.drawRangeCursor){let s=o?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",a=i.empty?i:se.cursor(i.head,i.head>i.anchor?-1:1);for(let l of $m.forRange(t,s,a))r.push(l)}}return r},update(t,e){t.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let n=yU(t);return n&&iD(t.state,e),t.docChanged||t.selectionSet||n},mount(t,e){iD(e.state,t)},class:"cm-cursorLayer"});function iD(t,e){e.style.animationDuration=t.facet(N0).cursorBlinkRate+"ms"}const vCe=xU({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:$m.forRange(t,"cm-selectionBackground",e)).reduce((e,n)=>e.concat(n))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||yU(t)},class:"cm-selectionLayer"}),CS={".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"}},".cm-content":{"& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}};vU&&(CS[".cm-line"].caretColor=CS[".cm-content"].caretColor="transparent !important");const yCe=pc.highest(be.theme(CS)),_U=et.define({map(t,e){return t==null?null:e.mapPos(t)}}),ip=tr.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((n,r)=>r.is(_U)?r.value:n,t)}}),_Ce=Nn.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let n=t.state.field(ip);n==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(ip)!=n||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field(ip),n=e!=null&&t.coordsAtPos(e);if(!n)return null;let r=t.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+t.scrollDOM.scrollLeft*t.scaleX,top:n.top-r.top+t.scrollDOM.scrollTop*t.scaleY,height:n.bottom-n.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:n}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/n+"px",this.cursor.style.height=t.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(ip)!=t&&this.view.dispatch({effects:_U.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function wCe(){return[ip,_Ce]}function oD(t,e,n,r,i){e.lastIndex=0;for(let o=t.iterRange(n,r),s=n,a;!o.next().done;s+=o.value.length)if(!o.lineBreak)for(;a=e.exec(o.value);)i(s+a.index,a)}function CCe(t,e){let n=t.visibleRanges;if(n.length==1&&n[0].from==t.viewport.from&&n[0].to==t.viewport.to)return n;let r=[];for(let{from:i,to:o}of n)i=Math.max(t.state.doc.lineAt(i).from,i-e),o=Math.min(t.state.doc.lineAt(o).to,o+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=o:r.push({from:i,to:o});return r}class bCe{constructor(e){const{regexp:n,decoration:r,decorate:i,boundary:o,maxLength:s=1e3}=e;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,i)this.addMatch=(a,l,c,u)=>i(u,c,c+a[0].length,a,l);else if(typeof r=="function")this.addMatch=(a,l,c,u)=>{let h=r(a,l,c);h&&u(c,c+a[0].length,h)};else if(r)this.addMatch=(a,l,c,u)=>u(c,c+a[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=o,this.maxLength=s}createDeco(e){let n=new Ql,r=n.add.bind(n);for(let{from:i,to:o}of CCe(e,this.maxLength))oD(e.state.doc,this.regexp,i,o,(s,a)=>this.addMatch(a,e,s,r));return n.finish()}updateDeco(e,n){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((o,s,a,l)=>{l>e.view.viewport.from&&a<e.view.viewport.to&&(r=Math.min(a,r),i=Math.max(l,i))}),e.viewportChanged||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,n.map(e.changes),r,i):n}updateRange(e,n,r,i){for(let o of e.visibleRanges){let s=Math.max(o.from,r),a=Math.min(o.to,i);if(a>s){let l=e.state.doc.lineAt(s),c=l.to<a?e.state.doc.lineAt(a):l,u=Math.max(o.from,l.from),h=Math.min(o.to,c.to);if(this.boundary){for(;s>l.from;s--)if(this.boundary.test(l.text[s-1-l.from])){u=s;break}for(;a<c.to;a++)if(this.boundary.test(c.text[a-c.from])){h=a;break}}let f=[],d,p=(m,v,x)=>f.push(x.range(m,v));if(l==c)for(this.regexp.lastIndex=u-l.from;(d=this.regexp.exec(l.text))&&d.index<h-l.from;)this.addMatch(d,e,d.index+l.from,p);else oD(e.state.doc,this.regexp,u,h,(m,v)=>this.addMatch(v,e,m,p));n=n.update({filterFrom:u,filterTo:h,filter:(m,v)=>m<u||v>h,add:f})}}return n}}const bS=/x/.unicode!=null?"gu":"g",ECe=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,bS),SCe={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let tC=null;function kCe(){var t;if(tC==null&&typeof document<"u"&&document.body){let e=document.body.style;tC=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return tC||!1}const X1=ke.define({combine(t){let e=Rs(t,{render:null,specialChars:ECe,addSpecialChars:null});return(e.replaceTabs=!kCe())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,bS)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,bS)),e}});function TCe(t={}){return[X1.of(t),ACe()]}let sD=null;function ACe(){return sD||(sD=Nn.fromClass(class{constructor(t){this.view=t,this.decorations=Fe.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(X1)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new bCe({regexp:t.specialChars,decoration:(e,n,r)=>{let{doc:i}=n.state,o=lr(e[0],0);if(o==9){let s=i.lineAt(r),a=n.state.tabSize,l=ed(s.text,a,r-s.from);return Fe.replace({widget:new DCe((a-l%a)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[o]||(this.decorationCache[o]=Fe.replace({widget:new PCe(t,o)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(X1);t.startState.facet(X1)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const ICe="";function RCe(t){return t>=32?ICe:t==10?"":String.fromCharCode(9216+t)}class PCe extends Ra{constructor(e,n){super(),this.options=e,this.code=n}eq(e){return e.code==this.code}toDOM(e){let n=RCe(this.code),r=e.state.phrase("Control character")+" "+(SCe[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,n);if(i)return i;let o=document.createElement("span");return o.textContent=n,o.title=r,o.setAttribute("aria-label",r),o.className="cm-specialChar",o}ignoreEvent(){return!1}}class DCe extends Ra{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function MCe(){return LCe}const NCe=Fe.line({class:"cm-activeLine"}),LCe=Nn.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let r of t.state.selection.ranges){let i=t.lineBlockAt(r.head);i.from>e&&(n.push(NCe.range(i.from)),e=i.from)}return Fe.set(n)}},{decorations:t=>t.decorations}),ES=2e3;function OCe(t,e,n){let r=Math.min(e.line,n.line),i=Math.max(e.line,n.line),o=[];if(e.off>ES||n.off>ES||e.col<0||n.col<0){let s=Math.min(e.off,n.off),a=Math.max(e.off,n.off);for(let l=r;l<=i;l++){let c=t.doc.line(l);c.length<=a&&o.push(se.range(c.from+s,c.to+a))}}else{let s=Math.min(e.col,n.col),a=Math.max(e.col,n.col);for(let l=r;l<=i;l++){let c=t.doc.line(l),u=eS(c.text,s,t.tabSize,!0);if(u<0)o.push(se.cursor(c.to));else{let h=eS(c.text,a,t.tabSize);o.push(se.range(c.from+u,c.from+h))}}}return o}function FCe(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}function aD(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),r=t.state.doc.lineAt(n),i=n-r.from,o=i>ES?-1:i==r.length?FCe(t,e.clientX):ed(r.text,t.state.tabSize,n-r.from);return{line:r.number,col:o,off:i}}function BCe(t,e){let n=aD(t,e),r=t.state.selection;return n?{update(i){if(i.docChanged){let o=i.changes.mapPos(i.startState.doc.line(n.line).from),s=i.state.doc.lineAt(o);n={line:s.number,col:n.col,off:Math.min(n.off,s.length)},r=r.map(i.changes)}},get(i,o,s){let a=aD(t,i);if(!a)return r;let l=OCe(t.state,n,a);return l.length?s?se.create(l.concat(r.ranges)):se.create(l):r}}:null}function VCe(t){let e=n=>n.altKey&&n.button==0;return be.mouseSelectionStyle.of((n,r)=>e(r)?BCe(n,r):null)}const zCe={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},jCe={style:"cursor: crosshair"};function $Ce(t={}){let[e,n]=zCe[t.key||"Alt"],r=Nn.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||n(i))},keyup(i){(i.keyCode==e||!n(i))&&this.set(!1)},mousemove(i){this.set(n(i))}}});return[r,be.contentAttributes.of(i=>{var o;return!((o=i.plugin(r))===null||o===void 0)&&o.isDown?jCe:null})]}const Nd="-10000px";class wU{constructor(e,n,r,i){this.facet=n,this.createTooltipView=r,this.removeTooltipView=i,this.input=e.state.facet(n),this.tooltips=this.input.filter(s=>s);let o=null;this.tooltipViews=this.tooltips.map(s=>o=r(s,o))}update(e,n){var r;let i=e.state.facet(this.facet),o=i.filter(l=>l);if(i===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let s=[],a=n?[]:null;for(let l=0;l<o.length;l++){let c=o[l],u=-1;if(c){for(let h=0;h<this.tooltips.length;h++){let f=this.tooltips[h];f&&f.create==c.create&&(u=h)}if(u<0)s[l]=this.createTooltipView(c,l?s[l-1]:null),a&&(a[l]=!!c.above);else{let h=s[l]=this.tooltipViews[u];a&&(a[l]=n[u]),h.update&&h.update(e)}}}for(let l of this.tooltipViews)s.indexOf(l)<0&&(this.removeTooltipView(l),(r=l.destroy)===null||r===void 0||r.call(l));return n&&(a.forEach((l,c)=>n[c]=l),n.length=a.length),this.input=i,this.tooltips=o,this.tooltipViews=s,!0}}function HCe(t){let{win:e}=t;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const nC=ke.define({combine:t=>{var e,n,r;return{position:Ae.ios?"absolute":((e=t.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=t.find(i=>i.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((r=t.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||HCe}}}),lD=new WeakMap,XA=Nn.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(nC);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new wU(t,ZA,(n,r)=>this.createTooltip(n,r),n=>{this.resizeObserver&&this.resizeObserver.unobserve(n.dom),n.dom.remove()}),this.above=this.manager.tooltips.map(n=>!!n.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let n=e||t.geometryChanged,r=t.state.facet(nC);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t,e){let n=t.create(this.view),r=e?e.dom:null;if(n.dom.classList.add("cm-tooltip"),t.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",n.dom.appendChild(i)}return n.dom.style.position=this.position,n.dom.style.top=Nd,n.dom.style.left="0px",this.container.insertBefore(n.dom,r),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var t,e,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(t=r.destroy)===null||t===void 0||t.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=this.view.dom.getBoundingClientRect(),e=1,n=1,r=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:i}=this.manager.tooltipViews[0];if(Ae.gecko)r=i.offsetParent!=this.container.ownerDocument.body;else if(i.style.top==Nd&&i.style.left=="0px"){let o=i.getBoundingClientRect();r=Math.abs(o.top+1e4)>1||Math.abs(o.left)>1}}if(r||this.position=="absolute")if(this.parent){let i=this.parent.getBoundingClientRect();i.width&&i.height&&(e=i.width/this.parent.offsetWidth,n=i.height/this.parent.offsetHeight)}else({scaleX:e,scaleY:n}=this.view.viewState);return{editor:t,parent:this.parent?this.container.getBoundingClientRect():t,pos:this.manager.tooltips.map((i,o)=>{let s=this.manager.tooltipViews[o];return s.getCoords?s.getCoords(i.pos):this.view.coordsAtPos(i.pos)}),size:this.manager.tooltipViews.map(({dom:i})=>i.getBoundingClientRect()),space:this.view.state.facet(nC).tooltipSpace(this.view),scaleX:e,scaleY:n,makeAbsolute:r}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let a of this.manager.tooltipViews)a.dom.style.position="absolute"}let{editor:n,space:r,scaleX:i,scaleY:o}=t,s=[];for(let a=0;a<this.manager.tooltips.length;a++){let l=this.manager.tooltips[a],c=this.manager.tooltipViews[a],{dom:u}=c,h=t.pos[a],f=t.size[a];if(!h||h.bottom<=Math.max(n.top,r.top)||h.top>=Math.min(n.bottom,r.bottom)||h.right<Math.max(n.left,r.left)-.1||h.left>Math.min(n.right,r.right)+.1){u.style.top=Nd;continue}let d=l.arrow?c.dom.querySelector(".cm-tooltip-arrow"):null,p=d?7:0,m=f.right-f.left,v=(e=lD.get(c))!==null&&e!==void 0?e:f.bottom-f.top,x=c.offset||WCe,y=this.view.textDirection==Xt.LTR,_=f.width>r.right-r.left?y?r.left:r.right-f.width:y?Math.max(r.left,Math.min(h.left-(d?14:0)+x.x,r.right-m)):Math.min(Math.max(r.left,h.left-m+(d?14:0)-x.x),r.right-m),C=this.above[a];!l.strictSide&&(C?h.top-(f.bottom-f.top)-x.y<r.top:h.bottom+(f.bottom-f.top)+x.y>r.bottom)&&C==r.bottom-h.bottom>h.top-r.top&&(C=this.above[a]=!C);let S=(C?h.top-r.top:r.bottom-h.bottom)-p;if(S<v&&c.resize!==!1){if(S<this.view.defaultLineHeight){u.style.top=Nd;continue}lD.set(c,v),u.style.height=(v=S)/o+"px"}else u.style.height&&(u.style.height="");let T=C?h.top-v-p-x.y:h.bottom+p+x.y,b=_+m;if(c.overlap!==!0)for(let w of s)w.left<b&&w.right>_&&w.top<T+v&&w.bottom>T&&(T=C?w.top-v-2-p:w.bottom+p+2);if(this.position=="absolute"?(u.style.top=(T-t.parent.top)/o+"px",u.style.left=(_-t.parent.left)/i+"px"):(u.style.top=T/o+"px",u.style.left=_/i+"px"),d){let w=h.left+(y?x.x:-x.x)-(_+14-7);d.style.left=w/i+"px"}c.overlap!==!0&&s.push({left:_,top:T,right:b,bottom:T+v}),u.classList.toggle("cm-tooltip-above",C),u.classList.toggle("cm-tooltip-below",!C),c.positioned&&c.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=Nd}},{eventObservers:{scroll(){this.maybeMeasure()}}}),UCe=be.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),WCe={x:0,y:0},ZA=ke.define({enables:[XA,UCe]}),Iv=ke.define({combine:t=>t.reduce((e,n)=>e.concat(n),[])});class A_{static create(e){return new A_(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new wU(e,Iv,(n,r)=>this.createHostedView(n,r),n=>n.dom.remove())}createHostedView(e,n){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,n?n.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let n of this.manager.tooltipViews)n.mount&&n.mount(e);this.mounted=!0}positioned(e){for(let n of this.manager.tooltipViews)n.positioned&&n.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let n of this.manager.tooltipViews)(e=n.destroy)===null||e===void 0||e.call(n)}passProp(e){let n;for(let r of this.manager.tooltipViews){let i=r[e];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const qCe=ZA.compute([Iv],t=>{let e=t.facet(Iv);return e.length===0?null:{pos:Math.min(...e.map(n=>n.pos)),end:Math.max(...e.map(n=>{var r;return(r=n.end)!==null&&r!==void 0?r:n.pos})),create:A_.create,above:e[0].above,arrow:e.some(n=>n.arrow)}});class KCe{constructor(e,n,r,i,o){this.view=e,this.source=n,this.field=r,this.setHover=i,this.hoverTime=o,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:n}=this,r=e.docView.nearest(n.target);if(!r)return;let i,o=1;if(r instanceof xl)i=r.posAtStart;else{if(i=e.posAtCoords(n),i==null)return;let a=e.coordsAtPos(i);if(!a||n.y<a.top||n.y>a.bottom||n.x<a.left-e.defaultCharacterWidth||n.x>a.right+e.defaultCharacterWidth)return;let l=e.bidiSpans(e.state.doc.lineAt(i)).find(u=>u.from<=i&&u.to>=i),c=l&&l.dir==Xt.RTL?-1:1;o=n.x<a.left?-c:c}let s=this.source(e,i,o);if(s!=null&&s.then){let a=this.pending={pos:i};s.then(l=>{this.pending==a&&(this.pending=null,l&&!(Array.isArray(l)&&!l.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(l)?l:[l])}))},l=>hi(e.state,l,"hover tooltip"))}else s&&!(Array.isArray(s)&&!s.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(s)?s:[s])})}get tooltip(){let e=this.view.plugin(XA),n=e?e.manager.tooltips.findIndex(r=>r.create==A_.create):-1;return n>-1?e.manager.tooltipViews[n]:null}mousemove(e){var n,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:o}=this;if(i.length&&o&&!GCe(o.dom,e)||this.pending){let{pos:s}=i[0]||this.pending,a=(r=(n=i[0])===null||n===void 0?void 0:n.end)!==null&&r!==void 0?r:s;(s==a?this.view.posAtCoords(this.lastMove)!=s:!JCe(this.view,s,a,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:n}=this;if(n.length){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let n=r=>{e.removeEventListener("mouseleave",n),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",n)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const n1=4;function GCe(t,e){let{left:n,right:r,top:i,bottom:o}=t.getBoundingClientRect(),s;if(s=t.querySelector(".cm-tooltip-arrow")){let a=s.getBoundingClientRect();i=Math.min(a.top,i),o=Math.max(a.bottom,o)}return e.clientX>=n-n1&&e.clientX<=r+n1&&e.clientY>=i-n1&&e.clientY<=o+n1}function JCe(t,e,n,r,i,o){let s=t.scrollDOM.getBoundingClientRect(),a=t.documentTop+t.documentPadding.top+t.contentHeight;if(s.left>r||s.right<r||s.top>i||Math.min(s.bottom,a)<i)return!1;let l=t.posAtCoords({x:r,y:i},!1);return l>=e&&l<=n}function QCe(t,e={}){let n=et.define(),r=tr.define({create(){return[]},update(i,o){if(i.length&&(e.hideOnChange&&(o.docChanged||o.selection)?i=[]:e.hideOn&&(i=i.filter(s=>!e.hideOn(o,s))),o.docChanged)){let s=[];for(let a of i){let l=o.changes.mapPos(a.pos,-1,hr.TrackDel);if(l!=null){let c=Object.assign(Object.create(null),a);c.pos=l,c.end!=null&&(c.end=o.changes.mapPos(c.end)),s.push(c)}}i=s}for(let s of o.effects)s.is(n)&&(i=s.value),s.is(YCe)&&(i=[]);return i},provide:i=>Iv.from(i)});return{active:r,extension:[r,Nn.define(i=>new KCe(i,t,r,n,e.hoverTime||300)),qCe]}}function CU(t,e){let n=t.plugin(XA);if(!n)return null;let r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}const YCe=et.define(),cD=ke.define({combine(t){let e,n;for(let r of t)e=e||r.topContainer,n=n||r.bottomContainer;return{topContainer:e,bottomContainer:n}}});function L0(t,e){let n=t.plugin(bU),r=n?n.specs.indexOf(e):-1;return r>-1?n.panels[r]:null}const bU=Nn.fromClass(class{constructor(t){this.input=t.state.facet(O0),this.specs=this.input.filter(n=>n),this.panels=this.specs.map(n=>n(t));let e=t.state.facet(cD);this.top=new r1(t,!0,e.topContainer),this.bottom=new r1(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(n=>n.top)),this.bottom.sync(this.panels.filter(n=>!n.top));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(t){let e=t.state.facet(cD);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new r1(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new r1(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(O0);if(n!=this.input){let r=n.filter(l=>l),i=[],o=[],s=[],a=[];for(let l of r){let c=this.specs.indexOf(l),u;c<0?(u=l(t.view),a.push(u)):(u=this.panels[c],u.update&&u.update(t)),i.push(u),(u.top?o:s).push(u)}this.specs=r,this.panels=i,this.top.sync(o),this.bottom.sync(s);for(let l of a)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let r of this.panels)r.update&&r.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>be.scrollMargins.of(e=>{let n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})});class r1{constructor(e,n,r){this.view=e,this.top=n,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let n of this.panels)n.destroy&&e.indexOf(n)<0&&n.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let n=this.container||this.view.dom;n.insertBefore(this.dom,this.top?n.firstChild:null)}let e=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;e!=n.dom;)e=uD(e);e=e.nextSibling}else this.dom.insertBefore(n.dom,e);for(;e;)e=uD(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function uD(t){let e=t.nextSibling;return t.remove(),e}const O0=ke.define({enables:bU});class ya extends gu{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}ya.prototype.elementClass="";ya.prototype.toDOM=void 0;ya.prototype.mapMode=hr.TrackBefore;ya.prototype.startSide=ya.prototype.endSide=-1;ya.prototype.point=!0;const Z1=ke.define(),XCe=ke.define(),ZCe={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>bt.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Op=ke.define();function ebe(t){return[EU(),Op.of(Object.assign(Object.assign({},ZCe),t))]}const hD=ke.define({combine:t=>t.some(e=>e)});function EU(t){return[tbe]}const tbe=Nn.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(Op).map(e=>new dD(t,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!t.state.facet(hD),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<(n.to-n.from)*.8)}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px"),this.view.state.facet(hD)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let n=bt.iter(this.view.state.facet(Z1),this.view.viewport.from),r=[],i=this.gutters.map(o=>new nbe(o,this.view.viewport,-this.view.documentPadding.top));for(let o of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(o.type)){let s=!0;for(let a of o.type)if(a.type==Jr.Text&&s){SS(n,r,a.from);for(let l of i)l.line(this.view,a,r);s=!1}else if(a.widget)for(let l of i)l.widget(this.view,a)}else if(o.type==Jr.Text){SS(n,r,o.from);for(let s of i)s.line(this.view,o,r)}else if(o.widget)for(let s of i)s.widget(this.view,o);for(let o of i)o.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(Op),n=t.state.facet(Op),r=t.docChanged||t.heightChanged||t.viewportChanged||!bt.eq(t.startState.facet(Z1),t.state.facet(Z1),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let i of this.gutters)i.update(t)&&(r=!0);else{r=!0;let i=[];for(let o of n){let s=e.indexOf(o);s<0?i.push(new dD(this.view,o)):(this.gutters[s].update(t),i.push(this.gutters[s]))}for(let o of this.gutters)o.dom.remove(),i.indexOf(o)<0&&o.destroy();for(let o of i)this.dom.appendChild(o.dom);this.gutters=i}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>be.scrollMargins.of(e=>{let n=e.plugin(t);return!n||n.gutters.length==0||!n.fixed?null:e.textDirection==Xt.LTR?{left:n.dom.offsetWidth*e.scaleX}:{right:n.dom.offsetWidth*e.scaleX}})});function fD(t){return Array.isArray(t)?t:[t]}function SS(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class nbe{constructor(e,n,r){this.gutter=e,this.height=r,this.i=0,this.cursor=bt.iter(e.markers,n.from)}addElement(e,n,r){let{gutter:i}=this,o=(n.top-this.height)/e.scaleY,s=n.height/e.scaleY;if(this.i==i.elements.length){let a=new SU(e,s,o,r);i.elements.push(a),i.dom.appendChild(a.dom)}else i.elements[this.i].update(e,s,o,r);this.height=n.bottom,this.i++}line(e,n,r){let i=[];SS(this.cursor,i,n.from),r.length&&(i=i.concat(r));let o=this.gutter.config.lineMarker(e,n,i);o&&i.unshift(o);let s=this.gutter;i.length==0&&!s.config.renderEmptyElements||this.addElement(e,n,i)}widget(e,n){let r=this.gutter.config.widgetMarker(e,n.widget,n),i=r?[r]:null;for(let o of e.state.facet(XCe)){let s=o(e,n.widget,n);s&&(i||(i=[])).push(s)}i&&this.addElement(e,n,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}class dD{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in n.domEventHandlers)this.dom.addEventListener(r,i=>{let o=i.target,s;if(o!=this.dom&&this.dom.contains(o)){for(;o.parentNode!=this.dom;)o=o.parentNode;let l=o.getBoundingClientRect();s=(l.top+l.bottom)/2}else s=i.clientY;let a=e.lineBlockAtHeight(s-e.documentTop);n.domEventHandlers[r](e,a,i)&&i.preventDefault()});this.markers=fD(n.markers(e)),n.initialSpacer&&(this.spacer=new SU(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=fD(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!bt.eq(this.markers,n,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class SU{constructor(e,n,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,r,i)}update(e,n,r,i){this.height!=n&&(this.height=n,this.dom.style.height=n+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),rbe(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,n){let r="cm-gutterElement",i=this.dom.firstChild;for(let o=0,s=0;;){let a=s,l=o<n.length?n[o++]:null,c=!1;if(l){let u=l.elementClass;u&&(r+=" "+u);for(let h=s;h<this.markers.length;h++)if(this.markers[h].compare(l)){a=h,c=!0;break}}else a=this.markers.length;for(;s<a;){let u=this.markers[s++];if(u.toDOM){u.destroy(i);let h=i.nextSibling;i.remove(),i=h}}if(!l)break;l.toDOM&&(c?i=i.nextSibling:this.dom.insertBefore(l.toDOM(e),i)),c&&s++}this.dom.className=r,this.markers=n}destroy(){this.setMarkers(null,[])}}function rbe(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}const ibe=ke.define(),obe=ke.define(),Ih=ke.define({combine(t){return Rs(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let r=Object.assign({},e);for(let i in n){let o=r[i],s=n[i];r[i]=o?(a,l,c)=>o(a,l,c)||s(a,l,c):s}return r}})}});class rC extends ya{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function iC(t,e){return t.state.facet(Ih).formatNumber(e,t.state)}const sbe=Op.compute([Ih],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(ibe)},lineMarker(e,n,r){return r.some(i=>i.toDOM)?null:new rC(iC(e,e.state.doc.lineAt(n.from).number))},widgetMarker:(e,n,r)=>{for(let i of e.state.facet(obe)){let o=i(e,n,r);if(o)return o}return null},lineMarkerChange:e=>e.startState.facet(Ih)!=e.state.facet(Ih),initialSpacer(e){return new rC(iC(e,pD(e.state.doc.lines)))},updateSpacer(e,n){let r=iC(n.view,pD(n.view.state.doc.lines));return r==e.number?e:new rC(r)},domEventHandlers:t.facet(Ih).domEventHandlers}));function kU(t={}){return[Ih.of(t),EU(),sbe]}function pD(t){let e=9;for(;e<t;)e=e*10+9;return e}const abe=new class extends ya{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},lbe=Z1.compute(["selection"],t=>{let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.head).from;i>n&&(n=i,e.push(abe.range(i)))}return bt.of(e)});function cbe(){return lbe}const ube=1024;let hbe=0,eo=class{constructor(e,n){this.from=e,this.to=n}};class at{constructor(e={}){this.id=hbe++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Xr.match(e)),n=>{let r=e(n);return r===void 0?null:[this,r]}}}at.closedBy=new at({deserialize:t=>t.split(" ")});at.openedBy=new at({deserialize:t=>t.split(" ")});at.group=new at({deserialize:t=>t.split(" ")});at.isolate=new at({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}});at.contextHash=new at({perNode:!0});at.lookAhead=new at({perNode:!0});at.mounted=new at({perNode:!0});class F0{constructor(e,n,r){this.tree=e,this.overlay=n,this.parser=r}static get(e){return e&&e.props&&e.props[at.mounted.id]}}const fbe=Object.create(null);class Xr{constructor(e,n,r,i=0){this.name=e,this.props=n,this.id=r,this.flags=i}static define(e){let n=e.props&&e.props.length?Object.create(null):fbe,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new Xr(e.name||"",n,e.id,r);if(e.props){for(let o of e.props)if(Array.isArray(o)||(o=o(i)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[o[0].id]=o[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(at.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let r in e)for(let i of r.split(" "))n[i]=e[r];return r=>{for(let i=r.prop(at.group),o=-1;o<(i?i.length:0);o++){let s=n[o<0?r.name:i[o]];if(s)return s}}}}Xr.none=new Xr("",Object.create(null),0,8);class e4{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let r of this.types){let i=null;for(let o of e){let s=o(r);s&&(i||(i=Object.assign({},r.props)),i[s[0].id]=s[1])}n.push(i?new Xr(r.name,i,r.id,r.flags):r)}return new e4(n)}}const i1=new WeakMap,mD=new WeakMap;var ln;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(ln||(ln={}));class Ut{constructor(e,n,r,i,o){if(this.type=e,this.children=n,this.positions=r,this.length=i,this.props=null,o&&o.length){this.props=Object.create(null);for(let[s,a]of o)this.props[typeof s=="number"?s:s.id]=a}}toString(){let e=F0.get(this);if(e&&!e.overlay)return e.tree.toString();let n="";for(let r of this.children){let i=r.toString();i&&(n&&(n+=","),n+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new Rv(this.topNode,e)}cursorAt(e,n=0,r=0){let i=i1.get(this)||this.topNode,o=new Rv(i);return o.moveTo(e,n),i1.set(this,o._tree),o}get topNode(){return new Dr(this,0,0,null)}resolve(e,n=0){let r=B0(i1.get(this)||this.topNode,e,n,!1);return i1.set(this,r),r}resolveInner(e,n=0){let r=B0(mD.get(this)||this.topNode,e,n,!0);return mD.set(this,r),r}resolveStack(e,n=0){return mbe(this,e,n)}iterate(e){let{enter:n,leave:r,from:i=0,to:o=this.length}=e,s=e.mode||0,a=(s&ln.IncludeAnonymous)>0;for(let l=this.cursor(s|ln.IncludeAnonymous);;){let c=!1;if(l.from<=o&&l.to>=i&&(!a&&l.type.isAnonymous||n(l)!==!1)){if(l.firstChild())continue;c=!0}for(;c&&r&&(a||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;c=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:r4(Xr.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,i)=>new Ut(this.type,n,r,i,this.propValues),e.makeTree||((n,r,i)=>new Ut(Xr.none,n,r,i)))}static build(e){return gbe(e)}}Ut.empty=new Ut(Xr.none,[],[],0);class t4{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new t4(this.buffer,this.index)}}class ec{constructor(e,n,r){this.buffer=e,this.length=n,this.set=r}get type(){return Xr.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],r=this.buffer[e+3],i=this.set.types[n],o=i.name;if(/\W/.test(o)&&!i.isError&&(o=JSON.stringify(o)),e+=4,r==e)return o;let s=[];for(;e<r;)s.push(this.childString(e)),e=this.buffer[e+3];return o+"("+s.join(",")+")"}findChild(e,n,r,i,o){let{buffer:s}=this,a=-1;for(let l=e;l!=n&&!(TU(o,i,s[l+1],s[l+2])&&(a=l,r>0));l=s[l+3]);return a}slice(e,n,r){let i=this.buffer,o=new Uint16Array(n-e),s=0;for(let a=e,l=0;a<n;){o[l++]=i[a++],o[l++]=i[a++]-r;let c=o[l++]=i[a++]-r;o[l++]=i[a++]-e,s=Math.max(s,c)}return new ec(o,s,this.set)}}function TU(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function B0(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let s=!r&&t instanceof Dr&&t.index<0?null:t.parent;if(!s)return t;t=s}let o=r?0:ln.IgnoreOverlays;if(r)for(let s=t,a=s.parent;a;s=a,a=s.parent)s instanceof Dr&&s.index<0&&((i=a.enter(e,n,o))===null||i===void 0?void 0:i.from)!=s.from&&(t=a);for(;;){let s=t.enter(e,n,o);if(!s)return t;t=s}}class AU{cursor(e=0){return new Rv(this,e)}getChild(e,n=null,r=null){let i=gD(this,e,n,r);return i.length?i[0]:null}getChildren(e,n=null,r=null){return gD(this,e,n,r)}resolve(e,n=0){return B0(this,e,n,!1)}resolveInner(e,n=0){return B0(this,e,n,!0)}matchContext(e){return kS(this,e)}enterUnfinishedNodesBefore(e){let n=this.childBefore(e),r=this;for(;n;){let i=n.lastChild;if(!i||i.to!=n.to)break;i.type.isError&&i.from==i.to?(r=n,n=i.prevSibling):n=i}return r}get node(){return this}get next(){return this.parent}}class Dr extends AU{constructor(e,n,r,i){super(),this._tree=e,this.from=n,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,r,i,o=0){for(let s=this;;){for(let{children:a,positions:l}=s._tree,c=n>0?a.length:-1;e!=c;e+=n){let u=a[e],h=l[e]+s.from;if(TU(i,r,h,h+u.length)){if(u instanceof ec){if(o&ln.ExcludeBuffers)continue;let f=u.findChild(0,u.buffer.length,n,r-h,i);if(f>-1)return new us(new dbe(s,u,e,h),null,f)}else if(o&ln.IncludeAnonymous||!u.type.isAnonymous||n4(u)){let f;if(!(o&ln.IgnoreMounts)&&(f=F0.get(u))&&!f.overlay)return new Dr(f.tree,h,e,s);let d=new Dr(u,h,e,s);return o&ln.IncludeAnonymous||!d.type.isAnonymous?d:d.nextChild(n<0?u.children.length-1:0,n,r,i)}}}if(o&ln.IncludeAnonymous||!s.type.isAnonymous||(s.index>=0?e=s.index+n:e=n<0?-1:s._parent._tree.children.length,s=s._parent,!s))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,n,r=0){let i;if(!(r&ln.IgnoreOverlays)&&(i=F0.get(this._tree))&&i.overlay){let o=e-this.from;for(let{from:s,to:a}of i.overlay)if((n>0?s<=o:s<o)&&(n<0?a>=o:a>o))return new Dr(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function gD(t,e,n,r){let i=t.cursor(),o=[];if(!i.firstChild())return o;if(n!=null){for(let s=!1;!s;)if(s=i.type.is(n),!i.nextSibling())return o}for(;;){if(r!=null&&i.type.is(r))return o;if(i.type.is(e)&&o.push(i.node),!i.nextSibling())return r==null?o:[]}}function kS(t,e,n=e.length-1){for(let r=t.parent;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class dbe{constructor(e,n,r,i){this.parent=e,this.buffer=n,this.index=r,this.start=i}}class us extends AU{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,r){super(),this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,n,r){let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.context.start,r);return o<0?null:new us(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,n,r=0){if(r&ln.ExcludeBuffers)return null;let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return o<0?null:new us(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new us(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new us(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],n=[],{buffer:r}=this.context,i=this.index+4,o=r.buffer[this.index+3];if(o>i){let s=r.buffer[this.index+1];e.push(r.slice(i,o,s)),n.push(0)}return new Ut(this.type,e,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function IU(t){if(!t.length)return null;let e=0,n=t[0];for(let o=1;o<t.length;o++){let s=t[o];(s.from>n.from||s.to<n.to)&&(n=s,e=o)}let r=n instanceof Dr&&n.index<0?null:n.parent,i=t.slice();return r?i[e]=r:i.splice(e,1),new pbe(i,n)}class pbe{constructor(e,n){this.heads=e,this.node=n}get next(){return IU(this.heads)}}function mbe(t,e,n){let r=t.resolveInner(e,n),i=null;for(let o=r instanceof Dr?r:r.context.parent;o;o=o.parent)if(o.index<0){let s=o.parent;(i||(i=[r])).push(s.resolve(e,n)),o=s}else{let s=F0.get(o.tree);if(s&&s.overlay&&s.overlay[0].from<=e&&s.overlay[s.overlay.length-1].to>=e){let a=new Dr(s.tree,s.overlay[0].from+o.from,-1,o);(i||(i=[r])).push(B0(a,e,n,!1))}}return i?IU(i):r}class Rv{get name(){return this.type.name}constructor(e,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Dr)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=n||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Dr?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));let{buffer:i}=this.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.buffer.start,r);return o<0?!1:(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,r=this.mode){return this.buffer?r&ln.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&ln.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&ln.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(n.findChild(i,this.index,-1,0,4))}else{let i=n.buffer[this.index+3];if(i<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let o=0;o<this.index;o++)if(i.buffer.buffer[o+3]<this.index)return!1;({index:n,parent:r}=i)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let o=n+e,s=e<0?-1:r._tree.children.length;o!=s;o+=e){let a=r._tree.children[o];if(this.mode&ln.IncludeAnonymous||a instanceof ec||!a.type.isAnonymous||n4(a))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,o=this.stack.length;o>=0;){for(let s=e;s;s=s._parent)if(s.index==i){if(i==this.index)return s;n=s,r=o+1;break e}i=this.stack[--o]}for(let i=r;i<this.stack.length;i++)n=new us(this.buffer,n,this.stack[i]);return this.bufferNode=new us(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;i&&n&&n(this),i=this.type.isAnonymous,!this.nextSibling();){if(!r)return;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return kS(this.node,e);let{buffer:n}=this.buffer,{types:r}=n.set;for(let i=e.length-1,o=this.stack.length-1;i>=0;o--){if(o<0)return kS(this.node,e,i);let s=r[n.buffer[this.stack[o]]];if(!s.isAnonymous){if(e[i]&&e[i]!=s.name)return!1;i--}}return!0}}function n4(t){return t.children.some(e=>e instanceof ec||!e.type.isAnonymous||n4(e))}function gbe(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:i=ube,reused:o=[],minRepeatType:s=r.types.length}=t,a=Array.isArray(n)?new t4(n,n.length):n,l=r.types,c=0,u=0;function h(S,T,b,w,I,E){let{id:R,start:D,end:N,size:z}=a,$=u;for(;z<0;)if(a.next(),z==-1){let O=o[R];b.push(O),w.push(D-S);return}else if(z==-3){c=R;return}else if(z==-4){u=R;return}else throw new RangeError(`Unrecognized record size: ${z}`);let Q=l[R],Y,q,H=D-S;if(N-D<=i&&(q=v(a.pos-T,I))){let O=new Uint16Array(q.size-q.skip),U=a.pos-q.size,K=O.length;for(;a.pos>U;)K=x(q.start,O,K);Y=new ec(O,N-q.start,r),H=q.start-S}else{let O=a.pos-z;a.next();let U=[],K=[],L=R>=s?R:-1,J=0,Ee=N;for(;a.pos>O;)L>=0&&a.id==L&&a.size>=0?(a.end<=Ee-i&&(p(U,K,D,J,a.end,Ee,L,$),J=U.length,Ee=a.end),a.next()):E>2500?f(D,O,U,K):h(D,O,U,K,L,E+1);if(L>=0&&J>0&&J<U.length&&p(U,K,D,J,D,Ee,L,$),U.reverse(),K.reverse(),L>-1&&J>0){let de=d(Q);Y=r4(Q,U,K,0,U.length,0,N-D,de,de)}else Y=m(Q,U,K,N-D,$-N)}b.push(Y),w.push(H)}function f(S,T,b,w){let I=[],E=0,R=-1;for(;a.pos>T;){let{id:D,start:N,end:z,size:$}=a;if($>4)a.next();else{if(R>-1&&N<R)break;R<0&&(R=z-i),I.push(D,N,z),E++,a.next()}}if(E){let D=new Uint16Array(E*4),N=I[I.length-2];for(let z=I.length-3,$=0;z>=0;z-=3)D[$++]=I[z],D[$++]=I[z+1]-N,D[$++]=I[z+2]-N,D[$++]=$;b.push(new ec(D,I[2]-N,r)),w.push(N-S)}}function d(S){return(T,b,w)=>{let I=0,E=T.length-1,R,D;if(E>=0&&(R=T[E])instanceof Ut){if(!E&&R.type==S&&R.length==w)return R;(D=R.prop(at.lookAhead))&&(I=b[E]+R.length+D)}return m(S,T,b,w,I)}}function p(S,T,b,w,I,E,R,D){let N=[],z=[];for(;S.length>w;)N.push(S.pop()),z.push(T.pop()+b-I);S.push(m(r.types[R],N,z,E-I,D-E)),T.push(I-b)}function m(S,T,b,w,I=0,E){if(c){let R=[at.contextHash,c];E=E?[R].concat(E):[R]}if(I>25){let R=[at.lookAhead,I];E=E?[R].concat(E):[R]}return new Ut(S,T,b,w,E)}function v(S,T){let b=a.fork(),w=0,I=0,E=0,R=b.end-i,D={size:0,start:0,skip:0};e:for(let N=b.pos-S;b.pos>N;){let z=b.size;if(b.id==T&&z>=0){D.size=w,D.start=I,D.skip=E,E+=4,w+=4,b.next();continue}let $=b.pos-z;if(z<0||$<N||b.start<R)break;let Q=b.id>=s?4:0,Y=b.start;for(b.next();b.pos>$;){if(b.size<0)if(b.size==-3)Q+=4;else break e;else b.id>=s&&(Q+=4);b.next()}I=Y,w+=z,E+=Q}return(T<0||w==S)&&(D.size=w,D.start=I,D.skip=E),D.size>4?D:void 0}function x(S,T,b){let{id:w,start:I,end:E,size:R}=a;if(a.next(),R>=0&&w<s){let D=b;if(R>4){let N=a.pos-(R-4);for(;a.pos>N;)b=x(S,T,b)}T[--b]=D,T[--b]=E-S,T[--b]=I-S,T[--b]=w}else R==-3?c=w:R==-4&&(u=w);return b}let y=[],_=[];for(;a.pos>0;)h(t.start||0,t.bufferStart||0,y,_,-1,0);let C=(e=t.length)!==null&&e!==void 0?e:y.length?_[0]+y[0].length:0;return new Ut(l[t.topID],y.reverse(),_.reverse(),C)}const xD=new WeakMap;function ex(t,e){if(!t.isAnonymous||e instanceof ec||e.type!=t)return 1;let n=xD.get(e);if(n==null){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof Ut)){n=1;break}n+=ex(t,r)}xD.set(e,n)}return n}function r4(t,e,n,r,i,o,s,a,l){let c=0;for(let p=r;p<i;p++)c+=ex(t,e[p]);let u=Math.ceil(c*1.5/8),h=[],f=[];function d(p,m,v,x,y){for(let _=v;_<x;){let C=_,S=m[_],T=ex(t,p[_]);for(_++;_<x;_++){let b=ex(t,p[_]);if(T+b>=u)break;T+=b}if(_==C+1){if(T>u){let b=p[C];d(b.children,b.positions,0,b.children.length,m[C]+y);continue}h.push(p[C])}else{let b=m[_-1]+p[_-1].length-S;h.push(r4(t,p,m,C,_,S,b,null,l))}f.push(S+y-o)}}return d(e,n,r,i,0),(a||l)(h,f,s)}class t4e{constructor(){this.map=new WeakMap}setBuffer(e,n,r){let i=this.map.get(e);i||this.map.set(e,i=new Map),i.set(n,r)}getBuffer(e,n){let r=this.map.get(e);return r&&r.get(n)}set(e,n){e instanceof us?this.setBuffer(e.context.buffer,e.index,n):e instanceof Dr&&this.map.set(e.tree,n)}get(e){return e instanceof us?this.getBuffer(e.context.buffer,e.index):e instanceof Dr?this.map.get(e.tree):void 0}cursorSet(e,n){e.buffer?this.setBuffer(e.buffer.buffer,e.index,n):this.map.set(e.tree,n)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class ra{constructor(e,n,r,i,o=!1,s=!1){this.from=e,this.to=n,this.tree=r,this.offset=i,this.open=(o?1:0)|(s?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],r=!1){let i=[new ra(0,e.length,e,0,!1,r)];for(let o of n)o.to>e.length&&i.push(o);return i}static applyChanges(e,n,r=128){if(!n.length)return e;let i=[],o=1,s=e.length?e[0]:null;for(let a=0,l=0,c=0;;a++){let u=a<n.length?n[a]:null,h=u?u.fromA:1e9;if(h-l>=r)for(;s&&s.from<h;){let f=s;if(l>=f.from||h<=f.to||c){let d=Math.max(f.from,l)-c,p=Math.min(f.to,h)-c;f=d>=p?null:new ra(d,p,f.tree,f.offset+c,a>0,!!u)}if(f&&i.push(f),s.to>h)break;s=o<e.length?e[o++]:null}if(!u)break;l=u.toA,c=u.toA-u.toB}return i}}class RU{startParse(e,n,r){return typeof e=="string"&&(e=new xbe(e)),r=r?r.length?r.map(i=>new eo(i.from,i.to)):[new eo(0,0)]:[new eo(0,e.length)],this.createParse(e,n||[],r)}parse(e,n,r){let i=this.startParse(e,n,r);for(;;){let o=i.advance();if(o)return o}}}class xbe{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}function n4e(t){return(e,n,r,i)=>new ybe(e,t,n,r,i)}class vD{constructor(e,n,r,i,o){this.parser=e,this.parse=n,this.overlay=r,this.target=i,this.from=o}}function yD(t){if(!t.length||t.some(e=>e.from>=e.to))throw new RangeError("Invalid inner parse ranges given: "+JSON.stringify(t))}class vbe{constructor(e,n,r,i,o,s,a){this.parser=e,this.predicate=n,this.mounts=r,this.index=i,this.start=o,this.target=s,this.prev=a,this.depth=0,this.ranges=[]}}const TS=new at({perNode:!0});class ybe{constructor(e,n,r,i,o){this.nest=n,this.input=r,this.fragments=i,this.ranges=o,this.inner=[],this.innerDone=0,this.baseTree=null,this.stoppedAt=null,this.baseParse=e}advance(){if(this.baseParse){let r=this.baseParse.advance();if(!r)return null;if(this.baseParse=null,this.baseTree=r,this.startInner(),this.stoppedAt!=null)for(let i of this.inner)i.parse.stopAt(this.stoppedAt)}if(this.innerDone==this.inner.length){let r=this.baseTree;return this.stoppedAt!=null&&(r=new Ut(r.type,r.children,r.positions,r.length,r.propValues.concat([[TS,this.stoppedAt]]))),r}let e=this.inner[this.innerDone],n=e.parse.advance();if(n){this.innerDone++;let r=Object.assign(Object.create(null),e.target.props);r[at.mounted.id]=new F0(n,e.overlay,e.parser),e.target.props=r}return null}get parsedPos(){if(this.baseParse)return 0;let e=this.input.length;for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].from<e&&(e=Math.min(e,this.inner[n].parse.parsedPos));return e}stopAt(e){if(this.stoppedAt=e,this.baseParse)this.baseParse.stopAt(e);else for(let n=this.innerDone;n<this.inner.length;n++)this.inner[n].parse.stopAt(e)}startInner(){let e=new Cbe(this.fragments),n=null,r=null,i=new Rv(new Dr(this.baseTree,this.ranges[0].from,0,null),ln.IncludeAnonymous|ln.IgnoreMounts);e:for(let o,s;;){let a=!0,l;if(this.stoppedAt!=null&&i.from>=this.stoppedAt)a=!1;else if(e.hasNode(i)){if(n){let c=n.mounts.find(u=>u.frag.from<=i.from&&u.frag.to>=i.to&&u.mount.overlay);if(c)for(let u of c.mount.overlay){let h=u.from+c.pos,f=u.to+c.pos;h>=i.from&&f<=i.to&&!n.ranges.some(d=>d.from<f&&d.to>h)&&n.ranges.push({from:h,to:f})}}a=!1}else if(r&&(s=_be(r.ranges,i.from,i.to)))a=s!=2;else if(!i.type.isAnonymous&&(o=this.nest(i,this.input))&&(i.from<i.to||!o.overlay)){i.tree||wbe(i);let c=e.findMounts(i.from,o.parser);if(typeof o.overlay=="function")n=new vbe(o.parser,o.overlay,c,this.inner.length,i.from,i.tree,n);else{let u=CD(this.ranges,o.overlay||(i.from<i.to?[new eo(i.from,i.to)]:[]));u.length&&yD(u),(u.length||!o.overlay)&&this.inner.push(new vD(o.parser,u.length?o.parser.startParse(this.input,bD(c,u),u):o.parser.startParse(""),o.overlay?o.overlay.map(h=>new eo(h.from-i.from,h.to-i.from)):null,i.tree,u.length?u[0].from:i.from)),o.overlay?u.length&&(r={ranges:u,depth:0,prev:r}):a=!1}}else n&&(l=n.predicate(i))&&(l===!0&&(l=new eo(i.from,i.to)),l.from<l.to&&n.ranges.push(l));if(a&&i.firstChild())n&&n.depth++,r&&r.depth++;else for(;!i.nextSibling();){if(!i.parent())break e;if(n&&!--n.depth){let c=CD(this.ranges,n.ranges);c.length&&(yD(c),this.inner.splice(n.index,0,new vD(n.parser,n.parser.startParse(this.input,bD(n.mounts,c),c),n.ranges.map(u=>new eo(u.from-n.start,u.to-n.start)),n.target,c[0].from))),n=n.prev}r&&!--r.depth&&(r=r.prev)}}}}function _be(t,e,n){for(let r of t){if(r.from>=n)break;if(r.to>e)return r.from<=e&&r.to>=n?2:1}return 0}function _D(t,e,n,r,i,o){if(e<n){let s=t.buffer[e+1];r.push(t.slice(e,n,s)),i.push(s-o)}}function wbe(t){let{node:e}=t,n=[],r=e.context.buffer;do n.push(t.index),t.parent();while(!t.tree);let i=t.tree,o=i.children.indexOf(r),s=i.children[o],a=s.buffer,l=[o];function c(u,h,f,d,p,m){let v=n[m],x=[],y=[];_D(s,u,v,x,y,d);let _=a[v+1],C=a[v+2];l.push(x.length);let S=m?c(v+4,a[v+3],s.set.types[a[v]],_,C-_,m-1):e.toTree();return x.push(S),y.push(_-d),_D(s,a[v+3],h,x,y,d),new Ut(f,x,y,p)}i.children[o]=c(0,a.length,Xr.none,0,s.length,n.length-1);for(let u of l){let h=t.tree.children[u],f=t.tree.positions[u];t.yield(new Dr(h,f+t.from,u,t._tree))}}class wD{constructor(e,n){this.offset=n,this.done=!1,this.cursor=e.cursor(ln.IncludeAnonymous|ln.IgnoreMounts)}moveTo(e){let{cursor:n}=this,r=e-this.offset;for(;!this.done&&n.from<r;)n.to>=e&&n.enter(r,1,ln.IgnoreOverlays|ln.ExcludeBuffers)||n.next(!1)||(this.done=!0)}hasNode(e){if(this.moveTo(e.from),!this.done&&this.cursor.from+this.offset==e.from&&this.cursor.tree)for(let n=this.cursor.tree;;){if(n==e.tree)return!0;if(n.children.length&&n.positions[0]==0&&n.children[0]instanceof Ut)n=n.children[0];else break}return!1}}class Cbe{constructor(e){var n;if(this.fragments=e,this.curTo=0,this.fragI=0,e.length){let r=this.curFrag=e[0];this.curTo=(n=r.tree.prop(TS))!==null&&n!==void 0?n:r.to,this.inner=new wD(r.tree,-r.offset)}else this.curFrag=this.inner=null}hasNode(e){for(;this.curFrag&&e.from>=this.curTo;)this.nextFrag();return this.curFrag&&this.curFrag.from<=e.from&&this.curTo>=e.to&&this.inner.hasNode(e)}nextFrag(){var e;if(this.fragI++,this.fragI==this.fragments.length)this.curFrag=this.inner=null;else{let n=this.curFrag=this.fragments[this.fragI];this.curTo=(e=n.tree.prop(TS))!==null&&e!==void 0?e:n.to,this.inner=new wD(n.tree,-n.offset)}}findMounts(e,n){var r;let i=[];if(this.inner){this.inner.cursor.moveTo(e,1);for(let o=this.inner.cursor.node;o;o=o.parent){let s=(r=o.tree)===null||r===void 0?void 0:r.prop(at.mounted);if(s&&s.parser==n)for(let a=this.fragI;a<this.fragments.length;a++){let l=this.fragments[a];if(l.from>=o.to)break;l.tree==this.curFrag.tree&&i.push({frag:l,pos:o.from-l.offset,mount:s})}}}return i}}function CD(t,e){let n=null,r=e;for(let i=1,o=0;i<t.length;i++){let s=t[i-1].to,a=t[i].from;for(;o<r.length;o++){let l=r[o];if(l.from>=a)break;l.to<=s||(n||(r=n=e.slice()),l.from<s?(n[o]=new eo(l.from,s),l.to>a&&n.splice(o+1,0,new eo(a,l.to))):l.to>a?n[o--]=new eo(a,l.to):n.splice(o--,1))}}return r}function bbe(t,e,n,r){let i=0,o=0,s=!1,a=!1,l=-1e9,c=[];for(;;){let u=i==t.length?1e9:s?t[i].to:t[i].from,h=o==e.length?1e9:a?e[o].to:e[o].from;if(s!=a){let f=Math.max(l,n),d=Math.min(u,h,r);f<d&&c.push(new eo(f,d))}if(l=Math.min(u,h),l==1e9)break;u==l&&(s?(s=!1,i++):s=!0),h==l&&(a?(a=!1,o++):a=!0)}return c}function bD(t,e){let n=[];for(let{pos:r,mount:i,frag:o}of t){let s=r+(i.overlay?i.overlay[0].from:0),a=s+i.tree.length,l=Math.max(o.from,s),c=Math.min(o.to,a);if(i.overlay){let u=i.overlay.map(f=>new eo(f.from+r,f.to+r)),h=bbe(e,u,l,c);for(let f=0,d=l;;f++){let p=f==h.length,m=p?c:h[f].from;if(m>d&&n.push(new ra(d,m,i.tree,-s,o.from>=d||o.openStart,o.to<=m||o.openEnd)),p)break;d=h[f].to}}else n.push(new ra(l,c,i.tree,-s,o.from>=s||o.openStart,o.to<=a||o.openEnd))}return n}let Ebe=0;class Qi{constructor(e,n,r,i){this.name=e,this.set=n,this.base=r,this.modified=i,this.id=Ebe++}toString(){let{name:e}=this;for(let n of this.modified)n.name&&(e=`${n.name}(${e})`);return e}static define(e,n){let r=typeof e=="string"?e:"?";if(e instanceof Qi&&(n=e),n!=null&&n.base)throw new Error("Can not derive from a modified tag");let i=new Qi(r,[],null,[]);if(i.set.push(i),n)for(let o of n.set)i.set.push(o);return i}static defineModifier(e){let n=new Pv(e);return r=>r.modified.indexOf(n)>-1?r:Pv.get(r.base||r,r.modified.concat(n).sort((i,o)=>i.id-o.id))}}let Sbe=0;class Pv{constructor(e){this.name=e,this.instances=[],this.id=Sbe++}static get(e,n){if(!n.length)return e;let r=n[0].instances.find(a=>a.base==e&&kbe(n,a.modified));if(r)return r;let i=[],o=new Qi(e.name,i,e,n);for(let a of n)a.instances.push(o);let s=Tbe(n);for(let a of e.set)if(!a.modified.length)for(let l of s)i.push(Pv.get(a,l));return o}}function kbe(t,e){return t.length==e.length&&t.every((n,r)=>n==e[r])}function Tbe(t){let e=[[]];for(let n=0;n<t.length;n++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(t[n]));return e.sort((n,r)=>r.length-n.length)}function Abe(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let i of n.split(" "))if(i){let o=[],s=2,a=i;for(let h=0;;){if(a=="..."&&h>0&&h+3==i.length){s=1;break}let f=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!f)throw new RangeError("Invalid path: "+i);if(o.push(f[0]=="*"?"":f[0][0]=='"'?JSON.parse(f[0]):f[0]),h+=f[0].length,h==i.length)break;let d=i[h++];if(h==i.length&&d=="!"){s=0;break}if(d!="/")throw new RangeError("Invalid path: "+i);a=i.slice(h)}let l=o.length-1,c=o[l];if(!c)throw new RangeError("Invalid path: "+i);let u=new Dv(r,s,l>0?o.slice(0,l):null);e[c]=u.sort(e[c])}}return PU.add(e)}const PU=new at;class Dv{constructor(e,n,r,i){this.tags=e,this.mode=n,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}Dv.empty=new Dv([],2,null);function DU(t,e){let n=Object.create(null);for(let o of t)if(!Array.isArray(o.tag))n[o.tag.id]=o.class;else for(let s of o.tag)n[s.id]=o.class;let{scope:r,all:i=null}=e||{};return{style:o=>{let s=i;for(let a of o)for(let l of a.set){let c=n[l.id];if(c){s=s?s+" "+c:c;break}}return s},scope:r}}function Ibe(t,e){let n=null;for(let r of t){let i=r.style(e);i&&(n=n?n+" "+i:i)}return n}function Rbe(t,e,n,r=0,i=t.length){let o=new Pbe(r,Array.isArray(e)?e:[e],n);o.highlightRange(t.cursor(),r,i,"",o.highlighters),o.flush(i)}class Pbe{constructor(e,n,r){this.at=e,this.highlighters=n,this.span=r,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,r,i,o){let{type:s,from:a,to:l}=e;if(a>=r||l<=n)return;s.isTop&&(o=this.highlighters.filter(d=>!d.scope||d.scope(s)));let c=i,u=Dbe(e)||Dv.empty,h=Ibe(o,u.tags);if(h&&(c&&(c+=" "),c+=h,u.mode==1&&(i+=(i?" ":"")+h)),this.startSpan(Math.max(n,a),c),u.opaque)return;let f=e.tree&&e.tree.prop(at.mounted);if(f&&f.overlay){let d=e.node.enter(f.overlay[0].from+a,1),p=this.highlighters.filter(v=>!v.scope||v.scope(f.tree.type)),m=e.firstChild();for(let v=0,x=a;;v++){let y=v<f.overlay.length?f.overlay[v]:null,_=y?y.from+a:l,C=Math.max(n,x),S=Math.min(r,_);if(C<S&&m)for(;e.from<S&&(this.highlightRange(e,C,S,i,o),this.startSpan(Math.min(S,e.to),c),!(e.to>=_||!e.nextSibling())););if(!y||_>r)break;x=y.to+a,x>n&&(this.highlightRange(d.cursor(),Math.max(n,y.from+a),Math.min(r,x),"",p),this.startSpan(Math.min(r,x),c))}m&&e.parent()}else if(e.firstChild()){f&&(i="");do if(!(e.to<=n)){if(e.from>=r)break;this.highlightRange(e,n,r,i,o),this.startSpan(Math.min(r,e.to),c)}while(e.nextSibling());e.parent()}}}function Dbe(t){let e=t.type.prop(PU);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const ve=Qi.define,o1=ve(),Za=ve(),ED=ve(Za),SD=ve(Za),el=ve(),s1=ve(el),oC=ve(el),Zo=ve(),Tc=ve(Zo),Yo=ve(),Xo=ve(),AS=ve(),Ld=ve(AS),a1=ve(),te={comment:o1,lineComment:ve(o1),blockComment:ve(o1),docComment:ve(o1),name:Za,variableName:ve(Za),typeName:ED,tagName:ve(ED),propertyName:SD,attributeName:ve(SD),className:ve(Za),labelName:ve(Za),namespace:ve(Za),macroName:ve(Za),literal:el,string:s1,docString:ve(s1),character:ve(s1),attributeValue:ve(s1),number:oC,integer:ve(oC),float:ve(oC),bool:ve(el),regexp:ve(el),escape:ve(el),color:ve(el),url:ve(el),keyword:Yo,self:ve(Yo),null:ve(Yo),atom:ve(Yo),unit:ve(Yo),modifier:ve(Yo),operatorKeyword:ve(Yo),controlKeyword:ve(Yo),definitionKeyword:ve(Yo),moduleKeyword:ve(Yo),operator:Xo,derefOperator:ve(Xo),arithmeticOperator:ve(Xo),logicOperator:ve(Xo),bitwiseOperator:ve(Xo),compareOperator:ve(Xo),updateOperator:ve(Xo),definitionOperator:ve(Xo),typeOperator:ve(Xo),controlOperator:ve(Xo),punctuation:AS,separator:ve(AS),bracket:Ld,angleBracket:ve(Ld),squareBracket:ve(Ld),paren:ve(Ld),brace:ve(Ld),content:Zo,heading:Tc,heading1:ve(Tc),heading2:ve(Tc),heading3:ve(Tc),heading4:ve(Tc),heading5:ve(Tc),heading6:ve(Tc),contentSeparator:ve(Zo),list:ve(Zo),quote:ve(Zo),emphasis:ve(Zo),strong:ve(Zo),link:ve(Zo),monospace:ve(Zo),strikethrough:ve(Zo),inserted:ve(),deleted:ve(),changed:ve(),invalid:ve(),meta:a1,documentMeta:ve(a1),annotation:ve(a1),processingInstruction:ve(a1),definition:Qi.defineModifier("definition"),constant:Qi.defineModifier("constant"),function:Qi.defineModifier("function"),standard:Qi.defineModifier("standard"),local:Qi.defineModifier("local"),special:Qi.defineModifier("special")};for(let t in te){let e=te[t];e instanceof Qi&&(e.name=t)}DU([{tag:te.link,class:"tok-link"},{tag:te.heading,class:"tok-heading"},{tag:te.emphasis,class:"tok-emphasis"},{tag:te.strong,class:"tok-strong"},{tag:te.keyword,class:"tok-keyword"},{tag:te.atom,class:"tok-atom"},{tag:te.bool,class:"tok-bool"},{tag:te.url,class:"tok-url"},{tag:te.labelName,class:"tok-labelName"},{tag:te.inserted,class:"tok-inserted"},{tag:te.deleted,class:"tok-deleted"},{tag:te.literal,class:"tok-literal"},{tag:te.string,class:"tok-string"},{tag:te.number,class:"tok-number"},{tag:[te.regexp,te.escape,te.special(te.string)],class:"tok-string2"},{tag:te.variableName,class:"tok-variableName"},{tag:te.local(te.variableName),class:"tok-variableName tok-local"},{tag:te.definition(te.variableName),class:"tok-variableName tok-definition"},{tag:te.special(te.variableName),class:"tok-variableName2"},{tag:te.definition(te.propertyName),class:"tok-propertyName tok-definition"},{tag:te.typeName,class:"tok-typeName"},{tag:te.namespace,class:"tok-namespace"},{tag:te.className,class:"tok-className"},{tag:te.macroName,class:"tok-macroName"},{tag:te.propertyName,class:"tok-propertyName"},{tag:te.operator,class:"tok-operator"},{tag:te.comment,class:"tok-comment"},{tag:te.meta,class:"tok-meta"},{tag:te.invalid,class:"tok-invalid"},{tag:te.punctuation,class:"tok-punctuation"}]);var sC;const jc=new at;function MU(t){return ke.define({combine:t?e=>e.concat(t):void 0})}const Mbe=new at;class to{constructor(e,n,r=[],i=""){this.data=e,this.name=i,_t.prototype.hasOwnProperty("tree")||Object.defineProperty(_t.prototype,"tree",{get(){return Zn(this)}}),this.parser=n,this.extension=[tc.of(this),_t.languageData.of((o,s,a)=>{let l=kD(o,s,a),c=l.type.prop(jc);if(!c)return[];let u=o.facet(c),h=l.type.prop(Mbe);if(h){let f=l.resolve(s-l.from,a);for(let d of h)if(d.test(f,o)){let p=o.facet(d.facet);return d.type=="replace"?p:p.concat(u)}}return u})].concat(r)}isActiveAt(e,n,r=-1){return kD(e,n,r).type.prop(jc)==this.data}findRegions(e){let n=e.facet(tc);if((n==null?void 0:n.data)==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],i=(o,s)=>{if(o.prop(jc)==this.data){r.push({from:s,to:s+o.length});return}let a=o.prop(at.mounted);if(a){if(a.tree.prop(jc)==this.data){if(a.overlay)for(let l of a.overlay)r.push({from:l.from+s,to:l.to+s});else r.push({from:s,to:s+o.length});return}else if(a.overlay){let l=r.length;if(i(a.tree,a.overlay[0].from+s),r.length>l)return}}for(let l=0;l<o.children.length;l++){let c=o.children[l];c instanceof Ut&&i(c,o.positions[l]+s)}};return i(Zn(e),0),r}get allowsNesting(){return!0}}to.setState=et.define();function kD(t,e,n){let r=t.facet(tc),i=Zn(t).topNode;if(!r||r.allowsNesting)for(let o=i;o;o=o.enter(e,n,ln.ExcludeBuffers))o.type.isTop&&(i=o);return i}class IS extends to{constructor(e,n,r){super(e,n,[],r),this.parser=n}static define(e){let n=MU(e.languageData);return new IS(n,e.parser.configure({props:[jc.add(r=>r.isTop?n:void 0)]}),e.name)}configure(e,n){return new IS(this.data,this.parser.configure(e),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Zn(t){let e=t.field(to.state,!1);return e?e.tree:Ut.empty}class Nbe{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let r=this.cursorPos-this.string.length;return e<r||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-r,n-r)}}let Od=null;class If{constructor(e,n,r=[],i,o,s,a,l){this.parser=e,this.state=n,this.fragments=r,this.tree=i,this.treeLen=o,this.viewport=s,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,n,r){return new If(e,n,[],Ut.empty,0,r,[],null)}startParse(){return this.parser.startParse(new Nbe(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=Ut.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(ra.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(ra.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=Od;Od=this;try{return e()}finally{Od=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=TD(e,n.from,n.to);return e}changes(e,n){let{fragments:r,tree:i,treeLen:o,viewport:s,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((c,u,h,f)=>l.push({fromA:c,toA:u,fromB:h,toB:f})),r=ra.applyChanges(r,l),i=Ut.empty,o=0,s={from:e.mapPos(s.from,-1),to:e.mapPos(s.to,1)},this.skipped.length){a=[];for(let c of this.skipped){let u=e.mapPos(c.from,1),h=e.mapPos(c.to,-1);u<h&&a.push({from:u,to:h})}}}return new If(this.parser,n,r,i,o,s,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:o}=this.skipped[r];i<e.to&&o>e.from&&(this.fragments=TD(this.fragments,i,o),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends RU{createParse(n,r,i){let o=i[0].from,s=i[i.length-1].to;return{parsedPos:o,advance(){let l=Od;if(l){for(let c of i)l.tempSkipped.push(c);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=s,new Ut(Xr.none,[],[],s-o)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return Od}}function TD(t,e,n){return ra.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class Rf{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new Rf(n)}static init(e){let n=Math.min(3e3,e.doc.length),r=If.create(e.facet(tc).parser,e,{from:0,to:n});return r.work(20,n)||r.takeTree(),new Rf(r)}}to.state=tr.define({create:Rf.init,update(t,e){for(let n of e.effects)if(n.is(to.setState))return n.value;return e.startState.facet(tc)!=e.state.facet(tc)?Rf.init(e.state):t.apply(e)}});let NU=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(NU=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const aC=typeof navigator<"u"&&(!((sC=navigator.scheduling)===null||sC===void 0)&&sC.isInputPending)?()=>navigator.scheduling.isInputPending():null,Lbe=Nn.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(to.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(to.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=NU(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,o=r.field(to.state);if(o.tree==o.context.tree&&o.context.isDone(i+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,e&&!aC?Math.max(25,e.timeRemaining()-5):1e9),a=o.context.treeLen<i&&r.doc.length>i+1e3,l=o.context.work(()=>aC&&aC()||Date.now()>s,i+(a?0:1e5));this.chunkBudget-=Date.now()-n,(l||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:to.setState.of(new Rf(o.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>hi(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),tc=ke.define({combine(t){return t.length?t[0]:null},enables:t=>[to.state,Lbe,be.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]});class Obe{constructor(e,n=[]){this.language=e,this.support=n,this.extension=[e,n]}}class Z{constructor(e,n,r,i,o,s=void 0){this.name=e,this.alias=n,this.extensions=r,this.filename=i,this.loadFunc=o,this.support=s,this.loading=null}load(){return this.loading||(this.loading=this.loadFunc().then(e=>this.support=e,e=>{throw this.loading=null,e}))}static of(e){let{load:n,support:r}=e;if(!n){if(!r)throw new RangeError("Must pass either 'load' or 'support' to LanguageDescription.of");n=()=>Promise.resolve(r)}return new Z(e.name,(e.alias||[]).concat(e.name).map(i=>i.toLowerCase()),e.extensions||[],e.filename,n,r)}static matchFilename(e,n){for(let i of e)if(i.filename&&i.filename.test(n))return i;let r=/\.([^.]+)$/.exec(n);if(r){for(let i of e)if(i.extensions.indexOf(r[1])>-1)return i}return null}static matchLanguageName(e,n,r=!0){n=n.toLowerCase();for(let i of e)if(i.alias.some(o=>o==n))return i;if(r)for(let i of e)for(let o of i.alias){let s=n.indexOf(o);if(s>-1&&(o.length>2||!/\w/.test(n[s-1])&&!/\w/.test(n[s+o.length])))return i}return null}}const LU=ke.define(),I_=ke.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function _u(t){let e=t.facet(I_);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function V0(t,e){let n="",r=t.tabSize,i=t.facet(I_)[0];if(i=="	"){for(;e>=r;)n+="	",e-=r;i=" "}for(let o=0;o<e;o++)n+=i;return n}function i4(t,e){t instanceof _t&&(t=new R_(t));for(let r of t.state.facet(LU)){let i=r(t,e);if(i!==void 0)return i}let n=Zn(t.state);return n.length>=e?Bbe(t,n,e):null}class R_{constructor(e,n={}){this.state=e,this.options=n,this.unit=_u(e)}lineAt(e,n=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:o}=this.options;return i!=null&&i>=r.from&&i<=r.to?o&&i==e?{text:"",from:e}:(n<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,n);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,n=1){let{text:r,from:i}=this.lineAt(e,n),o=this.countColumn(r,e-i),s=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return s>-1&&(o+=s-this.countColumn(r,r.search(/\S|$/))),o}countColumn(e,n=e.length){return ed(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:r,from:i}=this.lineAt(e,n),o=this.options.overrideIndentation;if(o){let s=o(i);if(s>-1)return s}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Fbe=new at;function Bbe(t,e,n){let r=e.resolveStack(n),i=r.node.enterUnfinishedNodesBefore(n);if(i!=r.node){let o=[];for(let s=i;s!=r.node;s=s.parent)o.push(s);for(let s=o.length-1;s>=0;s--)r={node:o[s],next:r}}return OU(r,t,n)}function OU(t,e,n){for(let r=t;r;r=r.next){let i=zbe(r.node);if(i)return i(o4.create(e,n,r))}return 0}function Vbe(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function zbe(t){let e=t.type.prop(Fbe);if(e)return e;let n=t.firstChild,r;if(n&&(r=n.type.prop(at.closedBy))){let i=t.lastChild,o=i&&r.indexOf(i.name)>-1;return s=>FU(s,!0,1,void 0,o&&!Vbe(s)?i.from:void 0)}return t.parent==null?jbe:null}function jbe(){return 0}class o4 extends R_{constructor(e,n,r){super(e.state,e.options),this.base=e,this.pos=n,this.context=r}get node(){return this.context.node}static create(e,n,r){return new o4(e,n,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let n=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(n.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if($be(r,e))break;n=this.state.doc.lineAt(r.from)}return this.lineIndent(n.from)}continue(){return OU(this.context.next,this.base,this.pos)}}function $be(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function Hbe(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let i=t.options.simulateBreak,o=t.state.doc.lineAt(n.from),s=i==null||i<=o.from?o.to:Math.min(o.to,i);for(let a=n.to;;){let l=e.childAfter(a);if(!l||l==r)return null;if(!l.type.isSkipped)return l.from<s?n:null;a=l.to}}function i4e({closing:t,align:e=!0,units:n=1}){return r=>FU(r,e,n,t)}function FU(t,e,n,r,i){let o=t.textAfter,s=o.match(/^\s*/)[0].length,a=r&&o.slice(s,s+r.length)==r||i==t.pos+s,l=e?Hbe(t):null;return l?a?t.column(l.from):t.column(l.to):t.baseIndent+(a?0:t.unit*n)}const o4e=t=>t.baseIndent;function s4e({except:t,units:e=1}={}){return n=>{let r=t&&t.test(n.textAfter);return n.baseIndent+(r?0:e*n.unit)}}const Ube=200;function Wbe(){return _t.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:r}=t.newSelection.main,i=n.lineAt(r);if(r>i.from+Ube)return t;let o=n.sliceString(i.from,r);if(!e.some(c=>c.test(o)))return t;let{state:s}=t,a=-1,l=[];for(let{head:c}of s.selection.ranges){let u=s.doc.lineAt(c);if(u.from==a)continue;a=u.from;let h=i4(s,u.from);if(h==null)continue;let f=/^\s*/.exec(u.text)[0],d=V0(s,h);f!=d&&l.push({from:u.from,to:u.from+f.length,insert:d})}return l.length?[t,{changes:l,sequential:!0}]:t})}const qbe=ke.define(),Kbe=new at;function a4e(t){let e=t.firstChild,n=t.lastChild;return e&&e.to<n.from?{from:e.to,to:n.type.isError?t.to:n.from}:null}function Gbe(t,e,n){let r=Zn(t);if(r.length<n)return null;let i=r.resolveStack(n,1),o=null;for(let s=i;s;s=s.next){let a=s.node;if(a.to<=n||a.from>n)continue;if(o&&a.from<e)break;let l=a.type.prop(Kbe);if(l&&(a.to<r.length-50||r.length==t.doc.length||!Jbe(a))){let c=l(a,t);c&&c.from<=n&&c.from>=e&&c.to>n&&(o=c)}}return o}function Jbe(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function Mv(t,e,n){for(let r of t.facet(qbe)){let i=r(t,e,n);if(i)return i}return Gbe(t,e,n)}function BU(t,e){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);return n>=r?void 0:{from:n,to:r}}const P_=et.define({map:BU}),Hm=et.define({map:BU});function VU(t){let e=[];for(let{head:n}of t.state.selection.ranges)e.some(r=>r.from<=n&&r.to>=n)||e.push(t.lineBlockAt(n));return e}const wu=tr.define({create(){return Fe.none},update(t,e){t=t.map(e.changes);for(let n of e.effects)if(n.is(P_)&&!Qbe(t,n.value.from,n.value.to)){let{preparePlaceholder:r}=e.state.facet($U),i=r?Fe.replace({widget:new rEe(r(e.state,n.value))}):AD;t=t.update({add:[i.range(n.value.from,n.value.to)]})}else n.is(Hm)&&(t=t.update({filter:(r,i)=>n.value.from!=r||n.value.to!=i,filterFrom:n.value.from,filterTo:n.value.to}));if(e.selection){let n=!1,{head:r}=e.selection.main;t.between(r,r,(i,o)=>{i<r&&o>r&&(n=!0)}),n&&(t=t.update({filterFrom:r,filterTo:r,filter:(i,o)=>o<=r||i>=r}))}return t},provide:t=>be.decorations.from(t),toJSON(t,e){let n=[];return t.between(0,e.doc.length,(r,i)=>{n.push(r,i)}),n},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let n=0;n<t.length;){let r=t[n++],i=t[n++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(AD.range(r,i))}return Fe.set(e,!0)}});function Nv(t,e,n){var r;let i=null;return(r=t.field(wu,!1))===null||r===void 0||r.between(e,n,(o,s)=>{(!i||i.from>o)&&(i={from:o,to:s})}),i}function Qbe(t,e,n){let r=!1;return t.between(e,e,(i,o)=>{i==e&&o==n&&(r=!0)}),r}function zU(t,e){return t.field(wu,!1)?e:e.concat(et.appendConfig.of(HU()))}const Ybe=t=>{for(let e of VU(t)){let n=Mv(t.state,e.from,e.to);if(n)return t.dispatch({effects:zU(t.state,[P_.of(n),jU(t,n)])}),!0}return!1},Xbe=t=>{if(!t.state.field(wu,!1))return!1;let e=[];for(let n of VU(t)){let r=Nv(t.state,n.from,n.to);r&&e.push(Hm.of(r),jU(t,r,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function jU(t,e,n=!0){let r=t.state.doc.lineAt(e.from).number,i=t.state.doc.lineAt(e.to).number;return be.announce.of(`${t.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${t.state.phrase("to")} ${i}.`)}const Zbe=t=>{let{state:e}=t,n=[];for(let r=0;r<e.doc.length;){let i=t.lineBlockAt(r),o=Mv(e,i.from,i.to);o&&n.push(P_.of(o)),r=(o?t.lineBlockAt(o.to):i).to+1}return n.length&&t.dispatch({effects:zU(t.state,n)}),!!n.length},eEe=t=>{let e=t.state.field(wu,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,t.state.doc.length,(r,i)=>{n.push(Hm.of({from:r,to:i}))}),t.dispatch({effects:n}),!0},tEe=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:Ybe},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:Xbe},{key:"Ctrl-Alt-[",run:Zbe},{key:"Ctrl-Alt-]",run:eEe}],nEe={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},$U=ke.define({combine(t){return Rs(t,nEe)}});function HU(t){return[wu,sEe]}function UU(t,e){let{state:n}=t,r=n.facet($U),i=s=>{let a=t.lineBlockAt(t.posAtDOM(s.target)),l=Nv(t.state,a.from,a.to);l&&t.dispatch({effects:Hm.of(l)}),s.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(t,i,e);let o=document.createElement("span");return o.textContent=r.placeholderText,o.setAttribute("aria-label",n.phrase("folded code")),o.title=n.phrase("unfold"),o.className="cm-foldPlaceholder",o.onclick=i,o}const AD=Fe.replace({widget:new class extends Ra{toDOM(t){return UU(t,null)}}});class rEe extends Ra{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return UU(e,this.value)}}const iEe={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class lC extends ya{constructor(e,n){super(),this.config=e,this.open=n}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let n=document.createElement("span");return n.textContent=this.open?this.config.openText:this.config.closedText,n.title=e.state.phrase(this.open?"Fold line":"Unfold line"),n}}function oEe(t={}){let e=Object.assign(Object.assign({},iEe),t),n=new lC(e,!0),r=new lC(e,!1),i=Nn.fromClass(class{constructor(s){this.from=s.viewport.from,this.markers=this.buildMarkers(s)}update(s){(s.docChanged||s.viewportChanged||s.startState.facet(tc)!=s.state.facet(tc)||s.startState.field(wu,!1)!=s.state.field(wu,!1)||Zn(s.startState)!=Zn(s.state)||e.foldingChanged(s))&&(this.markers=this.buildMarkers(s.view))}buildMarkers(s){let a=new Ql;for(let l of s.viewportLineBlocks){let c=Nv(s.state,l.from,l.to)?r:Mv(s.state,l.from,l.to)?n:null;c&&a.add(l.from,l.from,c)}return a.finish()}}),{domEventHandlers:o}=e;return[i,ebe({class:"cm-foldGutter",markers(s){var a;return((a=s.plugin(i))===null||a===void 0?void 0:a.markers)||bt.empty},initialSpacer(){return new lC(e,!1)},domEventHandlers:Object.assign(Object.assign({},o),{click:(s,a,l)=>{if(o.click&&o.click(s,a,l))return!0;let c=Nv(s.state,a.from,a.to);if(c)return s.dispatch({effects:Hm.of(c)}),!0;let u=Mv(s.state,a.from,a.to);return u?(s.dispatch({effects:P_.of(u)}),!0):!1}})}),HU()]}const sEe=be.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Um{constructor(e,n){this.specs=e;let r;function i(a){let l=Yl.newName();return(r||(r=Object.create(null)))["."+l]=a,l}const o=typeof n.all=="string"?n.all:n.all?i(n.all):void 0,s=n.scope;this.scope=s instanceof to?a=>a.prop(jc)==s.data:s?a=>a==s:void 0,this.style=DU(e.map(a=>({tag:a.tag,class:a.class||i(Object.assign({},a,{tag:null}))})),{all:o}).style,this.module=r?new Yl(r):null,this.themeType=n.themeType}static define(e,n){return new Um(e,n||{})}}const RS=ke.define(),WU=ke.define({combine(t){return t.length?[t[0]]:null}});function cC(t){let e=t.facet(RS);return e.length?e:t.facet(WU)}function qU(t,e){let n=[lEe],r;return t instanceof Um&&(t.module&&n.push(be.styleModule.of(t.module)),r=t.themeType),e!=null&&e.fallback?n.push(WU.of(t)):r?n.push(RS.computeN([be.darkTheme],i=>i.facet(be.darkTheme)==(r=="dark")?[t]:[])):n.push(RS.of(t)),n}class aEe{constructor(e){this.markCache=Object.create(null),this.tree=Zn(e.state),this.decorations=this.buildDeco(e,cC(e.state)),this.decoratedTo=e.viewport.to}update(e){let n=Zn(e.state),r=cC(e.state),i=r!=cC(e.startState),{viewport:o}=e.view,s=e.changes.mapPos(this.decoratedTo,1);n.length<o.to&&!i&&n.type==this.tree.type&&s>=o.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=s):(n!=this.tree||e.viewportChanged||i)&&(this.tree=n,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=o.to)}buildDeco(e,n){if(!n||!this.tree.length)return Fe.none;let r=new Ql;for(let{from:i,to:o}of e.visibleRanges)Rbe(this.tree,n,(s,a,l)=>{r.add(s,a,this.markCache[l]||(this.markCache[l]=Fe.mark({class:l})))},i,o);return r.finish()}}const lEe=pc.high(Nn.fromClass(aEe,{decorations:t=>t.decorations})),cEe=Um.define([{tag:te.meta,color:"#404740"},{tag:te.link,textDecoration:"underline"},{tag:te.heading,textDecoration:"underline",fontWeight:"bold"},{tag:te.emphasis,fontStyle:"italic"},{tag:te.strong,fontWeight:"bold"},{tag:te.strikethrough,textDecoration:"line-through"},{tag:te.keyword,color:"#708"},{tag:[te.atom,te.bool,te.url,te.contentSeparator,te.labelName],color:"#219"},{tag:[te.literal,te.inserted],color:"#164"},{tag:[te.string,te.deleted],color:"#a11"},{tag:[te.regexp,te.escape,te.special(te.string)],color:"#e40"},{tag:te.definition(te.variableName),color:"#00f"},{tag:te.local(te.variableName),color:"#30a"},{tag:[te.typeName,te.namespace],color:"#085"},{tag:te.className,color:"#167"},{tag:[te.special(te.variableName),te.macroName],color:"#256"},{tag:te.definition(te.propertyName),color:"#00c"},{tag:te.comment,color:"#940"},{tag:te.invalid,color:"#f00"}]),uEe=be.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),KU=1e4,GU="()[]{}",JU=ke.define({combine(t){return Rs(t,{afterCursor:!0,brackets:GU,maxScanDistance:KU,renderMatch:dEe})}}),hEe=Fe.mark({class:"cm-matchingBracket"}),fEe=Fe.mark({class:"cm-nonmatchingBracket"});function dEe(t){let e=[],n=t.matched?hEe:fEe;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}const pEe=tr.define({create(){return Fe.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],r=e.state.facet(JU);for(let i of e.state.selection.ranges){if(!i.empty)continue;let o=hs(e.state,i.head,-1,r)||i.head>0&&hs(e.state,i.head-1,1,r)||r.afterCursor&&(hs(e.state,i.head,1,r)||i.head<e.state.doc.length&&hs(e.state,i.head+1,-1,r));o&&(n=n.concat(r.renderMatch(o,e.state)))}return Fe.set(n,!0)},provide:t=>be.decorations.from(t)}),mEe=[pEe,uEe];function gEe(t={}){return[JU.of(t),mEe]}const xEe=new at;function PS(t,e,n){let r=t.prop(e<0?at.openedBy:at.closedBy);if(r)return r;if(t.name.length==1){let i=n.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[n[i+e]]}return null}function DS(t){let e=t.type.prop(xEe);return e?e(t.node):t}function hs(t,e,n,r={}){let i=r.maxScanDistance||KU,o=r.brackets||GU,s=Zn(t),a=s.resolveInner(e,n);for(let l=a;l;l=l.parent){let c=PS(l.type,n,o);if(c&&l.from<l.to){let u=DS(l);if(u&&(n>0?e>=u.from&&e<u.to:e>u.from&&e<=u.to))return vEe(t,e,n,l,u,c,o)}}return yEe(t,e,n,s,a.type,i,o)}function vEe(t,e,n,r,i,o,s){let a=r.parent,l={from:i.from,to:i.to},c=0,u=a==null?void 0:a.cursor();if(u&&(n<0?u.childBefore(r.from):u.childAfter(r.to)))do if(n<0?u.to<=r.from:u.from>=r.to){if(c==0&&o.indexOf(u.type.name)>-1&&u.from<u.to){let h=DS(u);return{start:l,end:h?{from:h.from,to:h.to}:void 0,matched:!0}}else if(PS(u.type,n,s))c++;else if(PS(u.type,-n,s)){if(c==0){let h=DS(u);return{start:l,end:h&&h.from<h.to?{from:h.from,to:h.to}:void 0,matched:!1}}c--}}while(n<0?u.prevSibling():u.nextSibling());return{start:l,matched:!1}}function yEe(t,e,n,r,i,o,s){let a=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),l=s.indexOf(a);if(l<0||l%2==0!=n>0)return null;let c={from:n<0?e-1:e,to:n>0?e+1:e},u=t.doc.iterRange(e,n>0?t.doc.length:0),h=0;for(let f=0;!u.next().done&&f<=o;){let d=u.value;n<0&&(f+=d.length);let p=e+f*n;for(let m=n>0?0:d.length-1,v=n>0?d.length:-1;m!=v;m+=n){let x=s.indexOf(d[m]);if(!(x<0||r.resolveInner(p+m,1).type!=i))if(x%2==0==n>0)h++;else{if(h==1)return{start:c,end:{from:p+m,to:p+m+1},matched:x>>1==l>>1};h--}}n>0&&(f+=d.length)}return u.done?{start:c,matched:!1}:null}function ID(t,e,n,r=0,i=0){e==null&&(e=t.search(/[^\s\u00a0]/),e==-1&&(e=t.length));let o=i;for(let s=r;s<e;s++)t.charCodeAt(s)==9?o+=n-o%n:o++;return o}class QU{constructor(e,n,r,i){this.string=e,this.tabSize=n,this.indentUnit=r,this.overrideIndent=i,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return this.pos==0}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(e){let n=this.string.charAt(this.pos),r;if(typeof e=="string"?r=n==e:r=n&&(e instanceof RegExp?e.test(n):e(n)),r)return++this.pos,n}eatWhile(e){let n=this.pos;for(;this.eat(e););return this.pos>n}eatSpace(){let e=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e}skipToEnd(){this.pos=this.string.length}skipTo(e){let n=this.string.indexOf(e,this.pos);if(n>-1)return this.pos=n,!0}backUp(e){this.pos-=e}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=ID(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var e;return(e=this.overrideIndent)!==null&&e!==void 0?e:ID(this.string,null,this.tabSize)}match(e,n,r){if(typeof e=="string"){let i=s=>r?s.toLowerCase():s,o=this.string.substr(this.pos,e.length);return i(o)==i(e)?(n!==!1&&(this.pos+=e.length),!0):null}else{let i=this.string.slice(this.pos).match(e);return i&&i.index>0?null:(i&&n!==!1&&(this.pos+=i[0].length),i)}}current(){return this.string.slice(this.start,this.pos)}}function _Ee(t){return{name:t.name||"",token:t.token,blankLine:t.blankLine||(()=>{}),startState:t.startState||(()=>!0),copyState:t.copyState||wEe,indent:t.indent||(()=>null),languageData:t.languageData||{},tokenTable:t.tokenTable||l4}}function wEe(t){if(typeof t!="object")return t;let e={};for(let n in t){let r=t[n];e[n]=r instanceof Array?r.slice():r}return e}const RD=new WeakMap;class s4 extends to{constructor(e){let n=MU(e.languageData),r=_Ee(e),i,o=new class extends RU{createParse(s,a,l){return new bEe(i,s,a,l)}};super(n,o,[LU.of((s,a)=>this.getIndent(s,a))],e.name),this.topNode=kEe(n),i=this,this.streamParser=r,this.stateAfter=new at({perNode:!0}),this.tokenTable=e.tokenTable?new eW(r.tokenTable):SEe}static define(e){return new s4(e)}getIndent(e,n){let r=Zn(e.state),i=r.resolve(n);for(;i&&i.type!=this.topNode;)i=i.parent;if(!i)return null;let o,{overrideIndentation:s}=e.options;s&&(o=RD.get(e.state),o!=null&&o<n-1e4&&(o=void 0));let a=a4(this,r,0,i.from,o??n),l,c;if(a?(c=a.state,l=a.pos+1):(c=this.streamParser.startState(e.unit),l=0),n-l>1e4)return null;for(;l<n;){let h=e.state.doc.lineAt(l),f=Math.min(n,h.to);if(h.length){let d=s?s(h.from):-1,p=new QU(h.text,e.state.tabSize,e.unit,d<0?void 0:d);for(;p.pos<f-h.from;)XU(this.streamParser.token,p,c)}else this.streamParser.blankLine(c,e.unit);if(f==n)break;l=h.to+1}let u=e.lineAt(n);return s&&o==null&&RD.set(e.state,u.from),this.streamParser.indent(c,/^\s*(.*)/.exec(u.text)[1],e)}get allowsNesting(){return!1}}function a4(t,e,n,r,i){let o=n>=r&&n+e.length<=i&&e.prop(t.stateAfter);if(o)return{state:t.streamParser.copyState(o),pos:n+e.length};for(let s=e.children.length-1;s>=0;s--){let a=e.children[s],l=n+e.positions[s],c=a instanceof Ut&&l<i&&a4(t,a,l,r,i);if(c)return c}return null}function YU(t,e,n,r,i){if(i&&n<=0&&r>=e.length)return e;!i&&e.type==t.topNode&&(i=!0);for(let o=e.children.length-1;o>=0;o--){let s=e.positions[o],a=e.children[o],l;if(s<r&&a instanceof Ut){if(!(l=YU(t,a,n-s,r-s,i)))break;return i?new Ut(e.type,e.children.slice(0,o).concat(l),e.positions.slice(0,o+1),s+l.length):l}}return null}function CEe(t,e,n,r){for(let i of e){let o=i.from+(i.openStart?25:0),s=i.to-(i.openEnd?25:0),a=o<=n&&s>n&&a4(t,i.tree,0-i.offset,n,s),l;if(a&&(l=YU(t,i.tree,n+i.offset,a.pos+i.offset,!1)))return{state:a.state,tree:l}}return{state:t.streamParser.startState(r?_u(r):4),tree:Ut.empty}}class bEe{constructor(e,n,r,i){this.lang=e,this.input=n,this.fragments=r,this.ranges=i,this.stoppedAt=null,this.chunks=[],this.chunkPos=[],this.chunk=[],this.chunkReused=void 0,this.rangeIndex=0,this.to=i[i.length-1].to;let o=If.get(),s=i[0].from,{state:a,tree:l}=CEe(e,r,s,o==null?void 0:o.state);this.state=a,this.parsedPos=this.chunkStart=s+l.length;for(let c=0;c<l.children.length;c++)this.chunks.push(l.children[c]),this.chunkPos.push(l.positions[c]);o&&this.parsedPos<o.viewport.from-1e5&&(this.state=this.lang.streamParser.startState(_u(o.state)),o.skipUntilInView(this.parsedPos,o.viewport.from),this.parsedPos=o.viewport.from),this.moveRangeIndex()}advance(){let e=If.get(),n=this.stoppedAt==null?this.to:Math.min(this.to,this.stoppedAt),r=Math.min(n,this.chunkStart+2048);for(e&&(r=Math.min(r,e.viewport.to));this.parsedPos<r;)this.parseLine(e);return this.chunkStart<this.parsedPos&&this.finishChunk(),this.parsedPos>=n?this.finish():e&&this.parsedPos>=e.viewport.to?(e.skipUntilInView(this.parsedPos,n),this.finish()):null}stopAt(e){this.stoppedAt=e}lineAfter(e){let n=this.input.chunk(e);if(this.input.lineChunks)n==`
`&&(n="");else{let r=n.indexOf(`
`);r>-1&&(n=n.slice(0,r))}return e+n.length<=this.to?n:n.slice(0,this.to-e)}nextLine(){let e=this.parsedPos,n=this.lineAfter(e),r=e+n.length;for(let i=this.rangeIndex;;){let o=this.ranges[i].to;if(o>=r||(n=n.slice(0,o-(r-n.length)),i++,i==this.ranges.length))break;let s=this.ranges[i].from,a=this.lineAfter(s);n+=a,r=s+a.length}return{line:n,end:r}}skipGapsTo(e,n,r){for(;;){let i=this.ranges[this.rangeIndex].to,o=e+n;if(r>0?i>o:i>=o)break;let s=this.ranges[++this.rangeIndex].from;n+=s-i}return n}moveRangeIndex(){for(;this.ranges[this.rangeIndex].to<this.parsedPos;)this.rangeIndex++}emitToken(e,n,r,i,o){if(this.ranges.length>1){o=this.skipGapsTo(n,o,1),n+=o;let s=this.chunk.length;o=this.skipGapsTo(r,o,-1),r+=o,i+=this.chunk.length-s}return this.chunk.push(e,n,r,i),o}parseLine(e){let{line:n,end:r}=this.nextLine(),i=0,{streamParser:o}=this.lang,s=new QU(n,e?e.state.tabSize:4,e?_u(e.state):2);if(s.eol())o.blankLine(this.state,s.indentUnit);else for(;!s.eol();){let a=XU(o.token,s,this.state);if(a&&(i=this.emitToken(this.lang.tokenTable.resolve(a),this.parsedPos+s.start,this.parsedPos+s.pos,4,i)),s.start>1e4)break}this.parsedPos=r,this.moveRangeIndex(),this.parsedPos<this.to&&this.parsedPos++}finishChunk(){let e=Ut.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet:EEe,topID:0,maxBufferLength:2048,reused:this.chunkReused});e=new Ut(e.type,e.children,e.positions,e.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]),this.chunks.push(e),this.chunkPos.push(this.chunkStart-this.ranges[0].from),this.chunk=[],this.chunkReused=void 0,this.chunkStart=this.parsedPos}finish(){return new Ut(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}}function XU(t,e,n){e.start=e.pos;for(let r=0;r<10;r++){let i=t(e,n);if(e.pos>e.start)return i}throw new Error("Stream parser failed to advance stream.")}const l4=Object.create(null),z0=[Xr.none],EEe=new e4(z0),PD=[],DD=Object.create(null),ZU=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])ZU[t]=tW(l4,e);class eW{constructor(e){this.extra=e,this.table=Object.assign(Object.create(null),ZU)}resolve(e){return e?this.table[e]||(this.table[e]=tW(this.extra,e)):0}}const SEe=new eW(l4);function uC(t,e){PD.indexOf(t)>-1||(PD.push(t),console.warn(e))}function tW(t,e){let n=[];for(let a of e.split(" ")){let l=[];for(let c of a.split(".")){let u=t[c]||te[c];u?typeof u=="function"?l.length?l=l.map(u):uC(c,`Modifier ${c} used at start of tag`):l.length?uC(c,`Tag ${c} used as modifier`):l=Array.isArray(u)?u:[u]:uC(c,`Unknown highlighting tag ${c}`)}for(let c of l)n.push(c)}if(!n.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+n.map(a=>a.id),o=DD[i];if(o)return o.id;let s=DD[i]=Xr.define({id:z0.length,name:r,props:[Abe({[r]:n})]});return z0.push(s),s.id}function kEe(t){let e=Xr.define({id:z0.length,name:"Document",props:[jc.add(()=>t)],top:!0});return z0.push(e),e}Xt.RTL,Xt.LTR;class nW{constructor(e,n,r,i){this.state=e,this.pos=n,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let n=Zn(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),r=Math.max(n.from,this.pos-250),i=n.text.slice(r-n.from,this.pos-n.from),o=i.search(rW(e,!1));return o<0?null:{from:r+o,to:this.pos,text:i.slice(o)}}get aborted(){return this.abortListeners==null}addEventListener(e,n,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(n),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function MD(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function TEe(t){let e=Object.create(null),n=Object.create(null);for(let{label:i}of t){e[i[0]]=!0;for(let o=1;o<i.length;o++)n[i[o]]=!0}let r=MD(e)+MD(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function AEe(t){let e=t.map(i=>typeof i=="string"?{label:i}:i),[n,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:TEe(e);return i=>{let o=i.matchBefore(r);return o||i.explicit?{from:o?o.from:i.pos,options:e,validFor:n}:null}}function l4e(t,e){return n=>{for(let r=Zn(n.state).resolveInner(n.pos,-1);r;r=r.parent){if(t.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return e(n)}}class ND{constructor(e,n,r,i){this.completion=e,this.source=n,this.match=r,this.score=i}}function Ll(t){return t.selection.main.from}function rW(t,e){var n;let{source:r}=t,i=e&&r[0]!="^",o=r[r.length-1]!="$";return!i&&!o?t:new RegExp(`${i?"^":""}(?:${r})${o?"$":""}`,(n=t.flags)!==null&&n!==void 0?n:t.ignoreCase?"i":"")}const c4=Ia.define();function IEe(t,e,n,r){let{main:i}=t.selection,o=n-i.from,s=r-i.from;return Object.assign(Object.assign({},t.changeByRange(a=>a!=i&&n!=r&&t.sliceDoc(a.from+o,a.from+s)!=t.sliceDoc(n,r)?{range:a}:{changes:{from:a.from+o,to:r==i.from?a.to:a.from+s,insert:e},range:se.cursor(a.from+o+e.length)})),{scrollIntoView:!0,userEvent:"input.complete"})}const LD=new WeakMap;function REe(t){if(!Array.isArray(t))return t;let e=LD.get(t);return e||LD.set(t,e=AEe(t)),e}const Lv=et.define(),j0=et.define();class PEe{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let n=0;n<e.length;){let r=lr(e,n),i=Xi(r);this.chars.push(r);let o=e.slice(n,n+i),s=o.toUpperCase();this.folded.push(lr(s==o?o.toLowerCase():s,0)),n+=i}this.astral=e.length!=this.chars.length}ret(e,n){return this.score=e,this.matched=n,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:n,folded:r,any:i,precise:o,byWord:s}=this;if(n.length==1){let y=lr(e,0),_=Xi(y),C=_==e.length?0:-100;if(y!=n[0])if(y==r[0])C+=-200;else return null;return this.ret(C,[0,_])}let a=e.indexOf(this.pattern);if(a==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=n.length,c=0;if(a<0){for(let y=0,_=Math.min(e.length,200);y<_&&c<l;){let C=lr(e,y);(C==n[c]||C==r[c])&&(i[c++]=y),y+=Xi(C)}if(c<l)return null}let u=0,h=0,f=!1,d=0,p=-1,m=-1,v=/[a-z]/.test(e),x=!0;for(let y=0,_=Math.min(e.length,200),C=0;y<_&&h<l;){let S=lr(e,y);a<0&&(u<l&&S==n[u]&&(o[u++]=y),d<l&&(S==n[d]||S==r[d]?(d==0&&(p=y),m=y+1,d++):d=0));let T,b=S<255?S>=48&&S<=57||S>=97&&S<=122?2:S>=65&&S<=90?1:0:(T=VA(S))!=T.toLowerCase()?1:T!=T.toUpperCase()?2:0;(!y||b==1&&v||C==0&&b!=0)&&(n[h]==S||r[h]==S&&(f=!0)?s[h++]=y:s.length&&(x=!1)),C=b,y+=Xi(S)}return h==l&&s[0]==0&&x?this.result(-100+(f?-200:0),s,e):d==l&&p==0?this.ret(-200-e.length+(m==e.length?0:-100),[0,m]):a>-1?this.ret(-700-e.length,[a,a+this.pattern.length]):d==l?this.ret(-900-e.length,[p,m]):h==l?this.result(-100+(f?-200:0)+-700+(x?0:-1100),s,e):n.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,n,r){let i=[],o=0;for(let s of n){let a=s+(this.astral?Xi(lr(r,s)):1);o&&i[o-1]==s?i[o-1]=a:(i[o++]=s,i[o++]=a)}return this.ret(e-r.length,i)}}class DEe{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let n=e.slice(0,this.pattern.length),r=n==this.pattern?0:n.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,n.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const fr=ke.define({combine(t){return Rs(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:MEe,filterStrict:!1,compareCompletions:(e,n)=>e.label.localeCompare(n.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>r=>OD(e(r),n(r)),optionClass:(e,n)=>r=>OD(e(r),n(r)),addToOptions:(e,n)=>e.concat(n),filterStrict:(e,n)=>e||n})}});function OD(t,e){return t?e?t+" "+e:t:e}function MEe(t,e,n,r,i,o){let s=t.textDirection==Xt.RTL,a=s,l=!1,c="top",u,h,f=e.left-i.left,d=i.right-e.right,p=r.right-r.left,m=r.bottom-r.top;if(a&&f<Math.min(p,d)?a=!1:!a&&d<Math.min(p,f)&&(a=!0),p<=(a?f:d))u=Math.max(i.top,Math.min(n.top,i.bottom-m))-e.top,h=Math.min(400,a?f:d);else{l=!0,h=Math.min(400,(s?e.right:i.right-e.left)-30);let y=i.bottom-e.bottom;y>=m||y>e.top?u=n.bottom-e.top:(c="bottom",u=e.bottom-n.top)}let v=(e.bottom-e.top)/o.offsetHeight,x=(e.right-e.left)/o.offsetWidth;return{style:`${c}: ${u/v}px; max-width: ${h/x}px`,class:"cm-completionInfo-"+(l?s?"left-narrow":"right-narrow":a?"left":"right")}}function NEe(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(n){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),n.type&&r.classList.add(...n.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(n,r,i,o){let s=document.createElement("span");s.className="cm-completionLabel";let a=n.displayLabel||n.label,l=0;for(let c=0;c<o.length;){let u=o[c++],h=o[c++];u>l&&s.appendChild(document.createTextNode(a.slice(l,u)));let f=s.appendChild(document.createElement("span"));f.appendChild(document.createTextNode(a.slice(u,h))),f.className="cm-completionMatchedText",l=h}return l<a.length&&s.appendChild(document.createTextNode(a.slice(l))),s},position:50},{render(n){if(!n.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=n.detail,r},position:80}),e.sort((n,r)=>n.position-r.position).map(n=>n.render)}function hC(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let i=Math.floor(e/n);return{from:i*n,to:(i+1)*n}}let r=Math.floor((t-e)/n);return{from:t-(r+1)*n,to:t-r*n}}class LEe{constructor(e,n,r){this.view=e,this.stateField=n,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let i=e.state.field(n),{options:o,selected:s}=i.open,a=e.state.facet(fr);this.optionContent=NEe(a),this.optionClass=a.optionClass,this.tooltipClass=a.tooltipClass,this.range=hC(o.length,s,a.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{let{options:c}=e.state.field(n).open;for(let u=l.target,h;u&&u!=this.dom;u=u.parentNode)if(u.nodeName=="LI"&&(h=/-(\d+)$/.exec(u.id))&&+h[1]<c.length){this.applyCompletion(e,c[+h[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let c=e.state.field(this.stateField,!1);c&&c.tooltip&&e.state.facet(fr).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:j0.of(null)})}),this.showOptions(o,i.id)}mount(){this.updateSel()}showOptions(e,n){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,n,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var n;let r=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=i){let{options:o,selected:s,disabled:a}=r.open;(!i.open||i.open.options!=o)&&(this.range=hC(o.length,s,e.state.facet(fr).maxRenderedOptions),this.showOptions(o,r.id)),this.updateSel(),a!=((n=i.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!a)}}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of n.split(" "))r&&this.dom.classList.add(r);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;if((n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=hC(n.options.length,n.selected,this.view.state.facet(fr).maxRenderedOptions),this.showOptions(n.options,e.id)),this.updateSelectedOption(n.selected)){this.destroyInfo();let{completion:r}=n.options[n.selected],{info:i}=r;if(!i)return;let o=typeof i=="string"?document.createTextNode(i):i(r);if(!o)return;"then"in o?o.then(s=>{s&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(s,r)}).catch(s=>hi(this.view.state,s,"completion info")):this.addInfoPane(o,r)}}addInfoPane(e,n){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:o}=e;r.appendChild(i),this.infoDestroy=o||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let n=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),n=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected");return n&&FEe(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),o=this.space;if(!o){let s=this.dom.ownerDocument.defaultView||window;o={left:0,top:0,right:s.innerWidth,bottom:s.innerHeight}}return i.top>Math.min(o.bottom,n.bottom)-10||i.bottom<Math.max(o.top,n.top)+10?null:this.view.state.facet(fr).positionInfo(this.view,n,i,r,o,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,n,r){const i=document.createElement("ul");i.id=n,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions"));let o=null;for(let s=r.from;s<r.to;s++){let{completion:a,match:l}=e[s],{section:c}=a;if(c){let f=typeof c=="string"?c:c.name;if(f!=o&&(s>r.from||r.from==0))if(o=f,typeof c!="string"&&c.header)i.appendChild(c.header(c));else{let d=i.appendChild(document.createElement("completion-section"));d.textContent=f}}const u=i.appendChild(document.createElement("li"));u.id=n+"-"+s,u.setAttribute("role","option");let h=this.optionClass(a);h&&(u.className=h);for(let f of this.optionContent){let d=f(a,this.view.state,this.view,l);d&&u.appendChild(d)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function OEe(t,e){return n=>new LEe(n,t,e)}function FEe(t,e){let n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=n.height/t.offsetHeight;r.top<n.top?t.scrollTop-=(n.top-r.top)/i:r.bottom>n.bottom&&(t.scrollTop+=(r.bottom-n.bottom)/i)}function FD(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function BEe(t,e){let n=[],r=null,i=c=>{n.push(c);let{section:u}=c.completion;if(u){r||(r=[]);let h=typeof u=="string"?u:u.name;r.some(f=>f.name==h)||r.push(typeof u=="string"?{name:h}:u)}},o=e.facet(fr);for(let c of t)if(c.hasResult()){let u=c.result.getMatch;if(c.result.filter===!1)for(let h of c.result.options)i(new ND(h,c.source,u?u(h):[],1e9-n.length));else{let h=e.sliceDoc(c.from,c.to),f,d=o.filterStrict?new DEe(h):new PEe(h);for(let p of c.result.options)if(f=d.match(p.label)){let m=p.displayLabel?u?u(p,f.matched):[]:f.matched;i(new ND(p,c.source,m,f.score+(p.boost||0)))}}}if(r){let c=Object.create(null),u=0,h=(f,d)=>{var p,m;return((p=f.rank)!==null&&p!==void 0?p:1e9)-((m=d.rank)!==null&&m!==void 0?m:1e9)||(f.name<d.name?-1:1)};for(let f of r.sort(h))u-=1e5,c[f.name]=u;for(let f of n){let{section:d}=f.completion;d&&(f.score+=c[typeof d=="string"?d:d.name])}}let s=[],a=null,l=o.compareCompletions;for(let c of n.sort((u,h)=>h.score-u.score||l(u.completion,h.completion))){let u=c.completion;!a||a.label!=u.label||a.detail!=u.detail||a.type!=null&&u.type!=null&&a.type!=u.type||a.apply!=u.apply||a.boost!=u.boost?s.push(c):FD(c.completion)>FD(a)&&(s[s.length-1]=c),a=c.completion}return s}class Rh{constructor(e,n,r,i,o,s){this.options=e,this.attrs=n,this.tooltip=r,this.timestamp=i,this.selected=o,this.disabled=s}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new Rh(this.options,BD(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,r,i,o){let s=BEe(e,n);if(!s.length)return i&&e.some(l=>l.state==1)?new Rh(i.options,i.attrs,i.tooltip,i.timestamp,i.selected,!0):null;let a=n.facet(fr).selectOnOpen?0:-1;if(i&&i.selected!=a&&i.selected!=-1){let l=i.options[i.selected].completion;for(let c=0;c<s.length;c++)if(s[c].completion==l){a=c;break}}return new Rh(s,BD(r,a),{pos:e.reduce((l,c)=>c.hasResult()?Math.min(l,c.from):l,1e8),create:UEe,above:o.aboveCursor},i?i.timestamp:Date.now(),a,!1)}map(e){return new Rh(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class Ov{constructor(e,n,r){this.active=e,this.id=n,this.open=r}static start(){return new Ov($Ee,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,r=n.facet(fr),o=(r.override||n.languageDataAt("autocomplete",Ll(n)).map(REe)).map(a=>(this.active.find(c=>c.source==a)||new Ri(a,this.active.some(c=>c.state!=0)?1:0)).update(e,r));o.length==this.active.length&&o.every((a,l)=>a==this.active[l])&&(o=this.active);let s=this.open;s&&e.docChanged&&(s=s.map(e.changes)),e.selection||o.some(a=>a.hasResult()&&e.changes.touchesRange(a.from,a.to))||!VEe(o,this.active)?s=Rh.build(o,n,this.id,s,r):s&&s.disabled&&!o.some(a=>a.state==1)&&(s=null),!s&&o.every(a=>a.state!=1)&&o.some(a=>a.hasResult())&&(o=o.map(a=>a.hasResult()?new Ri(a.source,0):a));for(let a of e.effects)a.is(sW)&&(s=s&&s.setSelected(a.value,this.id));return o==this.active&&s==this.open?this:new Ov(o,this.id,s)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?zEe:jEe}}function VEe(t,e){if(t==e)return!0;for(let n=0,r=0;;){for(;n<t.length&&!t[n].hasResult;)n++;for(;r<e.length&&!e[r].hasResult;)r++;let i=n==t.length,o=r==e.length;if(i||o)return i==o;if(t[n++].result!=e[r++].result)return!1}}const zEe={"aria-autocomplete":"list"},jEe={};function BD(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const $Ee=[];function iW(t,e){if(t.isUserEvent("input.complete")){let r=t.annotation(c4);if(r&&e.activateOnCompletion(r))return 12}let n=t.isUserEvent("input.type");return n&&e.activateOnTyping?5:n?1:t.isUserEvent("delete.backward")?2:t.selection?8:t.docChanged?16:0}class Ri{constructor(e,n,r=-1){this.source=e,this.state=n,this.explicitPos=r}hasResult(){return!1}update(e,n){let r=iW(e,n),i=this;(r&8||r&16&&this.touches(e))&&(i=new Ri(i.source,0)),r&4&&i.state==0&&(i=new Ri(this.source,1)),i=i.updateFor(e,r);for(let o of e.effects)if(o.is(Lv))i=new Ri(i.source,1,o.value?Ll(e.state):-1);else if(o.is(j0))i=new Ri(i.source,0);else if(o.is(oW))for(let s of o.value)s.source==i.source&&(i=s);return i}updateFor(e,n){return this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new Ri(this.source,this.state,e.mapPos(this.explicitPos))}touches(e){return e.changes.touchesRange(Ll(e.state))}}class Zh extends Ri{constructor(e,n,r,i,o){super(e,2,n),this.result=r,this.from=i,this.to=o}hasResult(){return!0}updateFor(e,n){var r;if(!(n&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let o=e.changes.mapPos(this.from),s=e.changes.mapPos(this.to,1),a=Ll(e.state);if((this.explicitPos<0?a<=o:a<this.from)||a>s||!i||n&2&&Ll(e.startState)==this.from)return new Ri(this.source,n&4?1:0);let l=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos);return HEe(i.validFor,e.state,o,s)?new Zh(this.source,l,i,o,s):i.update&&(i=i.update(i,o,s,new nW(e.state,a,l>=0)))?new Zh(this.source,l,i,i.from,(r=i.to)!==null&&r!==void 0?r:Ll(e.state)):new Ri(this.source,1,l)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new Zh(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Ri(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function HEe(t,e,n,r){if(!t)return!1;let i=e.sliceDoc(n,r);return typeof t=="function"?t(i,n,r,e):rW(t,!0).test(i)}const oW=et.define({map(t,e){return t.map(n=>n.map(e))}}),sW=et.define(),ci=tr.define({create(){return Ov.start()},update(t,e){return t.update(e)},provide:t=>[ZA.from(t,e=>e.tooltip),be.contentAttributes.from(t,e=>e.attrs)]});function u4(t,e){const n=e.completion.apply||e.completion.label;let r=t.state.field(ci).active.find(i=>i.source==e.source);return r instanceof Zh?(typeof n=="string"?t.dispatch(Object.assign(Object.assign({},IEe(t.state,n,r.from,r.to)),{annotations:c4.of(e.completion)})):n(t,e.completion,r.from,r.to),!0):!1}const UEe=OEe(ci,u4);function l1(t,e="option"){return n=>{let r=n.state.field(ci,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(fr).interactionDelay)return!1;let i=1,o;e=="page"&&(o=CU(n,r.open.tooltip))&&(i=Math.max(2,Math.floor(o.dom.offsetHeight/o.dom.querySelector("li").offsetHeight)-1));let{length:s}=r.open.options,a=r.open.selected>-1?r.open.selected+i*(t?1:-1):t?0:s-1;return a<0?a=e=="page"?0:s-1:a>=s&&(a=e=="page"?s-1:0),n.dispatch({effects:sW.of(a)}),!0}}const WEe=t=>{let e=t.state.field(ci,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(fr).interactionDelay?!1:u4(t,e.open.options[e.open.selected])},qEe=t=>t.state.field(ci,!1)?(t.dispatch({effects:Lv.of(!0)}),!0):!1,KEe=t=>{let e=t.state.field(ci,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(t.dispatch({effects:j0.of(null)}),!0)};class GEe{constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const JEe=50,QEe=1e3,YEe=Nn.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(ci).active)e.state==1&&this.startQuery(e)}update(t){let e=t.state.field(ci),n=t.state.facet(fr);if(!t.selectionSet&&!t.docChanged&&t.startState.field(ci)==e)return;let r=t.transactions.some(o=>{let s=iW(o,n);return s&8||(o.selection||o.docChanged)&&!(s&3)});for(let o=0;o<this.running.length;o++){let s=this.running[o];if(r||s.context.abortOnDocChange&&t.docChanged||s.updates.length+t.transactions.length>JEe&&Date.now()-s.time>QEe){for(let a of s.context.abortListeners)try{a()}catch(l){hi(this.view.state,l)}s.context.abortListeners=null,this.running.splice(o--,1)}else s.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(o=>o.effects.some(s=>s.is(Lv)))&&(this.pendingStart=!0);let i=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(o=>o.state==1&&!this.running.some(s=>s.active.source==o.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let o of t.transactions)o.isUserEvent("input.type")?this.composing=2:this.composing==2&&o.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(ci);for(let n of e.active)n.state==1&&!this.running.some(r=>r.active.source==n.source)&&this.startQuery(n)}startQuery(t){let{state:e}=this.view,n=Ll(e),r=new nW(e,n,t.explicitPos==n,this.view),i=new GEe(t,r);this.running.push(i),Promise.resolve(t.source(r)).then(o=>{i.context.aborted||(i.done=o||null,this.scheduleAccept())},o=>{this.view.dispatch({effects:j0.of(null)}),hi(this.view.state,o)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(fr).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(fr);for(let r=0;r<this.running.length;r++){let i=this.running[r];if(i.done===void 0)continue;if(this.running.splice(r--,1),i.done){let s=new Zh(i.active.source,i.active.explicitPos,i.done,i.done.from,(t=i.done.to)!==null&&t!==void 0?t:Ll(i.updates.length?i.updates[0].startState:this.view.state));for(let a of i.updates)s=s.update(a,n);if(s.hasResult()){e.push(s);continue}}let o=this.view.state.field(ci).active.find(s=>s.source==i.active.source);if(o&&o.state==1)if(i.done==null){let s=new Ri(i.active.source,0);for(let a of i.updates)s=s.update(a,n);s.state!=1&&e.push(s)}else this.startQuery(o)}e.length&&this.view.dispatch({effects:oW.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(ci,!1);if(e&&e.tooltip&&this.view.state.facet(fr).closeOnBlur){let n=e.open&&CU(this.view,e.open.tooltip);(!n||!n.dom.contains(t.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:j0.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Lv.of(!1)}),20),this.composing=0}}}),XEe=typeof navigator=="object"&&/Win/.test(navigator.platform),ZEe=pc.highest(be.domEventHandlers({keydown(t,e){let n=e.state.field(ci,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||t.key.length>1||t.ctrlKey&&!(XEe&&t.altKey)||t.metaKey)return!1;let r=n.open.options[n.open.selected],i=n.active.find(s=>s.source==r.source),o=r.completion.commitCharacters||i.result.commitCharacters;return o&&o.indexOf(t.key)>-1&&u4(e,r),!1}})),aW=be.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class eSe{constructor(e,n,r,i){this.field=e,this.line=n,this.from=r,this.to=i}}class h4{constructor(e,n,r){this.field=e,this.from=n,this.to=r}map(e){let n=e.mapPos(this.from,-1,hr.TrackDel),r=e.mapPos(this.to,1,hr.TrackDel);return n==null||r==null?null:new h4(this.field,n,r)}}class f4{constructor(e,n){this.lines=e,this.fieldPositions=n}instantiate(e,n){let r=[],i=[n],o=e.doc.lineAt(n),s=/^\s*/.exec(o.text)[0];for(let l of this.lines){if(r.length){let c=s,u=/^\t*/.exec(l)[0].length;for(let h=0;h<u;h++)c+=e.facet(I_);i.push(n+c.length-u),l=c+l.slice(u)}r.push(l),n+=l.length+1}let a=this.fieldPositions.map(l=>new h4(l.field,i[l.line]+l.from,i[l.line]+l.to));return{text:r,ranges:a}}static parse(e){let n=[],r=[],i=[],o;for(let s of e.split(/\r\n?|\n/)){for(;o=/[#$]\{(?:(\d+)(?::([^}]*))?|((?:\\[{}]|[^}])*))\}/.exec(s);){let a=o[1]?+o[1]:null,l=o[2]||o[3]||"",c=-1,u=l.replace(/\\[{}]/g,h=>h[1]);for(let h=0;h<n.length;h++)(a!=null?n[h].seq==a:u&&n[h].name==u)&&(c=h);if(c<0){let h=0;for(;h<n.length&&(a==null||n[h].seq!=null&&n[h].seq<a);)h++;n.splice(h,0,{seq:a,name:u}),c=h;for(let f of i)f.field>=c&&f.field++}i.push(new eSe(c,r.length,o.index,o.index+u.length)),s=s.slice(0,o.index)+l+s.slice(o.index+o[0].length)}s=s.replace(/\\([{}])/g,(a,l,c)=>{for(let u of i)u.line==r.length&&u.from>c&&(u.from--,u.to--);return l}),r.push(s)}return new f4(r,i)}}let tSe=Fe.widget({widget:new class extends Ra{toDOM(){let t=document.createElement("span");return t.className="cm-snippetFieldPosition",t}ignoreEvent(){return!1}}}),nSe=Fe.mark({class:"cm-snippetField"});class td{constructor(e,n){this.ranges=e,this.active=n,this.deco=Fe.set(e.map(r=>(r.from==r.to?tSe:nSe).range(r.from,r.to)))}map(e){let n=[];for(let r of this.ranges){let i=r.map(e);if(!i)return null;n.push(i)}return new td(n,this.active)}selectionInsideField(e){return e.ranges.every(n=>this.ranges.some(r=>r.field==this.active&&r.from<=n.from&&r.to>=n.to))}}const Wm=et.define({map(t,e){return t&&t.map(e)}}),rSe=et.define(),$0=tr.define({create(){return null},update(t,e){for(let n of e.effects){if(n.is(Wm))return n.value;if(n.is(rSe)&&t)return new td(t.ranges,n.value)}return t&&e.docChanged&&(t=t.map(e.changes)),t&&e.selection&&!t.selectionInsideField(e.selection)&&(t=null),t},provide:t=>be.decorations.from(t,e=>e?e.deco:Fe.none)});function d4(t,e){return se.create(t.filter(n=>n.field==e).map(n=>se.range(n.from,n.to)))}function iSe(t){let e=f4.parse(t);return(n,r,i,o)=>{let{text:s,ranges:a}=e.instantiate(n.state,i),l={changes:{from:i,to:o,insert:Rt.of(s)},scrollIntoView:!0,annotations:r?[c4.of(r),Mn.userEvent.of("input.complete")]:void 0};if(a.length&&(l.selection=d4(a,0)),a.some(c=>c.field>0)){let c=new td(a,0),u=l.effects=[Wm.of(c)];n.state.field($0,!1)===void 0&&u.push(et.appendConfig.of([$0,cSe,uSe,aW]))}n.dispatch(n.state.update(l))}}function lW(t){return({state:e,dispatch:n})=>{let r=e.field($0,!1);if(!r||t<0&&r.active==0)return!1;let i=r.active+t,o=t>0&&!r.ranges.some(s=>s.field==i+t);return n(e.update({selection:d4(r.ranges,i),effects:Wm.of(o?null:new td(r.ranges,i)),scrollIntoView:!0})),!0}}const oSe=({state:t,dispatch:e})=>t.field($0,!1)?(e(t.update({effects:Wm.of(null)})),!0):!1,sSe=lW(1),aSe=lW(-1),lSe=[{key:"Tab",run:sSe,shift:aSe},{key:"Escape",run:oSe}],VD=ke.define({combine(t){return t.length?t[0]:lSe}}),cSe=pc.highest(T_.compute([VD],t=>t.facet(VD)));function c4e(t,e){return Object.assign(Object.assign({},e),{apply:iSe(t)})}const uSe=be.domEventHandlers({mousedown(t,e){let n=e.state.field($0,!1),r;if(!n||(r=e.posAtCoords({x:t.clientX,y:t.clientY}))==null)return!1;let i=n.ranges.find(o=>o.from<=r&&o.to>=r);return!i||i.field==n.active?!1:(e.dispatch({selection:d4(n.ranges,i.field),effects:Wm.of(n.ranges.some(o=>o.field>i.field)?new td(n.ranges,i.field):null),scrollIntoView:!0}),!0)}}),H0={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},$c=et.define({map(t,e){let n=e.mapPos(t,-1,hr.TrackAfter);return n??void 0}}),p4=new class extends gu{};p4.startSide=1;p4.endSide=-1;const cW=tr.define({create(){return bt.empty},update(t,e){if(t=t.map(e.changes),e.selection){let n=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:r=>r>=n.from&&r<=n.to})}for(let n of e.effects)n.is($c)&&(t=t.update({add:[p4.range(n.value,n.value+1)]}));return t}});function hSe(){return[dSe,cW]}const fC="()[]{}<>";function uW(t){for(let e=0;e<fC.length;e+=2)if(fC.charCodeAt(e)==t)return fC.charAt(e+1);return VA(t<128?t:t+1)}function hW(t,e){return t.languageDataAt("closeBrackets",e)[0]||H0}const fSe=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),dSe=be.inputHandler.of((t,e,n,r)=>{if((fSe?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let i=t.state.selection.main;if(r.length>2||r.length==2&&Xi(lr(r,0))==1||e!=i.from||n!=i.to)return!1;let o=gSe(t.state,r);return o?(t.dispatch(o),!0):!1}),pSe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=hW(t,t.selection.main.head).brackets||H0.brackets,i=null,o=t.changeByRange(s=>{if(s.empty){let a=xSe(t.doc,s.head);for(let l of r)if(l==a&&D_(t.doc,s.head)==uW(lr(l,0)))return{changes:{from:s.head-l.length,to:s.head+l.length},range:se.cursor(s.head-l.length)}}return{range:i=s}});return i||e(t.update(o,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},mSe=[{key:"Backspace",run:pSe}];function gSe(t,e){let n=hW(t,t.selection.main.head),r=n.brackets||H0.brackets;for(let i of r){let o=uW(lr(i,0));if(e==i)return o==i?_Se(t,i,r.indexOf(i+i+i)>-1,n):vSe(t,i,o,n.before||H0.before);if(e==o&&fW(t,t.selection.main.from))return ySe(t,i,o)}return null}function fW(t,e){let n=!1;return t.field(cW).between(0,t.doc.length,r=>{r==e&&(n=!0)}),n}function D_(t,e){let n=t.sliceString(e,e+2);return n.slice(0,Xi(lr(n,0)))}function xSe(t,e){let n=t.sliceString(e-2,e);return Xi(lr(n,0))==n.length?n:n.slice(1)}function vSe(t,e,n,r){let i=null,o=t.changeByRange(s=>{if(!s.empty)return{changes:[{insert:e,from:s.from},{insert:n,from:s.to}],effects:$c.of(s.to+e.length),range:se.range(s.anchor+e.length,s.head+e.length)};let a=D_(t.doc,s.head);return!a||/\s/.test(a)||r.indexOf(a)>-1?{changes:{insert:e+n,from:s.head},effects:$c.of(s.head+e.length),range:se.cursor(s.head+e.length)}:{range:i=s}});return i?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function ySe(t,e,n){let r=null,i=t.changeByRange(o=>o.empty&&D_(t.doc,o.head)==n?{changes:{from:o.head,to:o.head+n.length,insert:n},range:se.cursor(o.head+n.length)}:r={range:o});return r?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function _Se(t,e,n,r){let i=r.stringPrefixes||H0.stringPrefixes,o=null,s=t.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:e,from:a.to}],effects:$c.of(a.to+e.length),range:se.range(a.anchor+e.length,a.head+e.length)};let l=a.head,c=D_(t.doc,l),u;if(c==e){if(zD(t,l))return{changes:{insert:e+e,from:l},effects:$c.of(l+e.length),range:se.cursor(l+e.length)};if(fW(t,l)){let f=n&&t.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+f.length,insert:f},range:se.cursor(l+f.length)}}}else{if(n&&t.sliceDoc(l-2*e.length,l)==e+e&&(u=jD(t,l-2*e.length,i))>-1&&zD(t,u))return{changes:{insert:e+e+e+e,from:l},effects:$c.of(l+e.length),range:se.cursor(l+e.length)};if(t.charCategorizer(l)(c)!=rn.Word&&jD(t,l,i)>-1&&!wSe(t,l,e,i))return{changes:{insert:e+e,from:l},effects:$c.of(l+e.length),range:se.cursor(l+e.length)}}return{range:o=a}});return o?null:t.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function zD(t,e){let n=Zn(t).resolveInner(e+1);return n.parent&&n.from==e}function wSe(t,e,n,r){let i=Zn(t).resolveInner(e,-1),o=r.reduce((s,a)=>Math.max(s,a.length),0);for(let s=0;s<5;s++){let a=t.sliceDoc(i.from,Math.min(i.to,i.from+n.length+o)),l=a.indexOf(n);if(!l||l>-1&&r.indexOf(a.slice(0,l))>-1){let u=i.firstChild;for(;u&&u.from==i.from&&u.to-u.from>n.length+l;){if(t.sliceDoc(u.to-n.length,u.to)==n)return!1;u=u.firstChild}return!0}let c=i.to==e&&i.parent;if(!c)break;i=c}return!1}function jD(t,e,n){let r=t.charCategorizer(e);if(r(t.sliceDoc(e-1,e))!=rn.Word)return e;for(let i of n){let o=e-i.length;if(t.sliceDoc(o,e)==i&&r(t.sliceDoc(o-1,o))!=rn.Word)return o}return-1}function CSe(t={}){return[ZEe,ci,fr.of(t),YEe,bSe,aW]}const dW=[{key:"Ctrl-Space",run:qEe},{key:"Escape",run:KEe},{key:"ArrowDown",run:l1(!0)},{key:"ArrowUp",run:l1(!1)},{key:"PageDown",run:l1(!0,"page")},{key:"PageUp",run:l1(!1,"page")},{key:"Enter",run:WEe}],bSe=pc.highest(T_.computeN([fr],t=>t.facet(fr).defaultKeymap?[dW]:[])),ESe=t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),r=g4(t.state,n.from);return r.line?SSe(t):r.block?TSe(t):!1};function m4(t,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=t(e,n);return i?(r(n.update(i)),!0):!1}}const SSe=m4(RSe,0),kSe=m4(pW,0),TSe=m4((t,e)=>pW(t,e,ISe(e)),0);function g4(t,e){let n=t.languageDataAt("commentTokens",e);return n.length?n[0]:{}}const Fd=50;function ASe(t,{open:e,close:n},r,i){let o=t.sliceDoc(r-Fd,r),s=t.sliceDoc(i,i+Fd),a=/\s*$/.exec(o)[0].length,l=/^\s*/.exec(s)[0].length,c=o.length-a;if(o.slice(c-e.length,c)==e&&s.slice(l,l+n.length)==n)return{open:{pos:r-a,margin:a&&1},close:{pos:i+l,margin:l&&1}};let u,h;i-r<=2*Fd?u=h=t.sliceDoc(r,i):(u=t.sliceDoc(r,r+Fd),h=t.sliceDoc(i-Fd,i));let f=/^\s*/.exec(u)[0].length,d=/\s*$/.exec(h)[0].length,p=h.length-d-n.length;return u.slice(f,f+e.length)==e&&h.slice(p,p+n.length)==n?{open:{pos:r+f+e.length,margin:/\s/.test(u.charAt(f+e.length))?1:0},close:{pos:i-d-n.length,margin:/\s/.test(h.charAt(p-1))?1:0}}:null}function ISe(t){let e=[];for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),i=n.to<=r.to?r:t.doc.lineAt(n.to),o=e.length-1;o>=0&&e[o].to>r.from?e[o].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}function pW(t,e,n=e.selection.ranges){let r=n.map(o=>g4(e,o.from).block);if(!r.every(o=>o))return null;let i=n.map((o,s)=>ASe(e,r[s],o.from,o.to));if(t!=2&&!i.every(o=>o))return{changes:e.changes(n.map((o,s)=>i[s]?[]:[{from:o.from,insert:r[s].open+" "},{from:o.to,insert:" "+r[s].close}]))};if(t!=1&&i.some(o=>o)){let o=[];for(let s=0,a;s<i.length;s++)if(a=i[s]){let l=r[s],{open:c,close:u}=a;o.push({from:c.pos-l.open.length,to:c.pos+c.margin},{from:u.pos-u.margin,to:u.pos+l.close.length})}return{changes:o}}return null}function RSe(t,e,n=e.selection.ranges){let r=[],i=-1;for(let{from:o,to:s}of n){let a=r.length,l=1e9,c=g4(e,o).line;if(c){for(let u=o;u<=s;){let h=e.doc.lineAt(u);if(h.from>i&&(o==s||s>h.from)){i=h.from;let f=/^\s*/.exec(h.text)[0].length,d=f==h.length,p=h.text.slice(f,f+c.length)==c?f:-1;f<h.text.length&&f<l&&(l=f),r.push({line:h,comment:p,token:c,indent:f,empty:d,single:!1})}u=h.to+1}if(l<1e9)for(let u=a;u<r.length;u++)r[u].indent<r[u].line.text.length&&(r[u].indent=l);r.length==a+1&&(r[a].single=!0)}}if(t!=2&&r.some(o=>o.comment<0&&(!o.empty||o.single))){let o=[];for(let{line:a,token:l,indent:c,empty:u,single:h}of r)(h||!u)&&o.push({from:a.from+c,insert:l+" "});let s=e.changes(o);return{changes:s,selection:e.selection.map(s,1)}}else if(t!=1&&r.some(o=>o.comment>=0)){let o=[];for(let{line:s,comment:a,token:l}of r)if(a>=0){let c=s.from+a,u=c+l.length;s.text[u-s.from]==" "&&u++,o.push({from:c,to:u})}return{changes:o}}return null}const MS=Ia.define(),PSe=Ia.define(),DSe=ke.define(),mW=ke.define({combine(t){return Rs(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(r,i)=>e(r,i)||n(r,i)})}}),gW=tr.define({create(){return fs.empty},update(t,e){let n=e.state.facet(mW),r=e.annotation(MS);if(r){let l=fi.fromTransaction(e,r.selection),c=r.side,u=c==0?t.undone:t.done;return l?u=Fv(u,u.length,n.minDepth,l):u=yW(u,e.startState.selection),new fs(c==0?r.rest:u,c==0?u:r.rest)}let i=e.annotation(PSe);if((i=="full"||i=="before")&&(t=t.isolate()),e.annotation(Mn.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let o=fi.fromTransaction(e),s=e.annotation(Mn.time),a=e.annotation(Mn.userEvent);return o?t=t.addChanges(o,s,a,n,e):e.selection&&(t=t.addSelection(e.startState.selection,s,a,n.newGroupDelay)),(i=="full"||i=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new fs(t.done.map(fi.fromJSON),t.undone.map(fi.fromJSON))}});function MSe(t={}){return[gW,mW.of(t),be.domEventHandlers({beforeinput(e,n){let r=e.inputType=="historyUndo"?xW:e.inputType=="historyRedo"?NS:null;return r?(e.preventDefault(),r(n)):!1}})]}function M_(t,e){return function({state:n,dispatch:r}){if(!e&&n.readOnly)return!1;let i=n.field(gW,!1);if(!i)return!1;let o=i.pop(t,n,e);return o?(r(o),!0):!1}}const xW=M_(0,!1),NS=M_(1,!1),NSe=M_(0,!0),LSe=M_(1,!0);class fi{constructor(e,n,r,i,o){this.changes=e,this.effects=n,this.mapped=r,this.startSelection=i,this.selectionsAfter=o}setSelAfter(e){return new fi(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new fi(e.changes&&zn.fromJSON(e.changes),[],e.mapped&&_s.fromJSON(e.mapped),e.startSelection&&se.fromJSON(e.startSelection),e.selectionsAfter.map(se.fromJSON))}static fromTransaction(e,n){let r=no;for(let i of e.startState.facet(DSe)){let o=i(e);o.length&&(r=r.concat(o))}return!r.length&&e.changes.empty?null:new fi(e.changes.invert(e.startState.doc),r,void 0,n||e.startState.selection,no)}static selection(e){return new fi(void 0,no,void 0,void 0,e)}}function Fv(t,e,n,r){let i=e+1>n+20?e-n-1:0,o=t.slice(i,e);return o.push(r),o}function OSe(t,e){let n=[],r=!1;return t.iterChangedRanges((i,o)=>n.push(i,o)),e.iterChangedRanges((i,o,s,a)=>{for(let l=0;l<n.length;){let c=n[l++],u=n[l++];a>=c&&s<=u&&(r=!0)}}),r}function FSe(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((n,r)=>n.empty!=e.ranges[r].empty).length===0}function vW(t,e){return t.length?e.length?t.concat(e):t:e}const no=[],BSe=200;function yW(t,e){if(t.length){let n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-BSe));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),Fv(t,t.length-1,1e9,n.setSelAfter(r)))}else return[fi.selection([e])]}function VSe(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function dC(t,e){if(!t.length)return t;let n=t.length,r=no;for(;n;){let i=zSe(t[n-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let o=t.slice(0,n);return o[n-1]=i,o}else e=i.mapped,n--,r=i.selectionsAfter}return r.length?[fi.selection(r)]:no}function zSe(t,e,n){let r=vW(t.selectionsAfter.length?t.selectionsAfter.map(a=>a.map(e)):no,n);if(!t.changes)return fi.selection(r);let i=t.changes.map(e),o=e.mapDesc(t.changes,!0),s=t.mapped?t.mapped.composeDesc(o):o;return new fi(i,et.mapEffects(t.effects,e),s,t.startSelection.map(o),r)}const jSe=/^(input\.type|delete)($|\.)/;class fs{constructor(e,n,r=0,i=void 0){this.done=e,this.undone=n,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new fs(this.done,this.undone):this}addChanges(e,n,r,i,o){let s=this.done,a=s[s.length-1];return a&&a.changes&&!a.changes.empty&&e.changes&&(!r||jSe.test(r))&&(!a.selectionsAfter.length&&n-this.prevTime<i.newGroupDelay&&i.joinToEvent(o,OSe(a.changes,e.changes))||r=="input.type.compose")?s=Fv(s,s.length-1,i.minDepth,new fi(e.changes.compose(a.changes),vW(et.mapEffects(e.effects,a.changes),a.effects),a.mapped,a.startSelection,no)):s=Fv(s,s.length,i.minDepth,e),new fs(s,no,n,r)}addSelection(e,n,r,i){let o=this.done.length?this.done[this.done.length-1].selectionsAfter:no;return o.length>0&&n-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&FSe(o[o.length-1],e)?this:new fs(yW(this.done,e),this.undone,n,r)}addMapping(e){return new fs(dC(this.done,e),dC(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let o=i[i.length-1],s=o.selectionsAfter[0]||n.selection;if(r&&o.selectionsAfter.length)return n.update({selection:o.selectionsAfter[o.selectionsAfter.length-1],annotations:MS.of({side:e,rest:VSe(i),selection:s}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(o.changes){let a=i.length==1?no:i.slice(0,i.length-1);return o.mapped&&(a=dC(a,o.mapped)),n.update({changes:o.changes,selection:o.startSelection,effects:o.effects,annotations:MS.of({side:e,rest:a,selection:s}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}fs.empty=new fs(no,no);const $Se=[{key:"Mod-z",run:xW,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:NS,preventDefault:!0},{linux:"Ctrl-Shift-z",run:NS,preventDefault:!0},{key:"Mod-u",run:NSe,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:LSe,preventDefault:!0}];function nd(t,e){return se.create(t.ranges.map(e),t.mainIndex)}function Ps(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Ko({state:t,dispatch:e},n){let r=nd(t.selection,n);return r.eq(t.selection,!0)?!1:(e(Ps(t,r)),!0)}function N_(t,e){return se.cursor(e?t.to:t.from)}function _W(t,e){return Ko(t,n=>n.empty?t.moveByChar(n,e):N_(n,e))}function Vr(t){return t.textDirectionAt(t.state.selection.main.head)==Xt.LTR}const wW=t=>_W(t,!Vr(t)),CW=t=>_W(t,Vr(t));function bW(t,e){return Ko(t,n=>n.empty?t.moveByGroup(n,e):N_(n,e))}const HSe=t=>bW(t,!Vr(t)),USe=t=>bW(t,Vr(t));function WSe(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function L_(t,e,n){let r=Zn(t).resolveInner(e.head),i=n?at.closedBy:at.openedBy;for(let l=e.head;;){let c=n?r.childAfter(l):r.childBefore(l);if(!c)break;WSe(t,c,i)?r=c:l=n?c.to:c.from}let o=r.type.prop(i),s,a;return o&&(s=n?hs(t,r.from,1):hs(t,r.to,-1))&&s.matched?a=n?s.end.to:s.end.from:a=n?r.to:r.from,se.cursor(a,n?-1:1)}const qSe=t=>Ko(t,e=>L_(t.state,e,!Vr(t))),KSe=t=>Ko(t,e=>L_(t.state,e,Vr(t)));function EW(t,e){return Ko(t,n=>{if(!n.empty)return N_(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)})}const SW=t=>EW(t,!1),kW=t=>EW(t,!0);function TW(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,r=0,i;if(e){for(let o of t.state.facet(be.scrollMargins)){let s=o(t);s!=null&&s.top&&(n=Math.max(s==null?void 0:s.top,n)),s!=null&&s.bottom&&(r=Math.max(s==null?void 0:s.bottom,r))}i=t.scrollDOM.clientHeight-n-r}else i=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:r,selfScroll:e,height:Math.max(t.defaultLineHeight,i-5)}}function AW(t,e){let n=TW(t),{state:r}=t,i=nd(r.selection,s=>s.empty?t.moveVertically(s,e,n.height):N_(s,e));if(i.eq(r.selection))return!1;let o;if(n.selfScroll){let s=t.coordsAtPos(r.selection.main.head),a=t.scrollDOM.getBoundingClientRect(),l=a.top+n.marginTop,c=a.bottom-n.marginBottom;s&&s.top>l&&s.bottom<c&&(o=be.scrollIntoView(i.main.head,{y:"start",yMargin:s.top-l}))}return t.dispatch(Ps(r,i),{effects:o}),!0}const $D=t=>AW(t,!1),LS=t=>AW(t,!0);function mc(t,e,n){let r=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,n);if(i.head==e.head&&i.head!=(n?r.to:r.from)&&(i=t.moveToLineBoundary(e,n,!1)),!n&&i.head==r.from&&r.length){let o=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;o&&e.head!=r.from+o&&(i=se.cursor(r.from+o))}return i}const GSe=t=>Ko(t,e=>mc(t,e,!0)),JSe=t=>Ko(t,e=>mc(t,e,!1)),QSe=t=>Ko(t,e=>mc(t,e,!Vr(t))),YSe=t=>Ko(t,e=>mc(t,e,Vr(t))),XSe=t=>Ko(t,e=>se.cursor(t.lineBlockAt(e.head).from,1)),ZSe=t=>Ko(t,e=>se.cursor(t.lineBlockAt(e.head).to,-1));function eke(t,e,n){let r=!1,i=nd(t.selection,o=>{let s=hs(t,o.head,-1)||hs(t,o.head,1)||o.head>0&&hs(t,o.head-1,1)||o.head<t.doc.length&&hs(t,o.head+1,-1);if(!s||!s.end)return o;r=!0;let a=s.start.from==o.head?s.end.to:s.end.from;return se.cursor(a)});return r?(e(Ps(t,i)),!0):!1}const tke=({state:t,dispatch:e})=>eke(t,e);function fo(t,e){let n=nd(t.state.selection,r=>{let i=e(r);return se.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return n.eq(t.state.selection)?!1:(t.dispatch(Ps(t.state,n)),!0)}function IW(t,e){return fo(t,n=>t.moveByChar(n,e))}const RW=t=>IW(t,!Vr(t)),PW=t=>IW(t,Vr(t));function DW(t,e){return fo(t,n=>t.moveByGroup(n,e))}const nke=t=>DW(t,!Vr(t)),rke=t=>DW(t,Vr(t)),ike=t=>fo(t,e=>L_(t.state,e,!Vr(t))),oke=t=>fo(t,e=>L_(t.state,e,Vr(t)));function MW(t,e){return fo(t,n=>t.moveVertically(n,e))}const NW=t=>MW(t,!1),LW=t=>MW(t,!0);function OW(t,e){return fo(t,n=>t.moveVertically(n,e,TW(t).height))}const HD=t=>OW(t,!1),UD=t=>OW(t,!0),ske=t=>fo(t,e=>mc(t,e,!0)),ake=t=>fo(t,e=>mc(t,e,!1)),lke=t=>fo(t,e=>mc(t,e,!Vr(t))),cke=t=>fo(t,e=>mc(t,e,Vr(t))),uke=t=>fo(t,e=>se.cursor(t.lineBlockAt(e.head).from)),hke=t=>fo(t,e=>se.cursor(t.lineBlockAt(e.head).to)),WD=({state:t,dispatch:e})=>(e(Ps(t,{anchor:0})),!0),qD=({state:t,dispatch:e})=>(e(Ps(t,{anchor:t.doc.length})),!0),KD=({state:t,dispatch:e})=>(e(Ps(t,{anchor:t.selection.main.anchor,head:0})),!0),GD=({state:t,dispatch:e})=>(e(Ps(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),fke=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),dke=({state:t,dispatch:e})=>{let n=O_(t).map(({from:r,to:i})=>se.range(r,Math.min(i+1,t.doc.length)));return e(t.update({selection:se.create(n),userEvent:"select"})),!0},pke=({state:t,dispatch:e})=>{let n=nd(t.selection,r=>{var i;let o=Zn(t).resolveStack(r.from,1);for(let s=o;s;s=s.next){let{node:a}=s;if((a.from<r.from&&a.to>=r.to||a.to>r.to&&a.from<=r.from)&&(!((i=a.parent)===null||i===void 0)&&i.parent))return se.range(a.to,a.from)}return r});return e(Ps(t,n)),!0},mke=({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=se.create([n.main]):n.main.empty||(r=se.create([se.cursor(n.main.head)])),r?(e(Ps(t,r)),!0):!1};function qm(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:r}=t,i=r.changeByRange(o=>{let{from:s,to:a}=o;if(s==a){let l=e(o);l<s?(n="delete.backward",l=c1(t,l,!1)):l>s&&(n="delete.forward",l=c1(t,l,!0)),s=Math.min(s,l),a=Math.max(a,l)}else s=c1(t,s,!1),a=c1(t,a,!0);return s==a?{range:o}:{changes:{from:s,to:a},range:se.cursor(s,s<o.head?-1:1)}});return i.changes.empty?!1:(t.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?be.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function c1(t,e,n){if(t instanceof be)for(let r of t.state.facet(be.atomicRanges).map(i=>i(t)))r.between(e,e,(i,o)=>{i<e&&o>e&&(e=n?o:i)});return e}const FW=(t,e,n)=>qm(t,r=>{let i=r.from,{state:o}=t,s=o.doc.lineAt(i),a,l;if(n&&!e&&i>s.from&&i<s.from+200&&!/[^ \t]/.test(a=s.text.slice(0,i-s.from))){if(a[a.length-1]=="	")return i-1;let c=ed(a,o.tabSize),u=c%_u(o)||_u(o);for(let h=0;h<u&&a[a.length-1-h]==" ";h++)i--;l=i}else l=pr(s.text,i-s.from,e,e)+s.from,l==i&&s.number!=(e?o.doc.lines:1)?l+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(s.text.slice(l-s.from,i-s.from))&&(l=pr(s.text,l-s.from,!1,!1)+s.from);return l}),OS=t=>FW(t,!1,!0),BW=t=>FW(t,!0,!1),VW=(t,e)=>qm(t,n=>{let r=n.head,{state:i}=t,o=i.doc.lineAt(r),s=i.charCategorizer(r);for(let a=null;;){if(r==(e?o.to:o.from)){r==n.head&&o.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let l=pr(o.text,r-o.from,e)+o.from,c=o.text.slice(Math.min(r,l)-o.from,Math.max(r,l)-o.from),u=s(c);if(a!=null&&u!=a)break;(c!=" "||r!=n.head)&&(a=u),r=l}return r}),zW=t=>VW(t,!1),gke=t=>VW(t,!0),xke=t=>qm(t,e=>{let n=t.lineBlockAt(e.head).to;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),vke=t=>qm(t,e=>{let n=t.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}),yke=t=>qm(t,e=>{let n=t.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),_ke=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:Rt.of(["",""])},range:se.cursor(r.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},wke=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>{if(!r.empty||r.from==0||r.from==t.doc.length)return{range:r};let i=r.from,o=t.doc.lineAt(i),s=i==o.from?i-1:pr(o.text,i-o.from,!1)+o.from,a=i==o.to?i+1:pr(o.text,i-o.from,!0)+o.from;return{changes:{from:s,to:a,insert:t.doc.slice(i,a).append(t.doc.slice(s,i))},range:se.cursor(a)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function O_(t){let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.from),o=t.doc.lineAt(r.to);if(!r.empty&&r.to==o.from&&(o=t.doc.lineAt(r.to-1)),n>=i.number){let s=e[e.length-1];s.to=o.to,s.ranges.push(r)}else e.push({from:i.from,to:o.to,ranges:[r]});n=o.number+1}return e}function jW(t,e,n){if(t.readOnly)return!1;let r=[],i=[];for(let o of O_(t)){if(n?o.to==t.doc.length:o.from==0)continue;let s=t.doc.lineAt(n?o.to+1:o.from-1),a=s.length+1;if(n){r.push({from:o.to,to:s.to},{from:o.from,insert:s.text+t.lineBreak});for(let l of o.ranges)i.push(se.range(Math.min(t.doc.length,l.anchor+a),Math.min(t.doc.length,l.head+a)))}else{r.push({from:s.from,to:o.from},{from:o.to,insert:t.lineBreak+s.text});for(let l of o.ranges)i.push(se.range(l.anchor-a,l.head-a))}}return r.length?(e(t.update({changes:r,scrollIntoView:!0,selection:se.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const Cke=({state:t,dispatch:e})=>jW(t,e,!1),bke=({state:t,dispatch:e})=>jW(t,e,!0);function $W(t,e,n){if(t.readOnly)return!1;let r=[];for(let i of O_(t))n?r.push({from:i.from,insert:t.doc.slice(i.from,i.to)+t.lineBreak}):r.push({from:i.to,insert:t.lineBreak+t.doc.slice(i.from,i.to)});return e(t.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const Eke=({state:t,dispatch:e})=>$W(t,e,!1),Ske=({state:t,dispatch:e})=>$W(t,e,!0),kke=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(O_(e).map(({from:i,to:o})=>(i>0?i--:o<e.doc.length&&o++,{from:i,to:o}))),r=nd(e.selection,i=>{let o;if(t.lineWrapping){let s=t.lineBlockAt(i.head),a=t.coordsAtPos(i.head,i.assoc||1);a&&(o=s.bottom+t.documentTop-a.bottom+t.defaultLineHeight/2)}return t.moveVertically(i,!0,o)}).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function Tke(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=Zn(t).resolveInner(e),r=n.childBefore(e),i=n.childAfter(e),o;return r&&i&&r.to<=e&&i.from>=e&&(o=r.type.prop(at.closedBy))&&o.indexOf(i.name)>-1&&t.doc.lineAt(r.to).from==t.doc.lineAt(i.from).from&&!/\S/.test(t.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}const Ake=HW(!1),Ike=HW(!0);function HW(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:o,to:s}=i,a=e.doc.lineAt(o),l=!t&&o==s&&Tke(e,o);t&&(o=s=(s<=a.to?a:e.doc.lineAt(s)).to);let c=new R_(e,{simulateBreak:o,simulateDoubleBreak:!!l}),u=i4(c,o);for(u==null&&(u=ed(/^\s*/.exec(e.doc.lineAt(o).text)[0],e.tabSize));s<a.to&&/\s/.test(a.text[s-a.from]);)s++;l?{from:o,to:s}=l:o>a.from&&o<a.from+100&&!/\S/.test(a.text.slice(0,o))&&(o=a.from);let h=["",V0(e,u)];return l&&h.push(V0(e,c.lineIndent(a.from,-1))),{changes:{from:o,to:s,insert:Rt.of(h)},range:se.cursor(o+1+h[1].length)}});return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function x4(t,e){let n=-1;return t.changeByRange(r=>{let i=[];for(let s=r.from;s<=r.to;){let a=t.doc.lineAt(s);a.number>n&&(r.empty||r.to>a.from)&&(e(a,i,r),n=a.number),s=a.to+1}let o=t.changes(i);return{changes:i,range:se.range(o.mapPos(r.anchor,1),o.mapPos(r.head,1))}})}const Rke=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new R_(t,{overrideIndentation:o=>{let s=n[o];return s??-1}}),i=x4(t,(o,s,a)=>{let l=i4(r,o.from);if(l==null)return;/\S/.test(o.text)||(l=0);let c=/^\s*/.exec(o.text)[0],u=V0(t,l);(c!=u||a.from<o.from+c.length)&&(n[o.from]=l,s.push({from:o.from,to:o.from+c.length,insert:u}))});return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0},Pke=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(x4(t,(n,r)=>{r.push({from:n.from,insert:t.facet(I_)})}),{userEvent:"input.indent"})),!0),Dke=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(x4(t,(n,r)=>{let i=/^\s*/.exec(n.text)[0];if(!i)return;let o=ed(i,t.tabSize),s=0,a=V0(t,Math.max(0,o-_u(t)));for(;s<i.length&&s<a.length&&i.charCodeAt(s)==a.charCodeAt(s);)s++;r.push({from:n.from+s,to:n.from+i.length,insert:a.slice(s)})}),{userEvent:"delete.dedent"})),!0),Mke=t=>(t.setTabFocusMode(),!0),Nke=[{key:"Ctrl-b",run:wW,shift:RW,preventDefault:!0},{key:"Ctrl-f",run:CW,shift:PW},{key:"Ctrl-p",run:SW,shift:NW},{key:"Ctrl-n",run:kW,shift:LW},{key:"Ctrl-a",run:XSe,shift:uke},{key:"Ctrl-e",run:ZSe,shift:hke},{key:"Ctrl-d",run:BW},{key:"Ctrl-h",run:OS},{key:"Ctrl-k",run:xke},{key:"Ctrl-Alt-h",run:zW},{key:"Ctrl-o",run:_ke},{key:"Ctrl-t",run:wke},{key:"Ctrl-v",run:LS}],Lke=[{key:"ArrowLeft",run:wW,shift:RW,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:HSe,shift:nke,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:QSe,shift:lke,preventDefault:!0},{key:"ArrowRight",run:CW,shift:PW,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:USe,shift:rke,preventDefault:!0},{mac:"Cmd-ArrowRight",run:YSe,shift:cke,preventDefault:!0},{key:"ArrowUp",run:SW,shift:NW,preventDefault:!0},{mac:"Cmd-ArrowUp",run:WD,shift:KD},{mac:"Ctrl-ArrowUp",run:$D,shift:HD},{key:"ArrowDown",run:kW,shift:LW,preventDefault:!0},{mac:"Cmd-ArrowDown",run:qD,shift:GD},{mac:"Ctrl-ArrowDown",run:LS,shift:UD},{key:"PageUp",run:$D,shift:HD},{key:"PageDown",run:LS,shift:UD},{key:"Home",run:JSe,shift:ake,preventDefault:!0},{key:"Mod-Home",run:WD,shift:KD},{key:"End",run:GSe,shift:ske,preventDefault:!0},{key:"Mod-End",run:qD,shift:GD},{key:"Enter",run:Ake},{key:"Mod-a",run:fke},{key:"Backspace",run:OS,shift:OS},{key:"Delete",run:BW},{key:"Mod-Backspace",mac:"Alt-Backspace",run:zW},{key:"Mod-Delete",mac:"Alt-Delete",run:gke},{mac:"Mod-Backspace",run:vke},{mac:"Mod-Delete",run:yke}].concat(Nke.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),Oke=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:qSe,shift:ike},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:KSe,shift:oke},{key:"Alt-ArrowUp",run:Cke},{key:"Shift-Alt-ArrowUp",run:Eke},{key:"Alt-ArrowDown",run:bke},{key:"Shift-Alt-ArrowDown",run:Ske},{key:"Escape",run:mke},{key:"Mod-Enter",run:Ike},{key:"Alt-l",mac:"Ctrl-l",run:dke},{key:"Mod-i",run:pke,preventDefault:!0},{key:"Mod-[",run:Dke},{key:"Mod-]",run:Pke},{key:"Mod-Alt-\\",run:Rke},{key:"Shift-Mod-k",run:kke},{key:"Shift-Mod-\\",run:tke},{key:"Mod-/",run:ESe},{key:"Alt-A",run:kSe},{key:"Ctrl-m",mac:"Shift-Alt-m",run:Mke}].concat(Lke);function Fke(t,e,n,r){const i=qr(ri),o=Ea(y_),s=F.useRef(null),{lexicalNode:a}=$E(),l=F.useRef(!1),c=F.useRef(!1),u=F.useCallback(()=>{o({editorType:e,rootNode:a})},[e,a,o]),h=F.useCallback(f=>{var d,p,m,v,x,y;if(f.key==="ArrowDown"){const _=(p=(d=s.current)==null?void 0:d.getCodemirror())==null?void 0:p.state;if(_){const C=_.doc.length,S=_.selection.ranges[0].to;C===S&&(l.current?(i==null||i.update(()=>{var T,b;const w=Hn(t);w.getNextSibling()?((b=(T=s.current)==null?void 0:T.getCodemirror())==null||b.contentDOM.blur(),w.selectNext()):w.insertAfter(Zt())}),l.current=!1):l.current=!0)}}else if(f.key==="ArrowUp"){const _=(v=(m=s.current)==null?void 0:m.getCodemirror())==null?void 0:v.state;_&&_.selection.ranges[0].from===0&&(c.current?(i==null||i.update(()=>{var S,T;const b=Hn(t);b.getPreviousSibling()&&((T=(S=s.current)==null?void 0:S.getCodemirror())==null||T.contentDOM.blur(),b.selectPrevious())}),c.current=!1):c.current=!0)}else if(f.key==="Enter")f.stopPropagation();else if(f.key==="Backspace"||f.key==="Delete"){const _=(y=(x=s.current)==null?void 0:x.getCodemirror())==null?void 0:y.state;(_==null?void 0:_.doc.length)===0&&(i==null||i.update(()=>{Hn(t).remove()}))}},[i,t]);return F.useEffect(()=>{const f=s.current;return setTimeout(()=>{var d,p;(d=f==null?void 0:f.getCodemirror())==null||d.contentDOM.addEventListener("focus",u),(p=f==null?void 0:f.getCodemirror())==null||p.contentDOM.addEventListener("keydown",h)},300),()=>{var d,p;(d=f==null?void 0:f.getCodemirror())==null||d.contentDOM.removeEventListener("focus",u),(p=f==null?void 0:f.getCodemirror())==null||p.contentDOM.removeEventListener("keydown",h)}},[s,u,h,n]),F.useEffect(()=>{r.subscribe(()=>{var f,d;(d=(f=s.current)==null?void 0:f.getCodemirror())==null||d.focus(),u()})},[r,s,t,u]),s}function ae(t){return new Obe(s4.define(t))}function Wa(t){return ne(()=>import("./index-BGkErQ6C.js"),__vite__mapDeps([0,1])).then(e=>e.sql({dialect:e[t]}))}const Bke=[Z.of({name:"C",extensions:["c","h","ino"],load(){return ne(()=>import("./index-DEerTSLA.js"),__vite__mapDeps([2,1])).then(t=>t.cpp())}}),Z.of({name:"C++",alias:["cpp"],extensions:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],load(){return ne(()=>import("./index-DEerTSLA.js"),__vite__mapDeps([2,1])).then(t=>t.cpp())}}),Z.of({name:"CQL",alias:["cassandra"],extensions:["cql"],load(){return Wa("Cassandra")}}),Z.of({name:"CSS",extensions:["css"],load(){return ne(()=>import("./index-C1cNdc-e.js"),__vite__mapDeps([3,1])).then(t=>t.css())}}),Z.of({name:"Go",extensions:["go"],load(){return ne(()=>import("./index-CR2r7iGy.js"),__vite__mapDeps([4,1])).then(t=>t.go())}}),Z.of({name:"HTML",alias:["xhtml"],extensions:["html","htm","handlebars","hbs"],load(){return ne(()=>import("./index-YWTuFXqI.js"),__vite__mapDeps([5,1,3,6])).then(t=>t.html())}}),Z.of({name:"Java",extensions:["java"],load(){return ne(()=>import("./index-oV4hYAg3.js"),__vite__mapDeps([7,1])).then(t=>t.java())}}),Z.of({name:"JavaScript",alias:["ecmascript","js","node"],extensions:["js","mjs","cjs"],load(){return ne(()=>import("./index-wyoDbrW_.js"),__vite__mapDeps([6,1])).then(t=>t.javascript())}}),Z.of({name:"JSON",alias:["json5"],extensions:["json","map"],load(){return ne(()=>import("./index-D0wlqgmv.js"),__vite__mapDeps([8,1])).then(t=>t.json())}}),Z.of({name:"JSX",extensions:["jsx"],load(){return ne(()=>import("./index-wyoDbrW_.js"),__vite__mapDeps([6,1])).then(t=>t.javascript({jsx:!0}))}}),Z.of({name:"LESS",extensions:["less"],load(){return ne(()=>import("./index-DOgh3wKP.js"),__vite__mapDeps([9,3,1])).then(t=>t.less())}}),Z.of({name:"Liquid",extensions:["liquid"],load(){return ne(()=>import("./index-BMQ6lzD8.js"),__vite__mapDeps([10,5,1,3,6])).then(t=>t.liquid())}}),Z.of({name:"MariaDB SQL",load(){return Wa("MariaSQL")}}),Z.of({name:"Markdown",extensions:["md","markdown","mkd"],load(){return ne(()=>import("./index-D7vu9ixQ.js"),__vite__mapDeps([11,5,1,3,6])).then(t=>t.markdown())}}),Z.of({name:"MS SQL",load(){return Wa("MSSQL")}}),Z.of({name:"MySQL",load(){return Wa("MySQL")}}),Z.of({name:"PHP",extensions:["php","php3","php4","php5","php7","phtml"],load(){return ne(()=>import("./index-CfiW5RV8.js"),__vite__mapDeps([12,1,5,3,6])).then(t=>t.php())}}),Z.of({name:"PLSQL",extensions:["pls"],load(){return Wa("PLSQL")}}),Z.of({name:"PostgreSQL",load(){return Wa("PostgreSQL")}}),Z.of({name:"Python",extensions:["BUILD","bzl","py","pyw"],filename:/^(BUCK|BUILD)$/,load(){return ne(()=>import("./index-38oxiX-K.js"),__vite__mapDeps([13,1])).then(t=>t.python())}}),Z.of({name:"Rust",extensions:["rs"],load(){return ne(()=>import("./index-CmkYm639.js"),__vite__mapDeps([14,1])).then(t=>t.rust())}}),Z.of({name:"Sass",extensions:["sass"],load(){return ne(()=>import("./index-CG1KT4BU.js"),__vite__mapDeps([15,1,3])).then(t=>t.sass({indented:!0}))}}),Z.of({name:"SCSS",extensions:["scss"],load(){return ne(()=>import("./index-CG1KT4BU.js"),__vite__mapDeps([15,1,3])).then(t=>t.sass())}}),Z.of({name:"SQL",extensions:["sql"],load(){return Wa("StandardSQL")}}),Z.of({name:"SQLite",load(){return Wa("SQLite")}}),Z.of({name:"TSX",extensions:["tsx"],load(){return ne(()=>import("./index-wyoDbrW_.js"),__vite__mapDeps([6,1])).then(t=>t.javascript({jsx:!0,typescript:!0}))}}),Z.of({name:"TypeScript",alias:["ts"],extensions:["ts","mts","cts"],load(){return ne(()=>import("./index-wyoDbrW_.js"),__vite__mapDeps([6,1])).then(t=>t.javascript({typescript:!0}))}}),Z.of({name:"WebAssembly",extensions:["wat","wast"],load(){return ne(()=>import("./index-NQgUaYS3.js"),__vite__mapDeps([16,1])).then(t=>t.wast())}}),Z.of({name:"XML",alias:["rss","wsdl","xsd"],extensions:["xml","xsl","xsd","svg"],load(){return ne(()=>import("./index-CIQDOMVW.js"),__vite__mapDeps([17,1])).then(t=>t.xml())}}),Z.of({name:"YAML",alias:["yml"],extensions:["yaml","yml"],load(){return ne(()=>import("./index-DakM2rNs.js"),__vite__mapDeps([18,1])).then(t=>t.yaml())}}),Z.of({name:"APL",extensions:["dyalog","apl"],load(){return ne(()=>import("./apl-B4CMkyY2.js"),[]).then(t=>ae(t.apl))}}),Z.of({name:"PGP",alias:["asciiarmor"],extensions:["asc","pgp","sig"],load(){return ne(()=>import("./asciiarmor-Df11BRmG.js"),[]).then(t=>ae(t.asciiArmor))}}),Z.of({name:"ASN.1",extensions:["asn","asn1"],load(){return ne(()=>import("./asn1-CGOzndHr.js"),[]).then(t=>ae(t.asn1({})))}}),Z.of({name:"Asterisk",filename:/^extensions\.conf$/i,load(){return ne(()=>import("./asterisk-B-8jnY81.js"),[]).then(t=>ae(t.asterisk))}}),Z.of({name:"Brainfuck",extensions:["b","bf"],load(){return ne(()=>import("./brainfuck-C4LP7Hcl.js"),[]).then(t=>ae(t.brainfuck))}}),Z.of({name:"Cobol",extensions:["cob","cpy"],load(){return ne(()=>import("./cobol-XrqhtCFE.js"),[]).then(t=>ae(t.cobol))}}),Z.of({name:"C#",alias:["csharp","cs"],extensions:["cs"],load(){return ne(()=>import("./clike-DWq2Y8ae.js"),[]).then(t=>ae(t.csharp))}}),Z.of({name:"Clojure",extensions:["clj","cljc","cljx"],load(){return ne(()=>import("./clojure-BMjYHr_A.js"),[]).then(t=>ae(t.clojure))}}),Z.of({name:"ClojureScript",extensions:["cljs"],load(){return ne(()=>import("./clojure-BMjYHr_A.js"),[]).then(t=>ae(t.clojure))}}),Z.of({name:"Closure Stylesheets (GSS)",extensions:["gss"],load(){return ne(()=>import("./css-BnMrqG3P.js"),[]).then(t=>ae(t.gss))}}),Z.of({name:"CMake",extensions:["cmake","cmake.in"],filename:/^CMakeLists\.txt$/,load(){return ne(()=>import("./cmake-BQqOBYOt.js"),[]).then(t=>ae(t.cmake))}}),Z.of({name:"CoffeeScript",alias:["coffee","coffee-script"],extensions:["coffee"],load(){return ne(()=>import("./coffeescript-S37ZYGWr.js"),[]).then(t=>ae(t.coffeeScript))}}),Z.of({name:"Common Lisp",alias:["lisp"],extensions:["cl","lisp","el"],load(){return ne(()=>import("./commonlisp-DBKNyK5s.js"),[]).then(t=>ae(t.commonLisp))}}),Z.of({name:"Cypher",extensions:["cyp","cypher"],load(){return ne(()=>import("./cypher-C_CwsFkJ.js"),[]).then(t=>ae(t.cypher))}}),Z.of({name:"Cython",extensions:["pyx","pxd","pxi"],load(){return ne(()=>import("./python-BuPzkPfP.js"),[]).then(t=>ae(t.cython))}}),Z.of({name:"Crystal",extensions:["cr"],load(){return ne(()=>import("./crystal-SjHAIU92.js"),[]).then(t=>ae(t.crystal))}}),Z.of({name:"D",extensions:["d"],load(){return ne(()=>import("./d-pRatUO7H.js"),[]).then(t=>ae(t.d))}}),Z.of({name:"Dart",extensions:["dart"],load(){return ne(()=>import("./clike-DWq2Y8ae.js"),[]).then(t=>ae(t.dart))}}),Z.of({name:"diff",extensions:["diff","patch"],load(){return ne(()=>import("./diff-DbItnlRl.js"),[]).then(t=>ae(t.diff))}}),Z.of({name:"Dockerfile",filename:/^Dockerfile$/,load(){return ne(()=>import("./dockerfile-BuNIbK2j.js"),__vite__mapDeps([19,20])).then(t=>ae(t.dockerFile))}}),Z.of({name:"DTD",extensions:["dtd"],load(){return ne(()=>import("./dtd-DF_7sFjM.js"),[]).then(t=>ae(t.dtd))}}),Z.of({name:"Dylan",extensions:["dylan","dyl","intr"],load(){return ne(()=>import("./dylan-DwRh75JA.js"),[]).then(t=>ae(t.dylan))}}),Z.of({name:"EBNF",load(){return ne(()=>import("./ebnf-CDyGwa7X.js"),[]).then(t=>ae(t.ebnf))}}),Z.of({name:"ECL",extensions:["ecl"],load(){return ne(()=>import("./ecl-Cabwm37j.js"),[]).then(t=>ae(t.ecl))}}),Z.of({name:"edn",extensions:["edn"],load(){return ne(()=>import("./clojure-BMjYHr_A.js"),[]).then(t=>ae(t.clojure))}}),Z.of({name:"Eiffel",extensions:["e"],load(){return ne(()=>import("./eiffel-CnydiIhH.js"),[]).then(t=>ae(t.eiffel))}}),Z.of({name:"Elm",extensions:["elm"],load(){return ne(()=>import("./elm-vLlmbW-K.js"),[]).then(t=>ae(t.elm))}}),Z.of({name:"Erlang",extensions:["erl"],load(){return ne(()=>import("./erlang-BNw1qcRV.js"),[]).then(t=>ae(t.erlang))}}),Z.of({name:"Esper",load(){return ne(()=>import("./sql-C4g8LzGK.js"),[]).then(t=>ae(t.esper))}}),Z.of({name:"Factor",extensions:["factor"],load(){return ne(()=>import("./factor-D8pE9siL.js"),__vite__mapDeps([21,20])).then(t=>ae(t.factor))}}),Z.of({name:"FCL",load(){return ne(()=>import("./fcl-Kvtd6kyn.js"),[]).then(t=>ae(t.fcl))}}),Z.of({name:"Forth",extensions:["forth","fth","4th"],load(){return ne(()=>import("./forth-Ffai-XNe.js"),[]).then(t=>ae(t.forth))}}),Z.of({name:"Fortran",extensions:["f","for","f77","f90","f95"],load(){return ne(()=>import("./fortran-DYz_wnZ1.js"),[]).then(t=>ae(t.fortran))}}),Z.of({name:"F#",alias:["fsharp"],extensions:["fs"],load(){return ne(()=>import("./mllike-C_8OmSiT.js"),[]).then(t=>ae(t.fSharp))}}),Z.of({name:"Gas",extensions:["s"],load(){return ne(()=>import("./gas-Bneqetm1.js"),[]).then(t=>ae(t.gas))}}),Z.of({name:"Gherkin",extensions:["feature"],load(){return ne(()=>import("./gherkin-heZmZLOM.js"),[]).then(t=>ae(t.gherkin))}}),Z.of({name:"Groovy",extensions:["groovy","gradle"],filename:/^Jenkinsfile$/,load(){return ne(()=>import("./groovy-DKLxxR9y.js"),[]).then(t=>ae(t.groovy))}}),Z.of({name:"Haskell",extensions:["hs"],load(){return ne(()=>import("./haskell-BWDZoCOh.js"),[]).then(t=>ae(t.haskell))}}),Z.of({name:"Haxe",extensions:["hx"],load(){return ne(()=>import("./haxe-pv4rovob.js"),[]).then(t=>ae(t.haxe))}}),Z.of({name:"HXML",extensions:["hxml"],load(){return ne(()=>import("./haxe-pv4rovob.js"),[]).then(t=>ae(t.hxml))}}),Z.of({name:"HTTP",load(){return ne(()=>import("./http-DBlCnlav.js"),[]).then(t=>ae(t.http))}}),Z.of({name:"IDL",extensions:["pro"],load(){return ne(()=>import("./idl-BEugSyMb.js"),[]).then(t=>ae(t.idl))}}),Z.of({name:"JSON-LD",alias:["jsonld"],extensions:["jsonld"],load(){return ne(()=>import("./javascript-iSgyE4tI.js"),[]).then(t=>ae(t.jsonld))}}),Z.of({name:"Jinja2",extensions:["j2","jinja","jinja2"],load(){return ne(()=>import("./jinja2-C4DGRd-O.js"),[]).then(t=>ae(t.jinja2))}}),Z.of({name:"Julia",extensions:["jl"],load(){return ne(()=>import("./julia-DuME0IfC.js"),[]).then(t=>ae(t.julia))}}),Z.of({name:"Kotlin",extensions:["kt","kts"],load(){return ne(()=>import("./clike-DWq2Y8ae.js"),[]).then(t=>ae(t.kotlin))}}),Z.of({name:"LiveScript",alias:["ls"],extensions:["ls"],load(){return ne(()=>import("./livescript-k3uCVVjK.js"),[]).then(t=>ae(t.liveScript))}}),Z.of({name:"Lua",extensions:["lua"],load(){return ne(()=>import("./lua-BgMRiT3U.js"),[]).then(t=>ae(t.lua))}}),Z.of({name:"mIRC",extensions:["mrc"],load(){return ne(()=>import("./mirc-CjQqDB4T.js"),[]).then(t=>ae(t.mirc))}}),Z.of({name:"Mathematica",extensions:["m","nb","wl","wls"],load(){return ne(()=>import("./mathematica-DTrFuWx2.js"),[]).then(t=>ae(t.mathematica))}}),Z.of({name:"Modelica",extensions:["mo"],load(){return ne(()=>import("./modelica-Dc1JOy9r.js"),[]).then(t=>ae(t.modelica))}}),Z.of({name:"MUMPS",extensions:["mps"],load(){return ne(()=>import("./mumps-BT43cFF4.js"),[]).then(t=>ae(t.mumps))}}),Z.of({name:"Mbox",extensions:["mbox"],load(){return ne(()=>import("./mbox-CNhZ1qSd.js"),[]).then(t=>ae(t.mbox))}}),Z.of({name:"Nginx",filename:/nginx.*\.conf$/i,load(){return ne(()=>import("./nginx-DdIZxoE0.js"),[]).then(t=>ae(t.nginx))}}),Z.of({name:"NSIS",extensions:["nsh","nsi"],load(){return ne(()=>import("./nsis-CEAdamBV.js"),__vite__mapDeps([22,20])).then(t=>ae(t.nsis))}}),Z.of({name:"NTriples",extensions:["nt","nq"],load(){return ne(()=>import("./ntriples-BfvgReVJ.js"),[]).then(t=>ae(t.ntriples))}}),Z.of({name:"Objective-C",alias:["objective-c","objc"],extensions:["m"],load(){return ne(()=>import("./clike-DWq2Y8ae.js"),[]).then(t=>ae(t.objectiveC))}}),Z.of({name:"Objective-C++",alias:["objective-c++","objc++"],extensions:["mm"],load(){return ne(()=>import("./clike-DWq2Y8ae.js"),[]).then(t=>ae(t.objectiveCpp))}}),Z.of({name:"OCaml",extensions:["ml","mli","mll","mly"],load(){return ne(()=>import("./mllike-C_8OmSiT.js"),[]).then(t=>ae(t.oCaml))}}),Z.of({name:"Octave",extensions:["m"],load(){return ne(()=>import("./octave-Ck1zUtKM.js"),[]).then(t=>ae(t.octave))}}),Z.of({name:"Oz",extensions:["oz"],load(){return ne(()=>import("./oz-BzwKVEFT.js"),[]).then(t=>ae(t.oz))}}),Z.of({name:"Pascal",extensions:["p","pas"],load(){return ne(()=>import("./pascal-B1wCu0_E.js"),[]).then(t=>ae(t.pascal))}}),Z.of({name:"Perl",extensions:["pl","pm"],load(){return ne(()=>import("./perl-CdXCOZ3F.js"),[]).then(t=>ae(t.perl))}}),Z.of({name:"Pig",extensions:["pig"],load(){return ne(()=>import("./pig-CevX1Tat.js"),[]).then(t=>ae(t.pig))}}),Z.of({name:"PowerShell",extensions:["ps1","psd1","psm1"],load(){return ne(()=>import("./powershell-CFHJl5sT.js"),[]).then(t=>ae(t.powerShell))}}),Z.of({name:"Properties files",alias:["ini","properties"],extensions:["properties","ini","in"],load(){return ne(()=>import("./properties-C78fOPTZ.js"),[]).then(t=>ae(t.properties))}}),Z.of({name:"ProtoBuf",extensions:["proto"],load(){return ne(()=>import("./protobuf-ChK-085T.js"),[]).then(t=>ae(t.protobuf))}}),Z.of({name:"Pug",alias:["jade"],extensions:["pug","jade"],load(){return ne(()=>import("./pug-BmUsPMDj.js"),__vite__mapDeps([23,24])).then(t=>ae(t.pug))}}),Z.of({name:"Puppet",extensions:["pp"],load(){return ne(()=>import("./puppet-DMA9R1ak.js"),[]).then(t=>ae(t.puppet))}}),Z.of({name:"Q",extensions:["q"],load(){return ne(()=>import("./q-ZnEupP5q.js"),[]).then(t=>ae(t.q))}}),Z.of({name:"R",alias:["rscript"],extensions:["r","R"],load(){return ne(()=>import("./r-DUYO_cvP.js"),[]).then(t=>ae(t.r))}}),Z.of({name:"RPM Changes",load(){return ne(()=>import("./rpm-CTu-6PCP.js"),[]).then(t=>ae(t.rpmChanges))}}),Z.of({name:"RPM Spec",extensions:["spec"],load(){return ne(()=>import("./rpm-CTu-6PCP.js"),[]).then(t=>ae(t.rpmSpec))}}),Z.of({name:"Ruby",alias:["jruby","macruby","rake","rb","rbx"],extensions:["rb"],filename:/^(Gemfile|Rakefile)$/,load(){return ne(()=>import("./ruby-B2Rjki9n.js"),[]).then(t=>ae(t.ruby))}}),Z.of({name:"SAS",extensions:["sas"],load(){return ne(()=>import("./sas-B4kiWyti.js"),[]).then(t=>ae(t.sas))}}),Z.of({name:"Scala",extensions:["scala"],load(){return ne(()=>import("./clike-DWq2Y8ae.js"),[]).then(t=>ae(t.scala))}}),Z.of({name:"Scheme",extensions:["scm","ss"],load(){return ne(()=>import("./scheme-C41bIUwD.js"),[]).then(t=>ae(t.scheme))}}),Z.of({name:"Shell",alias:["bash","sh","zsh"],extensions:["sh","ksh","bash"],filename:/^PKGBUILD$/,load(){return ne(()=>import("./shell-CjFT_Tl9.js"),[]).then(t=>ae(t.shell))}}),Z.of({name:"Sieve",extensions:["siv","sieve"],load(){return ne(()=>import("./sieve-C3Gn_uJK.js"),[]).then(t=>ae(t.sieve))}}),Z.of({name:"Smalltalk",extensions:["st"],load(){return ne(()=>import("./smalltalk-CnHTOXQT.js"),[]).then(t=>ae(t.smalltalk))}}),Z.of({name:"Solr",load(){return ne(()=>import("./solr-DehyRSwq.js"),[]).then(t=>ae(t.solr))}}),Z.of({name:"SML",extensions:["sml","sig","fun","smackspec"],load(){return ne(()=>import("./mllike-C_8OmSiT.js"),[]).then(t=>ae(t.sml))}}),Z.of({name:"SPARQL",alias:["sparul"],extensions:["rq","sparql"],load(){return ne(()=>import("./sparql-DkYu6x3z.js"),[]).then(t=>ae(t.sparql))}}),Z.of({name:"Spreadsheet",alias:["excel","formula"],load(){return ne(()=>import("./spreadsheet-BCZA_wO0.js"),[]).then(t=>ae(t.spreadsheet))}}),Z.of({name:"Squirrel",extensions:["nut"],load(){return ne(()=>import("./clike-DWq2Y8ae.js"),[]).then(t=>ae(t.squirrel))}}),Z.of({name:"Stylus",extensions:["styl"],load(){return ne(()=>import("./stylus-BdAi1jBa.js"),[]).then(t=>ae(t.stylus))}}),Z.of({name:"Swift",extensions:["swift"],load(){return ne(()=>import("./swift-BzpIVaGY.js"),[]).then(t=>ae(t.swift))}}),Z.of({name:"sTeX",load(){return ne(()=>import("./stex-C3f8Ysf7.js"),[]).then(t=>ae(t.stex))}}),Z.of({name:"LaTeX",alias:["tex"],extensions:["text","ltx","tex"],load(){return ne(()=>import("./stex-C3f8Ysf7.js"),[]).then(t=>ae(t.stex))}}),Z.of({name:"SystemVerilog",extensions:["v","sv","svh"],load(){return ne(()=>import("./verilog-C6RDOZhf.js"),[]).then(t=>ae(t.verilog))}}),Z.of({name:"Tcl",extensions:["tcl"],load(){return ne(()=>import("./tcl-DVfN8rqt.js"),[]).then(t=>ae(t.tcl))}}),Z.of({name:"Textile",extensions:["textile"],load(){return ne(()=>import("./textile-CnDTJFAw.js"),[]).then(t=>ae(t.textile))}}),Z.of({name:"TiddlyWiki",load(){return ne(()=>import("./tiddlywiki-DO-Gjzrf.js"),[]).then(t=>ae(t.tiddlyWiki))}}),Z.of({name:"Tiki wiki",load(){return ne(()=>import("./tiki-DGYXhP31.js"),[]).then(t=>ae(t.tiki))}}),Z.of({name:"TOML",extensions:["toml"],load(){return ne(()=>import("./toml-BXUEaScT.js"),[]).then(t=>ae(t.toml))}}),Z.of({name:"Troff",extensions:["1","2","3","4","5","6","7","8","9"],load(){return ne(()=>import("./troff-wAsdV37c.js"),[]).then(t=>ae(t.troff))}}),Z.of({name:"TTCN",extensions:["ttcn","ttcn3","ttcnpp"],load(){return ne(()=>import("./ttcn-CiGrtVSZ.js"),[]).then(t=>ae(t.ttcn))}}),Z.of({name:"TTCN_CFG",extensions:["cfg"],load(){return ne(()=>import("./ttcn-cfg-BIkV9KBc.js"),[]).then(t=>ae(t.ttcnCfg))}}),Z.of({name:"Turtle",extensions:["ttl"],load(){return ne(()=>import("./turtle-B1tBg_DP.js"),[]).then(t=>ae(t.turtle))}}),Z.of({name:"Web IDL",extensions:["webidl"],load(){return ne(()=>import("./webidl-ZXfAyPTL.js"),[]).then(t=>ae(t.webIDL))}}),Z.of({name:"VB.NET",extensions:["vb"],load(){return ne(()=>import("./vb-CmGdzxic.js"),[]).then(t=>ae(t.vb))}}),Z.of({name:"VBScript",extensions:["vbs"],load(){return ne(()=>import("./vbscript-BuJXcnF6.js"),[]).then(t=>ae(t.vbScript))}}),Z.of({name:"Velocity",extensions:["vtl"],load(){return ne(()=>import("./velocity-D8B20fx6.js"),[]).then(t=>ae(t.velocity))}}),Z.of({name:"Verilog",extensions:["v"],load(){return ne(()=>import("./verilog-C6RDOZhf.js"),[]).then(t=>ae(t.verilog))}}),Z.of({name:"VHDL",extensions:["vhd","vhdl"],load(){return ne(()=>import("./vhdl-lSbBsy5d.js"),[]).then(t=>ae(t.vhdl))}}),Z.of({name:"XQuery",extensions:["xy","xquery"],load(){return ne(()=>import("./xquery-WRlm2TX8.js"),[]).then(t=>ae(t.xQuery))}}),Z.of({name:"Yacas",extensions:["ys"],load(){return ne(()=>import("./yacas-BJ4BC0dw.js"),[]).then(t=>ae(t.yacas))}}),Z.of({name:"Z80",extensions:["z80"],load(){return ne(()=>import("./z80-Hz9HOZM7.js"),[]).then(t=>ae(t.z80))}}),Z.of({name:"MscGen",extensions:["mscgen","mscin","msc"],load(){return ne(()=>import("./mscgen-BA5vi2Kp.js"),[]).then(t=>ae(t.mscgen))}}),Z.of({name:"X",extensions:["xu"],load(){return ne(()=>import("./mscgen-BA5vi2Kp.js"),[]).then(t=>ae(t.xu))}}),Z.of({name:"MsGenny",extensions:["msgenny"],load(){return ne(()=>import("./mscgen-BA5vi2Kp.js"),[]).then(t=>ae(t.msgenny))}}),Z.of({name:"Vue",extensions:["vue"],load(){return ne(()=>import("./index-C8z6VPRh.js"),__vite__mapDeps([25,5,1,3,6])).then(t=>t.vue())}}),Z.of({name:"Angular Template",load(){return ne(()=>import("./index-CDeU1Alp.js"),__vite__mapDeps([26,5,1,3,6])).then(t=>t.angular())}})],JD="#2e3440",v4="#3b4252",QD="#434c5e",u1="#4c566a",YD="#e5e9f0",FS="#eceff4",pC="#8fbcbb",XD="#88c0d0",Vke="#81a1c1",_o="#5e81ac",zke="#bf616a",nh="#d08770",mC="#ebcb8b",ZD="#a3be8c",jke="#b48ead",e7="#d30102",y4=FS,gC=y4,$ke="#ffffff",xC=v4,Hke=y4,t7=v4,Uke=be.theme({"&":{color:JD,backgroundColor:$ke},".cm-content":{caretColor:t7},".cm-cursor, .cm-dropCursor":{borderLeftColor:t7},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:Hke},".cm-panels":{backgroundColor:y4,color:u1},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:`1px solid ${u1}`},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:YD},".cm-activeLine":{backgroundColor:gC},".cm-selectionMatch":{backgroundColor:YD},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{outline:`1px solid ${u1}`},"&.cm-focused .cm-matchingBracket":{backgroundColor:FS},".cm-gutters":{backgroundColor:FS,color:JD,border:"none"},".cm-activeLineGutter":{backgroundColor:gC},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:xC},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:xC,borderBottomColor:xC},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:gC,color:u1}}},{dark:!1}),Wke=Um.define([{tag:te.keyword,color:_o},{tag:[te.name,te.deleted,te.character,te.propertyName,te.macroName],color:nh},{tag:[te.variableName],color:nh},{tag:[te.function(te.variableName)],color:_o},{tag:[te.labelName],color:Vke},{tag:[te.color,te.constant(te.name),te.standard(te.name)],color:_o},{tag:[te.definition(te.name),te.separator],color:ZD},{tag:[te.brace],color:pC},{tag:[te.annotation],color:e7},{tag:[te.number,te.changed,te.annotation,te.modifier,te.self,te.namespace],color:XD},{tag:[te.typeName,te.className],color:mC},{tag:[te.operator,te.operatorKeyword],color:ZD},{tag:[te.tagName],color:jke},{tag:[te.squareBracket],color:zke},{tag:[te.angleBracket],color:nh},{tag:[te.attributeName],color:mC},{tag:[te.regexp],color:_o},{tag:[te.quote],color:v4},{tag:[te.string],color:nh},{tag:te.link,color:pC,textDecoration:"underline",textUnderlinePosition:"under"},{tag:[te.url,te.escape,te.special(te.string)],color:nh},{tag:[te.meta],color:XD},{tag:[te.comment],color:QD,fontStyle:"italic"},{tag:te.strong,fontWeight:"bold",color:_o},{tag:te.emphasis,fontStyle:"italic",color:_o},{tag:te.strikethrough,textDecoration:"line-through"},{tag:te.heading,fontWeight:"bold",color:_o},{tag:te.special(te.heading1),fontWeight:"bold",color:_o},{tag:te.heading1,fontWeight:"bold",color:_o},{tag:[te.heading2,te.heading3,te.heading4],fontWeight:"bold",color:_o},{tag:[te.heading5,te.heading6],color:_o},{tag:[te.atom,te.bool,te.special(te.variableName)],color:nh},{tag:[te.processingInstruction,te.inserted],color:pC},{tag:[te.contentSeparator],color:mC},{tag:te.invalid,color:QD,borderBottom:`1px dotted ${e7}`}]),qke=[Uke,qU(Wke)];function $t(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&typeof n=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];typeof i=="string"?t.setAttribute(r,i):i!=null&&(t[r]=i)}e++}for(;e<arguments.length;e++)UW(t,arguments[e]);return t}function UW(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var n=0;n<e.length;n++)UW(t,e[n]);else throw new RangeError("Unsupported child node: "+e)}const n7=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class Pf{constructor(e,n,r=0,i=e.length,o,s){this.test=s,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=o?a=>o(n7(a)):n7,this.query=this.normalize(n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return lr(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let n=VA(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=Xi(e);let i=this.normalize(n);for(let o=0,s=r;;o++){let a=i.charCodeAt(o),l=this.match(a,s,this.bufferPos+this.bufferStart);if(o==i.length-1){if(l)return this.value=l,this;break}s==r&&o<n.length&&n.charCodeAt(o)==a&&s++}}}match(e,n,r){let i=null;for(let o=0;o<this.matches.length;o+=2){let s=this.matches[o],a=!1;this.query.charCodeAt(s)==e&&(s==this.query.length-1?i={from:this.matches[o+1],to:r}:(this.matches[o]++,a=!0)),a||(this.matches.splice(o,2),o-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:n,to:r}:this.matches.push(1,n)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(Pf.prototype[Symbol.iterator]=function(){return this});const WW={from:-1,to:-1,match:/.*/.exec("")},_4="gm"+(/x/.unicode==null?"":"u");class qW{constructor(e,n,r,i=0,o=e.length){if(this.text=e,this.to=o,this.curLine="",this.done=!1,this.value=WW,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new KW(e,n,r,i,o);this.re=new RegExp(n,_4+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.iter=e.iter();let s=e.lineAt(i);this.curLineStart=s.from,this.matchPos=Bv(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){let r=this.curLineStart+n.index,i=r+n[0].length;if(this.matchPos=Bv(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const vC=new WeakMap;class ef{constructor(e,n){this.from=e,this.text=n}get to(){return this.from+this.text.length}static get(e,n,r){let i=vC.get(e);if(!i||i.from>=r||i.to<=n){let a=new ef(n,e.sliceString(n,r));return vC.set(e,a),a}if(i.from==n&&i.to==r)return i;let{text:o,from:s}=i;return s>n&&(o=e.sliceString(n,s)+o,s=n),i.to<r&&(o+=e.sliceString(i.to,r)),vC.set(e,new ef(s,o)),new ef(n,o.slice(n-s,r-s))}}class KW{constructor(e,n,r,i,o){this.text=e,this.to=o,this.done=!1,this.value=WW,this.matchPos=Bv(e,i),this.re=new RegExp(n,_4+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.flat=ef.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==e&&(this.re.lastIndex=e+1,n=this.re.exec(this.flat.text)),n){let r=this.flat.from+n.index,i=r+n[0].length;if((this.flat.to>=this.to||n.index+n[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this.matchPos=Bv(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=ef.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(qW.prototype[Symbol.iterator]=KW.prototype[Symbol.iterator]=function(){return this});function Kke(t){try{return new RegExp(t,_4),!0}catch{return!1}}function Bv(t,e){if(e>=t.length)return e;let n=t.lineAt(e),r;for(;e<n.to&&(r=n.text.charCodeAt(e-n.from))>=56320&&r<57344;)e++;return e}function BS(t){let e=String(t.state.doc.lineAt(t.state.selection.main.head).number),n=$t("input",{class:"cm-textfield",name:"line",value:e}),r=$t("form",{class:"cm-gotoLine",onkeydown:o=>{o.keyCode==27?(o.preventDefault(),t.dispatch({effects:Vv.of(!1)}),t.focus()):o.keyCode==13&&(o.preventDefault(),i())},onsubmit:o=>{o.preventDefault(),i()}},$t("label",t.state.phrase("Go to line"),": ",n)," ",$t("button",{class:"cm-button",type:"submit"},t.state.phrase("go")));function i(){let o=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(n.value);if(!o)return;let{state:s}=t,a=s.doc.lineAt(s.selection.main.head),[,l,c,u,h]=o,f=u?+u.slice(1):0,d=c?+c:a.number;if(c&&h){let v=d/100;l&&(v=v*(l=="-"?-1:1)+a.number/s.doc.lines),d=Math.round(s.doc.lines*v)}else c&&l&&(d=d*(l=="-"?-1:1)+a.number);let p=s.doc.line(Math.max(1,Math.min(s.doc.lines,d))),m=se.cursor(p.from+Math.max(0,Math.min(f,p.length)));t.dispatch({effects:[Vv.of(!1),be.scrollIntoView(m.from,{y:"center"})],selection:m}),t.focus()}return{dom:r}}const Vv=et.define(),r7=tr.define({create(){return!0},update(t,e){for(let n of e.effects)n.is(Vv)&&(t=n.value);return t},provide:t=>O0.from(t,e=>e?BS:null)}),Gke=t=>{let e=L0(t,BS);if(!e){let n=[Vv.of(!0)];t.state.field(r7,!1)==null&&n.push(et.appendConfig.of([r7,Jke])),t.dispatch({effects:n}),e=L0(t,BS)}return e&&e.dom.querySelector("input").select(),!0},Jke=be.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),Qke={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},Yke=ke.define({combine(t){return Rs(t,Qke,{highlightWordAroundCursor:(e,n)=>e||n,minSelectionLength:Math.min,maxMatches:Math.min})}});function Xke(t){return[r5e,n5e]}const Zke=Fe.mark({class:"cm-selectionMatch"}),e5e=Fe.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function i7(t,e,n,r){return(n==0||t(e.sliceDoc(n-1,n))!=rn.Word)&&(r==e.doc.length||t(e.sliceDoc(r,r+1))!=rn.Word)}function t5e(t,e,n,r){return t(e.sliceDoc(n,n+1))==rn.Word&&t(e.sliceDoc(r-1,r))==rn.Word}const n5e=Nn.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(Yke),{state:n}=t,r=n.selection;if(r.ranges.length>1)return Fe.none;let i=r.main,o,s=null;if(i.empty){if(!e.highlightWordAroundCursor)return Fe.none;let l=n.wordAt(i.head);if(!l)return Fe.none;s=n.charCategorizer(i.head),o=n.sliceDoc(l.from,l.to)}else{let l=i.to-i.from;if(l<e.minSelectionLength||l>200)return Fe.none;if(e.wholeWords){if(o=n.sliceDoc(i.from,i.to),s=n.charCategorizer(i.head),!(i7(s,n,i.from,i.to)&&t5e(s,n,i.from,i.to)))return Fe.none}else if(o=n.sliceDoc(i.from,i.to),!o)return Fe.none}let a=[];for(let l of t.visibleRanges){let c=new Pf(n.doc,o,l.from,l.to);for(;!c.next().done;){let{from:u,to:h}=c.value;if((!s||i7(s,n,u,h))&&(i.empty&&u<=i.from&&h>=i.to?a.push(e5e.range(u,h)):(u>=i.to||h<=i.from)&&a.push(Zke.range(u,h)),a.length>e.maxMatches))return Fe.none}}return Fe.set(a)}},{decorations:t=>t.decorations}),r5e=be.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),i5e=({state:t,dispatch:e})=>{let{selection:n}=t,r=se.create(n.ranges.map(i=>t.wordAt(i.head)||se.cursor(i.head)),n.mainIndex);return r.eq(n)?!1:(e(t.update({selection:r})),!0)};function o5e(t,e){let{main:n,ranges:r}=t.selection,i=t.wordAt(n.head),o=i&&i.from==n.from&&i.to==n.to;for(let s=!1,a=new Pf(t.doc,e,r[r.length-1].to);;)if(a.next(),a.done){if(s)return null;a=new Pf(t.doc,e,0,Math.max(0,r[r.length-1].from-1)),s=!0}else{if(s&&r.some(l=>l.from==a.value.from))continue;if(o){let l=t.wordAt(a.value.from);if(!l||l.from!=a.value.from||l.to!=a.value.to)continue}return a.value}}const s5e=({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some(o=>o.from===o.to))return i5e({state:t,dispatch:e});let r=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some(o=>t.sliceDoc(o.from,o.to)!=r))return!1;let i=o5e(t,r);return i?(e(t.update({selection:t.selection.addRange(se.range(i.from,i.to),!1),effects:be.scrollIntoView(i.to)})),!0):!1},rd=ke.define({combine(t){return Rs(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new v5e(e),scrollToMatch:e=>be.scrollIntoView(e)})}});class GW{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||Kke(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(n,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new u5e(this):new l5e(this)}getCursor(e,n=0,r){let i=e.doc?e:_t.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?fh(this,i,n,r):hh(this,i,n,r)}}class JW{constructor(e){this.spec=e}}function hh(t,e,n,r){return new Pf(e.doc,t.unquoted,n,r,t.caseSensitive?void 0:i=>i.toLowerCase(),t.wholeWord?a5e(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function a5e(t,e){return(n,r,i,o)=>((o>n||o+i.length<r)&&(o=Math.max(0,n-2),i=t.sliceString(o,Math.min(t.length,r+2))),(e(zv(i,n-o))!=rn.Word||e(jv(i,n-o))!=rn.Word)&&(e(jv(i,r-o))!=rn.Word||e(zv(i,r-o))!=rn.Word))}class l5e extends JW{constructor(e){super(e)}nextMatch(e,n,r){let i=hh(this.spec,e,r,e.doc.length).nextOverlapping();return i.done&&(i=hh(this.spec,e,0,n).nextOverlapping()),i.done?null:i.value}prevMatchInRange(e,n,r){for(let i=r;;){let o=Math.max(n,i-1e4-this.spec.unquoted.length),s=hh(this.spec,e,o,i),a=null;for(;!s.nextOverlapping().done;)a=s.value;if(a)return a;if(o==n)return null;i-=1e4}}prevMatch(e,n,r){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,n){let r=hh(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let o=hh(this.spec,e,Math.max(0,n-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!o.next().done;)i(o.value.from,o.value.to)}}function fh(t,e,n,r){return new qW(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?c5e(e.charCategorizer(e.selection.main.head)):void 0},n,r)}function zv(t,e){return t.slice(pr(t,e,!1),e)}function jv(t,e){return t.slice(e,pr(t,e))}function c5e(t){return(e,n,r)=>!r[0].length||(t(zv(r.input,r.index))!=rn.Word||t(jv(r.input,r.index))!=rn.Word)&&(t(jv(r.input,r.index+r[0].length))!=rn.Word||t(zv(r.input,r.index+r[0].length))!=rn.Word)}class u5e extends JW{nextMatch(e,n,r){let i=fh(this.spec,e,r,e.doc.length).next();return i.done&&(i=fh(this.spec,e,0,n).next()),i.done?null:i.value}prevMatchInRange(e,n,r){for(let i=1;;i++){let o=Math.max(n,r-i*1e4),s=fh(this.spec,e,o,r),a=null;for(;!s.next().done;)a=s.value;if(a&&(o==n||a.from>o+10))return a;if(o==n)return null}}prevMatch(e,n,r){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,(n,r)=>r=="$"?"$":r=="&"?e.match[0]:r!="0"&&+r<e.match.length?e.match[r]:n)}matchAll(e,n){let r=fh(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let o=fh(this.spec,e,Math.max(0,n-250),Math.min(r+250,e.doc.length));for(;!o.next().done;)i(o.value.from,o.value.to)}}const U0=et.define(),w4=et.define(),Ol=tr.define({create(t){return new yC(VS(t).create(),null)},update(t,e){for(let n of e.effects)n.is(U0)?t=new yC(n.value.create(),t.panel):n.is(w4)&&(t=new yC(t.query,n.value?C4:null));return t},provide:t=>O0.from(t,e=>e.panel)});class yC{constructor(e,n){this.query=e,this.panel=n}}const h5e=Fe.mark({class:"cm-searchMatch"}),f5e=Fe.mark({class:"cm-searchMatch cm-searchMatch-selected"}),d5e=Nn.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(Ol))}update(t){let e=t.state.field(Ol);(e!=t.startState.field(Ol)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return Fe.none;let{view:n}=this,r=new Ql;for(let i=0,o=n.visibleRanges,s=o.length;i<s;i++){let{from:a,to:l}=o[i];for(;i<s-1&&l>o[i+1].from-2*250;)l=o[++i].to;t.highlight(n.state,a,l,(c,u)=>{let h=n.state.selection.ranges.some(f=>f.from==c&&f.to==u);r.add(c,u,h?f5e:h5e)})}return r.finish()}},{decorations:t=>t.decorations});function Km(t){return e=>{let n=e.state.field(Ol,!1);return n&&n.query.spec.valid?t(e,n):XW(e)}}const $v=Km((t,{query:e})=>{let{to:n}=t.state.selection.main,r=e.nextMatch(t.state,n,n);if(!r)return!1;let i=se.single(r.from,r.to),o=t.state.facet(rd);return t.dispatch({selection:i,effects:[b4(t,r),o.scrollToMatch(i.main,t)],userEvent:"select.search"}),YW(t),!0}),Hv=Km((t,{query:e})=>{let{state:n}=t,{from:r}=n.selection.main,i=e.prevMatch(n,r,r);if(!i)return!1;let o=se.single(i.from,i.to),s=t.state.facet(rd);return t.dispatch({selection:o,effects:[b4(t,i),s.scrollToMatch(o.main,t)],userEvent:"select.search"}),YW(t),!0}),p5e=Km((t,{query:e})=>{let n=e.matchAll(t.state,1e3);return!n||!n.length?!1:(t.dispatch({selection:se.create(n.map(r=>se.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),m5e=({state:t,dispatch:e})=>{let n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:i}=n.main,o=[],s=0;for(let a=new Pf(t.doc,t.sliceDoc(r,i));!a.next().done;){if(o.length>1e3)return!1;a.value.from==r&&(s=o.length),o.push(se.range(a.value.from,a.value.to))}return e(t.update({selection:se.create(o,s),userEvent:"select.search.matches"})),!0},o7=Km((t,{query:e})=>{let{state:n}=t,{from:r,to:i}=n.selection.main;if(n.readOnly)return!1;let o=e.nextMatch(n,r,r);if(!o)return!1;let s=[],a,l,c=[];if(o.from==r&&o.to==i&&(l=n.toText(e.getReplacement(o)),s.push({from:o.from,to:o.to,insert:l}),o=e.nextMatch(n,o.from,o.to),c.push(be.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(r).number)+"."))),o){let u=s.length==0||s[0].from>=o.to?0:o.to-o.from-l.length;a=se.single(o.from-u,o.to-u),c.push(b4(t,o)),c.push(n.facet(rd).scrollToMatch(a.main,t))}return t.dispatch({changes:s,selection:a,effects:c,userEvent:"input.replace"}),!0}),g5e=Km((t,{query:e})=>{if(t.state.readOnly)return!1;let n=e.matchAll(t.state,1e9).map(i=>{let{from:o,to:s}=i;return{from:o,to:s,insert:e.getReplacement(i)}});if(!n.length)return!1;let r=t.state.phrase("replaced $ matches",n.length)+".";return t.dispatch({changes:n,effects:be.announce.of(r),userEvent:"input.replace.all"}),!0});function C4(t){return t.state.facet(rd).createPanel(t)}function VS(t,e){var n,r,i,o,s;let a=t.selection.main,l=a.empty||a.to>a.from+100?"":t.sliceDoc(a.from,a.to);if(e&&!l)return e;let c=t.facet(rd);return new GW({search:((n=e==null?void 0:e.literal)!==null&&n!==void 0?n:c.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(r=e==null?void 0:e.caseSensitive)!==null&&r!==void 0?r:c.caseSensitive,literal:(i=e==null?void 0:e.literal)!==null&&i!==void 0?i:c.literal,regexp:(o=e==null?void 0:e.regexp)!==null&&o!==void 0?o:c.regexp,wholeWord:(s=e==null?void 0:e.wholeWord)!==null&&s!==void 0?s:c.wholeWord})}function QW(t){let e=L0(t,C4);return e&&e.dom.querySelector("[main-field]")}function YW(t){let e=QW(t);e&&e==t.root.activeElement&&e.select()}const XW=t=>{let e=t.state.field(Ol,!1);if(e&&e.panel){let n=QW(t);if(n&&n!=t.root.activeElement){let r=VS(t.state,e.query.spec);r.valid&&t.dispatch({effects:U0.of(r)}),n.focus(),n.select()}}else t.dispatch({effects:[w4.of(!0),e?U0.of(VS(t.state,e.query.spec)):et.appendConfig.of(_5e)]});return!0},ZW=t=>{let e=t.state.field(Ol,!1);if(!e||!e.panel)return!1;let n=L0(t,C4);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:w4.of(!1)}),!0},x5e=[{key:"Mod-f",run:XW,scope:"editor search-panel"},{key:"F3",run:$v,shift:Hv,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:$v,shift:Hv,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:ZW,scope:"editor search-panel"},{key:"Mod-Shift-l",run:m5e},{key:"Mod-Alt-g",run:Gke},{key:"Mod-d",run:s5e,preventDefault:!0}];class v5e{constructor(e){this.view=e;let n=this.query=e.state.field(Ol).query.spec;this.commit=this.commit.bind(this),this.searchField=$t("input",{value:n.search,placeholder:Ei(e,"Find"),"aria-label":Ei(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=$t("input",{value:n.replace,placeholder:Ei(e,"Replace"),"aria-label":Ei(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=$t("input",{type:"checkbox",name:"case",form:"",checked:n.caseSensitive,onchange:this.commit}),this.reField=$t("input",{type:"checkbox",name:"re",form:"",checked:n.regexp,onchange:this.commit}),this.wordField=$t("input",{type:"checkbox",name:"word",form:"",checked:n.wholeWord,onchange:this.commit});function r(i,o,s){return $t("button",{class:"cm-button",name:i,onclick:o,type:"button"},s)}this.dom=$t("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>$v(e),[Ei(e,"next")]),r("prev",()=>Hv(e),[Ei(e,"previous")]),r("select",()=>p5e(e),[Ei(e,"all")]),$t("label",null,[this.caseField,Ei(e,"match case")]),$t("label",null,[this.reField,Ei(e,"regexp")]),$t("label",null,[this.wordField,Ei(e,"by word")]),...e.state.readOnly?[]:[$t("br"),this.replaceField,r("replace",()=>o7(e),[Ei(e,"replace")]),r("replaceAll",()=>g5e(e),[Ei(e,"replace all")])],$t("button",{name:"close",onclick:()=>ZW(e),"aria-label":Ei(e,"close"),type:"button"},[""])])}commit(){let e=new GW({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:U0.of(e)}))}keydown(e){uCe(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?Hv:$v)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),o7(this.view))}update(e){for(let n of e.transactions)for(let r of n.effects)r.is(U0)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(rd).top}}function Ei(t,e){return t.state.phrase(e)}const h1=30,f1=/[\s\.,:;?!]/;function b4(t,{from:e,to:n}){let r=t.state.doc.lineAt(e),i=t.state.doc.lineAt(n).to,o=Math.max(r.from,e-h1),s=Math.min(i,n+h1),a=t.state.sliceDoc(o,s);if(o!=r.from){for(let l=0;l<h1;l++)if(!f1.test(a[l+1])&&f1.test(a[l])){a=a.slice(l);break}}if(s!=i){for(let l=a.length-1;l>a.length-h1;l--)if(!f1.test(a[l-1])&&f1.test(a[l])){a=a.slice(0,l);break}}return be.announce.of(`${t.state.phrase("current match")}. ${a} ${t.state.phrase("on line")} ${r.number}.`)}const y5e=be.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),_5e=[Ol,pc.low(d5e),y5e];class w5e{constructor(e,n,r){this.from=e,this.to=n,this.diagnostic=r}}class Mc{constructor(e,n,r){this.diagnostics=e,this.panel=n,this.selected=r}static init(e,n,r){let i=e,o=r.facet(W0).markerFilter;o&&(i=o(i,r));let s=Fe.set(i.map(a=>a.from==a.to||a.from==a.to-1&&r.doc.lineAt(a.from).to==a.from?Fe.widget({widget:new R5e(a),diagnostic:a}).range(a.from):Fe.mark({attributes:{class:"cm-lintRange cm-lintRange-"+a.severity+(a.markClass?" "+a.markClass:"")},diagnostic:a}).range(a.from,a.to)),!0);return new Mc(s,n,Df(s))}}function Df(t,e=null,n=0){let r=null;return t.between(n,1e9,(i,o,{spec:s})=>{if(!(e&&s.diagnostic!=e))return r=new w5e(i,o,s.diagnostic),!1}),r}function C5e(t,e){let n=e.pos,r=e.end||n,i=t.state.facet(W0).hideOn(t,n,r);if(i!=null)return i;let o=t.startState.doc.lineAt(e.pos);return!!(t.effects.some(s=>s.is(eq))||t.changes.touchesRange(o.from,Math.max(o.to,r)))}function b5e(t,e){return t.field(Di,!1)?e:e.concat(et.appendConfig.of(M5e))}const eq=et.define(),E4=et.define(),tq=et.define(),Di=tr.define({create(){return new Mc(Fe.none,null,null)},update(t,e){if(e.docChanged&&t.diagnostics.size){let n=t.diagnostics.map(e.changes),r=null,i=t.panel;if(t.selected){let o=e.changes.mapPos(t.selected.from,1);r=Df(n,t.selected.diagnostic,o)||Df(n,null,o)}!n.size&&i&&e.state.facet(W0).autoPanel&&(i=null),t=new Mc(n,i,r)}for(let n of e.effects)if(n.is(eq)){let r=e.state.facet(W0).autoPanel?n.value.length?q0.open:null:t.panel;t=Mc.init(n.value,r,e.state)}else n.is(E4)?t=new Mc(t.diagnostics,n.value?q0.open:null,t.selected):n.is(tq)&&(t=new Mc(t.diagnostics,t.panel,n.value));return t},provide:t=>[O0.from(t,e=>e.panel),be.decorations.from(t,e=>e.diagnostics)]}),E5e=Fe.mark({class:"cm-lintRange cm-lintRange-active"});function S5e(t,e,n){let{diagnostics:r}=t.state.field(Di),i=[],o=2e8,s=0;r.between(e-(n<0?1:0),e+(n>0?1:0),(l,c,{spec:u})=>{e>=l&&e<=c&&(l==c||(e>l||n>0)&&(e<c||n<0))&&(i.push(u.diagnostic),o=Math.min(l,o),s=Math.max(c,s))});let a=t.state.facet(W0).tooltipFilter;return a&&(i=a(i,t.state)),i.length?{pos:o,end:s,above:t.state.doc.lineAt(o).to<s,create(){return{dom:k5e(t,i)}}}:null}function k5e(t,e){return $t("ul",{class:"cm-tooltip-lint"},e.map(n=>rq(t,n,!1)))}const T5e=t=>{let e=t.state.field(Di,!1);(!e||!e.panel)&&t.dispatch({effects:b5e(t.state,[E4.of(!0)])});let n=L0(t,q0.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},s7=t=>{let e=t.state.field(Di,!1);return!e||!e.panel?!1:(t.dispatch({effects:E4.of(!1)}),!0)},A5e=t=>{let e=t.state.field(Di,!1);if(!e)return!1;let n=t.state.selection.main,r=e.diagnostics.iter(n.to+1);return!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==n.from&&r.to==n.to)?!1:(t.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},I5e=[{key:"Mod-Shift-m",run:T5e,preventDefault:!0},{key:"F8",run:A5e}],W0=ke.define({combine(t){return Object.assign({sources:t.map(e=>e.source).filter(e=>e!=null)},Rs(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{needsRefresh:(e,n)=>e?n?r=>e(r)||n(r):e:n}))}});function nq(t){let e=[];if(t)e:for(let{name:n}of t){for(let r=0;r<n.length;r++){let i=n[r];if(/[a-zA-Z]/.test(i)&&!e.some(o=>o.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function rq(t,e,n){var r;let i=n?nq(e.actions):[];return $t("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},$t("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(t):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((o,s)=>{let a=!1,l=f=>{if(f.preventDefault(),a)return;a=!0;let d=Df(t.state.field(Di).diagnostics,e);d&&o.apply(t,d.from,d.to)},{name:c}=o,u=i[s]?c.indexOf(i[s]):-1,h=u<0?c:[c.slice(0,u),$t("u",c.slice(u,u+1)),c.slice(u+1)];return $t("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${c}${u<0?"":` (access key "${i[s]})"`}.`},h)}),e.source&&$t("div",{class:"cm-diagnosticSource"},e.source))}class R5e extends Ra{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return $t("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class a7{constructor(e,n){this.diagnostic=n,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=rq(e,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class q0{constructor(e){this.view=e,this.items=[];let n=i=>{if(i.keyCode==27)s7(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:o}=this.items[this.selectedIndex],s=nq(o.actions);for(let a=0;a<s.length;a++)if(s[a].toUpperCase().charCodeAt(0)==i.keyCode){let l=Df(this.view.state.field(Di).diagnostics,o);l&&o.actions[a].apply(e,l.from,l.to)}}else return;i.preventDefault()},r=i=>{for(let o=0;o<this.items.length;o++)this.items[o].dom.contains(i.target)&&this.moveSelection(o)};this.list=$t("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:n,onclick:r}),this.dom=$t("div",{class:"cm-panel-lint"},this.list,$t("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>s7(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(Di).selected;if(!e)return-1;for(let n=0;n<this.items.length;n++)if(this.items[n].diagnostic==e.diagnostic)return n;return-1}update(){let{diagnostics:e,selected:n}=this.view.state.field(Di),r=0,i=!1,o=null;for(e.between(0,this.view.state.doc.length,(s,a,{spec:l})=>{let c=-1,u;for(let h=r;h<this.items.length;h++)if(this.items[h].diagnostic==l.diagnostic){c=h;break}c<0?(u=new a7(this.view,l.diagnostic),this.items.splice(r,0,u),i=!0):(u=this.items[c],c>r&&(this.items.splice(r,c-r),i=!0)),n&&u.diagnostic==n.diagnostic?u.dom.hasAttribute("aria-selected")||(u.dom.setAttribute("aria-selected","true"),o=u):u.dom.hasAttribute("aria-selected")&&u.dom.removeAttribute("aria-selected"),r++});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new a7(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),o?(this.list.setAttribute("aria-activedescendant",o.id),this.view.requestMeasure({key:this,read:()=>({sel:o.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:s,panel:a})=>{let l=a.height/this.list.offsetHeight;s.top<a.top?this.list.scrollTop-=(a.top-s.top)/l:s.bottom>a.bottom&&(this.list.scrollTop+=(s.bottom-a.bottom)/l)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function n(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)n();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)n()}moveSelection(e){if(this.selectedIndex<0)return;let n=this.view.state.field(Di),r=Df(n.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:tq.of(r)})}static open(e){return new q0(e)}}function P5e(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function d1(t){return P5e(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const D5e=be.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:d1("#d11")},".cm-lintRange-warning":{backgroundImage:d1("orange")},".cm-lintRange-info":{backgroundImage:d1("#999")},".cm-lintRange-hint":{backgroundImage:d1("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),M5e=[Di,be.decorations.compute([Di],t=>{let{selected:e,panel:n}=t.field(Di);return!e||!n||e.from==e.to?Fe.none:Fe.set([E5e.range(e.from,e.to)])}),QCe(S5e,{hideOn:C5e}),D5e],N5e=[kU(),cbe(),TCe(),MSe(),oEe(),gCe(),wCe(),_t.allowMultipleSelections.of(!0),Wbe(),qU(cEe,{fallback:!0}),gEe(),hSe(),CSe(),VCe(),$Ce(),MCe(),Xke(),T_.of([...mSe,...Oke,...x5e,...$Se,...tEe,...dW,...I5e])];function l7(t,[e,n]){return Math.min(n,Math.max(e,t))}function L5e(t){const e=k.useRef({value:t,previous:t});return k.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var O5e=[" ","Enter","ArrowUp","ArrowDown"],F5e=[" ","Enter"],Gm="Select",[F_,B_,B5e]=zy(Gm),[id,u4e]=ho(Gm,[B5e,cc]),V_=cc(),[V5e,gc]=id(Gm),[z5e,j5e]=id(Gm),iq=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:o,value:s,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:h,disabled:f,required:d}=t,p=V_(e),[m,v]=k.useState(null),[x,y]=k.useState(null),[_,C]=k.useState(!1),S=ym(c),[T=!1,b]=zo({prop:r,defaultProp:i,onChange:o}),[w,I]=zo({prop:s,defaultProp:a,onChange:l}),E=k.useRef(null),R=m?!!m.closest("form"):!0,[D,N]=k.useState(new Set),z=Array.from(D).map($=>$.props.value).join(";");return P.jsx(Ny,{...p,children:P.jsxs(V5e,{required:d,scope:e,trigger:m,onTriggerChange:v,valueNode:x,onValueNodeChange:y,valueNodeHasChildren:_,onValueNodeHasChildrenChange:C,contentId:Mo(),value:w,onValueChange:I,open:T,onOpenChange:b,dir:S,triggerPointerDownPosRef:E,disabled:f,children:[P.jsx(F_.Provider,{scope:e,children:P.jsx(z5e,{scope:t.__scopeSelect,onNativeOptionAdd:k.useCallback($=>{N(Q=>new Set(Q).add($))},[]),onNativeOptionRemove:k.useCallback($=>{N(Q=>{const Y=new Set(Q);return Y.delete($),Y})},[]),children:n})}),R?P.jsxs(Rq,{"aria-hidden":!0,required:d,tabIndex:-1,name:u,autoComplete:h,value:w,onChange:$=>I($.target.value),disabled:f,children:[w===void 0?P.jsx("option",{value:""}):null,Array.from(D)]},z):null]})})};iq.displayName=Gm;var oq="SelectTrigger",sq=k.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,o=V_(n),s=gc(oq,n),a=s.disabled||r,l=St(e,s.onTriggerChange),c=B_(n),[u,h,f]=Pq(p=>{const m=c().filter(y=>!y.disabled),v=m.find(y=>y.value===s.value),x=Dq(m,p,v);x!==void 0&&s.onValueChange(x.value)}),d=()=>{a||(s.onOpenChange(!0),f())};return P.jsx(gm,{asChild:!0,...o,children:P.jsx(He.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":Iq(s.value)?"":void 0,...i,ref:l,onClick:_e(i.onClick,p=>{p.currentTarget.focus()}),onPointerDown:_e(i.onPointerDown,p=>{const m=p.target;m.hasPointerCapture(p.pointerId)&&m.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&(d(),s.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)},p.preventDefault())}),onKeyDown:_e(i.onKeyDown,p=>{const m=u.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&h(p.key),!(m&&p.key===" ")&&O5e.includes(p.key)&&(d(),p.preventDefault())})})})});sq.displayName=oq;var aq="SelectValue",lq=k.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:s="",...a}=t,l=gc(aq,n),{onValueNodeHasChildrenChange:c}=l,u=o!==void 0,h=St(e,l.onValueNodeChange);return Or(()=>{c(u)},[c,u]),P.jsx(He.span,{...a,ref:h,style:{pointerEvents:"none"},children:Iq(l.value)?P.jsx(P.Fragment,{children:s}):o})});lq.displayName=aq;var $5e="SelectIcon",cq=k.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return P.jsx(He.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});cq.displayName=$5e;var H5e="SelectPortal",uq=t=>P.jsx(Du,{asChild:!0,...t});uq.displayName=H5e;var Cu="SelectContent",hq=k.forwardRef((t,e)=>{const n=gc(Cu,t.__scopeSelect),[r,i]=k.useState();if(Or(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?Oo.createPortal(P.jsx(fq,{scope:t.__scopeSelect,children:P.jsx(F_.Slot,{scope:t.__scopeSelect,children:P.jsx("div",{children:t.children})})}),o):null}return P.jsx(dq,{...t,ref:e})});hq.displayName=Cu;var $s=10,[fq,xc]=id(Cu),U5e="SelectContentImpl",dq=k.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:s,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:d,sticky:p,hideWhenDetached:m,avoidCollisions:v,...x}=t,y=gc(Cu,n),[_,C]=k.useState(null),[S,T]=k.useState(null),b=St(e,ue=>C(ue)),[w,I]=k.useState(null),[E,R]=k.useState(null),D=B_(n),[N,z]=k.useState(!1),$=k.useRef(!1);k.useEffect(()=>{if(_)return Uy(_)},[_]),jy();const Q=k.useCallback(ue=>{const[fe,...je]=D().map(Qe=>Qe.ref.current),[Le]=je.slice(-1),Be=document.activeElement;for(const Qe of ue)if(Qe===Be||(Qe==null||Qe.scrollIntoView({block:"nearest"}),Qe===fe&&S&&(S.scrollTop=0),Qe===Le&&S&&(S.scrollTop=S.scrollHeight),Qe==null||Qe.focus(),document.activeElement!==Be))return},[D,S]),Y=k.useCallback(()=>Q([w,_]),[Q,w,_]);k.useEffect(()=>{N&&Y()},[N,Y]);const{onOpenChange:q,triggerPointerDownPosRef:H}=y;k.useEffect(()=>{if(_){let ue={x:0,y:0};const fe=Le=>{var Be,Qe;ue={x:Math.abs(Math.round(Le.pageX)-(((Be=H.current)==null?void 0:Be.x)??0)),y:Math.abs(Math.round(Le.pageY)-(((Qe=H.current)==null?void 0:Qe.y)??0))}},je=Le=>{ue.x<=10&&ue.y<=10?Le.preventDefault():_.contains(Le.target)||q(!1),document.removeEventListener("pointermove",fe),H.current=null};return H.current!==null&&(document.addEventListener("pointermove",fe),document.addEventListener("pointerup",je,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",fe),document.removeEventListener("pointerup",je,{capture:!0})}}},[_,q,H]),k.useEffect(()=>{const ue=()=>q(!1);return window.addEventListener("blur",ue),window.addEventListener("resize",ue),()=>{window.removeEventListener("blur",ue),window.removeEventListener("resize",ue)}},[q]);const[O,U]=Pq(ue=>{const fe=D().filter(Be=>!Be.disabled),je=fe.find(Be=>Be.ref.current===document.activeElement),Le=Dq(fe,ue,je);Le&&setTimeout(()=>Le.ref.current.focus())}),K=k.useCallback((ue,fe,je)=>{const Le=!$.current&&!je;(y.value!==void 0&&y.value===fe||Le)&&(I(ue),Le&&($.current=!0))},[y.value]),L=k.useCallback(()=>_==null?void 0:_.focus(),[_]),J=k.useCallback((ue,fe,je)=>{const Le=!$.current&&!je;(y.value!==void 0&&y.value===fe||Le)&&R(ue)},[y.value]),Ee=r==="popper"?zS:pq,de=Ee===zS?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:h,collisionBoundary:f,collisionPadding:d,sticky:p,hideWhenDetached:m,avoidCollisions:v}:{};return P.jsx(fq,{scope:n,content:_,viewport:S,onViewportChange:T,itemRefCallback:K,selectedItem:w,onItemLeave:L,itemTextRefCallback:J,focusSelectedItem:Y,selectedItemText:E,position:r,isPositioned:N,searchRef:O,children:P.jsx(wm,{as:fa,allowPinchZoom:!0,children:P.jsx(_m,{asChild:!0,trapped:y.open,onMountAutoFocus:ue=>{ue.preventDefault()},onUnmountAutoFocus:_e(i,ue=>{var fe;(fe=y.trigger)==null||fe.focus({preventScroll:!0}),ue.preventDefault()}),children:P.jsx(Pu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:ue=>ue.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:P.jsx(Ee,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:ue=>ue.preventDefault(),...x,...de,onPlaced:()=>z(!0),ref:b,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:_e(x.onKeyDown,ue=>{const fe=ue.ctrlKey||ue.altKey||ue.metaKey;if(ue.key==="Tab"&&ue.preventDefault(),!fe&&ue.key.length===1&&U(ue.key),["ArrowUp","ArrowDown","Home","End"].includes(ue.key)){let Le=D().filter(Be=>!Be.disabled).map(Be=>Be.ref.current);if(["ArrowUp","End"].includes(ue.key)&&(Le=Le.slice().reverse()),["ArrowUp","ArrowDown"].includes(ue.key)){const Be=ue.target,Qe=Le.indexOf(Be);Le=Le.slice(Qe+1)}setTimeout(()=>Q(Le)),ue.preventDefault()}})})})})})})});dq.displayName=U5e;var W5e="SelectItemAlignedPosition",pq=k.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,o=gc(Cu,n),s=xc(Cu,n),[a,l]=k.useState(null),[c,u]=k.useState(null),h=St(e,b=>u(b)),f=B_(n),d=k.useRef(!1),p=k.useRef(!0),{viewport:m,selectedItem:v,selectedItemText:x,focusSelectedItem:y}=s,_=k.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&c&&m&&v&&x){const b=o.trigger.getBoundingClientRect(),w=c.getBoundingClientRect(),I=o.valueNode.getBoundingClientRect(),E=x.getBoundingClientRect();if(o.dir!=="rtl"){const Be=E.left-w.left,Qe=I.left-Be,ct=b.left-Qe,We=b.width+ct,zt=Math.max(We,w.width),on=window.innerWidth-$s,Ln=l7(Qe,[$s,on-zt]);a.style.minWidth=We+"px",a.style.left=Ln+"px"}else{const Be=w.right-E.right,Qe=window.innerWidth-I.right-Be,ct=window.innerWidth-b.right-Qe,We=b.width+ct,zt=Math.max(We,w.width),on=window.innerWidth-$s,Ln=l7(Qe,[$s,on-zt]);a.style.minWidth=We+"px",a.style.right=Ln+"px"}const R=f(),D=window.innerHeight-$s*2,N=m.scrollHeight,z=window.getComputedStyle(c),$=parseInt(z.borderTopWidth,10),Q=parseInt(z.paddingTop,10),Y=parseInt(z.borderBottomWidth,10),q=parseInt(z.paddingBottom,10),H=$+Q+N+q+Y,O=Math.min(v.offsetHeight*5,H),U=window.getComputedStyle(m),K=parseInt(U.paddingTop,10),L=parseInt(U.paddingBottom,10),J=b.top+b.height/2-$s,Ee=D-J,de=v.offsetHeight/2,ue=v.offsetTop+de,fe=$+Q+ue,je=H-fe;if(fe<=J){const Be=v===R[R.length-1].ref.current;a.style.bottom="0px";const Qe=c.clientHeight-m.offsetTop-m.offsetHeight,ct=Math.max(Ee,de+(Be?L:0)+Qe+Y),We=fe+ct;a.style.height=We+"px"}else{const Be=v===R[0].ref.current;a.style.top="0px";const ct=Math.max(J,$+m.offsetTop+(Be?K:0)+de)+je;a.style.height=ct+"px",m.scrollTop=fe-J+m.offsetTop}a.style.margin=`${$s}px 0`,a.style.minHeight=O+"px",a.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>d.current=!0)}},[f,o.trigger,o.valueNode,a,c,m,v,x,o.dir,r]);Or(()=>_(),[_]);const[C,S]=k.useState();Or(()=>{c&&S(window.getComputedStyle(c).zIndex)},[c]);const T=k.useCallback(b=>{b&&p.current===!0&&(_(),y==null||y(),p.current=!1)},[_,y]);return P.jsx(K5e,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:d,onScrollButtonChange:T,children:P.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:P.jsx(He.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});pq.displayName=W5e;var q5e="SelectPopperPosition",zS=k.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=$s,...o}=t,s=V_(n);return P.jsx(Ly,{...s,...o,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});zS.displayName=q5e;var[K5e,S4]=id(Cu,{}),jS="SelectViewport",mq=k.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,o=xc(jS,n),s=S4(jS,n),a=St(e,o.onViewportChange),l=k.useRef(0);return P.jsxs(P.Fragment,{children:[P.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),P.jsx(F_.Slot,{scope:n,children:P.jsx(He.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"auto",...i.style},onScroll:_e(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:f}=s;if(f!=null&&f.current&&h){const d=Math.abs(l.current-u.scrollTop);if(d>0){const p=window.innerHeight-$s*2,m=parseFloat(h.style.minHeight),v=parseFloat(h.style.height),x=Math.max(m,v);if(x<p){const y=x+d,_=Math.min(p,y),C=y-_;h.style.height=_+"px",h.style.bottom==="0px"&&(u.scrollTop=C>0?C:0,h.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});mq.displayName=jS;var gq="SelectGroup",[G5e,J5e]=id(gq),xq=k.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Mo();return P.jsx(G5e,{scope:n,id:i,children:P.jsx(He.div,{role:"group","aria-labelledby":i,...r,ref:e})})});xq.displayName=gq;var vq="SelectLabel",yq=k.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=J5e(vq,n);return P.jsx(He.div,{id:i.id,...r,ref:e})});yq.displayName=vq;var Uv="SelectItem",[Q5e,_q]=id(Uv),wq=k.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...s}=t,a=gc(Uv,n),l=xc(Uv,n),c=a.value===r,[u,h]=k.useState(o??""),[f,d]=k.useState(!1),p=St(e,x=>{var y;return(y=l.itemRefCallback)==null?void 0:y.call(l,x,r,i)}),m=Mo(),v=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return P.jsx(Q5e,{scope:n,value:r,disabled:i,textId:m,isSelected:c,onItemTextChange:k.useCallback(x=>{h(y=>y||((x==null?void 0:x.textContent)??"").trim())},[]),children:P.jsx(F_.ItemSlot,{scope:n,value:r,disabled:i,textValue:u,children:P.jsx(He.div,{role:"option","aria-labelledby":m,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:p,onFocus:_e(s.onFocus,()=>d(!0)),onBlur:_e(s.onBlur,()=>d(!1)),onPointerUp:_e(s.onPointerUp,v),onPointerMove:_e(s.onPointerMove,x=>{var y;i?(y=l.onItemLeave)==null||y.call(l):x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:_e(s.onPointerLeave,x=>{var y;x.currentTarget===document.activeElement&&((y=l.onItemLeave)==null||y.call(l))}),onKeyDown:_e(s.onKeyDown,x=>{var _;((_=l.searchRef)==null?void 0:_.current)!==""&&x.key===" "||(F5e.includes(x.key)&&v(),x.key===" "&&x.preventDefault())})})})})});wq.displayName=Uv;var op="SelectItemText",Cq=k.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...o}=t,s=gc(op,n),a=xc(op,n),l=_q(op,n),c=j5e(op,n),[u,h]=k.useState(null),f=St(e,x=>h(x),l.onItemTextChange,x=>{var y;return(y=a.itemTextRefCallback)==null?void 0:y.call(a,x,l.value,l.disabled)}),d=u==null?void 0:u.textContent,p=k.useMemo(()=>P.jsx("option",{value:l.value,disabled:l.disabled,children:d},l.value),[l.disabled,l.value,d]),{onNativeOptionAdd:m,onNativeOptionRemove:v}=c;return Or(()=>(m(p),()=>v(p)),[m,v,p]),P.jsxs(P.Fragment,{children:[P.jsx(He.span,{id:l.textId,...o,ref:f}),l.isSelected&&s.valueNode&&!s.valueNodeHasChildren?Oo.createPortal(o.children,s.valueNode):null]})});Cq.displayName=op;var bq="SelectItemIndicator",Eq=k.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return _q(bq,n).isSelected?P.jsx(He.span,{"aria-hidden":!0,...r,ref:e}):null});Eq.displayName=bq;var $S="SelectScrollUpButton",Sq=k.forwardRef((t,e)=>{const n=xc($S,t.__scopeSelect),r=S4($S,t.__scopeSelect),[i,o]=k.useState(!1),s=St(e,r.onScrollButtonChange);return Or(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;o(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?P.jsx(Tq,{...t,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});Sq.displayName=$S;var HS="SelectScrollDownButton",kq=k.forwardRef((t,e)=>{const n=xc(HS,t.__scopeSelect),r=S4(HS,t.__scopeSelect),[i,o]=k.useState(!1),s=St(e,r.onScrollButtonChange);return Or(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;o(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?P.jsx(Tq,{...t,ref:s,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});kq.displayName=HS;var Tq=k.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,o=xc("SelectScrollButton",n),s=k.useRef(null),a=B_(n),l=k.useCallback(()=>{s.current!==null&&(window.clearInterval(s.current),s.current=null)},[]);return k.useEffect(()=>()=>l(),[l]),Or(()=>{var u;const c=a().find(h=>h.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),P.jsx(He.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:_e(i.onPointerDown,()=>{s.current===null&&(s.current=window.setInterval(r,50))}),onPointerMove:_e(i.onPointerMove,()=>{var c;(c=o.onItemLeave)==null||c.call(o),s.current===null&&(s.current=window.setInterval(r,50))}),onPointerLeave:_e(i.onPointerLeave,()=>{l()})})}),Y5e="SelectSeparator",Aq=k.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return P.jsx(He.div,{"aria-hidden":!0,...r,ref:e})});Aq.displayName=Y5e;var US="SelectArrow",X5e=k.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=V_(n),o=gc(US,n),s=xc(US,n);return o.open&&s.position==="popper"?P.jsx(Oy,{...i,...r,ref:e}):null});X5e.displayName=US;function Iq(t){return t===""||t===void 0}var Rq=k.forwardRef((t,e)=>{const{value:n,...r}=t,i=k.useRef(null),o=St(e,i),s=L5e(n);return k.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(s!==n&&u){const h=new Event("change",{bubbles:!0});u.call(a,n),a.dispatchEvent(h)}},[s,n]),P.jsx(xm,{asChild:!0,children:P.jsx("select",{...r,ref:o,defaultValue:n})})});Rq.displayName="BubbleSelect";function Pq(t){const e=Lr(t),n=k.useRef(""),r=k.useRef(0),i=k.useCallback(s=>{const a=n.current+s;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),o=k.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return k.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function Dq(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,o=n?t.indexOf(n):-1;let s=Z5e(t,Math.max(o,0));i.length===1&&(s=s.filter(c=>c!==n));const l=s.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function Z5e(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Mq=iq,k4=sq,Nq=lq,Lq=cq,Oq=uq,T4=hq,Fq=mq,eTe=xq,Bq=yq,A4=wq,Vq=Cq,tTe=Eq,zq=Sq,jq=kq,I4=Aq;const z_=F.forwardRef(({title:t,children:e},n)=>{const r=qr(Om);return F.createElement(nB,{delayDuration:100},F.createElement(rB,null,F.createElement(iB,{ref:n,asChild:!0},F.createElement("span",{className:Ke.tooltipTrigger},e)),F.createElement(Qle,{container:r==null?void 0:r.current},F.createElement(tT,{className:Oi(Ke.tooltipContent),sideOffset:10},t))))}),nTe=F.forwardRef(({children:t,className:e,...n},r)=>F.createElement(A4,{...n,ref:r,className:Oi(e,Ke.selectItem)},F.createElement(Vq,null,t))),rTe=({title:t,placeholder:e,className:n})=>{const[r,i]=$i(fu,Hi);return F.createElement(z_,{title:t},F.createElement(k4,{"aria-label":e,className:Oi(Ke.selectTrigger,n),"data-toolbar-item":!0,disabled:r},F.createElement(Nq,{placeholder:e}),F.createElement(Lq,{className:Ke.selectDropdownArrow},i("arrow_drop_down"))))},iTe=({children:t,className:e=Ke.selectContainer})=>{const n=qr(Om);return F.createElement(Oq,{container:n==null?void 0:n.current},F.createElement(T4,{className:Oi(e,"mdxeditor-select-content"),onCloseAutoFocus:r=>{r.preventDefault()},position:"popper"},F.createElement(Fq,{"data-editor-dropdown":!0},t)))},R4=t=>F.createElement(Mq,{value:t.value||void 0,onValueChange:t.onChange},F.createElement(rTe,{title:t.triggerTitle,placeholder:t.placeholder}),F.createElement(iTe,null,t.items.map((e,n)=>e==="separator"?F.createElement(I4,{key:n}):F.createElement(nTe,{key:n,value:e.value},e.label)))),c7="__EMPTY_VALUE__",oTe=({language:t,nodeKey:e,code:n,focusEmitter:r})=>{const i=Br(),{parentEditor:o,lexicalNode:s}=$E(),[a,l,c,u,h]=$i(fu,WS,qS,Hi,Wv),f=Fke(e,"codeblock",t,r),{setCode:d}=$E(),p=F.useRef(null),m=F.useRef(null),v=F.useRef(d);return v.current=d,f.current={getCodemirror:()=>p.current},F.useEffect(()=>((async()=>{const x=[...l,N5e,qke,kU(),be.lineWrapping,be.updateListener.of(({state:y})=>{v.current(y.doc.toString())})];if(a&&x.push(_t.readOnly.of(!0)),t!==""&&c){const y=Bke.find(_=>_.name===t||_.alias.includes(t)||_.extensions.includes(t));if(y)try{const _=await y.load();x.push(_.extension)}catch{console.warn("failed to load language support for",t)}}m.current.innerHTML="",p.current=new be({parent:m.current,state:_t.create({doc:n,extensions:x})})})(),()=>{var x;(x=p.current)==null||x.destroy(),p.current=null}),[a,t]),F.createElement("div",{className:Ke.codeMirrorWrapper,onKeyDown:x=>{x.stopPropagation()}},F.createElement("div",{className:Ke.codeMirrorToolbar},F.createElement(R4,{value:t,onChange:x=>{o.update(()=>{s.setLanguage(x===c7?"":x),setTimeout(()=>{o.update(()=>{s.getLatest().select()})})})},triggerTitle:i("codeBlock.selectLanguage","Select code block language"),placeholder:i("codeBlock.inlineLanguage","Language"),items:Object.entries(h).map(([x,y])=>({value:x||c7,label:y}))}),F.createElement("button",{className:Ke.iconButton,type:"button",title:i("codeblock.delete","Delete code block"),onClick:x=>{x.preventDefault(),o.update(()=>{s.remove()})}},u("delete_small"))),F.createElement("div",{ref:m}))},Wv=Ge({js:"JavaScript",ts:"TypeScript",tsx:"TypeScript (React)",jsx:"JavaScript (React)",css:"CSS"}),sTe=ni(t=>{t.link(t.pipe(sTe,Qy(({language:e,code:n})=>({code:n,language:e,meta:""}))),BA)}),WS=Ge([]),qS=Ge(!0),aTe=Sa({update(t,e){t.pubIn({[Wv]:e==null?void 0:e.codeBlockLanguages,[WS]:(e==null?void 0:e.codeMirrorExtensions)??[],[qS]:(e==null?void 0:e.autoLoadLanguageSupport)??!0})},init(t,e){t.pubIn({[Wv]:e==null?void 0:e.codeBlockLanguages,[WS]:(e==null?void 0:e.codeMirrorExtensions)??[],[dwe]:lTe((e==null?void 0:e.codeBlockLanguages)??{}),[qS]:(e==null?void 0:e.autoLoadLanguageSupport)??!0})}});function lTe(t){return{match(e,n){return!!Object.hasOwn(t,e??"")&&!n},priority:1,Editor:oTe}}function P4(t,e){return F.forwardRef((n,r)=>{const i=Oi(e.className,n.className);return F.createElement(t,{...e,...n,className:i,ref:r})})}function cTe(t){return({title:e,children:n,...r})=>F.createElement(t,{...r},F.createElement(z_,{title:e},n))}const uTe=({readOnly:t,children:e})=>F.createElement(RA,{className:Oi("mdxeditor-toolbar",Ke.toolbarRoot,{[Ke.readOnlyToolbarRoot]:t}),...t?{tabIndex:-1}:{}},e),hTe=P4(Jc,{className:Ke.toolbarButton,"data-toolbar-item":!0}),D4=cTe(hTe),$q=P4(W1,{className:Ke.toolbarToggleItem,"data-toolbar-item":!0});P4(C_,{type:"single",className:Ke.toolbarToggleSingleGroup});const Hq=F.forwardRef(({on:t,title:e,children:n,disabled:r,...i},o)=>F.createElement(C_,{type:"single",className:Ke.toolbarToggleSingleGroup,...i,value:t?"on":"off",ref:o},F.createElement($q,{title:e,value:"on",disabled:r},F.createElement(z_,{title:e},n)))),Uq=({items:t})=>F.createElement("div",{className:Ke.toolbarGroupOfGroups},t.map((e,n)=>F.createElement(Hq,{key:n,title:e.title,on:e.active,onValueChange:r=>{e.onChange(r==="on")},disabled:e.disabled},e.contents))),fTe=({value:t,onChange:e,className:n,items:r})=>{const i=Br();return F.createElement("div",{className:Ke.toolbarGroupOfGroups},F.createElement(C_,{"aria-label":i("toolbar.toggleGroup","toggle group"),type:"single",className:Oi(Ke.toolbarToggleSingleGroup,n),onValueChange:e,value:t||"",onFocus:o=>{o.preventDefault()}},r.map((o,s)=>F.createElement($q,{key:s,"aria-label":o.title,value:o.value},F.createElement(z_,{title:o.title},o.contents)))))};function u7(t){return Object.hasOwn(t,"when")}const dTe=({options:t})=>{const e=qr(y_),n=F.useMemo(()=>{const r=t.find(i=>{if(u7(i)){if(i.when(e))return!0}else return!0});return r?u7(r)?r.contents():r.fallback():null},[t,e]);return F.createElement("div",{style:{display:"flex"}},n)},rh=T$,_C=Ge(()=>null),h7=()=>"This is an empty toolbar. Pass `{toolbarContents: () => { return <>toolbar components</> }}` to the toolbarPlugin to customize it.",pTe=Sa({init(t,e){t.pubIn({[_C]:(e==null?void 0:e.toolbarContents)??h7,[T1e]:()=>{const[n,r]=$i(_C,fu);return F.createElement(uTe,{readOnly:r},n())}})},update(t,e){t.pub(_C,(e==null?void 0:e.toolbarContents)??h7)}}),mTe=()=>{const t=Ea(xv),e=qr(Ij),n=qr(Rj),r=n.includes("quote"),i=n.includes("headings"),o=Br();if(!r&&!i)return null;const s=[{label:o("toolbar.blockTypes.paragraph","Paragraph"),value:"paragraph"}];if(r&&s.push({label:o("toolbar.blockTypes.quote","Quote"),value:"quote"}),i){const a=qr(yA);s.push(...a.map(l=>({label:o("toolbar.blockTypes.heading","Heading {{level}}",{level:l}),value:`h${l}`})))}return F.createElement(R4,{value:e,onChange:a=>{switch(a){case"quote":t(()=>d_());break;case"paragraph":t(()=>Zt());break;case"":break;default:if(a.startsWith("h"))t(()=>ml(a));else throw new Error(`Unknown block type: ${a}`)}},triggerTitle:o("toolbar.blockTypeSelect.selectBlockTypeTooltip","Select block type"),placeholder:o("toolbar.blockTypeSelect.placeholder","Block type"),items:s})},tf=({format:t,addTitle:e,removeTitle:n,icon:r,formatName:i})=>{const[o,s]=$i(aA,Hi),a=Ea(lA),l=(o&t)!==0;return F.createElement(Hq,{title:l?n:e,on:l,onValueChange:()=>{a(i)}},s(r))},gTe=({options:t})=>{const e=Br(),n=typeof t>"u";return F.createElement("div",{className:Ke.toolbarGroupOfGroups},n||t.includes("Bold")?F.createElement(tf,{format:kp,addTitle:e("toolbar.bold","Bold"),removeTitle:e("toolbar.removeBold","Remove bold"),icon:"format_bold",formatName:"bold"}):null,n||t.includes("Italic")?F.createElement(tf,{format:Tp,addTitle:e("toolbar.italic","Italic"),removeTitle:e("toolbar.removeItalic","Remove italic"),icon:"format_italic",formatName:"italic"}):null,n||t.includes("Underline")?F.createElement(tf,{format:Ip,addTitle:e("toolbar.underline","Underline"),removeTitle:e("toolbar.removeUnderline","Remove underline"),icon:"format_underlined",formatName:"underline"}):null)},xTe=({options:t})=>{const e=Br(),n=typeof t>"u";return F.createElement("div",{className:Ke.toolbarGroupOfGroups},n||t.includes("Strikethrough")?F.createElement(tf,{format:Ap,addTitle:e("toolbar.strikethrough","Strikethrough"),removeTitle:e("toolbar.removeStrikethrough","Remove strikethrough"),icon:"strikeThrough",formatName:"strikethrough"}):null,n||t.includes("Sup")?F.createElement(tf,{format:Pp,addTitle:e("toolbar.superscript","Superscript"),removeTitle:e("toolbar.removeSuperscript","Remove superscript"),icon:"superscript",formatName:"superscript"}):null,n||t.includes("Sub")?F.createElement(tf,{format:Rp,addTitle:e("toolbar.subscript","Subscript"),removeTitle:e("toolbar.removeSubscript","Remove subscript"),icon:"subscript",formatName:"subscript"}):null)},wC="__EMPTY_VALUE__",vTe=()=>{const[t,e,n]=$i(y_,ri,Wv),r=t.rootNode,i=Br();let o=r.getLanguage();return o===""&&(o=wC),F.createElement("div",{className:Ke.selectWithLabel},F.createElement("label",null,i("codeBlock.language","Code block language")),F.createElement(R4,{value:o,onChange:s=>{e==null||e.update(()=>{r.setLanguage(s===wC?"":s),setTimeout(()=>{e.update(()=>{r.getLatest().select()})})})},triggerTitle:i("codeBlock.selectLanguage","Select code block language"),placeholder:i("codeBlock.language","Code block language"),items:Object.entries(n).map(([s,a])=>({value:s||wC,label:a}))}))},yTe=()=>{const[t,e]=$i(aA,Hi),n=Ea(lA),r=Br(),i=(t&x_)!==0,o=i?r("toolbar.removeInlineCode","Remove code format"):r("toolbar.inlineCode","Inline code format");return F.createElement(Uq,{items:[{title:o,contents:e("code"),active:i,onChange:n.bind(null,"code")}]})},_Te=()=>{const t=Ea(BA),e=qr(Hi),n=Br();return F.createElement(D4,{title:n("toolbar.codeBlock","Insert Code Block"),onClick:()=>{t({})}},e("frame_source"))},wTe=()=>{const t=qr(Hi),e=Ea(P$),n=Br();return F.createElement(D4,{title:n("toolbar.table","Insert Table"),onClick:()=>{e({rows:3,columns:3})}},t("table"))},CTe=()=>{const t=Ea(Hj),e=qr(Hi),n=Br();return F.createElement(D4,{title:n("toolbar.thematicBreak","Insert thematic break"),onClick:()=>{t()}},e("horizontal_rule"))},bTe={bullet:"format_list_bulleted",number:"format_list_numbered",check:"format_list_checked"},ETe=({options:t=["bullet","number","check"]})=>{const[e,n]=$i(jE,Hi),r=Ea(Yj),i=Br(),o={bullet:i("toolbar.bulletedList","Bulleted list"),number:i("toolbar.numberedList","Numbered list"),check:i("toolbar.checkList","Check list")},s=t.map(a=>({value:a,title:o[a],contents:n(bTe[a])}));return F.createElement(fTe,{value:e||"",items:s,onChange:r})},STe=()=>{const[t,e]=$i(Hi,ri),[n,r]=F.useState(!1),[i,o]=F.useState(!1),s=Br();return F.useEffect(()=>{if(e)return Is(e.registerCommand(Yd,a=>(r(a),!1),ys),e.registerCommand(Qd,a=>(o(a),!1),ys))},[e]),F.createElement(Uq,{items:[{title:s("toolbar.undo","Undo {{shortcut}}",{shortcut:kE?"Z":"Ctrl+Z"}),disabled:!n,contents:t("undo"),active:!1,onChange:()=>e==null?void 0:e.dispatchCommand(Zy,void 0)},{title:s("toolbar.redo","Redo {{shortcut}}",{shortcut:kE?"Y":"Ctrl+Y"}),disabled:!i,contents:t("redo"),active:!1,onChange:()=>e==null?void 0:e.dispatchCommand(e_,void 0)}]})},kTe=k.forwardRef(function({content:e,handleEditContent:n},r){return P.jsx(P.Fragment,{children:P.jsx(eye,{ref:r,markdown:e,onBlur:n,onError:console.log,plugins:[oye(),iwe(),H_e(),fye(),Lye(),pwe({defaultCodeBlockLanguage:"js"}),aTe({codeBlockLanguages:{js:" JavaScript",css:"CSS",jsx:"JavaScript (React)",ts:"TypeScript",tsx:"TypeScript (React)"}}),pTe({toolbarContents:()=>P.jsx(P.Fragment,{children:P.jsx(dTe,{options:[{when:i=>(i==null?void 0:i.editorType)==="codeblock",contents:()=>P.jsx(vTe,{})},{fallback:()=>P.jsxs(P.Fragment,{children:[P.jsx(STe,{}),P.jsx(rh,{}),P.jsx(mTe,{}),P.jsx(rh,{}),P.jsx(gTe,{}),P.jsx(rh,{}),P.jsx(xTe,{}),P.jsx(rh,{}),P.jsx(yTe,{}),P.jsx(_Te,{}),P.jsx(rh,{}),P.jsx(wTe,{}),P.jsx(CTe,{}),P.jsx(rh,{}),P.jsx(ETe,{})]})}]})})})],className:"[&_div.mdxeditor-toolbar]:-top-4 [&_div.mdxeditor-toolbar]:rounded-b-none",contentEditableClassName:"bg-zinc-600 rounded-b prose prose-invert font-['Poppins'] max-w-none"})})}),TTe=k.forwardRef(function({encrypted:e,...n},r){return P.jsx(Ho,{ref:r,...n,message:e?"Decrypt Content":"Encrypt Content",children:e?P.jsx(qse,{}):P.jsx(Kse,{})})}),ATe=X_e,ITe=Z_e,RTe=ewe,Wq=k.forwardRef(({className:t,...e},n)=>P.jsx(G$,{ref:n,className:ft("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Wq.displayName=G$.displayName;const qq=k.forwardRef(({className:t,children:e,...n},r)=>P.jsxs(RTe,{children:[P.jsx(Wq,{}),P.jsxs(J$,{ref:r,className:ft("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,P.jsxs(twe,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[P.jsx(bF,{className:"h-4 w-4"}),P.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));qq.displayName=J$.displayName;const Kq=({className:t,...e})=>P.jsx("div",{className:ft("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Kq.displayName="DialogHeader";const Gq=({className:t,...e})=>P.jsx("div",{className:ft("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Gq.displayName="DialogFooter";const Jq=k.forwardRef(({className:t,...e},n)=>P.jsx(Q$,{ref:n,className:ft("text-lg font-semibold leading-none tracking-tight",t),...e}));Jq.displayName=Q$.displayName;const Qq=k.forwardRef(({className:t,...e},n)=>P.jsx(Y$,{ref:n,className:ft("text-sm text-muted-foreground",t),...e}));Qq.displayName=Y$.displayName;var PTe="Label",Yq=k.forwardRef((t,e)=>P.jsx(He.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Yq.displayName=PTe;var Xq=Yq;const DTe=H5("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Zq=k.forwardRef(({className:t,...e},n)=>P.jsx(Xq,{ref:n,className:ft(DTe(),t),...e}));Zq.displayName=Xq.displayName;function MTe({handleEncryptContent:t,encrypted:e,openDialog:n,handleDialog:r}){const i=k.useRef(null);function o(){const s=i.current.value;t(s)}return P.jsxs(ATe,{open:n,onOpenChange:r,children:[P.jsx(ITe,{asChild:!0,children:P.jsx(TTe,{encrypted:e})}),P.jsxs(qq,{className:"sm:max-w-[425px]",children:[P.jsxs(Kq,{children:[P.jsx(Jq,{children:"Secret Key"}),P.jsx(Qq,{children:"Type in your secret key to encrypt or decrypt your content."})]}),P.jsx("div",{className:"py-4",children:P.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[P.jsx(Zq,{htmlFor:"secret-key",className:"text-right",children:"Secret Key"}),P.jsx(p0,{id:"secret-key",className:"col-span-3",ref:i,autoComplete:"off"})]})}),P.jsx(Gq,{children:P.jsx(Hl,{onClick:o,children:e?"Decrypt":"Encrypt"})})]})]})}function eK({selected:t,...e}){return P.jsx(Ho,{...e,message:"Select Note",children:t?P.jsx(Xse,{}):P.jsx(Zse,{})})}function NTe({eachContent:t,handleUpdateEncryptContent:e,handleUpdateEditContent:n,handleUpdateSelectContent:r,isEditing:i}){const o=k.useRef(null),[s,a]=k.useState(!1);function l(){const h=o.current.getMarkdown();n(t.id,h)}function c(h){if(t.encrypted===!1){const f=mZ(h,t.textValue);e(t.id,f),a(!1)}else{const f=gZ(h,t.textValue);e(t.id,f),a(!1)}}function u(){r(t.id)}return k.useEffect(()=>{o.current.setMarkdown(t.textValue)},[t.textValue]),P.jsxs("div",{className:"flex flex-col gap-3",children:[P.jsxs("div",{className:"flex items-center gap-1",children:[P.jsx(eK,{selected:t.selected,onClick:u,disabled:i}),P.jsx(MTe,{handleEncryptContent:c,encrypted:t.encrypted,openDialog:s,handleDialog:a,disabled:i})]}),P.jsx(kTe,{ref:o,content:t.textValue,handleEditContent:l},t.id)]})}const LTe=Mq,OTe=eTe,FTe=Nq,tK=k.forwardRef(({className:t,children:e,...n},r)=>P.jsxs(k4,{ref:r,className:ft("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,P.jsx(Lq,{asChild:!0,children:P.jsx(CF,{className:"h-4 w-4 opacity-50"})})]}));tK.displayName=k4.displayName;const nK=k.forwardRef(({className:t,...e},n)=>P.jsx(zq,{ref:n,className:ft("flex cursor-default items-center justify-center py-1",t),...e,children:P.jsx(Vse,{className:"h-4 w-4"})}));nK.displayName=zq.displayName;const rK=k.forwardRef(({className:t,...e},n)=>P.jsx(jq,{ref:n,className:ft("flex cursor-default items-center justify-center py-1",t),...e,children:P.jsx(CF,{className:"h-4 w-4"})}));rK.displayName=jq.displayName;const iK=k.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>P.jsx(Oq,{children:P.jsxs(T4,{ref:i,className:ft("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[P.jsx(nK,{}),P.jsx(Fq,{className:ft("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),P.jsx(rK,{})]})}));iK.displayName=T4.displayName;const BTe=k.forwardRef(({className:t,...e},n)=>P.jsx(Bq,{ref:n,className:ft("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));BTe.displayName=Bq.displayName;const oK=k.forwardRef(({className:t,children:e,...n},r)=>P.jsxs(A4,{ref:r,className:ft("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[P.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:P.jsx(tTe,{children:P.jsx(wF,{className:"h-4 w-4"})})}),P.jsx(Vq,{children:e})]}));oK.displayName=A4.displayName;const VTe=k.forwardRef(({className:t,...e},n)=>P.jsx(I4,{ref:n,className:ft("-mx-1 my-1 h-px bg-muted",t),...e}));VTe.displayName=I4.displayName;const sK=[{name:"British English",code:"en-GB"},{name:"China Chinese",code:"zh-CN"}];function zTe({handleSelectLanguage:t,className:e}){return P.jsxs(LTe,{onValueChange:t,children:[P.jsx(tK,{className:e,children:P.jsx(FTe,{placeholder:"Select a language"})}),P.jsx(iK,{children:P.jsx(OTe,{children:sK.map(n=>P.jsx(oK,{value:n.code,children:n.name},n.code))})})]})}function jTe(t){const[e,n]=k.useState(0);return k.useEffect(()=>{function r(){n(window.innerWidth)}return window.addEventListener("resize",r),r(),()=>window.removeEventListener("resize",r)},[]),e<t}function f7(t,e){if(t==="en-GB")return e.replaceAll("punctuation comma",", ").replaceAll("punctuation period",". ").replaceAll("punctuation semicolon","; ").replaceAll("punctuation dash","- ").replaceAll("punctuation underscore","_").replaceAll("punctuation quotation mark",'"').replaceAll("punctuation colon",": ").replaceAll("punctuation apostrophe","'").replaceAll("punctuation exclamation point","! ").replaceAll("punctuation question mark","? ").replaceAll("punctuation opening paranthenses","(").replaceAll("punctuation closing paranthenses",")").replaceAll("punctuation opening bracket","{").replaceAll("punctuation closing bracket","}");if(t==="zh-CN")return e.replaceAll("","").replaceAll("","").replaceAll("","").replaceAll("","- ").replaceAll("","").replaceAll("","").replaceAll("","").replaceAll("","").replaceAll("","").replaceAll("","").replaceAll("","")}function $Te(t){const[e,n]=k.useState(!1),[r,i]=k.useState(!1),[o,s]=k.useState(""),[a,l]=k.useState(""),c=k.useRef(null),{toast:u}=Ts(),h=jTe(1280);return k.useEffect(()=>(c.current=new(window.SpeechRecognition||window.webkitSpeechRecognition),c.current.interimResults=!0,c.current.continuous=!h,c.current.lang=t,c.current.onresult=m=>{let v="";for(let x=m.resultIndex;x<m.results.length;x++){const y=m.results[x][0].transcript;if(y.length===0)break;m.results[x].isFinal?(s(_=>f7(t,`${_} ${y}`)),l("")):(v+=y,l(f7(t,v)))}},()=>{c.current&&(c.current.stop(),c.current.onresult=null)}),[t,u,h]),{isRecording:e,doneRecording:r,transcript:o,interimScript:a,startRecording:()=>{if(!c.current){u({title:"Error",description:"Audio initialization failed."});return}c.current.start(),n(!0)},pauseRecording:()=>{c.current&&c.current.stop(),n(!1)},stopRecording:()=>{if(!o)return u({title:"Start Recording",description:"No recording process can be stopped!"});c.current&&c.current.stop(),n(!1),i(!0),c.current.onresult=null}}}function HTe({eachContent:t,handleAddNewAudioTextContent:e,handleUpdateSelectContent:n}){const[r,i]=k.useState(sK[0].code),{isRecording:o,doneRecording:s,transcript:a,interimScript:l,startRecording:c,pauseRecording:u,stopRecording:h}=$Te(r);k.useEffect(()=>{s&&e(t.id,a)},[e,t.id,a,s]);function f(){n(t.id)}const d=(a+" "+l).trim();return P.jsxs("div",{className:"flex flex-col gap-3",children:[!s&&P.jsxs("div",{className:"flex flex-col flex-wrap gap-3 md:flex-row",children:[P.jsx(eK,{selected:t.selected,onClick:f}),P.jsx(zTe,{handleSelectLanguage:i,className:"w-auto max-w-xs"}),P.jsx(Hl,{onClick:o?u:c,className:"max-w-xs bg-zinc-200 text-black hover:bg-zinc-200/90 md:self-start",children:o?"Pause Recording ":"Start Recording "}),P.jsx(Hl,{onClick:h,className:"max-w-xs bg-zinc-200 text-black hover:bg-zinc-200/90 md:self-start",children:"Stop Recording "})]}),!s&&d&&P.jsx("p",{className:"rounded bg-zinc-600 px-4 py-2 text-white",children:d})]})}function UTe({temperoraryContent:t,handleUpdateEncryptContent:e,handleUpdateEditContent:n,handleUpdateSelectContent:r,handleAddNewAudioTextContent:i,isEditing:o,newNoteReference:s}){const a=k.useRef(null);return k.useEffect(()=>{a.current&&s&&a.current.scrollIntoView({behavior:"smooth"})},[s]),t.sort((l,c)=>l.createdAt-c.createdAt),P.jsxs("div",{className:"flex h-[calc(100svh-56px)] flex-col gap-9 overflow-scroll p-4",id:"noteContentIdentifier",children:[t.map(l=>l.type==="audio"?P.jsx(HTe,{eachContent:l,handleUpdateSelectContent:r,handleAddNewAudioTextContent:i},l.id):P.jsx(NTe,{eachContent:l,handleUpdateEncryptContent:e,handleUpdateEditContent:n,handleUpdateSelectContent:r,isEditing:o},l.id)),P.jsx("div",{ref:a})]})}function WTe(){const t=Z0(),{isLoading:e,mutate:n}=Tu({mutationFn:({noteId:r,content:i})=>Pse(i,r),onSuccess:()=>{t.invalidateQueries({queryKey:["notes"]})}});return{isEditing:e,editNoteContent:n}}function qTe(){return P.jsx(Hl,{size:"icon",className:"fixed bottom-4 right-4 z-10 h-9 w-9 border-0 bg-zinc-300 hover:bg-zinc-300/90 lg:h-10 lg:w-10",onClick:()=>document.getElementById("noteContentIdentifier").scrollTo({top:0,left:0,behavior:"smooth"}),children:P.jsx(Fse,{className:"h-5 w-5 text-zinc-800 lg:h-6 lg:w-6"})})}function KTe({noteContent:t,handleToggleSidebar:e}){const[n,r]=k.useState(t.content||[]),{editedRef:i}=Zk(),{isEditing:o,editNoteContent:s}=WTe(),{toast:a}=Ts(),l=k.useRef("");function c(){i.current=!0;try{if(pZ()){i.current=!0;const x=Date.now();r(y=>[...y,{id:x,createdAt:x,type:"audio",selected:!1}]),l.current=x}}catch{a({title:"Error",description:"Your browser has no support of audio"})}}const u=k.useCallback(function(y,_){i.current=!0,l.current="",r(C=>{const S=C.filter(w=>w.id!==y),T=Date.now();return[...S,{id:T,createdAt:T,type:"text",selected:!1,encrypted:!1,textValue:_}]})},[i]);function h(){i.current=!0;const x=Date.now();r(y=>[...y,{id:x,createdAt:x,type:"text",selected:!1,encrypted:!1,textValue:""}]),l.current=x}function f(){if(i.current=!0,l.current="",!n.some(_=>_.selected===!0))return;const y=n.filter(_=>_.selected!==!0);r(y)}function d(x){l.current="",r(y=>y.map(_=>_.id===x?{..._,selected:!_.selected}:_))}function p(x,y){i.current=!0,l.current="",r(_=>_.map(C=>C.id===x?{...C,textValue:y}:C))}function m(x,y){i.current=!0,l.current="",r(_=>_.map(C=>C.id===x?{...C,textValue:y,encrypted:!C.encrypted}:C))}function v(){if(n.some(y=>y.type==="audio"))return a({title:"Error",description:"You have un-recorded audio pending"});s({noteId:t.id,content:n},{onSuccess:()=>{i.current=!1,l.current=""},onError:y=>a({title:y.name,description:y.message})})}return P.jsxs(P.Fragment,{children:[P.jsx(whe,{noteId:t.id,noteTitle:t.title,handleDeleteContent:f,handleAddNewAudioContent:c,handleAddNewTextContent:h,handleSaveContent:v,handleToggleSidebar:e,isEditing:o}),P.jsx(UTe,{temperoraryContent:n,handleUpdateEncryptContent:m,handleUpdateEditContent:p,handleUpdateSelectContent:d,handleAddNewAudioTextContent:u,isEditing:o,newNoteReference:l.current}),P.jsx(qTe,{})]})}function aK({className:t,...e}){return P.jsx(Wse,{...e,className:dy("animate-spin",t)})}function GTe({selectedNoteId:t,handleToggleSidebar:e}){const{isLoading:n,noteContent:r=[],error:i}=Mse(t);return n?P.jsx("div",{className:"flex h-full items-center justify-center",children:P.jsx(aK,{className:"h-16 w-16 text-white"})}):i?null:P.jsx(P.Fragment,{children:P.jsx(KTe,{noteContent:r,handleToggleSidebar:e})})}function JTe({className:t,selectedNoteId:e,handleToggleSidebar:n}){let r=P.jsxs(P.Fragment,{children:[P.jsx("div",{className:"sticky top-0 z-10 bg-zinc-800 px-4 py-2 sm:hidden",children:P.jsx(sB,{onClick:n})}),P.jsx("div",{className:"flex min-h-56 items-center justify-center px-4 text-center text-xl text-zinc-300",children:"Select A Note Or Create A Note By Pressing The Sidebar Button"})]});return e&&(r=P.jsx(GTe,{selectedNoteId:e,handleToggleSidebar:n},e)),P.jsx("div",{className:t,children:r})}function QTe({className:t,children:e,...n}){return P.jsx("aside",{className:dy("overflow-auto",t),...n,children:e})}function YTe(){const t=Z0(),{isLoading:e,mutate:n}=Tu({mutationFn:({noteId:r})=>Ise(r),onSuccess:()=>{t.invalidateQueries({queryKey:["notes"]})}});return{isDeleting:e,deleteNote:n}}function XTe({selectedNoteId:t}){const{isDeleting:e,deleteNote:n}=YTe(),{deselectNote:r}=Zk(),{toast:i}=Ts();function o(){n({noteId:t},{onSuccess:r,onError:s=>i({title:s.name,description:s.message})})}return P.jsx(Ho,{onClick:o,message:"Delete Selected Note",disabled:e,children:P.jsx(tae,{})})}function ZTe(){const{isLoading:t,mutate:e}=Tu({mutationFn:Sse});return{isLoggingOut:t,logoutUser:e}}function eAe(){const{isLoggingOut:t,logoutUser:e}=ZTe(),{toast:n}=Ts();function r(){e({},{onError:i=>{n({title:i.name,description:i.message})}})}return P.jsx(Ho,{message:"Logout",disabled:t,onClick:r,children:P.jsx(Gse,{})})}function tAe(){const t=Z0(),{isLoading:e,mutate:n}=Tu({mutationFn:Tse,onSuccess:()=>{t.invalidateQueries({queryKey:["notes"]})}});return{isCreating:e,createNote:n}}function nAe(){const{isCreating:t,createNote:e}=tAe(),{toast:n}=Ts();function r(){e({},{onError:i=>n({title:i.name,description:i.message})})}return P.jsx(Ho,{onClick:r,message:"New Note",disabled:t,children:P.jsx(Qse,{})})}function rAe({selectedNoteId:t}){return P.jsxs("div",{className:"flex items-center justify-between border-b border-zinc-700 px-3 py-2",children:[P.jsx(eAe,{}),P.jsxs("div",{children:[P.jsx(nAe,{}),P.jsx(XTe,{selectedNoteId:t})]})]})}function iAe(){const t=Z0(),{isLoading:e,mutate:n}=Tu({mutationFn:Ase,onSuccess:()=>{t.invalidateQueries({queryKey:["notes"]})}});return{isEditing:e,editNote:n}}function oAe({note:t,isActive:e,...n}){const{editNote:r}=iAe(),{id:i,title:o,lastEditTime:s,pinned:a}=t,l=dZ(s),{toast:c}=Ts();function u(h){h.target.closest("svg")&&(h.stopPropagation(),r({noteId:i},{onError:f=>c({title:f.name,description:f.message})}))}return P.jsxs("li",{...n,className:ft("flex flex-col gap-2 border-b border-zinc-700 p-2",{"bg-zinc-700":e,"hover:bg-zinc-700":!e}),children:[P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsx("h3",{className:"text-lg font-medium text-white",children:o}),P.jsx(Jse,{className:ft("h-4 w-4 text-slate-600",{"text-slate-50":a,"hover:text-slate-50":!a}),onClick:u})]}),P.jsx("span",{className:"text-sm text-slate-400",children:l})]})}function sAe(){const{isLoading:t,data:e,error:n}=nL({queryKey:["notes"],queryFn:kse});return{isLoading:t,notesData:e,error:n}}function aAe({handleSelectNote:t,selectedNoteId:e}){const{isLoading:n,error:r,notesData:i=[]}=sAe();return n?P.jsx("div",{className:"flex h-full items-center justify-center",children:P.jsx(aK,{className:"h-10 w-10 text-white"})}):!i||i.length===0?P.jsx("ul",{className:"flex h-full items-center justify-center",children:P.jsx("span",{className:"text-zinc-300",children:"No Notes yet"})}):r?P.jsx("ul",{className:"flex h-full items-center justify-center",children:P.jsx("span",{className:"text-zinc-300",children:"There's a problem loading notes. Please try to reload the page."})}):(i.sort((o,s)=>s.pinned-o.pinned),P.jsx("ul",{children:i.map(o=>P.jsx(oAe,{note:o,onClick:()=>{t(o.id)},isActive:o.id===e},o.id))}))}function lAe(){const{selectedNoteId:t,selectNote:e}=Zk(),[n,r]=k.useState(!1);function i(){r(s=>!s)}function o(s){e(s),r(!1)}return k.useEffect(()=>{const s=a=>{a.preventDefault(),a.returnValue=""};return window.addEventListener("beforeunload",s),()=>{window.removeEventListener("beforeunload",s)}},[]),P.jsx(P.Fragment,{children:P.jsxs("main",{className:"grid h-svh grid-cols-[auto_100vw] overflow-hidden sm:grid-cols-[auto_calc(100vw-320px)]",children:[P.jsxs(QTe,{className:ft("-ml-64 w-64 border-r bg-zinc-900 transition-all duration-300 ease-in-out xs:-ml-80 xs:w-80 sm:ml-0",{"!ml-0":n}),children:[P.jsx(rAe,{selectedNoteId:t}),P.jsx(aAe,{handleSelectNote:o,selectedNoteId:t})]}),P.jsx(JTe,{className:"bg-zinc-800",selectedNoteId:t,handleToggleSidebar:i})]})})}function cAe(){const{isLoading:t,mutate:e}=Tu({mutationFn:Ese});return{isLoggingIn:t,loginUser:e}}function uAe(){const t=Gk(),{userState:e}=yF(),{isLoggingIn:n,loginUser:r}=cAe(),{toast:i}=Ts();if(e)return P.jsx(qN,{to:"/"});async function o(s){s.preventDefault();const a=new FormData(s.target),l=a.get("email"),c=a.get("password");r({email:l,password:c},{onSuccess:()=>{t("/")},onError:u=>{i({title:u.name,description:u.message})}})}return P.jsx("main",{className:"flex min-h-svh items-center justify-center bg-zinc-800",children:P.jsxs("form",{onSubmit:o,className:"grid w-5/6 max-w-xs gap-y-5 rounded-2xl bg-zinc-700 px-4 py-6 text-center sm:max-w-sm sm:gap-y-7 sm:px-6 sm:py-8 lg:max-w-md lg:px-8 lg:py-10",children:[P.jsx("h2",{className:"text-xl font-semibold text-zinc-300 sm:text-2xl lg:text-3xl",children:"Login Form"}),P.jsx(p0,{name:"email",type:"email",placeholder:"Email",autoComplete:"off",className:"h-9 border-zinc-400 bg-transparent text-sm text-zinc-300 ring-offset-zinc-400 focus-visible:ring-transparent sm:py-5 sm:text-base lg:h-12 lg:text-lg"}),P.jsx(p0,{name:"password",type:"password",placeholder:"Password",autoComplete:"off",className:"h-9 border-zinc-400 bg-transparent text-sm text-zinc-300 ring-offset-zinc-400 focus-visible:ring-transparent sm:py-5 sm:text-base lg:h-12 lg:text-lg"}),P.jsx(Hl,{type:"submit",disabled:n,className:"bg-zinc-400 capitalize text-zinc-700 hover:bg-zinc-400/90 sm:py-5 sm:text-base lg:py-6 lg:text-lg",children:"Login"})]})})}function hAe(){const t=WN();let e="An error occurred!",n="Something went wrong!";return t.status===500&&(n=t.message),t.status===404&&(e="Page Not found",n="Could not find resource or page"),P.jsx("div",{className:"flex min-h-svh items-center justify-center bg-zinc-800",children:P.jsxs("div",{className:"space-y-4 text-center",children:[P.jsx("h1",{className:"text-2xl font-semibold text-zinc-300 lg:text-4xl",children:e}),P.jsx("p",{className:"text-zinc-400 lg:text-2xl",children:n}),P.jsx(Hl,{asChild:!0,className:"bg-zinc-400 text-zinc-700 hover:bg-zinc-400/90 lg:px-4 lg:py-6 lg:text-lg",children:P.jsx(XY,{to:"/",children:"Go Back Home"})})]})})}function fAe({children:t}){const{userState:e}=yF();return e?t:P.jsx(qN,{to:"/login"})}var M4="ToastProvider",[N4,dAe,pAe]=zy("Toast"),[lK,h4e]=ho("Toast",[pAe]),[mAe,j_]=lK(M4),cK=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:s}=t,[a,l]=k.useState(null),[c,u]=k.useState(0),h=k.useRef(!1),f=k.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${M4}\`. Expected non-empty \`string\`.`),P.jsx(N4.Provider,{scope:e,children:P.jsx(mAe,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:k.useCallback(()=>u(d=>d+1),[]),onToastRemove:k.useCallback(()=>u(d=>d-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:s})})};cK.displayName=M4;var uK="ToastViewport",gAe=["F8"],KS="toast.viewportPause",GS="toast.viewportResume",hK=k.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=gAe,label:i="Notifications ({hotkey})",...o}=t,s=j_(uK,n),a=dAe(n),l=k.useRef(null),c=k.useRef(null),u=k.useRef(null),h=k.useRef(null),f=St(e,h,s.onViewportChange),d=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=s.toastCount>0;k.useEffect(()=>{const v=x=>{var _;r.every(C=>x[C]||x.code===C)&&((_=h.current)==null||_.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),k.useEffect(()=>{const v=l.current,x=h.current;if(p&&v&&x){const y=()=>{if(!s.isClosePausedRef.current){const T=new CustomEvent(KS);x.dispatchEvent(T),s.isClosePausedRef.current=!0}},_=()=>{if(s.isClosePausedRef.current){const T=new CustomEvent(GS);x.dispatchEvent(T),s.isClosePausedRef.current=!1}},C=T=>{!v.contains(T.relatedTarget)&&_()},S=()=>{v.contains(document.activeElement)||_()};return v.addEventListener("focusin",y),v.addEventListener("focusout",C),v.addEventListener("pointermove",y),v.addEventListener("pointerleave",S),window.addEventListener("blur",y),window.addEventListener("focus",_),()=>{v.removeEventListener("focusin",y),v.removeEventListener("focusout",C),v.removeEventListener("pointermove",y),v.removeEventListener("pointerleave",S),window.removeEventListener("blur",y),window.removeEventListener("focus",_)}}},[p,s.isClosePausedRef]);const m=k.useCallback(({tabbingDirection:v})=>{const y=a().map(_=>{const C=_.ref.current,S=[C,...IAe(C)];return v==="forwards"?S:S.reverse()});return(v==="forwards"?y.reverse():y).flat()},[a]);return k.useEffect(()=>{const v=h.current;if(v){const x=y=>{var S,T,b;const _=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!_){const w=document.activeElement,I=y.shiftKey;if(y.target===v&&I){(S=c.current)==null||S.focus();return}const D=m({tabbingDirection:I?"backwards":"forwards"}),N=D.findIndex(z=>z===w);CC(D.slice(N+1))?y.preventDefault():I?(T=c.current)==null||T.focus():(b=u.current)==null||b.focus()}};return v.addEventListener("keydown",x),()=>v.removeEventListener("keydown",x)}},[a,m]),P.jsxs(yae,{ref:l,role:"region","aria-label":i.replace("{hotkey}",d),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&P.jsx(JS,{ref:c,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"forwards"});CC(v)}}),P.jsx(N4.Slot,{scope:n,children:P.jsx(He.ol,{tabIndex:-1,...o,ref:f})}),p&&P.jsx(JS,{ref:u,onFocusFromOutsideViewport:()=>{const v=m({tabbingDirection:"backwards"});CC(v)}})]})});hK.displayName=uK;var fK="ToastFocusProxy",JS=k.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,o=j_(fK,n);return P.jsx(xm,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:s=>{var c;const a=s.relatedTarget;!((c=o.viewport)!=null&&c.contains(a))&&r()}})});JS.displayName=fK;var $_="Toast",xAe="toast.swipeStart",vAe="toast.swipeMove",yAe="toast.swipeCancel",_Ae="toast.swipeEnd",dK=k.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...s}=t,[a=!0,l]=zo({prop:r,defaultProp:i,onChange:o});return P.jsx(ji,{present:n||a,children:P.jsx(bAe,{open:a,...s,ref:e,onClose:()=>l(!1),onPause:Lr(t.onPause),onResume:Lr(t.onResume),onSwipeStart:_e(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:_e(t.onSwipeMove,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:_e(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:_e(t.onSwipeEnd,c=>{const{x:u,y:h}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});dK.displayName=$_;var[wAe,CAe]=lK($_,{onClose(){}}),bAe=k.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:s,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:d,...p}=t,m=j_($_,n),[v,x]=k.useState(null),y=St(e,z=>x(z)),_=k.useRef(null),C=k.useRef(null),S=i||m.duration,T=k.useRef(0),b=k.useRef(S),w=k.useRef(0),{onToastAdd:I,onToastRemove:E}=m,R=Lr(()=>{var $;(v==null?void 0:v.contains(document.activeElement))&&(($=m.viewport)==null||$.focus()),s()}),D=k.useCallback(z=>{!z||z===1/0||(window.clearTimeout(w.current),T.current=new Date().getTime(),w.current=window.setTimeout(R,z))},[R]);k.useEffect(()=>{const z=m.viewport;if(z){const $=()=>{D(b.current),c==null||c()},Q=()=>{const Y=new Date().getTime()-T.current;b.current=b.current-Y,window.clearTimeout(w.current),l==null||l()};return z.addEventListener(KS,Q),z.addEventListener(GS,$),()=>{z.removeEventListener(KS,Q),z.removeEventListener(GS,$)}}},[m.viewport,S,l,c,D]),k.useEffect(()=>{o&&!m.isClosePausedRef.current&&D(S)},[o,S,m.isClosePausedRef,D]),k.useEffect(()=>(I(),()=>E()),[I,E]);const N=k.useMemo(()=>v?_K(v):null,[v]);return m.viewport?P.jsxs(P.Fragment,{children:[N&&P.jsx(EAe,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:N}),P.jsx(wAe,{scope:n,onClose:R,children:Oo.createPortal(P.jsx(N4.ItemSlot,{scope:n,children:P.jsx(vae,{asChild:!0,onEscapeKeyDown:_e(a,()=>{m.isFocusedToastEscapeKeyDownRef.current||R(),m.isFocusedToastEscapeKeyDownRef.current=!1}),children:P.jsx(He.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":m.swipeDirection,...p,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:_e(t.onKeyDown,z=>{z.key==="Escape"&&(a==null||a(z.nativeEvent),z.nativeEvent.defaultPrevented||(m.isFocusedToastEscapeKeyDownRef.current=!0,R()))}),onPointerDown:_e(t.onPointerDown,z=>{z.button===0&&(_.current={x:z.clientX,y:z.clientY})}),onPointerMove:_e(t.onPointerMove,z=>{if(!_.current)return;const $=z.clientX-_.current.x,Q=z.clientY-_.current.y,Y=!!C.current,q=["left","right"].includes(m.swipeDirection),H=["left","up"].includes(m.swipeDirection)?Math.min:Math.max,O=q?H(0,$):0,U=q?0:H(0,Q),K=z.pointerType==="touch"?10:2,L={x:O,y:U},J={originalEvent:z,delta:L};Y?(C.current=L,p1(vAe,h,J,{discrete:!1})):d7(L,m.swipeDirection,K)?(C.current=L,p1(xAe,u,J,{discrete:!1}),z.target.setPointerCapture(z.pointerId)):(Math.abs($)>K||Math.abs(Q)>K)&&(_.current=null)}),onPointerUp:_e(t.onPointerUp,z=>{const $=C.current,Q=z.target;if(Q.hasPointerCapture(z.pointerId)&&Q.releasePointerCapture(z.pointerId),C.current=null,_.current=null,$){const Y=z.currentTarget,q={originalEvent:z,delta:$};d7($,m.swipeDirection,m.swipeThreshold)?p1(_Ae,d,q,{discrete:!0}):p1(yAe,f,q,{discrete:!0}),Y.addEventListener("click",H=>H.preventDefault(),{once:!0})}})})})}),m.viewport)})]}):null}),EAe=t=>{const{__scopeToast:e,children:n,...r}=t,i=j_($_,e),[o,s]=k.useState(!1),[a,l]=k.useState(!1);return TAe(()=>s(!0)),k.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:P.jsx(Du,{asChild:!0,children:P.jsx(xm,{...r,children:o&&P.jsxs(P.Fragment,{children:[i.label," ",n]})})})},SAe="ToastTitle",pK=k.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return P.jsx(He.div,{...r,ref:e})});pK.displayName=SAe;var kAe="ToastDescription",mK=k.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return P.jsx(He.div,{...r,ref:e})});mK.displayName=kAe;var gK="ToastAction",xK=k.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?P.jsx(yK,{altText:n,asChild:!0,children:P.jsx(L4,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${gK}\`. Expected non-empty \`string\`.`),null)});xK.displayName=gK;var vK="ToastClose",L4=k.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=CAe(vK,n);return P.jsx(yK,{asChild:!0,children:P.jsx(He.button,{type:"button",...r,ref:e,onClick:_e(t.onClick,i.onClose)})})});L4.displayName=vK;var yK=k.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return P.jsx(He.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function _K(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),AAe(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const s=r.dataset.radixToastAnnounceAlt;s&&e.push(s)}else e.push(..._K(r))}}),e}function p1(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?U5(i,o):i.dispatchEvent(o)}var d7=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),o=r>i;return e==="left"||e==="right"?o&&r>n:!o&&i>n};function TAe(t=()=>{}){const e=Lr(t);Or(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function AAe(t){return t.nodeType===t.ELEMENT_NODE}function IAe(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function CC(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var RAe=cK,wK=hK,CK=dK,bK=pK,EK=mK,SK=xK,kK=L4;const PAe=RAe,TK=k.forwardRef(({className:t,...e},n)=>P.jsx(wK,{ref:n,className:ft("fixed top-0 z-[100] flex max-h-svh w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));TK.displayName=wK.displayName;const DAe=H5("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),AK=k.forwardRef(({className:t,variant:e,...n},r)=>P.jsx(CK,{ref:r,className:ft(DAe({variant:e}),t),...n}));AK.displayName=CK.displayName;const MAe=k.forwardRef(({className:t,...e},n)=>P.jsx(SK,{ref:n,className:ft("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));MAe.displayName=SK.displayName;const IK=k.forwardRef(({className:t,...e},n)=>P.jsx(kK,{ref:n,className:ft("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:P.jsx(bF,{className:"h-4 w-4"})}));IK.displayName=kK.displayName;const RK=k.forwardRef(({className:t,...e},n)=>P.jsx(bK,{ref:n,className:ft("text-sm font-semibold",t),...e}));RK.displayName=bK.displayName;const PK=k.forwardRef(({className:t,...e},n)=>P.jsx(EK,{ref:n,className:ft("text-sm opacity-90",t),...e}));PK.displayName=EK.displayName;function NAe(){const{toasts:t}=Ts();return P.jsxs(PAe,{children:[t.map(function({id:e,title:n,description:r,action:i,...o}){return P.jsxs(AK,{...o,duration:6e4,className:"bg-zinc-800 text-zinc-300",children:[P.jsxs("div",{className:"grid gap-1",children:[n&&P.jsx(RK,{children:n}),r&&P.jsx(PK,{children:r})]}),i,P.jsx(IK,{className:"opacity-100 [&>svg]:text-zinc-300"})]},e)}),P.jsx(TK,{})]})}const LAe=BY([{path:"/",element:P.jsx(yZ,{children:P.jsx(fAe,{children:P.jsx(wZ,{children:P.jsx(lAe,{})})})}),errorElement:P.jsx(hAe,{})},{path:"/login",element:P.jsx(uAe,{})}]);function OAe(){return P.jsxs(bse,{children:[P.jsx(KY,{router:LAe}),P.jsx(NAe,{})]})}IN(document.getElementById("root")).render(P.jsx(k.StrictMode,{children:P.jsx(OAe,{})}));export{jc as A,qbe as B,nW as C,Z as D,be as E,If as F,xEe as G,ube as H,ln as I,Mbe as J,IS as L,t4e as N,RU as P,Qi as T,Obe as a,l4e as b,s4e as c,AEe as d,Zn as e,Kbe as f,o4e as g,i4e as h,Fbe as i,a4e as j,c4e as k,se as l,Xr as m,at as n,e4 as o,n4e as p,Ut as q,ed as r,Abe as s,te as t,pc as u,T_ as v,_t as w,to as x,I_ as y,MU as z};
